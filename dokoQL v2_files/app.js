var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}var Dokoqlv=Dokoqlv||{};if(!Dokoqlv.controller){Dokoqlv.controller={}}if(!Dokoqlv.model){Dokoqlv.model={}}if(!Dokoqlv.store){Dokoqlv.store={}}if(!Dokoqlv.view){Dokoqlv.view={}}var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.button){Ext.button={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.association){Ext.data.association={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.dom){Ext.dom={}}if(!Ext.draw){Ext.draw={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.menu){Ext.menu={}}if(!Ext.panel){Ext.panel={}}if(!Ext.perf){Ext.perf={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.selection){Ext.selection={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.tree){Ext.tree={}}if(!Ext.util){Ext.util={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}(function(q){var e,p=['constructor','toString','valueOf','toLocaleString'],n={},m={},k=0,l,j,a,b,o,f,c,d,g,h,i,t=function(){var s,t;j=Ext.Base;a=Ext.ClassManager;b=Ext.Class;for(s=p.length;s-->0;){t=1<<s;m[n[t]=p[s]]=t}for(s in m){k|=m[s]}k=~k;Function.prototype.$isFunction=1;i=!!a.addAlias;o=b.getPreprocessor('config').fn;f=b.getPreprocessor('cachedConfig');f=f&&f.fn;h=b.getPreprocessor('privates');h=h&&h.fn;d=b.getPreprocessor('platformConfig');d=d&&d.fn;c=a.postprocessors.platformConfig;c=c&&c.fn;g=a.postprocessors.deprecated;g=g&&g.fn;e=j.$staticMembers;if(!e){e=[];for(l in j){if(j.hasOwnProperty(l)){e.push(l)}}}q.derive=r;return r.apply(this,arguments)},s=function(f,d,o){var l=o.enumerableMembers,j=f.prototype,b,h,k,e,m;if(!d){return}if(i){f.addMembers(d)}else {for(b in d){e=d[b];if(e&&e.$isFunction&&!e.$isClass&&e!==Ext.emptyFn&&e!==Ext.identityFn){m=j.hasOwnProperty(b)&&j[b];if(m){e.$previous=m}j[b]=h=e;h.$owner=f;h.$name=b}else {j[b]=e}}for(k=1;l;k<<=1){if(l&k){l&=~k;b=n[k];j[b]=h=d[b];h.$owner=f;h.$name=b}}}if(d.platformConfig&&c){c.call(a,f.$className,f,d)}if(d.deprecated&&g){g.call(a,f.$className,f,d)}},r=function(u,Q,c,L,E,M,O,B,D,G,N){var g=function ctor(){return this.constructor.apply(this,arguments)||null},m=g,v={enumerableMembers:L&k,onCreated:N,onBeforeCreated:s,aliases:B},p=c.alternateClassName||[],P=Ext.global,F,z,l,K,y,C,H,r,x,w,n,I,t,J=a.alternateToName||a.maps.alternateToName,A=a.nameToAlternates||a.maps.nameToAlternates;for(l=e.length;l-->0;){H=e[l];g[H]=j[H]}if(c.$isFunction){c=c(g)}v.data=c;x=c.statics;delete c.statics;c.$className=u;if('$className' in c){g.$className=c.$className}g.extend(Q);r=g.prototype;if(E){g.xtype=c.xtype=E[0];r.xtypes=E}r.xtypesChain=M;r.xtypesMap=O;c.alias=B;m.triggerExtended(g,c,v);if(c.onClassExtended){g.onExtended(c.onClassExtended,g);delete c.onClassExtended}if(c.privates&&h){h.call(b,g,c)}if(x){if(i){g.addStatics(x)}else {for(w in x){if(x.hasOwnProperty(w)){t=x[w];if(t&&t.$isFunction&&!t.$isClass&&t!==Ext.emptyFn&&t!==Ext.identityFn){g[w]=I=t;I.$owner=g;I.$name=w}g[w]=t}}}}if(c.inheritableStatics){g.addInheritableStatics(c.inheritableStatics);delete c.inheritableStatics}if(r.onClassExtended){m.onExtended(r.onClassExtended,m);delete r.onClassExtended}if(c.platformConfig&&d){d.call(b,g,c);delete c.platformConfig}if(c.config){o.call(b,g,c)}if(c.cachedConfig&&f){f.call(b,g,c);delete c.cachedConfig}v.onBeforeCreated(g,v.data,v);for(l=0,y=D&&D.length;l<y;++l){g.mixin.apply(g,D[l])}for(l=0,y=B.length;l<y;l++){F=B[l];a.setAlias?a.setAlias(g,F):a.addAlias(g,F)}if(c.singleton){m=new g()}if(!(p instanceof Array)){p=[p]}n=a.getName(m);for(l=0,K=p.length;l<K;l++){z=p[l];a.classes[z]=m;if(i){a.addAlternate(g,z)}else {if(n){J[z]=n;p=A[n]||(A[n]=[]);p.push(z)}}}for(l=0,y=G.length;l<y;l+=2){C=G[l];if(!C){C=P}C[G[l+1]]=m}a.classes[u]=m;if(!i){if(n&&n!==u){J[u]=n;p=A[n]||(A[n]=[]);p.push(u)}}delete r.alternateClassName;if(v.onCreated){v.onCreated.call(m,m)}if(u){a.triggerCreated(u)}return m};q.derive=t})(Ext.cmd={});var Ext=Ext||{};Ext.Boot=Ext.Boot||function(f){var c=document,e=[],k={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(c.cookie)?!1:!0,disableCachingParam:'_dc',loadDelay:!1,preserveScripts:!0,charset:'UTF-8'},m={},n=/\.css(?:\?|$)/i,i=c.createElement('a'),j=typeof window!=='undefined',d={browser:j,node:!j&&typeof require==='function',phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},b=Ext.platformTags={},g=function(b,a,c){if(c){g(b,c)}if(b&&a&&typeof a==='object'){for(var d in a){b[d]=a[d]}}return b},l=function(){var d=!1,g=Array.prototype.shift.call(arguments),a,c,e,b;if(typeof arguments[arguments.length-1]==='boolean'){d=Array.prototype.pop.call(arguments)}e=arguments.length;for(a=0;a<e;a++){b=arguments[a];if(typeof b==='object'){for(c in b){g[d?c.toLowerCase():c]=b[c]}}}return g},h=typeof Object.keys=='function'?function(a){if(!a){return []}return Object.keys(a)}:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(a)}}return c},a={loading:0,loaded:0,apply:g,env:d,config:k,assetConfig:m,scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,useElements:!0,listeners:[],Request:Request,Entry:Entry,allowMultipleBrowsers:!1,browserNames:{ie:'IE',firefox:'Firefox',safari:'Safari',chrome:'Chrome',opera:'Opera',dolfin:'Dolfin',edge:'Edge',webosbrowser:'webOSBrowser',chromeMobile:'ChromeMobile',chromeiOS:'ChromeiOS',silk:'Silk',other:'Other'},osNames:{ios:'iOS',android:'Android',windowsPhone:'WindowsPhone',webos:'webOS',blackberry:'BlackBerry',rimTablet:'RIMTablet',mac:'MacOS',win:'Windows',tizen:'Tizen',linux:'Linux',bada:'Bada',chromeOS:'ChromeOS',other:'Other'},browserPrefixes:{ie:'MSIE ',edge:'Edge/',firefox:'Firefox/',chrome:'Chrome/',safari:'Version/',opera:'OPR/',dolfin:'Dolfin/',webosbrowser:'wOSBrowser/',chromeMobile:'CrMo/',chromeiOS:'CriOS/',silk:'Silk/'},browserPriority:['edge','opera','dolfin','webosbrowser','silk','chromeiOS','chromeMobile','ie','firefox','safari','chrome'],osPrefixes:{tizen:'(Tizen )',ios:'i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ',android:'(Android |HTC_|Silk/)',windowsPhone:'Windows Phone ',blackberry:'(?:BlackBerry|BB)(?:.*)Version/',rimTablet:'RIM Tablet OS ',webos:'(?:webOS|hpwOS)/',bada:'Bada/',chromeOS:'CrOS '},fallbackOSPrefixes:{windows:'win',mac:'mac',linux:'linux'},devicePrefixes:{iPhone:'iPhone',iPod:'iPod',iPad:'iPad'},maxIEVersion:12,detectPlatformTags:function(){var c=this,e=navigator.userAgent,i=/Mobile(\/|\s)/.test(e),d=document.createElement('div'),k=function(e,c){if(c===undefined){c=window}var a='on'+e.toLowerCase(),b=a in d;if(!b){if(d.setAttribute&&d.removeAttribute){d.setAttribute(a,'');b=typeof d[a]==='function';if(typeof d[a]!=='undefined'){d[a]=undefined}d.removeAttribute(a)}}return b},m=function(){var d={},j,g,l,i,b,n,h,a,k;n=c.browserPriority.length;for(b=0;b<n;b++){i=c.browserPriority[b];if(!k){l=c.browserPrefixes[i];h=e.match(new RegExp('('+l+')([\\w\\._]+)'));a=h&&h.length>1?parseInt(h[2]):0;if(a){k=!0}}else {a=0}d[i]=a}if(d.ie){var m=document.documentMode;if(m>=8){d.ie=m}}a=d.ie||!1;j=Math.max(a,c.maxIEVersion);for(b=8;b<=j;++b){g='ie'+b;d[g+'m']=a?a<=b:0;d[g]=a?a===b:0;d[g+'p']=a?a>=b:0}return d},j=function(){var j={},l,d,g,b,m,a,i,k,n;g=h(c.osPrefixes);m=g.length;for(b=0,n=0;b<m;b++){d=g[b];l=c.osPrefixes[d];a=e.match(new RegExp('('+l+')([^\\s;]+)'));i=a?a[1]:null;if(i&&(i==='HTC_'||i==='Silk/')){k=2.3}else {k=a&&a.length>1?parseFloat(a[a.length-1]):0}if(k){n++}j[d]=k}g=h(c.fallbackOSPrefixes);m=g.length;for(b=0;b<m;b++){d=g[b];if(n===0){l=c.fallbackOSPrefixes[d];a=e.toLowerCase().match(new RegExp(l));j[d]=a?!0:0}else {j[d]=0}}return j},n=function(){var g={},j,d,b,a,k,i;b=h(c.devicePrefixes);k=b.length;for(a=0;a<k;a++){d=b[a];j=c.devicePrefixes[d];i=e.match(new RegExp(j));g[d]=i?!0:0}return g},o=m(),q=j(),p=n(),g=a.loadPlatformsParam();l(b,o,q,p,g,!0);b.phone=!!(b.iphone||b.ipod||!b.silk&&(b.android&&(b.android<3||i))||b.blackberry&&i||b.windowsphone);b.tablet=!!(!b.phone&&(b.ipad||b.android||b.silk||b.rimtablet||b.ie10&&/; Touch/.test(e)));b.touch=k('touchend')||navigator.maxTouchPoints||navigator.msMaxTouchPoints;b.desktop=!b.phone&&!b.tablet;b.cordova=b.phonegap=!!(window.PhoneGap||window.Cordova||window.cordova);b.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(e);b.androidstock=b.android<=4.3&&(b.safari||b.silk);l(b,g,!0)},loadPlatformsParam:function(){var k=window.location.search.substr(1),g=k.split('&'),e={},a,h={},b,i,d,j,c;for(a=0;a<g.length;a++){b=g[a].split('=');e[b[0]]=b[1]}if(e.platformTags){b=e.platformTags.split(',');for(i=b.length,a=0;a<i;a++){d=b[a].split(':');j=d[0];c=!0;if(d.length>1){c=d[1];if(c==='false'||c==='0'){c=!1}}h[j]=c}}return h},filterPlatform:function(g,d){g=e.concat(g||e);d=e.concat(d||e);var j=g.length,i=d.length,c=!j&&i,a,h;for(a=0;a<j&&!c;a++){h=g[a];c=!!b[h]}for(a=0;a<i&&c;a++){h=d[a];c=!b[h]}return c},init:function(){var g=c.getElementsByTagName('script'),b=g[0],m=g.length,n=/\/ext(\-[a-z\-]+)?\.js$/,l,e,h,d,k,i,j;a.hasReadyState='readyState' in b;a.hasAsync='async' in b;a.hasDefer='defer' in b;a.hasOnLoad='onload' in b;a.isIE8=a.hasReadyState&&!a.hasAsync&&a.hasDefer&&!a.hasOnLoad;a.isIE9=a.hasReadyState&&!a.hasAsync&&a.hasDefer&&a.hasOnLoad;a.isIE10p=a.hasReadyState&&a.hasAsync&&a.hasDefer&&a.hasOnLoad;if(a.isIE8){a.isIE10=!1;a.isIE10m=!0}else {a.isIE10=(new Function('/*@cc_on return @_jscript_version @*/'))()===10;a.isIE10m=a.isIE10||a.isIE9||a.isIE8}a.isIE11=a.isIE10p&&!a.isIE10;for(i=0;i<m;i++){e=(b=g[i]).src;if(!e){continue}h=b.readyState||null;if(!d&&n.test(e)){d=e}if(!a.scripts[k=a.canonicalUrl(e)]){l=new Entry({key:k,url:e,done:h===null||h==='loaded'||h==='complete',el:b,prop:'src'})}}if(!d){b=g[g.length-1];d=b.src}a.baseUrl=d.substring(0,d.lastIndexOf('/')+1);j=window.location.origin||window.location.protocol+'//'+window.location.hostname+(window.location.port?':'+window.location.port:'');a.origin=j;a.detectPlatformTags();Ext.filterPlatform=a.filterPlatform},canonicalUrl:function(g){i.href=g;var b=i.href,e=k.disableCachingParam,c=e?b.indexOf(e+'='):-1,d,a;if(c>0&&((d=b.charAt(c-1))==='?'||d==='&')){a=b.indexOf('&',c);a=a<0?'':b.substring(a);if(a&&d==='?'){++c;a=a.substring(1)}b=b.substring(0,c-1)+a}return b},getConfig:function(b){return b?a.config[b]:a.config},setConfig:function(b,d){if(typeof b==='string'){a.config[b]=d}else {for(var c in b){a.setConfig(c,b[c])}}return a},getHead:function(){return a.docHead||(a.docHead=c.head||c.getElementsByTagName('head')[0])},create:function(e,c,d){var b=d||{};b.url=e;b.key=c;return a.scripts[c]=new Entry(b)},getEntry:function(d,g,e){var c,b;c=e?d:a.canonicalUrl(d);b=a.scripts[c];if(!b){b=a.create(d,c,g);if(e){b.canonicalPath=!0}}return b},registerContent:function(e,c,b){var d={content:b,loaded:!0,css:c==='css'};return a.getEntry(e,d)},processRequest:function(a,b){a.loadEntries(b)},load:function(b){var b=new Request(b);if(b.sync||a.syncMode){return a.loadSync(b)}if(a.currentRequest){b.getEntries();a.suspendedQueue.push(b)}else {a.currentRequest=b;a.processRequest(b,!1)}return a},loadSync:function(b){var b=new Request(b);a.syncMode++;a.processRequest(b,!0);a.syncMode--;return a},loadBasePrefix:function(b){b=new Request(b);b.prependBaseUrl=!0;return a.load(b)},loadSyncBasePrefix:function(b){b=new Request(b);b.prependBaseUrl=!0;return a.loadSync(b)},requestComplete:function(c){var b;if(a.currentRequest===c){a.currentRequest=null;while(a.suspendedQueue.length>0){b=a.suspendedQueue.shift();if(!b.done){a.load(b);break}}}if(!a.currentRequest&&a.suspendedQueue.length==0){a.fireListeners()}},isLoading:function(){return !a.currentRequest&&a.suspendedQueue.length==0},fireListeners:function(){var b;while(a.isLoading()&&(b=a.listeners.shift())){b()}},onBootReady:function(b){if(!a.isLoading()){b()}else {a.listeners.push(b)}},getPathsFromIndexes:function(a,d){if(!('length' in a)){var c=[],b;for(b in a){if(!isNaN(+b)){c[+b]=a[b]}}a=c}return Request.prototype.getPathsFromIndexes(a,d)},createLoadOrderMap:function(a){return Request.prototype.createLoadOrderMap(a)},fetch:function(k,e,j,b){b=b===undefined?!!e:b;var a=new XMLHttpRequest(),c,i,h,g=!1,d=function(){if(a&&a.readyState==4){i=a.status===1223?204:a.status===0&&((self.location||{}).protocol==='file:'||(self.location||{}).protocol==='ionp:')?200:a.status;h=a.responseText;c={content:h,status:i,exception:g};if(e){e.call(j,c)}a.onreadystatechange=f;a=null}};if(b){a.onreadystatechange=d}try{a.open('GET',k,b);a.send(null)}catch(o){g=o;d();return c}if(!b){d()}return c},notifyAll:function(a){a.notifyRequests()}};function Request(b){if(b.$isRequest){return b}var b=b.url?b:{url:b},c=b.url,e=c.charAt?[c]:c,d=b.charset||a.config.charset;g(this,b);delete this.url;this.urls=e;this.charset=d}Request.prototype={$isRequest:!0,createLoadOrderMap:function(d){var e=d.length,c={},a,b;for(a=0;a<e;a++){b=d[a];c[b.path]=b}return c},getLoadIndexes:function(b,e,o,m,n){var g=[],k=[b],i=b.idx,k,j,d,c,h,l;if(e[i]){return g}e[i]=g[i]=!0;while(b=k.shift()){if(b.canonicalPath){j=a.getEntry(b.path,null,!0)}else {j=a.getEntry(this.prepareUrl(b.path))}if(!(n&&j.done)){if(m&&b.uses&&b.uses.length){d=b.requires.concat(b.uses)}else {d=b.requires}for(h=0,l=d.length;h<l;h++){c=d[h];if(!e[c]){e[c]=g[c]=!0;k.push(o[c])}}}}return g},getPathsFromIndexes:function(b,e){var c=[],a,d;for(a=0,d=b.length;a<d;a++){if(b[a]){c.push(e[a].path)}}return c},expandUrl:function(d,a,e,i,g,h){var c,b;if(a){c=e[d];if(c){b=this.getLoadIndexes(c,i,a,g,h);if(b.length){return this.getPathsFromIndexes(b,a)}}}return [d]},expandUrls:function(a,n){var e=this,j=e.loadOrder,c=[],k={},o=[],b,i,g,m,h,l,d;if(typeof a==='string'){a=[a]}if(j){b=e.loadOrderMap;if(!b){b=e.loadOrderMap=e.createLoadOrderMap(j)}}for(g=0,m=a.length;g<m;g++){i=this.expandUrl(a[g],j,b,o,n,!1);for(h=0,l=i.length;h<l;h++){d=i[h];if(!k[d]){k[d]=!0;c.push(d)}}}if(c.length===0){c=a}return c},expandLoadOrder:function(){var a=this,c=a.urls,b;if(!a.expanded){b=this.expandUrls(c,!0);a.expanded=!0}else {b=c}a.urls=b;if(c.length!=b.length){a.sequential=!0}return a},getUrls:function(){this.expandLoadOrder();return this.urls},prepareUrl:function(b){if(this.prependBaseUrl){return a.baseUrl+b}return b},getEntries:function(){var b=this,c=b.entries,e,h,d,g,i,j;if(!c){c=[];i=b.getUrls();if(b.loadOrder){e=b.loadOrderMap}for(d=0;d<i.length;d++){j=b.prepareUrl(i[d]);if(e){h=e[j]}g=a.getEntry(j,{buster:b.buster,charset:b.charset},h&&h.canonicalPath);g.requests.push(b);c.push(g)}b.entries=c}return c},loadEntries:function(g){var a=this,c=a.getEntries(),h=c.length,i=a.loadStart||0,d,c,e,b;if(g!==undefined){a.sync=g}a.loaded=a.loaded||0;a.loading=a.loading||h;for(b=i;b<h;b++){e=c[b];if(!e.loaded){d=c[b].load(a.sync)}else {d=!0}if(!d){a.loadStart=b;e.onDone(function(){a.loadEntries(g)});break}}a.processLoadedEntries()},processLoadedEntries:function(){var a=this,d=a.getEntries(),g=d.length,e=a.startIndex||0,c,b;if(!a.done){for(c=e;c<g;c++){b=d[c];if(!b.loaded){a.startIndex=c;return}if(!b.evaluated){b.evaluate()}if(b.error){a.error=!0}}a.notify()}},notify:function(){var b=this;if(!b.done){var e=b.error,d=b[e?'failure':'success'],c='delay' in b?b.delay:e?1:a.config.chainDelay,g=b.scope||b;b.done=!0;if(d){if(c===0||c>0){setTimeout(function(){d.call(g,b)},c)}else {d.call(g,b)}}b.fireListeners();a.requestComplete(b)}},onDone:function(b){var a=this,c=a.listeners||(a.listeners=[]);if(a.done){b(a)}else {c.push(b)}},fireListeners:function(){var a=this.listeners,b;if(a){while(b=a.shift()){b(this)}}}};function Entry(c){if(c.$isEntry){return c}var j=c.charset||a.config.charset,i=Ext.manifest,e=i&&i.loader,d=c.cache!==undefined?c.cache:e&&e.cache,b,h;if(a.config.disableCaching){if(d===undefined){d=!a.config.disableCaching}if(d===!1){b=+new Date()}else {if(d!==!0){b=d}}if(b){h=e&&e.cacheParam||a.config.disableCachingParam;b=h+'='+b}}g(this,c);this.charset=j;this.buster=b;this.requests=[]}Entry.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){var b=this;if(b.crossDomain===undefined){b.crossDomain=b.getLoadUrl().indexOf(a.origin)!==0}return b.crossDomain},isCss:function(){var b=this;if(b.css===undefined){if(b.url){var c=a.assetConfig[b.url];b.css=c?c.type==='css':n.test(b.url)}else {b.css=!1}}return this.css},getElement:function(e){var d=this,b=d.el;if(!b){if(d.isCss()){e=e||'link';b=c.createElement(e);if(e=='link'){b.rel='stylesheet';d.prop='href'}else {d.prop='textContent'}b.type='text/css'}else {e=e||'script';b=c.createElement(e);b.type='text/javascript';d.prop='src';if(d.charset){b.charset=d.charset}if(a.hasAsync){b.async=!1}}d.el=b}return b},getLoadUrl:function(){var b=this,c;c=b.canonicalPath?b.url:a.canonicalUrl(b.url);if(!b.loadUrl){b.loadUrl=!!b.buster?c+(c.indexOf('?')===-1?'?':'&')+b.buster:c}return b.loadUrl},fetch:function(b){var e=this.getLoadUrl(),d=!!b.async,c=b.complete;a.fetch(e,c,this,d)},onContentLoaded:function(c){var a=this,b=c.status,e=c.content,g=c.exception,h=this.getLoadUrl();a.loaded=!0;if((g||b===0)&&!d.phantom){a.error=!0;a.evaluated=!0}else {if(b>=200&&b<300||b===304||d.phantom||b===0&&e.length>0){a.content=e}else {a.error=!0;a.evaluated=!0}}},createLoadElement:function(b){var c=this,d=c.getElement();c.preserve=!0;d.onerror=function(){c.error=!0;if(b){b();b=null}};if(a.isIE10m){d.onreadystatechange=function(){if(this.readyState==='loaded'||this.readyState==='complete'){if(b){b();b=this.onreadystatechange=this.onerror=null}}}}else {d.onload=function(){b();b=this.onload=this.onerror=null}}d[c.prop]=c.getLoadUrl()},onLoadElementReady:function(){a.getHead().appendChild(this.getElement());this.evaluated=!0},inject:function(h,m){var g=this,d=a.getHead(),l=g.url,i=g.key,b,e,k,j;if(g.isCss()){g.preserve=!0;j=i.substring(0,i.lastIndexOf('/')+1);b=c.createElement('base');b.href=j;if(d.firstChild){d.insertBefore(b,d.firstChild)}else {d.appendChild(b)}b.href=b.href;if(l){h+='\n/*# sourceURL='+i+' */'}e=g.getElement('style');k='styleSheet' in e;d.appendChild(b);if(k){d.appendChild(e);e.styleSheet.cssText=h}else {e.textContent=h;d.appendChild(e)}d.removeChild(b)}else {if(l){h+='\n//# sourceURL='+i}Ext.globalEval(h)}return g},loadCrossDomain:function(){var a=this,b=function(){a.el.onerror=a.el.onload=f;a.el=null;a.loaded=a.evaluated=a.done=!0;a.notifyRequests()};a.createLoadElement(function(){b()});a.evaluateLoadElement();return !1},loadElement:function(){var a=this,b=function(){a.el.onerror=a.el.onload=f;a.el=null;a.loaded=a.evaluated=a.done=!0;a.notifyRequests()};a.createLoadElement(function(){b()});a.evaluateLoadElement();return !0},loadSync:function(){var a=this;a.fetch({async:!1,complete:function(b){a.onContentLoaded(b)}});a.evaluate();a.notifyRequests()},load:function(c){var b=this;if(!b.loaded){if(b.loading){return !1}b.loading=!0;if(!c){if(a.isIE10||b.isCrossDomain()){return b.loadCrossDomain()}else {if(!b.isCss()&&a.hasReadyState){b.createLoadElement(function(){b.loaded=!0;b.notifyRequests()})}else {if(a.useElements&&!(b.isCss()&&d.phantom)){return b.loadElement()}else {b.fetch({async:!c,complete:function(a){b.onContentLoaded(a);b.notifyRequests()}})}}}}else {b.loadSync()}}return !0},evaluateContent:function(){this.inject(this.content);this.content=null},evaluateLoadElement:function(){a.getHead().appendChild(this.getElement())},evaluate:function(){var a=this;if(!a.evaluated){if(a.evaluating){return}a.evaluating=!0;if(a.content!==undefined){a.evaluateContent()}else {if(!a.error){a.evaluateLoadElement()}}a.evaluated=a.done=!0;a.cleanup()}},cleanup:function(){var c=this,a=c.el,b;if(!a){return}if(!c.preserve){c.el=null;a.parentNode.removeChild(a);for(b in a){try{if(b!==c.prop){a[b]=null}delete a[b]}catch(o){}}}a.onload=a.onerror=a.onreadystatechange=f},notifyRequests:function(){var b=this.requests,d=b.length,a,c;for(a=0;a<d;a++){c=b[a];c.processLoadedEntries()}if(this.done){this.fireListeners()}},onDone:function(b){var a=this,c=a.listeners||(a.listeners=[]);if(a.done){b(a)}else {c.push(b)}},fireListeners:function(){var a=this.listeners,b;if(a&&a.length>0){while(b=a.shift()){b(this)}}}};Ext.disableCacheBuster=function(b,d){var a=new Date();a.setTime(a.getTime()+(b?10*365:-1)*24*60*60*1000);a=a.toGMTString();c.cookie='ext-cache=1; expires='+a+'; path='+(d||'/')};a.init();return a}(function(){});Ext.globalEval=Ext.globalEval||(this.execScript?function(a){execScript(a)}:function(a){eval.call(window,a)});if(!Function.prototype.bind){(function(){var a=Array.prototype.slice,b=function(d){var b=a.call(arguments,1),c=this;if(b.length){return function(){var e=arguments;return c.apply(d,e.length?b.concat(a.call(e)):b)}}b=null;return function(){return c.apply(d,arguments)}};Function.prototype.bind=b;b.$extjs=!0})()}Ext.setResourcePath=function(b,d){var a=Ext.manifest||(Ext.manifest={}),c=a.resources||(a.resources={});if(a){if(typeof b!=='string'){Ext.apply(c,b)}else {c[b]=d}a.resources=c}};Ext.getResourcePath=function(b,f,d){if(typeof b!=='string'){f=b.pool;d=b.packageName;b=b.path}var e=Ext.manifest,g=e&&e.resources,a=g[f],c=[];if(a==null){a=g.path;if(a==null){a='resources'}}if(a){c.push(a)}if(d){c.push(d)}c.push(b);return c.join('/')};var Ext=Ext||{};Ext._startTime=(new Date()).getTime();(function(){var j=this,f=Object.prototype,b=f.toString,a=!0,g={toString:1},c=function(){},e=function(){var a=e.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},k,h=/\S/,d,i=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=!0;Ext.global=j;for(k in g){a=null}if(a){a=['hasOwnProperty','valueOf','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','constructor']}Ext.enumerables=a;Ext.apply=function(c,b,g){if(g){Ext.apply(c,g)}if(c&&b&&typeof b==='object'){var e,f,d;for(e in b){c[e]=b[e]}if(a){for(f=a.length;f--;){d=a[f];if(b.hasOwnProperty(d)){c[d]=b[d]}}}}return c};Ext.buildSettings=Ext.apply({baseCSSPrefix:'x-'},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||'Ext',emptyFn:c,identityFn:function(a){return a},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(b,c){var a;if(b){for(a in c){if(b[a]===undefined){b[a]=c[a]}}}return b},iterate:function(a,c,b){if(Ext.isEmpty(a)){return}if(b===undefined){b=a}if(Ext.isIterable(a)){Ext.Array.each.call(Ext.Array,a,c,b)}else {Ext.Object.each.call(Ext.Object,a,c,b)}}});Ext.apply(Ext,{extend:function(){var a=f.constructor,b=function(b){for(var a in b){if(!b.hasOwnProperty(a)){continue}this[a]=b[a]}};return function(c,d,g){if(Ext.isObject(d)){g=d;d=c;c=g.constructor!==a?g.constructor:function(){d.apply(this,arguments)}}var h=function(){},e,f=d.prototype;h.prototype=f;e=c.prototype=new h();e.constructor=c;c.superclass=f;if(f.constructor===a){f.constructor=d}c.override=function(a){Ext.override(c,a)};e.override=b;e.proto=e;c.override(g);c.extend=function(a){return Ext.extend(c,a)};return c}}(),override:function(a,c){if(a.$isClass){a.override(c)}else {if(typeof a=='function'){Ext.apply(a.prototype,c)}else {var f=a.self,b,d;if(f&&f.$isClass){for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(typeof d=='function'){d.$name=b;d.$owner=f;d.$previous=a.hasOwnProperty(b)?a[b]:e}a[b]=d}}}else {Ext.apply(a,c)}}}return a}});Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},typeOf:function(c){var a,d;if(c===null){return 'null'}a=typeof c;if(a==='undefined'||a==='string'||a==='number'||a==='boolean'){return a}d=b.call(c);switch(d){case '[object Array]':return 'array';case '[object Date]':return 'date';case '[object Boolean]':return 'boolean';case '[object Number]':return 'number';case '[object RegExp]':return 'regexp';}if(a==='function'){return 'function'}if(a==='object'){if(c.nodeType!==undefined){if(c.nodeType===3){return h.test(c.nodeValue)?'textnode':'whitespace'}else {return 'element'}}return 'object'}},coerce:function(a,e){var d=Ext.typeOf(a),c=Ext.typeOf(e),b=typeof a==='string';if(d!==c){switch(c){case 'string':return String(a);case 'number':return Number(a);case 'boolean':return b&&(!a||a==='false')?!1:Boolean(a);case 'null':return b&&(!a||a==='null')?null:a;case 'undefined':return b&&(!a||a==='undefined')?undefined:a;case 'date':return b&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a));}}return a},isEmpty:function(a,b){return a===null||a===undefined||(!b?a==='':!1)||Ext.isArray(a)&&a.length===0},isArray:'isArray' in Array?Array.isArray:function(a){return b.call(a)==='[object Array]'},isDate:function(a){return b.call(a)==='[object Date]'},isObject:b.call(null)==='[object Object]'?function(a){return a!==null&&a!==undefined&&b.call(a)==='[object Object]'&&a.ownerDocument===undefined}:function(a){return b.call(a)==='[object Object]'},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(b){var a=typeof b;return a==='string'||a==='number'||a==='boolean'},isFunction:function(a){return !!(a&&a.$extIsFunction)},isNumber:function(a){return typeof a==='number'&&isFinite(a)},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==='string'},isBoolean:function(a){return typeof a==='boolean'},isElement:function(a){return a?a.nodeType===1:!1},isTextNode:function(a){return a?a.nodeName==='#text':!1},isDefined:function(a){return typeof a!=='undefined'},isIterable:function(a){if(!a||typeof a.length!=='number'||typeof a==='string'||a.$extIsFunction){return !1}if(!a.propertyIsEnumerable){return !!a.item}if(a.hasOwnProperty('length')&&!a.propertyIsEnumerable('length')){return !0}return i.test(b.call(a))}});Ext.apply(Ext,{clone:function(c){var e,f,i,g,d,h;if(c===null||c===undefined){return c}if(c.nodeType&&c.cloneNode){return c.cloneNode(!0)}e=b.call(c);if(e==='[object Date]'){return new Date(c.getTime())}if(e==='[object Array]'){f=c.length;d=[];while(f--){d[f]=Ext.clone(c[f])}}else {if(e==='[object Object]'&&c.constructor===Object){d={};for(h in c){d[h]=Ext.clone(c[h])}if(a){for(i=a.length;i--;){g=a[i];if(c.hasOwnProperty(g)){d[g]=c[g]}}}}}return d||c},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===undefined){b=0;do{a='ExtBox'+ ++b}while(Ext.global[a]!==undefined);Ext.global[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var f=this,a=Array.prototype.slice.call(arguments),e=f.functionFactoryCache,d,b,c;if(Ext.isSandboxed){c=a.length;if(c>0){c--;a[c]='var Ext=window.'+Ext.name+';'+a[c]}}d=a.join('');b=e[d];if(!b){b=Function.prototype.constructor.apply(Function.prototype,a);e[d]=b}return b},functionFactory:function(){var c=this,b=Array.prototype.slice.call(arguments),a;if(Ext.isSandboxed){a=b.length;if(a>0){a--;b[a]='var Ext=window.'+Ext.name+';'+b[a]}}return Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:c,log:c,info:c,warn:c,error:function(a){throw new Error(a)},deprecate:c}});Ext.type=Ext.typeOf;d=Ext.app;if(!d){d=Ext.app={}}Ext.apply(d,{namespaces:{},collectNamespaces:function(b){var c=Ext.app.namespaces,a;for(a in b){if(b.hasOwnProperty(a)){c[a]=!0}}},addNamespaces:function(a){var d=Ext.app.namespaces,b,c;if(!Ext.isArray(a)){a=[a]}for(b=0,c=a.length;b<c;b++){d[a[b]]=!0}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(d){var c=Ext.app.namespaces,b='',a;for(a in c){if(c.hasOwnProperty(a)&&a.length>b.length&&a+'.'===d.substring(0,a.length+1)){b=a}}return b===''?undefined:b}})})();Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){(function(){var Ext=this.Ext;eval($$code)})()};(function(){var b='4.2.1.883',a;Ext.Version=a=Ext.extend(Object,{constructor:function(d){var b,c;if(d instanceof a){return d}this.version=this.shortVersion=String(d).toLowerCase().replace(/_/g,'.').replace(/[\-+]/g,'');c=this.version.search(/([^\d\.])/);if(c!==-1){this.release=this.version.substr(c,d.length);this.shortVersion=this.version.substr(0,c)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,'');b=this.version.split('.');this.major=parseInt(b.shift()||0,10);this.minor=parseInt(b.shift()||0,10);this.patch=parseInt(b.shift()||0,10);this.build=parseInt(b.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||''},isGreaterThan:function(b){return a.compare(this.version,b)===1},isGreaterThanOrEqual:function(b){return a.compare(this.version,b)>=0},isLessThan:function(b){return a.compare(this.version,b)===-1},isLessThanOrEqual:function(b){return a.compare(this.version,b)<=0},equals:function(b){return a.compare(this.version,b)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){return [this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(a,{releaseValueMap:{'dev':-6,'alpha':-5,'a':-5,'beta':-4,'b':-4,'rc':-3,'#':-2,'p':-1,'pl':-1},getComponentValue:function(a){return !a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(c,d){var e,f,b;c=(new a(c)).toArray();d=(new a(d)).toArray();for(b=0;b<Math.max(c.length,d.length);b++){e=this.getComponentValue(c[b]);f=this.getComponentValue(d[b]);if(e<f){return -1}else {if(e>f){return 1}}}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(b,c){Ext.versions[b]=new a(c);Ext.lastRegisteredVersion=Ext.versions[b];return this},getVersion:function(a){if(a===undefined){return Ext.lastRegisteredVersion}return Ext.versions[a]},deprecate:function(b,e,c,d){if(a.compare(Ext.getVersion(b),e)<1){c.call(d)}}});Ext.setVersion('core',b)})();Ext.String=function(){var l=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,m=/('|\\)/g,n=/\{(\d+)\}/g,h=/([-.*+?\^${}()|\[\]\/\\])/g,j=/^\s+|\s+$/g,i=/\s+/,k=/(^[^a-z]*|[^\w])/gi,b,a,c,d,g=function(c,a){return b[a]},f=function(c,b){return b in a?a[b]:String.fromCharCode(parseInt(b.substr(2),10))},e=function(b,a){if(b===null||b===undefined||a===null||a===undefined){return !1}return a.length<=b.length};return {insert:function(b,c,a){if(!b){return c}if(!c){return b}var d=b.length;if(!a&&a!==0){a=d}if(a<0){a*=-1;if(a>=d){a=0}else {a=d-a}}if(a===0){b=c+b}else {if(a>=b.length){b+=c}else {b=b.substr(0,a)+c+b.substr(a)}}return b},startsWith:function(b,a,d){var c=e(b,a);if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.lastIndexOf(a,0)===0}return c},endsWith:function(b,a,d){var c=e(b,a);if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.indexOf(a,b.length-a.length)!==-1}return c},createVarName:function(a){return a.replace(k,'')},htmlEncode:function(a){return !a?a:String(a).replace(c,g)},htmlDecode:function(a){return !a?a:String(a).replace(d,f)},addCharacterEntities:function(g){var i=[],h=[],e,f;for(e in g){f=g[e];a[e]=f;b[f]=e;i.push(f);h.push(e)}c=new RegExp('('+i.join('|')+')','g');d=new RegExp('('+h.join('|')+'|&#[0-9]{1,5};)','g')},resetCharacterEntities:function(){b={};a={};this.addCharacterEntities({'&amp;':'&','&gt;':'>','&lt;':'<','&quot;':'"','&#39;':"'"})},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf('?')===-1?'?':'&')+b}return a},trim:function(a){return a.replace(l,'')},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,c,e){if(a&&a.length>c){if(e){var b=a.substr(0,c-2),d=Math.max(b.lastIndexOf(' '),b.lastIndexOf('.'),b.lastIndexOf('!'),b.lastIndexOf('?'));if(d!==-1&&d>=c-15){return b.substr(0,d)+'...'}}return a.substr(0,c-3)+'...'}return a},escapeRegex:function(a){return a.replace(h,'\\$1')},escape:function(a){return a.replace(m,'\\$1')},toggle:function(b,a,c){return b===a?c:a},leftPad:function(c,d,b){var a=String(c);b=b||' ';while(a.length<d){a=b+a}return a},format:function(a){var b=Ext.Array.toArray(arguments,1);return a.replace(n,function(d,c){return b[c]})},repeat:function(c,a,d){if(a<1){a=0}for(var b=[],e=a;e--;){b.push(c)}return b.join(d||'')},splitWords:function(a){if(a&&typeof a=='string'){return a.replace(j,'').split(i)}return a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Number=new function(){var b=this,c=(0.9).toFixed()!=='1',a=Math;Ext.apply(this,{constrain:function(d,c,b){var a=parseFloat(d);return a<c?c:a>b?b:a},snap:function(a,c,e,f){var d;if(a===undefined||a<e){return e||0}if(c){d=a%c;if(d!==0){a-=d;if(d*2>=c){a+=c}else {if(d*2<-c){a-=c}}}}return b.constrain(a,e,f)},snapInRange:function(a,d,c,e){var f;c=c||0;if(a===undefined||a<c){return c}if(d&&(f=(a-c)%d)){a-=f;f*=2;if(f>=d){a+=d}}if(e!==undefined){if(a>(e=b.snapInRange(e,d,c))){a=e}}return a},toFixed:c?function(d,b){b=b||0;var c=a.pow(10,b);return (a.round(d*c)/c).toFixed(b)}:function(b,a){return b.toFixed(a)},from:function(a,b){if(isFinite(a)){a=parseFloat(a)}return !isNaN(a)?a:b},randomInt:function(b,c){return a.floor(a.random()*(c-b+1)+b)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return b.from.apply(this,arguments)}}();(function(){var c=Array.prototype,b=c.slice,e=function(){var a=[],b,c=20;if(!a.splice){return !1}while(c--){a.push('A')}a.splice(15,0,'F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F');b=a.length;a.splice(13,0,'XXX');if(b+1!=a.length){return !1}return !0}(),j='forEach' in c,o='map' in c,h='indexOf' in c,l='every' in c,m='some' in c,k='filter' in c,n=function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}(),g=!0,a,d,f,i;try{if(typeof document!=='undefined'){b.call(document.getElementsByTagName('body'))}}catch(p){g=!1}function fixArrayIndex(b,a){return a<0?Math.max(0,b.length+a):Math.min(b.length,a)}function replaceSim(a,m,l,e){var f=e?e.length:0,i=a.length,g=fixArrayIndex(a,m),j,c,d,k,h,b;if(g===i){if(f){a.push.apply(a,e)}}else {j=Math.min(l,i-g);c=g+j;d=c+f-j;k=i-c;h=i-j;if(d<c){for(b=0;b<k;++b){a[d+b]=a[c+b]}}else {if(d>c){for(b=k;b--;){a[d+b]=a[c+b]}}}if(f&&g===h){a.length=h;a.push.apply(a,e)}else {a.length=h+f;for(b=0;b<f;++b){a[g+b]=e[b]}}}return a}function replaceNative(a,c,d,b){if(b&&b.length){if(c===0&&!d){a.unshift.apply(a,b)}else {if(c<a.length){a.splice.apply(a,[c,d].concat(b))}else {a.push.apply(a,b)}}}else {a.splice(c,d)}return a}function eraseSim(b,c,a){return replaceSim(b,c,a)}function eraseNative(a,c,b){a.splice(c,b);return a}function spliceSim(a,e,c){var d=fixArrayIndex(a,e),f=a.slice(e,fixArrayIndex(a,d+c));if(arguments.length<4){replaceSim(a,d,c)}else {replaceSim(a,d,c,b.call(arguments,3))}return f}function spliceNative(a){return a.splice.apply(a,b.call(arguments,1))}d=e?eraseNative:eraseSim;f=e?replaceNative:replaceSim;i=e?spliceNative:spliceSim;a=Ext.Array={each:function(c,e,d,g){c=a.from(c);var b,f=c.length;if(g!==!0){for(b=0;b<f;b++){if(e.call(d||c[b],c[b],b,c)===!1){return b}}}else {for(b=f-1;b>-1;b--){if(e.call(d||c[b],c[b],b,c)===!1){return b}}}return !0},forEach:j?function(a,c,b){a.forEach(c,b)}:function(b,d,c){var a=0,e=b.length;for(;a<e;a++){d.call(c,b[a],a,b)}},indexOf:h?function(a,d,b){return c.indexOf.call(a,d,b)}:function(d,e,b){var a,c=d.length;for(a=b<0?Math.max(0,c+b):b||0;a<c;a++){if(d[a]===e){return a}}return -1},contains:h?function(a,b){return c.indexOf.call(a,b)!==-1}:function(b,d){var a,c;for(a=0,c=b.length;a<c;a++){if(b[a]===d){return !0}}return !1},toArray:function(a,d,c){if(!a||!a.length){return []}if(typeof a==='string'){a=a.split('')}if(g){return b.call(a,d||0,c||a.length)}var f=[],e;d=d||0;c=c?c<0?a.length+c:c:a.length;for(e=d;e<c;e++){f.push(a[e])}return f},pluck:function(b,f){var d=[],a,e,c;for(a=0,e=b.length;a<e;a++){c=b[a];d.push(c[f])}return d},map:o?function(a,c,b){return a.map(c,b)}:function(b,f,d){var c=[],a=0,e=b.length;for(;a<e;a++){c[a]=f.call(d,b[a],a,b)}return c},every:l?function(a,c,b){return a.every(c,b)}:function(b,d,c){var a=0,e=b.length;for(;a<e;++a){if(!d.call(c,b[a],a,b)){return !1}}return !0},some:m?function(a,c,b){return a.some(c,b)}:function(b,d,c){var a=0,e=b.length;for(;a<e;++a){if(d.call(c,b[a],a,b)){return !0}}return !1},equals:function(b,c){var d=b.length,e=c.length,a;if(b===c){return !0}if(d!==e){return !1}for(a=0;a<d;++a){if(b[a]!==c[a]){return !1}}return !0},clean:function(d){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];if(!Ext.isEmpty(a)){c.push(a)}}return c},unique:function(e){var b=[],d=0,f=e.length,c;for(;d<f;d++){c=e[d];if(a.indexOf(b,c)===-1){b.push(c)}}return b},filter:k?function(a,c,b){return a.filter(c,b)}:function(b,e,d){var c=[],a=0,f=b.length;for(;a<f;a++){if(e.call(d,b[a],a,b)){c.push(b[a])}}return c},findBy:function(b,e,c){var a=0,d=b.length;for(;a<d;a++){if(e.call(c||b,b[a],a)){return b[a]}}return null},from:function(c,e){if(c===undefined||c===null){return []}if(Ext.isArray(c)){return e?b.call(c):c}var d=typeof c;if(c&&c.length!==undefined&&d!=='string'&&(d!=='function'||!c.apply)){return a.toArray(c)}return [c]},remove:function(b,e){var c=a.indexOf(b,e);if(c!==-1){d(b,c,1)}return b},include:function(b,c){if(!a.contains(b,c)){b.push(c)}},clone:function(a){return b.call(a)},merge:function(){var e=b.call(arguments),d=[],c,f;for(c=0,f=e.length;c<f;c++){d=d.concat(e[c])}return a.unique(d)},intersect:function(){var m=[],f=b.call(arguments),g,o,r,e,k,j,q,n,p,l,c,h,i;if(!f.length){return m}g=f.length;for(c=k=0;c<g;c++){j=f[c];if(!e||j.length<e.length){e=j;k=c}}e=a.unique(e);d(f,k,1);q=e.length;g=f.length;for(c=0;c<q;c++){n=e[c];l=0;for(h=0;h<g;h++){o=f[h];r=o.length;for(i=0;i<r;i++){p=o[i];if(n===p){l++;break}}}if(l===g){m.push(n)}}return m},difference:function(i,f){var c=b.call(i),h=c.length,e,a,g;for(e=0,g=f.length;e<g;e++){for(a=0;a<h;a++){if(c[a]===f[e]){d(c,a,1);a--;h--}}}return c},slice:[1,2].slice(1,undefined).length?function(a,c,d){return b.call(a,c,d)}:function(a,c,d){if(typeof c==='undefined'){return b.call(a)}if(typeof d==='undefined'){return b.call(a,c)}return b.call(a,c,d)},sort:n?function(b,a){if(a){return b.sort(a)}else {return b.sort()}}:function(a,g){var f=a.length,c=0,e,d,b,h;for(;c<f;c++){b=c;for(d=c+1;d<f;d++){if(g){e=g(a[d],a[b]);if(e<0){b=d}}else {if(a[d]<a[b]){b=d}}}if(b!==c){h=a[c];a[c]=a[b];a[b]=h}}return a},flatten:function(b){var a=[];function rFlatten(f){var c,e,d;for(c=0,e=f.length;c<e;c++){d=f[c];if(Ext.isArray(d)){rFlatten(d)}else {a.push(d)}}return a}return rFlatten(b)},min:function(d,e){var b=d[0],c,f,a;for(c=0,f=d.length;c<f;c++){a=d[c];if(e){if(e(b,a)===1){b=a}}else {if(a<b){b=a}}}return b},max:function(d,e){var b=d[0],c,f,a;for(c=0,f=d.length;c<f;c++){a=d[c];if(e){if(e(b,a)===-1){b=a}}else {if(a>b){b=a}}}return b},mean:function(b){return b.length>0?a.sum(b)/b.length:undefined},sum:function(b){var d=0,a,e,c;for(a=0,e=b.length;a<e;a++){c=b[a];d+=c}return d},toMap:function(c,b,e){var d={},a=c.length;if(!b){while(a--){d[c[a]]=a+1}}else {if(typeof b=='string'){while(a--){d[c[a][b]]=a+1}}else {while(a--){d[b.call(e,c[a])]=a+1}}}return d},toValueMap:function(b,c,e){var d={},a=b.length;if(!c){while(a--){d[b[a]]=b[a]}}else {if(typeof c=='string'){while(a--){d[b[a][c]]=b[a]}}else {while(a--){d[c.call(e,b[a])]=b[a]}}}return d},erase:d,insert:function(a,b,c){return f(a,b,0,c)},replace:f,splice:i,push:function(a){var d=arguments.length,c=1,b;if(a===undefined){a=[]}else {if(!Ext.isArray(a)){a=[a]}}for(;c<d;c++){b=arguments[c];Array.prototype.push[Ext.isIterable(b)?'apply':'call'](a,b)}return a}};Ext.each=a.each;a.union=a.merge;Ext.min=a.min;Ext.max=a.max;Ext.sum=a.sum;Ext.mean=a.mean;Ext.flatten=a.flatten;Ext.clean=a.clean;Ext.unique=a.unique;Ext.pluck=a.pluck;Ext.toArray=function(){return a.toArray.apply(a,arguments)}})();Ext.Function={flexSetter:function(a){return function(b,e){var c,d;if(b===null){return this}if(typeof b!=='string'){for(c in b){if(b.hasOwnProperty(c)){a.call(this,c,b[c])}}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){c=Ext.enumerables[d];if(b.hasOwnProperty(c)){a.call(this,c,b[c])}}}}else {a.call(this,b,e)}return this}},bind:function(e,c,b,a){if(arguments.length===2){return function(){return e.apply(c,arguments)}}var f=e,d=Array.prototype.slice;return function(){var g=b||arguments;if(a===!0){g=d.call(arguments,0);g=g.concat(b)}else {if(typeof a=='number'){g=d.call(arguments,0);Ext.Array.insert(g,a,b)}}return f.apply(c||Ext.global,g)}},pass:function(c,a,b){if(!Ext.isArray(a)){if(Ext.isIterable(a)){a=Ext.Array.clone(a)}else {a=a!==undefined?[a]:[]}}return function(){var d=[].concat(a);d.push.apply(d,arguments);return c.apply(b||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(b,c,d,a){var e=b;if(!Ext.isFunction(c)){return b}else {a=Ext.isDefined(a)?a:null;return function(){var e=this,f=arguments;c.target=e;c.method=b;return c.apply(d||e||Ext.global,f)!==!1?b.apply(e||Ext.global,f):a}}},createDelayed:function(a,e,b,c,d){if(b||c){a=Ext.Function.bind(a,b,c,d)}return function(){var g=this,f=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(g,f)},e)}},defer:function(a,b,d,e,c){a=Ext.Function.bind(a,d,e,c);if(b>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b)}a();return 0},createSequence:function(a,b,c){if(!b){return a}else {return function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}}},createBuffered:function(e,b,c,d){var a;return function(){var f=d||Array.prototype.slice.call(arguments,0),g=c||this;if(a){clearTimeout(a)}a=setTimeout(function(){e.apply(g,f)},b)}},createThrottled:function(h,c,g){var a,b,d,f,e=function(){h.apply(g||this,d);a=Ext.Date.now()};return function(){b=Ext.Date.now()-a;d=arguments;clearTimeout(f);if(!a||b>=c){e()}else {f=setTimeout(e,c-b)}}},interceptBefore:function(b,a,e,d){var c=b[a]||Ext.emptyFn;return b[a]=function(){var f=e.apply(d||this,arguments);c.apply(this,arguments);return f}},interceptAfter:function(b,a,e,d){var c=b[a]||Ext.emptyFn;return b[a]=function(){c.apply(this,arguments);return e.apply(d||this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,'defer');Ext.pass=Ext.Function.alias(Ext.Function,'pass');Ext.bind=Ext.Function.alias(Ext.Function,'bind');(function(){var b=function(){},a=Ext.Object={chain:Object.create||function(a){b.prototype=a;var c=new b();b.prototype=null;return c},toQueryObjects:function(e,c,f){var g=a.toQueryObjects,d=[],b,h;if(Ext.isArray(c)){for(b=0,h=c.length;b<h;b++){if(f){d=d.concat(g(e+'['+b+']',c[b],!0))}else {d.push({name:e,value:c[b]})}}}else {if(Ext.isObject(c)){for(b in c){if(c.hasOwnProperty(b)){if(f){d=d.concat(g(e+'['+b+']',c[b],!0))}else {d.push({name:e,value:c[b]})}}}}else {d.push({name:e,value:c})}}return d},toQueryString:function(g,j){var c=[],h=[],d,e,i,f,b;for(d in g){if(g.hasOwnProperty(d)){c=c.concat(a.toQueryObjects(d,g[d],j))}}for(e=0,i=c.length;e<i;e++){f=c[e];b=f.value;if(Ext.isEmpty(b)){b=''}else {if(Ext.isDate(b)){b=Ext.Date.toString(b)}}h.push(encodeURIComponent(f.name)+'='+encodeURIComponent(String(b)))}return h.join('&')},fromQueryString:function(q,r){var o=q.replace(/^\?/,'').split('&'),d={},e,j,b,f,k,p,m,c,h,i,n,g,a,l;for(k=0,p=o.length;k<p;k++){m=o[k];if(m.length>0){j=m.split('=');b=decodeURIComponent(j[0]);f=j[1]!==undefined?decodeURIComponent(j[1]):'';if(!r){if(d.hasOwnProperty(b)){if(!Ext.isArray(d[b])){d[b]=[d[b]]}d[b].push(f)}else {d[b]=f}}else {i=b.match(/(\[):?([^\]]*)\]/g);n=b.match(/^([^\[]+)/);b=n[0];g=[];if(i===null){d[b]=f;continue}for(c=0,h=i.length;c<h;c++){a=i[c];a=a.length===2?'':a.substring(1,a.length-1);g.push(a)}g.unshift(b);e=d;for(c=0,h=g.length;c<h;c++){a=g[c];if(c===h-1){if(Ext.isArray(e)&&a===''){e.push(f)}else {e[a]=f}}else {if(e[a]===undefined||typeof e[a]==='string'){l=g[c+1];e[a]=Ext.isNumeric(l)||l===''?[]:{}}e=e[a]}}}}}return d},each:function(a,d,c){for(var b in a){if(a.hasOwnProperty(b)){if(d.call(c||a,b,a[b],a)===!1){return}}}},merge:function(d){var g=1,j=arguments.length,i=a.merge,h=Ext.clone,f,c,b,e;for(;g<j;g++){f=arguments[g];for(c in f){b=f[c];if(b&&b.constructor===Object){e=d[c];if(e&&e.constructor===Object){i(e,b)}else {d[c]=h(b)}}else {d[c]=b}}}return d},mergeIf:function(c){var e=1,g=arguments.length,f=Ext.clone,d,b,a;for(;e<g;e++){d=arguments[e];for(b in d){if(!(b in c)){a=d[b];if(a&&a.constructor===Object){c[b]=f(a)}else {c[b]=a}}}}return c},getKey:function(b,c){for(var a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return null},getValues:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(b[a])}}return c},getKeys:typeof Object.keys=='function'?function(a){if(!a){return []}return Object.keys(a)}:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(a)}}return c},getSize:function(b){var c=0,a;for(a in b){if(b.hasOwnProperty(a)){c++}}return c},isEmpty:function(a){for(var b in a){if(a.hasOwnProperty(b)){return !1}}return !0},equals:function(){var a=function(b,c){var a;for(a in b){if(b.hasOwnProperty(a)){if(b[a]!==c[a]){return !1}}}return !0};return function(b,c){if(b===c){return !0}if(b&&c){return a(b,c)&&a(c,b)}else {if(!b&&!c){return b===c}else {return !1}}}}(),classify:function(c){var h=c,e=[],f={},g=function(){var b=0,d=e.length,a;for(;b<d;b++){a=e[b];this[a]=new f[a]()}},b,d;for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(d&&d.constructor===Object){e.push(b);f[b]=a.classify(d)}}}g.prototype=h;return g}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var b=Ext.Array.from(arguments),c='';if(typeof b[1]==='string'){c=b[1]+'&';b[1]=!1}return c+a.toQueryString.apply(a,b)};Ext.urlDecode=function(){return a.fromQueryString.apply(a,arguments)}})();Ext.Date=new function(){var a=this,b=/(\\.)/g,f=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,g=/\\/gi,c=/\{(\d+)\}/g,d=new RegExp('\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/'),h=['var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,','def = me.defaults,','from = Ext.Number.from,','results = String(input).match(me.parseRegexes[{0}]);','if(results){','{1}','if(u != null){','v = new Date(u * 1000);','}else{','dt = me.clearTime(new Date);','y = from(y, from(def.y, dt.getFullYear()));','m = from(m, from(def.m - 1, dt.getMonth()));','dayMatched = d !== undefined;','d = from(d, from(def.d, dt.getDate()));','if (!dayMatched) {','dt.setDate(1);','dt.setMonth(m);','dt.setFullYear(y);','daysInMonth = me.getDaysInMonth(dt);','if (d > daysInMonth) {','d = daysInMonth;','}','}','h  = from(h, from(def.h, dt.getHours()));','i  = from(i, from(def.i, dt.getMinutes()));','s  = from(s, from(def.s, dt.getSeconds()));','ms = from(ms, from(def.ms, dt.getMilliseconds()));','if(z >= 0 && y >= 0){','v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);','v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);','}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){','v = null;','}else{','if (W) {','year = y || (new Date()).getFullYear(),','jan4 = new Date(year, 0, 4, 0, 0, 0),','week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));','v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));','} else {','v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);','}','}','}','}','if(v){','if(zz != null){','v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);','}else if(o){',"v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));",'}','}','return v;'].join('\n');function xf(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(c,function(d,c){return b[c]})}Ext.apply(a,{now:Date.now||function(){return +new Date()},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+'-'+b(a.getMonth()+1,2,'0')+'-'+b(a.getDate(),2,'0')+'T'+b(a.getHours(),2,'0')+':'+b(a.getMinutes(),2,'0')+':'+b(a.getSeconds(),2,'0')},getElapsed:function(b,c){return Math.abs(b-(c||a.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var b=a.parseCodes[c];if(b){b=typeof b=='function'?b():b;a.parseCodes[c]=b}return b?Ext.applyIf({c:b.c?xf(b.c,d||'{0}'):b.c},b):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{'MS':function(b,c){var a=(b||'').match(d);return a?new Date(((a[1]||'')+a[2])*1):null},'time':function(b,c){var a=parseInt(b,10);if(a||a===0){return new Date(a)}return null},'timestamp':function(b,c){var a=parseInt(b,10);if(a||a===0){return new Date(a*1000)}return null}},parseRegexes:[],formatFunctions:{'MS':function(){return '\\/Date('+this.getTime()+')\\/'},'time':function(){return this.getTime().toString()},'timestamp':function(){return a.format(this,'U')}},y2kYear:50,MILLI:'ms',SECOND:'s',MINUTE:'mi',HOUR:'h',DAY:'d',MONTH:'mo',YEAR:'y',defaults:{},dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:'m/d/Y',getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return f.test(a.replace(b,''))},formatContainsDateInfo:function(a){return e.test(a.replace(b,''))},unescapeFormat:function(a){return a.replace(g,'')},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:'Ext.Date.getShortDayName(this.getDay())',j:'this.getDate()',l:'Ext.Date.dayNames[this.getDay()]',N:'(this.getDay() ? this.getDay() : 7)',S:'Ext.Date.getSuffix(this)',w:'this.getDay()',z:'Ext.Date.getDayOfYear(this)',W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:'Ext.Date.monthNames[this.getMonth()]',m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:'Ext.Date.getShortMonthName(this.getMonth())',n:'(this.getMonth() + 1)',t:'Ext.Date.getDaysInMonth(this)',L:'(Ext.Date.isLeapYear(this) ? 1 : 0)',o:'(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))',Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:'((this.getHours() % 12) ? this.getHours() % 12 : 12)',G:'this.getHours()',h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:'Ext.Date.getGMTOffset(this)',P:'Ext.Date.getGMTOffset(this, true)',T:'Ext.Date.getTimezone(this)',Z:'(this.getTimezoneOffset() * -60)',c:function(){var d,c,b,f,e;for(d='Y-m-dTH:i:sP',c=[],b=0,f=d.length;b<f;++b){e=d.charAt(b);c.push(e=='T'?"'T'":a.getFormatCode(e))}return c.join(' + ')},U:'Math.round(this.getTime() / 1000)'},isValid:function(c,i,h,e,f,g,d){e=e||0;f=f||0;g=g||0;d=d||0;var b=a.add(new Date(c<100?100:c,i-1,h,e,f,g,d),a.YEAR,c<100?c-100:0);return c==b.getFullYear()&&i==b.getMonth()+1&&h==b.getDate()&&e==b.getHours()&&f==b.getMinutes()&&g==b.getSeconds()&&d==b.getMilliseconds()},parse:function(e,b,c){var d=a.parseFunctions;if(d[b]==null){a.createParser(b)}return d[b].call(a,e,Ext.isDefined(c)?c:a.useStrict)},parseDate:function(d,b,c){return a.parse(d,b,c)},getFormatCode:function(c){var b=a.formatCodes[c];if(b){b=typeof b=='function'?b():b;a.formatCodes[c]=b}return b||"'"+Ext.String.escape(c)+"'"},createFormat:function(e){var f=[],b=!1,c='',d;for(d=0;d<e.length;++d){c=e.charAt(d);if(!b&&c=='\\'){b=!0}else {if(b){b=!1;f.push("'"+Ext.String.escape(c)+"'")}else {f.push(a.getFormatCode(c))}}}a.formatFunctions[e]=Ext.functionFactory('return '+f.join('+'))},createParser:function(f){var k=a.parseRegexes.length,j=1,d=[],g=[],c=!1,e='',i=0,m=f.length,l=[],b;for(;i<m;++i){e=f.charAt(i);if(!c&&e=='\\'){c=!0}else {if(c){c=!1;g.push(Ext.String.escape(e))}else {b=a.formatCodeToRegex(e,j);j+=b.g;g.push(b.s);if(b.g&&b.c){if(b.calcAtEnd){l.push(b.c)}else {d.push(b.c)}}}}}d=d.concat(l);a.parseRegexes[k]=new RegExp('^'+g.join('')+'$','i');a.parseFunctions[f]=Ext.functionFactory('input','strict',xf(h,k,d.join('')))},parseCodes:{d:{g:1,c:'d = parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|0[1-9])'},j:{g:1,c:'d = parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|[1-9])'},D:function(){for(var c=[],b=0;b<7;c.push(a.getShortDayName(b)),++b){}return {g:0,c:null,s:'(?:'+c.join('|')+')'}},l:function(){return {g:0,c:null,s:'(?:'+a.dayNames.join('|')+')'}},N:{g:0,c:null,s:'[1-7]'},S:{g:0,c:null,s:'(?:st|nd|rd|th)'},w:{g:0,c:null,s:'[0-6]'},z:{g:1,c:'z = parseInt(results[{0}], 10);\n',s:'(\\d{1,3})'},W:{g:1,c:'W = parseInt(results[{0}], 10);\n',s:'(\\d{2})'},F:function(){return {g:1,c:'m = parseInt(me.getMonthNumber(results[{0}]), 10);\n',s:'('+a.monthNames.join('|')+')'}},M:function(){for(var c=[],b=0;b<12;c.push(a.getShortMonthName(b)),++b){}return Ext.applyIf({s:'('+c.join('|')+')'},a.formatCodeToRegex('F'))},m:{g:1,c:'m = parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|0[1-9])'},n:{g:1,c:'m = parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|[1-9])'},t:{g:0,c:null,s:'(?:\\d{2})'},L:{g:0,c:null,s:'(?:1|0)'},o:{g:1,c:'y = parseInt(results[{0}], 10);\n',s:'(\\d{4})'},Y:{g:1,c:'y = parseInt(results[{0}], 10);\n',s:'(\\d{4})'},y:{g:1,c:'var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n',s:'(\\d{1,2})'},a:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}',s:'(am|pm|AM|PM)',calcAtEnd:!0},A:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}',s:'(AM|PM|am|pm)',calcAtEnd:!0},g:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(1[0-2]|[0-9])'},G:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(2[0-3]|1[0-9]|[0-9])'},h:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(1[0-2]|0[1-9])'},H:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(2[0-3]|[0-1][0-9])'},i:{g:1,c:'i = parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},s:{g:1,c:'s = parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},u:{g:1,c:'ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n',s:'(\\d+)'},O:{g:1,c:['o = results[{0}];','var sn = o.substring(0,1),','hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),','mn = o.substring(3,5) % 60;',"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join('\n'),s:'([+-]\\d{4})'},P:{g:1,c:['o = results[{0}];','var sn = o.substring(0,1),','hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),','mn = o.substring(4,6) % 60;',"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join('\n'),s:'([+-]\\d{2}:\\d{2})'},T:{g:0,c:null,s:'[A-Z]{1,5}'},Z:{g:1,c:'zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n',s:'([+-]?\\d{1,5})'},c:function(){var d=[],b=[a.formatCodeToRegex('Y',1),a.formatCodeToRegex('m',2),a.formatCodeToRegex('d',3),a.formatCodeToRegex('H',4),a.formatCodeToRegex('i',5),a.formatCodeToRegex('s',6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:['if(results[8]) {',"if(results[8] == 'Z'){",'zz = 0;',"}else if (results[8].indexOf(':') > -1){",a.formatCodeToRegex('P',8).c,'}else{',a.formatCodeToRegex('O',8).c,'}','}'].join('\n')}],c,e;for(c=0,e=b.length;c<e;++c){d.push(b[c].c)}return {g:1,c:d.join(''),s:[b[0].s,'(?:','-',b[1].s,'(?:','-',b[2].s,'(?:','(?:T| )?',b[3].s,':',b[4].s,'(?::',b[5].s,')?','(?:(?:\\.|,)(\\d+))?','(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?',')?',')?',')?'].join('')}},U:{g:1,c:'u = parseInt(results[{0}], 10);\n',s:'(-?\\d+)'}},dateFormat:function(c,b){return a.format(c,b)},isEqual:function(a,b){if(a&&b){return a.getTime()===b.getTime()}return !(a||b)},format:function(d,b){var c=a.formatFunctions;if(!Ext.isDate(d)){return ''}if(c[b]==null){a.createFormat(b)}return c[b].call(d)+''},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,'$1$2').replace(/[^A-Z]/g,'')},getGMTOffset:function(c,b){var a=c.getTimezoneOffset();return (a>0?'-':'+')+Ext.String.leftPad(Math.floor(Math.abs(a)/60),2,'0')+(b?':':'')+Ext.String.leftPad(Math.abs(a%60),2,'0')},getDayOfYear:function(c){var e=0,b=Ext.Date.clone(c),f=c.getMonth(),d;for(d=0,b.setDate(1),b.setMonth(0);d<f;b.setMonth(++d)){e+=a.getDaysInMonth(b)}return e+c.getDate()-1},getWeekOfYear:function(){var a=86400000,b=7*a;return function(c){var e=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,d=Math.floor(e/7),f=(new Date(d*b)).getUTCFullYear();return d-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(b){var a=b.getFullYear();return !!((a&3)==0&&(a%100||a%400==0&&a))},getFirstDayOfMonth:function(b){var a=(b.getDay()-(b.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(b){return a.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(b){return new Date(b.getFullYear(),b.getMonth(),a.getDaysInMonth(b))},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d==1&&a.isLeapYear(c)?29:b[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return 'st';case 2:case 22:return 'nd';case 3:case 23:return 'rd';default:return 'th';}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return (new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(b,f){if(f){return Ext.Date.clearTime(Ext.Date.clone(b))}var e=b.getDate(),c,d;b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);if(b.getDate()!=e){for(c=1,d=a.add(b,Ext.Date.HOUR,c);d.getDate()!=e;c++,d=a.add(b,Ext.Date.HOUR,c)){}b.setDate(e);b.setHours(d.getHours())}return b},add:function(f,h,c){var b=Ext.Date.clone(f),i=Ext.Date,d,g,e=0;if(!h||c===0){return b}g=c-parseInt(c,10);c=parseInt(c,10);if(c){switch(h.toLowerCase()){case Ext.Date.MILLI:b.setTime(b.getTime()+c);break;case Ext.Date.SECOND:b.setTime(b.getTime()+c*1000);break;case Ext.Date.MINUTE:b.setTime(b.getTime()+c*60*1000);break;case Ext.Date.HOUR:b.setTime(b.getTime()+c*60*60*1000);break;case Ext.Date.DAY:b.setDate(b.getDate()+c);break;case Ext.Date.MONTH:d=f.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(f),Ext.Date.MONTH,c)).getDate())};b.setDate(d);b.setMonth(f.getMonth()+c);break;case Ext.Date.YEAR:d=f.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(f),Ext.Date.YEAR,c)).getDate())};b.setDate(d);b.setFullYear(f.getFullYear()+c);break;}}if(g){switch(h.toLowerCase()){case Ext.Date.MILLI:e=1;break;case Ext.Date.SECOND:e=1000;break;case Ext.Date.MINUTE:e=1000*60;break;case Ext.Date.HOUR:e=1000*60*60;break;case Ext.Date.DAY:e=1000*60*60*24;break;case Ext.Date.MONTH:d=a.getDaysInMonth(b);e=1000*60*60*24*d;break;case Ext.Date.YEAR:d=a.isLeapYear(b)?366:365;e=1000*60*60*24*d;break;}if(e){b.setTime(b.getTime()+e*g)}}return b},subtract:function(d,b,c){return a.add(d,b,-c)},between:function(c,b,d){var a=c.getTime();return b.getTime()<=a&&a<=d.getTime()},compat:function(){var f=window.Date,b,g=['useStrict','formatCodeToRegex','parseFunctions','parseRegexes','formatFunctions','y2kYear','MILLI','SECOND','MINUTE','HOUR','DAY','MONTH','YEAR','defaults','dayNames','monthNames','monthNumbers','getShortMonthName','getShortDayName','getMonthNumber','formatCodes','isValid','parseDate','getFormatCode','createFormat','createParser','parseCodes'],h=['dateFormat','format','getTimezone','getGMTOffset','getDayOfYear','getWeekOfYear','isLeapYear','getFirstDayOfMonth','getLastDayOfMonth','getDaysInMonth','getSuffix','clone','isDST','clearTime','add','between'],j=g.length,i=h.length,e,d,c;for(c=0;c<j;c++){e=g[c];f[e]=a[e]}for(b=0;b<i;b++){d=h[b];f.prototype[d]=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a[d].apply(a,b)}}}})}();Ext.setVersion('ext-theme-base','4.2.1');Ext.setVersion('ext-theme-neutral','4.2.1');Ext.setVersion('ext-theme-classic','4.2.1');(function(d){var b=[],a=function(){},c=function(c,b,f,e){var a=function(){var a=this.callParent(arguments);c.apply(this,arguments);return a};a.$name=f;a.$owner=e;if(b){a.$previous=b.$previous;b.$previous=a}return a};Ext.apply(a,{$className:'Ext.Base',$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(c){var g=c.prototype,h,a,b,i,f,e;a=this.prototype=Ext.Object.chain(g);a.self=this;this.superclass=a.superclass=g;if(!c.$isClass){h=Ext.Base.prototype;for(b in h){if(b in a){a[b]=h[b]}}}e=g.$inheritableStatics;if(e){for(b=0,i=e.length;b<i;b++){f=e[b];if(!this.hasOwnProperty(f)){this[f]=c[f]}}}if(c.$onExtended){this.$onExtended=c.$onExtended.slice()}a.config=new a.configClass();a.initConfigList=a.initConfigList.slice();a.initConfigMap=Ext.clone(a.initConfigMap);a.configMap=Ext.Object.chain(a.configMap)},$onExtended:[],triggerExtended:function(){var c=this.$onExtended,e=c.length,a,b;if(e>0){for(a=0;a<e;a++){b=c[a];b.fn.apply(b.scope||this,arguments)}}},onExtended:function(b,a){this.$onExtended.push({fn:b,scope:a});return this},addConfig:function(c,l){var b=this.prototype,j=Ext.Class.configNameCache,h=b.configMap,k=b.initConfigList,g=b.initConfigMap,e=b.config,f,a,i;for(a in c){if(c.hasOwnProperty(a)){if(!h[a]){h[a]=!0}i=c[a];f=j[a].initialized;if(!g[a]&&i!==null&&!b[f]){g[a]=!0;k.push(a)}}}if(l){Ext.merge(e,c)}else {Ext.mergeIf(e,c)}b.configClass=Ext.Object.classify(e)},addStatics:function(c){var a,b;for(b in c){if(c.hasOwnProperty(b)){a=c[b];if(typeof a=='function'&&!a.$isClass&&a!==Ext.emptyFn&&a!==Ext.identityFn){a.$owner=this;a.$name=b}this[b]=a}}return this},addInheritableStatics:function(f){var c,b,e=this.prototype,a,g;c=e.$inheritableStatics;b=e.$hasInheritableStatics;if(!c){c=e.$inheritableStatics=[];b=e.$hasInheritableStatics={}}for(a in f){if(f.hasOwnProperty(a)){g=f[a];this[a]=g;if(!b[a]){b[a]=!0;c.push(a)}}}return this},addMembers:function(f){var i=this.prototype,g=Ext.enumerables,c=[],e,h,b,a;for(b in f){c.push(b)}if(g){c.push.apply(c,g)}for(e=0,h=c.length;e<h;e++){b=c[e];if(f.hasOwnProperty(b)){a=f[b];if(typeof a=='function'&&!a.$isClass&&a!==Ext.emptyFn&&a!==Ext.identityFn){a.$owner=this;a.$name=b}i[b]=a}}return this},addMember:function(b,a){if(typeof a=='function'&&!a.$isClass&&a!==Ext.emptyFn&&a!==Ext.identityFn){a.$owner=this;a.$name=b}this.prototype[b]=a;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(j,c){var g=this.prototype,i=j.prototype,f,h,a,e,b;c=Ext.Array.from(c);for(f=0,h=c.length;f<h;f++){a=c[f];b=i[a];if(typeof b=='function'){e=Ext.Function.clone(b);e.$owner=this;e.$name=a;g[a]=e}else {g[a]=b}}return this},override:function(c){var f=this,g=Ext.enumerables,j=f.prototype,l=Ext.Function.clone,a,k,b,i,e,h;if(arguments.length===2){a=c;c={};c[a]=arguments[1];g=null}do{e=[];i=null;for(a in c){if(a=='statics'){i=c[a]}else {if(a=='inheritableStatics'){f.addInheritableStatics(c[a])}else {if(a=='config'){f.addConfig(c[a],!0)}else {e.push(a)}}}}if(g){e.push.apply(e,g)}for(k=e.length;k--;){a=e[k];if(c.hasOwnProperty(a)){b=c[a];if(typeof b=='function'&&!b.$className&&b!==Ext.emptyFn&&b!==Ext.identityFn){if(typeof b.$owner!='undefined'){b=l(b)}b.$owner=f;b.$name=a;h=j[a];if(h){b.$previous=h}}j[a]=b}}j=f;c=i}while(c);return this},callParent:function(c){var a;return (a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,c||b)},callSuper:function(c){var a;return (a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,c||b)},mixin:function(o,m){var f=this,b=m.prototype,a=f.prototype,e,k,l,n,j,h,g,i;if(typeof b.onClassMixedIn!='undefined'){b.onClassMixedIn.call(m,f)}if(!a.hasOwnProperty('mixins')){if('mixins' in a){a.mixins=Ext.Object.chain(a.mixins)}else {a.mixins={}}}for(e in b){h=b[e];if(e==='mixins'){Ext.merge(a.mixins,h)}else {if(e==='xhooks'){for(g in h){i=h[g];i.$previous=Ext.emptyFn;if(a.hasOwnProperty(g)){c(i,a[g],g,f)}else {a[g]=c(i,null,g,f)}}}else {if(!(e==='mixinId'||e==='config')&&a[e]===undefined){a[e]=h}}}}k=b.$inheritableStatics;if(k){for(l=0,n=k.length;l<n;l++){j=k[l];if(!f.hasOwnProperty(j)){f[j]=m[j]}}}if('config' in b){f.addConfig(b.config,!1)}a.mixins[o]=b;return f},getName:function(){return Ext.getClassName(this)},createAlias:d(function(b,a){this.override(b,function(){return this[a].apply(this,arguments)})}),addXtype:function(b){var a=this.prototype,c=a.xtypesMap,f=a.xtypes,e=a.xtypesChain;if(!a.hasOwnProperty('xtypesMap')){c=a.xtypesMap=Ext.merge({},a.xtypesMap||{});f=a.xtypes=a.xtypes?[].concat(a.xtypes):[];e=a.xtypesChain=a.xtypesChain?[].concat(a.xtypesChain):[];a.xtype=b}if(!c[b]){c[b]=!0;f.push(b);e.push(b);Ext.ClassManager.setAlias(this,'widget.'+b)}return this}});a.implement({isInstance:!0,$className:'Ext.Base',configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,b=this.self;if(!a){return b}return a.$owner},callParent:function(e){var a,c=(a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return c.apply(this,e||b)},callSuper:function(e){var a,c=(a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return c.apply(this,e||b)},self:a,constructor:function(){return this},initConfig:function(e){var c=e,i=Ext.Class.configNameCache,j=new this.configClass(),b=this.initConfigList,l=this.configMap,h,f,k,a,g;this.initConfig=Ext.emptyFn;this.initialConfig=c||{};this.config=e=c?Ext.merge(j,e):j;if(c){b=b.slice();for(a in c){if(l[a]){if(c[a]!==null){b.push(a);this[i[a].initialized]=!1}}}}for(f=0,k=b.length;f<k;f++){a=b[f];h=i[a];g=h.initialized;if(!this[g]){this[g]=!0;this[h.set].call(this,e[a])}}return this},hasConfig:function(a){return Boolean(this.configMap[a])},setConfig:function(c,b){if(!c){return this}var f=Ext.Class.configNameCache,g=this.config,i=this.configMap,h=this.initialConfig,a,e;b=Boolean(b);for(a in c){if(b&&h.hasOwnProperty(a)){continue}e=c[a];g[a]=e;if(i[a]){this[f[a].set](e)}}return this},getConfig:function(b){var a=Ext.Class.configNameCache;return this[a[b].get]()},getInitialConfig:function(b){var a=this.config;if(!b){return a}else {return a[b]}},onConfigUpdate:function(c,j,e){var k=this.self,f,i,h,a,g,b;c=Ext.Array.from(c);e=e||this;for(f=0,i=c.length;f<i;f++){h=c[f];a='update'+Ext.String.capitalize(h);g=this[a]||Ext.emptyFn;b=function(){g.apply(this,arguments);e[j].apply(e,arguments)};b.$name=a;b.$owner=k;this[a]=b}},destroy:function(){this.destroy=Ext.emptyFn}});a.prototype.callOverridden=a.prototype.callParent;Ext.Base=a})(Ext.Function.flexSetter);(function(){var a,d=Ext.Base,b=[],c,e;for(c in d){if(d.hasOwnProperty(c)){b.push(c)}}e=b.length;function makeCtor(a){function constructor(){return this.constructor.apply(this,arguments)||null}return constructor}Ext.Class=a=function(b,c,d){if(typeof b!='function'){d=c;c=b;b=null}if(!c){c={}}b=a.create(b,c);a.process(b,c,d);return b};Ext.apply(a,{onBeforeCreated:function(a,c,b){a.addMembers(c);b.onCreated.call(a,a)},create:function(a,g){var f,c;if(!a){a=makeCtor()}for(c=0;c<e;c++){f=b[c];a[f]=d[f]}return a},process:function(o,e,k){var j=e.preprocessors||a.defaultPreprocessors,n=this.preprocessors,h={onBeforeCreated:this.onBeforeCreated},d=[],b,c,f,m,g,l,i;delete e.preprocessors;for(f=0,m=j.length;f<m;f++){b=j[f];if(typeof b=='string'){b=n[b];c=b.properties;if(c===!0){d.push(b.fn)}else {if(c){for(g=0,l=c.length;g<l;g++){i=c[g];if(e.hasOwnProperty(i)){d.push(b.fn);break}}}}}else {d.push(b)}}h.onCreated=k?k:Ext.emptyFn;h.preprocessors=d;this.doProcess(o,e,h)},doProcess:function(f,g,b){var c=this,d=b.preprocessors,a=d.shift(),e=c.doProcess;for(;a;a=d.shift()){if(a.call(c,f,g,b,e)===!1){return}}b.onBeforeCreated.apply(c,arguments)},preprocessors:{},registerPreprocessor:function(a,e,b,c,d){if(!c){c='last'}if(!b){b=[a]}this.preprocessors[a]={name:a,properties:b||!1,fn:e};this.setDefaultPreprocessorPosition(a,c,d);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(d,a,e){var b=this.defaultPreprocessors,c;if(typeof a=='string'){if(a==='first'){b.unshift(d);return this}else {if(a==='last'){b.push(d);return this}}a=a==='after'?1:-1}c=Ext.Array.indexOf(b,e);if(c!==-1){Ext.Array.splice(b,Math.max(0,c+a),0,d)}return this},configNameCache:{},getConfigNameMap:function(b){var d=this.configNameCache,c=d[b],a;if(!c){a=b.charAt(0).toUpperCase()+b.substr(1);c=d[b]={internal:b,initialized:'_is'+a+'Initialized',apply:'apply'+a,update:'update'+a,'set':'set'+a,'get':'get'+a,doSet:'doSet'+a,changeEvent:b.toLowerCase()+'change'}}return c}});a.registerPreprocessor('extend',function(b,c,i){var h=Ext.Base,g=h.prototype,f=c.extend,a,e,d;delete c.extend;if(f&&f!==Object){a=f}else {a=h}e=a.prototype;if(!a.$isClass){for(d in g){if(!e[d]){e[d]=g[d]}}}b.extend(a);b.triggerExtended.apply(b,arguments);if(c.onClassExtended){b.onExtended(c.onClassExtended,b);delete c.onClassExtended}},!0);a.registerPreprocessor('statics',function(b,a){b.addStatics(a.statics);delete a.statics});a.registerPreprocessor('inheritableStatics',function(b,a){b.addInheritableStatics(a.inheritableStatics);delete a.inheritableStatics});a.registerPreprocessor('config',function(e,b){var d=b.config,c=e.prototype;delete b.config;Ext.Object.each(d,function(p,o){var g=a.getConfigNameMap(p),i=g.internal,d=g.initialized,m=g.apply,l=g.update,j=g.set,f=g.get,n=j in c||b.hasOwnProperty(j),q=m in c||b.hasOwnProperty(m),r=l in c||b.hasOwnProperty(l),h,k;if(o===null||!n&&!q&&!r){c[i]=o;c[d]=!0}else {c[d]=!1}if(!n){b[j]=function(a){var c=this[i],f=this[m],g=this[l];if(!this[d]){this[d]=!0}if(f){a=f.call(this,a,c)}if(typeof a!='undefined'){this[i]=a;if(g&&a!==c){g.call(this,a,c)}}return this}}if(!(f in c)||b.hasOwnProperty(f)){k=b[f]||!1;if(k){h=function(){return k.apply(this,arguments)}}else {h=function(){return this[i]}}b[f]=function(){var a;if(!this[d]){this[d]=!0;this[j](this.config[p])}a=this[f];if('$previous' in a){a.$previous=h}else {this[f]=h}return h.apply(this,arguments)}}});e.addConfig(d,!0)});a.registerPreprocessor('mixins',function(d,e,h){var a=e.mixins,f,b,c,g;delete e.mixins;Ext.Function.interceptBefore(h,'onCreated',function(){if(a instanceof Array){for(c=0,g=a.length;c<g;c++){b=a[c];f=b.prototype.mixinId||b.$className;d.mixin(f,b)}}else {for(var i in a){if(a.hasOwnProperty(i)){d.mixin(i,a[i])}}}})});Ext.extend=function(d,c,b){if(arguments.length===2&&Ext.isObject(c)){b=c;c=d;d=null}var e;if(!c){throw new Error('[Ext.extend] Attempting to extend from a class which has not been loaded on the page.')}b.extend=c;b.preprocessors=['extend','statics','inheritableStatics','mixins','config'];if(d){e=new a(d,b);e.prototype.constructor=d}else {e=new a(b)}e.prototype.override=function(e){for(var a in e){if(e.hasOwnProperty(a)){this[a]=e[a]}}};return e}})();(function(e,b,f,d,c){function makeCtor(){function constructor(){return this.constructor.apply(this,arguments)||null}return constructor}var a=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:'Ext.',to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(g){var k=this.existCache,i,l,h,a,j;if(this.classes[g]||k[g]){return !0}a=c;j=this.parseNamespace(g);for(i=0,l=j.length;i<l;i++){h=j[i];if(typeof h!='string'){a=h}else {if(!a||!a[h]){return !1}a=a[h]}}k[g]=!0;this.triggerCreated(g);return !0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(m){var g=this.createdListeners,o=this.nameCreatedListeners,n=this.maps.nameToAlternates[m],i=[m],a,k,l,p,h,j;for(a=0,k=g.length;a<k;a++){h=g[a];h.fn.call(h.scope,m)}if(n){i.push.apply(i,n)}for(a=0,k=i.length;a<k;a++){j=i[a];g=o[j];if(g){for(l=0,p=g.length;l<p;l++){h=g[l];h.fn.call(h.scope,j)}delete o[j]}}},onCreated:function(j,i,a){var k=this.createdListeners,g=this.nameCreatedListeners,h={fn:j,scope:i};if(a){if(this.isCreated(a)){j.call(i,a);return}if(!g[a]){g[a]=[]}g[a].push(h)}else {k.push(h)}},parseNamespace:function(i){var n=this.namespaceParseCache,a,l,o,g,m,h,j,k,p;if(this.enableNamespaceParseCache){if(n.hasOwnProperty(i)){return n[i]}}a=[];l=this.namespaceRewrites;o=c;g=i;for(k=0,p=l.length;k<p;k++){m=l[k];h=m.from;j=m.to;if(g===h||g.substring(0,h.length)===h){g=g.substring(h.length);if(typeof j!='string'){o=j}else {a=a.concat(j.split('.'))}break}}a.push(o);a=a.concat(g.split('.'));if(this.enableNamespaceParseCache){n[i]=a}return a},setNamespace:function(m,l){var a=c,i=this.parseNamespace(m),k=i.length-1,j=i[k],h,g;for(h=0;h<k;h++){g=i[h];if(typeof g!='string'){a=g}else {if(!a[g]){a[g]={}}a=a[g]}}a[j]=l;return a[j]},createNamespaces:function(){var g=c,j,a,h,i,l,k;for(h=0,l=arguments.length;h<l;h++){j=this.parseNamespace(arguments[h]);for(i=0,k=j.length;i<k;i++){a=j[i];if(typeof a!='string'){g=a}else {if(!g[a]){g[a]={}}g=g[a]}}}return g},set:function(g,k){var h=this,l=h.maps,i=l.nameToAlternates,a=h.getName(k),j;h.classes[g]=h.setNamespace(g,k);if(a&&a!==g){l.alternateToName[g]=a;j=i[a]||(i[a]=[]);j.push(g)}return this},get:function(j){var k=this.classes,a,i,g,h,l;if(k[j]){return k[j]}a=c;i=this.parseNamespace(j);for(h=0,l=i.length;h<l;h++){g=i[h];if(typeof g!='string'){a=g}else {if(!a||!a[g]){return null}a=a[g]}}return a},setAlias:function(i,g){var j=this.maps.aliasToName,h=this.maps.nameToAliases,a;if(typeof i=='string'){a=i}else {a=this.getName(i)}if(g&&j[g]!==a){j[g]=a}if(!h[a]){h[a]=[]}if(g){Ext.Array.include(h[a],g)}return this},addNameAliasMappings:function(i){var k=this.maps.aliasToName,j=this.maps.nameToAliases,a,l,g,h;for(a in i){l=j[a]||(j[a]=[]);for(h=0;h<i[a].length;h++){g=i[a][h];if(!k[g]){k[g]=a;l.push(g)}}}return this},addNameAlternateMappings:function(i){var k=this.maps.alternateToName,j=this.maps.nameToAlternates,a,l,g,h;for(a in i){l=j[a]||(j[a]=[]);for(h=0;h<i[a].length;h++){g=i[a][h];if(!k[g]){k[g]=a;l.push(g)}}}return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||''},getNameByAlternate:function(a){return this.maps.alternateToName[a]||''},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||''},getClass:function(a){return a&&a.self||null},create:function(h,g,j){var i=makeCtor();if(typeof g=='function'){g=g(i)}g.$className=h;return new e(i,g,function(){var p=g.postprocessors||a.defaultPostprocessors,s=a.postprocessors,l=[],i,m,r,n,q,k,o;delete g.postprocessors;for(m=0,r=p.length;m<r;m++){i=p[m];if(typeof i=='string'){i=s[i];k=i.properties;if(k===!0){l.push(i.fn)}else {if(k){for(n=0,q=k.length;n<q;n++){o=k[n];if(g.hasOwnProperty(o)){l.push(i.fn);break}}}}}else {l.push(i)}}g.postprocessors=l;g.createdFn=j;a.processCreate(h,this,g)})},processCreate:function(a,g,i){var h=this,j=i.postprocessors.shift(),k=i.createdFn;if(!j){if(a){h.set(a,g)}if(k){k.call(g,g)}if(a){h.triggerCreated(a)}return}if(j.call(h,a,g,i,h.processCreate)!==!1){h.processCreate(a,g,i)}},createOverride:function(k,a,l){var g=this,i=a.override,h=a.requires,m=a.uses,j=function(){var n,o;if(h){o=h;h=null;Ext.Loader.require(o,j)}else {n=g.get(i);delete a.override;delete a.requires;delete a.uses;Ext.override(n,a);g.triggerCreated(k);if(m){Ext.Loader.addUsedClasses(m)}if(l){l.call(n)}}};g.existCache[k]=!0;g.onCreated(j,g,i);return g},instantiateByAlias:function(){var g=arguments[0],h=f.call(arguments),a=this.getNameByAlias(g);if(!a){a=this.maps.aliasToName[g];Ext.syncRequire(a)}h[0]=a;return this.instantiate.apply(this,h)},instantiate:function(){var a=arguments[0],j=typeof a,i=f.call(arguments,1),k=a,h,g;if(j!='function'){if(j!='string'&&i.length===0){i=[a];a=a.xclass}g=this.get(a)}else {g=a}if(!g){h=this.getNameByAlias(a);if(h){a=h;g=this.get(a)}}if(!g){h=this.getNameByAlternate(a);if(h){a=h;g=this.get(a)}}if(!g){Ext.syncRequire(a);g=this.get(a)}return this.getInstantiator(i.length)(g,i)},dynInstantiate:function(g,a){a=d(a,!0);a.unshift(g);return this.instantiate.apply(this,a)},getInstantiator:function(h){var j=this.instantiators,g,a,i;g=j[h];if(!g){a=h;i=[];for(a=0;a<h;a++){i.push('a['+a+']')}g=j[h]=new Function('c','a','return new c('+i.join(',')+')')}return g},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,j,g,h,i){if(!h){h='last'}if(!g){g=[a]}this.postprocessors[a]={name:a,properties:g||!1,fn:j};this.setDefaultPostprocessorPosition(a,h,i);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=d(a);return this},setDefaultPostprocessorPosition:function(i,a,j){var g=this.defaultPostprocessors,h;if(typeof a=='string'){if(a==='first'){g.unshift(i);return this}else {if(a==='last'){g.push(i);return this}}a=a==='after'?1:-1}h=Ext.Array.indexOf(g,j);if(h!==-1){Ext.Array.splice(g,Math.max(0,h+a),0,i)}return this},getNamesByExpression:function(a){var k=this.maps.nameToAliases,h=[],i,n,l,g,m,j,o;if(a.indexOf('*')!==-1){a=a.replace(/\*/g,'(.*?)');m=new RegExp('^'+a+'$');for(i in k){if(k.hasOwnProperty(i)){l=k[i];if(i.search(m)!==-1){h.push(i)}else {for(j=0,o=l.length;j<o;j++){n=l[j];if(n.search(m)!==-1){h.push(i);break}}}}}}else {g=this.getNameByAlias(a);if(g){h.push(g)}else {g=this.getNameByAlternate(a);if(g){h.push(g)}else {h.push(a)}}}return h}};a.registerPostprocessor('alias',function(k,j,i){var g=i.alias,a,h;for(a=0,h=g.length;a<h;a++){b=g[a];this.setAlias(j,b)}},['xtype','alias']);a.registerPostprocessor('singleton',function(g,h,a,i){if(a.singleton){i.call(this,g,new h(),a)}else {return !0}return !1});a.registerPostprocessor('alternateClassName',function(l,k,j){var a=j.alternateClassName,g,i,h;if(!(a instanceof Array)){a=[a]}for(g=0,i=a.length;g<i;g++){h=a[g];this.set(h,k)}});Ext.apply(Ext,{create:b(a,'instantiate'),widget:function(m,g){var j=m,i,h,k,l;if(typeof j!='string'){g=m;j=g.xtype}else {g=g||{}}if(g.isComponent){return g}i='widget.'+j;h=a.getNameByAlias(i);if(!h){l=!0}k=a.get(h);if(l||!k){return a.instantiateByAlias(i,g)}return new k(g)},createByAlias:b(a,'instantiateByAlias'),define:function(h,g,i){if(g.override){return a.createOverride.apply(a,arguments)}return a.create.apply(a,arguments)},undefine:function(h){var s=a.classes,l=a.maps,r=l.aliasToName,p=l.nameToAliases,q=l.alternateToName,o=l.nameToAlternates,n=p[h],m=o[h],j,k,i,g;delete a.namespaceParseCache[h];delete p[h];delete o[h];delete s[h];if(n){for(g=n.length;g--;){delete r[n[g]]}}if(m){for(g=m.length;g--;){delete q[m[g]]}}j=a.parseNamespace(h);k=j.length-1;i=j[0];for(g=1;g<k;g++){i=i[j[g]];if(!i){return}}try{delete i[j[k]]}catch(t){i[j[k]]=undefined}},getClassName:b(a,'getName'),getDisplayName:function(a){if(a){if(a.displayName){return a.displayName}if(a.$name&&a.$class){return Ext.getClassName(a.$class)+'#'+a.$name}if(a.$className){return a.$className}}return 'Anonymous'},getClass:b(a,'getClass'),namespace:b(a,'createNamespaces')});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;e.registerPreprocessor('className',function(g,a){if(a.$className){g.$className=a.$className}},!0,'first');e.registerPreprocessor('alias',function(r,i){var o=r.prototype,h=d(i.xtype),l=d(i.alias),m='widget.',q=m.length,n=Array.prototype.slice.call(o.xtypesChain||[]),k=Ext.merge({},o.xtypesMap||{}),a,j,p,g;for(a=0,j=l.length;a<j;a++){p=l[a];if(p.substring(0,q)===m){g=p.substring(q);Ext.Array.include(h,g)}}r.xtype=i.xtype=h[0];i.xtypes=h;for(a=0,j=h.length;a<j;a++){g=h[a];if(!k[g]){k[g]=!0;n.push(g)}}i.xtypesChain=n;i.xtypesMap=k;Ext.Function.interceptAfter(i,'onClassCreated',function(){var l=o.mixins,m,p;for(m in l){if(l.hasOwnProperty(m)){p=l[m];h=p.xtypes;if(h){for(a=0,j=h.length;a<j;a++){g=h[a];if(!k[g]){k[g]=!0;n.push(g)}}}}}});for(a=0,j=h.length;a<j;a++){g=h[a];Ext.Array.include(l,m+g)}i.alias=l},['xtype','alias'])})(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);if(Ext._alternatesMetadata){Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata);Ext._alternatesMetadata=null}if(Ext._aliasMetadata){Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata);Ext._aliasMetadata=null}Ext.Loader=new function(){var a=this,b=Ext.ClassManager,v=Ext.Class,u=Ext.Function.flexSetter,l=Ext.Function.alias,q=Ext.Function.pass,p=Ext.Function.defer,n=Ext.Array.erase,h=['extend','mixins','requires'],k={},o=[],s=/\/\.\//g,w=/\./g,j=0;Ext.apply(a,{isInHistory:k,history:o,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:'_dc',garbageCollect:!1,paths:{'Ext':'.'},preserveScripts:!0,scriptCharset:undefined},setConfig:function(b,c){if(Ext.isObject(b)&&arguments.length===1){Ext.merge(a.config,b);if('paths' in b){Ext.app.collectNamespaces(b.paths)}}else {a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c;if(b==='paths'){Ext.app.collectNamespaces(c)}}return a},getConfig:function(b){if(b){return a.config[b]}return a.config},setPath:u(function(b,c){a.config.paths[b]=c;Ext.app.namespaces[b]=!0;j++;return a}),addClassPathMappings:function(b){var c;if(j==0){a.config.paths=b}else {for(c in b){a.config.paths[c]=b[c]}}j++;return a},getPath:function(b){var d='',e=a.config.paths,c=a.getPrefix(b);if(c.length>0){if(c===b){return e[c]}d=e[c];b=b.substring(c.length+1)}if(d.length>0){d+='/'}return d.replace(s,'/')+b.replace(w,'/')+'.js'},getPrefix:function(d){var e=a.config.paths,b,c='';if(e.hasOwnProperty(d)){return d}for(b in e){if(e.hasOwnProperty(b)&&b+'.'===d.substring(0,b.length+1)){if(b.length>c.length){c=b}}}return c},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return c!==''&&c!==b},require:function(c,a,b,d){if(a){a.call(b)}},syncRequire:function(){},exclude:function(b){return {require:function(c,e,d){return a.require(c,e,d,b)},syncRequire:function(c,e,d){return a.syncRequire(c,e,d,b)}}},onReady:function(a,c,d,e){var b;if(d!==!1&&Ext.onDocumentReady){b=a;a=function(){Ext.onDocumentReady(b,c,e)}}a.call(c)}});var g=[],c={},i={},m={},d={},e=[],f=[],t={},r=function(a,b){return b.priority-a.priority};Ext.apply(a,{documentHead:typeof document!='undefined'&&(document.head||document.getElementsByTagName('head')[0]),isLoading:!1,queue:g,isClassFileLoaded:c,isFileLoaded:i,readyListeners:e,optionalRequires:f,requiresMap:t,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:m,scriptsLoading:0,syncModeEnabled:!1,scriptElements:d,refreshQueue:function(){var h=g.length,e,c,f,d;if(!h&&!a.scriptsLoading){return a.triggerReady()}for(e=0;e<h;e++){c=g[e];if(c){d=c.requires;if(d.length>a.numLoadedFiles){continue}for(f=0;f<d.length;){if(b.isCreated(d[f])){n(d,f,1)}else {f++}}if(c.requires.length===0){n(g,e,1);c.callback.call(c.scope);a.refreshQueue();break}}}return a},injectScriptElement:function(k,h,j,f,d){var b=document.createElement('script'),g=!1,c=a.config,e=function(){if(!g){g=!0;b.onload=b.onreadystatechange=b.onerror=null;if(typeof c.scriptChainDelay=='number'){p(h,c.scriptChainDelay,f)}else {h.call(f)}a.cleanupScriptElement(b,c.preserveScripts===!1,c.garbageCollect)}},i=function(e){p(j,1,f);a.cleanupScriptElement(b,c.preserveScripts===!1,c.garbageCollect)};b.type='text/javascript';b.onerror=i;d=d||c.scriptCharset;if(d){b.charset=d}if('addEventListener' in b){b.onload=e}else {if('readyState' in b){b.onreadystatechange=function(){if(this.readyState=='loaded'||this.readyState=='complete'){e()}}}else {b.onload=e}}b.src=k;(a.documentHead||document.getElementsByTagName('head')[0]).appendChild(b);return b},removeScriptElement:function(b){if(d[b]){a.cleanupScriptElement(d[b],!0,!!a.getConfig('garbageCollect'));delete d[b]}return a},cleanupScriptElement:function(b,e,d){var c;b.onload=b.onreadystatechange=b.onerror=null;if(e){Ext.removeNode(b);if(d){for(c in b){try{if(c!='src'){b[c]=null}delete b[c]}catch(x){}}}}return a},loadScript:function(b){var g=a.getConfig(),c=typeof b=='string',e=c?b:b.url,f=!c&&b.onError,h=!c&&b.onLoad,i=!c&&b.scope,k=function(){a.numPendingFiles--;a.scriptsLoading--;if(f){f.call(i,"Failed loading '"+e+"', please verify that the file exists")}if(a.numPendingFiles+a.scriptsLoading===0){a.refreshQueue()}},l=function(){a.numPendingFiles--;a.scriptsLoading--;if(h){h.call(i)}if(a.numPendingFiles+a.scriptsLoading===0){a.refreshQueue()}},j;a.isLoading=!0;a.numPendingFiles++;a.scriptsLoading++;j=g.disableCaching?e+'?'+g.disableCachingParam+'='+Ext.Date.now():e;d[e]=a.injectScriptElement(j,l,k)},loadScriptFile:function(g,m,o,f,n){if(i[g]){return a}var l=a.getConfig(),k=g+(l.disableCaching?'?'+l.disableCachingParam+'='+Ext.Date.now():''),e=!1,b,c,j,h='';f=f||a;a.isLoading=!0;if(!n){j=function(){};d[g]=a.injectScriptElement(k,m,j,f)}else {if(typeof XMLHttpRequest!='undefined'){b=new XMLHttpRequest()}else {b=new ActiveXObject('Microsoft.XMLHTTP')}try{b.open('GET',k,!1);b.send(null)}catch(x){e=!0}c=b.status===1223?204:b.status===0&&((self.location||{}).protocol=='file:'||(self.location||{}).protocol=='ionp:')?200:b.status;e=e||c===0;if(e){}else {if(c>=200&&c<300||c===304){if(!Ext.isIE){h='\n//@ sourceURL='+g}Ext.globalEval(b.responseText+h);m.call(f)}else {}}b=null}},syncRequire:function(){var b=a.syncModeEnabled;if(!b){a.syncModeEnabled=!0}a.require.apply(a,arguments);if(!b){a.syncModeEnabled=!1}a.refreshQueue()},require:function(i,v,r,k){var z={},A={},w=[],x=[],j=[],y=[],n,p,o,s,t,e,h,d,f,l,u;if(k){k=typeof k==='string'?[k]:k;for(d=0,l=k.length;d<l;d++){t=k[d];if(typeof t=='string'&&t.length>0){w=b.getNamesByExpression(t);for(f=0,u=w.length;f<u;f++){z[w[f]]=!0}}}}i=typeof i==='string'?[i]:i?i:[];if(v){if(v.length>0){n=function(){var c=[],a,d;for(a=0,d=y.length;a<d;a++){c.push(b.get(y[a]))}return v.apply(this,c)}}else {n=v}}else {n=Ext.emptyFn}r=r||Ext.global;for(d=0,l=i.length;d<l;d++){s=i[d];if(typeof s=='string'&&s.length>0){x=b.getNamesByExpression(s);u=x.length;for(f=0;f<u;f++){h=x[f];if(z[h]!==!0){y.push(h);if(!b.isCreated(h)&&!A[h]){A[h]=!0;j.push(h)}}}}}if(j.length>0){if(!a.config.enabled){throw new Error('Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class'+(j.length>1?'es':'')+': '+j.join(', '))}}else {n.call(r);return a}p=a.syncModeEnabled;if(!p){g.push({requires:j.slice(),callback:n,scope:r})}l=j.length;for(d=0;d<l;d++){e=j[d];o=a.getPath(e);if(p&&c.hasOwnProperty(e)){if(!c[e]){a.numPendingFiles--;a.removeScriptElement(o);delete c[e]}}if(!c.hasOwnProperty(e)){c[e]=!1;m[e]=o;a.numPendingFiles++;a.loadScriptFile(o,q(a.onFileLoaded,[e,o],a),q(a.onFileLoadError,[e,o],a),a,p)}}if(p){n.call(r);if(l===1){return b.get(e)}}return a},onFileLoaded:function(b,d){var e=c[b];a.numLoadedFiles++;c[b]=!0;i[d]=!0;if(!e){a.numPendingFiles--}if(a.numPendingFiles===0){a.refreshQueue()}},onFileLoadError:function(d,e,c,b){a.numPendingFiles--;a.hasFileLoadError=!0},addUsedClasses:function(b){var c,d,e;if(b){b=typeof b=='string'?[b]:b;for(d=0,e=b.length;d<e;d++){c=b[d];if(typeof c=='string'&&!Ext.Array.contains(f,c)){f.push(c)}}}return a},triggerReady:function(){var c,b=f;if(a.isLoading){a.isLoading=!1;if(b.length!==0){b=b.slice();f.length=0;a.require(b,a.triggerReady,a);return a}}Ext.Array.sort(e,r);while(e.length&&!a.isLoading){c=e.shift();c.fn.call(c.scope)}return a},onReady:function(b,d,g,c){var f;if(g!==!1&&Ext.onDocumentReady){f=b;b=function(){Ext.onDocumentReady(f,d,c)}}if(!a.isLoading){b.call(d)}else {e.push({fn:b,scope:d,priority:c&&c.priority||0})}},historyPush:function(b){if(b&&c.hasOwnProperty(b)&&!k[b]){k[b]=!0;o.push(b)}return a}});Ext.disableCacheBuster=function(b,c){var a=new Date();a.setTime(a.getTime()+(b?10*365:-1)*24*60*60*1000);a=a.toGMTString();document.cookie='ext-cache=1; expires='+a+'; path='+(c||'/')};Ext.require=l(a,'require');Ext.syncRequire=l(a,'syncRequire');Ext.exclude=l(a,'exclude');Ext.onReady=function(d,c,b){a.onReady(d,c,!0,b)};v.registerPreprocessor('loader',function(m,g,o,n){var p=this,j=[],s,t=b.getName(m),i,e,l,k,d,f,c,r,q;for(i=0,l=h.length;i<l;i++){f=h[i];if(g.hasOwnProperty(f)){c=g[f];if(typeof c=='string'){j.push(c)}else {if(c instanceof Array){for(e=0,k=c.length;e<k;e++){d=c[e];if(typeof d=='string'){j.push(d)}}}else {if(typeof c!='function'){for(e in c){if(c.hasOwnProperty(e)){d=c[e];if(typeof d=='string'){j.push(d)}}}}}}}}if(j.length===0){return}a.require(j,function(){for(i=0,l=h.length;i<l;i++){f=h[i];if(g.hasOwnProperty(f)){c=g[f];if(typeof c=='string'){g[f]=b.get(c)}else {if(c instanceof Array){for(e=0,k=c.length;e<k;e++){d=c[e];if(typeof d=='string'){g[f][e]=b.get(d)}}}else {if(typeof c!='function'){for(var a in c){if(c.hasOwnProperty(a)){d=c[a];if(typeof d=='string'){g[f][a]=b.get(d)}}}}}}}}n.call(p,m,g,o)});return !1},!0,'after','className');b.registerPostprocessor('uses',function(d,e,c){var b=c.uses;if(b){a.addUsedClasses(b)}});b.onCreated(a.historyPush)}();if(Ext._classPathMetadata){Ext.Loader.addClassPathMappings(Ext._classPathMetadata);Ext._classPathMetadata=null}(function(){var a=document.getElementsByTagName('script'),c=a[a.length-1],b=c.src,e=b.substring(0,b.lastIndexOf('/')+1),d=Ext.Loader;d.setConfig({enabled:!0,disableCaching:!0,paths:{'Ext':e+'src'}})})();Ext._endTime=(new Date()).getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(a){a=a||{};if(Ext.isString(a)){a={msg:a}}var b=this.raise.caller,c;if(b){if(b.$name){a.sourceMethod=b.$name}if(b.$owner){a.sourceClass=b.$owner.$className}}if(Ext.Error.handle(a)!==!0){c=Ext.Error.prototype.toString.call(a);Ext.log({msg:c,level:'error',dump:a,stack:!0});throw new Ext.Error(a)}},handle:function(){return Ext.Error.ignore}},name:'Ext.Error',constructor:function(a){if(Ext.isString(a)){a={msg:a}}var b=this;Ext.apply(b,a);b.message=b.message||b.msg},toString:function(){var a=this,c=a.sourceClass?a.sourceClass:'',b=a.sourceMethod?'.'+a.sourceMethod+'(): ':'',d=a.msg||'(No description provided)';return c+b+d}});Ext.deprecated=function(a){return Ext.emptyFn};Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=='[object JSON]'}return useNative},pad=function(a){return a<10?'0'+a:a},doDecode=function(json){return eval('('+json+')')},doEncode=function(a,b){if(a===null||a===undefined){return 'null'}else {if(Ext.isDate(a)){return Ext.JSON.encodeDate(a)}else {if(Ext.isString(a)){return Ext.JSON.encodeString(a)}else {if(typeof a=='number'){return isFinite(a)?String(a):'null'}else {if(Ext.isBoolean(a)){return String(a)}else {if(a.toJSON){return a.toJSON()}else {if(Ext.isArray(a)){return encodeArray(a,b)}else {if(Ext.isObject(a)){return encodeObject(a,b)}else {if(typeof a==='function'){return 'null'}}}}}}}}}return 'undefined'},m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\','\v':'\\u000b'},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return '"'+a.replace(charToReplace,function(b){var c=m[b];return typeof c==='string'?c:'\\u'+('0000'+b.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(c,e){var a=['[',''],d=c.length,b;for(b=0;b<d;b+=1){a.push(Ext.JSON.encodeValue(c[b]),',')}a[a.length-1]=']';return a.join('')},encodeObject=function(d,e){var b=['{',''],c,a;for(c in d){a=d[c];if(!useHasOwn||d.hasOwnProperty(c)){if(typeof a==='function'||a===undefined){continue}b.push(Ext.JSON.encodeValue(c),':',Ext.JSON.encodeValue(a),',')}}b[b.length-1]='}';return b.join('')};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(a){return '"'+a.getFullYear()+'-'+pad(a.getMonth()+1)+'-'+pad(a.getDate())+'T'+pad(a.getHours())+':'+pad(a.getMinutes())+':'+pad(a.getSeconds())+'"'};me.encode=function(a){if(!encodingFunction){encodingFunction=isNative()?JSON.stringify:me.encodeValue}return encodingFunction(a)};me.decode=function(a,b){if(!decodingFunction){decodingFunction=isNative()?JSON.parse:doDecode}try{return decodingFunction(a)}catch(c){if(b===!0){return null}Ext.Error.raise({sourceClass:'Ext.JSON',sourceMethod:'decode',msg:"You're trying to decode an invalid JSON String: "+a})}}}();Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,windowId:'ext-window',documentId:'ext-document',isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(f,b,a){a=a||b.dom;var d=Ext.cache,e=f||b&&b.id||a.id,c=d[e]||(d[e]={data:{},events:{},dom:a,skipGarbageCollection:!!(a.getElementById||a.navigator)});if(b){b.$cache=c;c.el=b}return c},updateCacheEntry:function(a,b){a.dom=b;if(a.el){a.el.dom=b}return a},id:function(a,d){var b=this,c='';a=Ext.getDom(a,!0)||{};if(a===document){a.id=b.documentId}else {if(a===window){a.id=b.windowId}}if(!a.id){if(b.isSandboxed){c=Ext.sandboxName.toLowerCase()+'-'}a.id=c+(d||'ext-gen')+ ++Ext.idSeed}return a.id},escapeId:function(){var c=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,e=/([\W]{1})/g,a=/^(\d)/g,d=function(b,a){return '\\'+a},b=function(b,a){return '\\00'+a.charCodeAt(0).toString(16)+' '};return function(f){return c.test(f)?f:f.replace(e,d).replace(a,b)}}(),getBody:function(){var a;return function(){return a||(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName('head')[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?'portrait':'landscape'},destroy:function(){var c=arguments.length,b,a;for(b=0;b<c;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else {if(a.isStore){a.destroyStore()}else {if(Ext.isFunction(a.destroy)){a.destroy()}else {if(a.dom){a.remove()}}}}}}},callback:function(c,a,d,e){var b,f;if(Ext.isFunction(c)){b=c}else {if(a&&Ext.isString(c)){b=a[c]}}if(b){d=d||[];a=a||window;if(e){Ext.defer(b,e,a,d)}else {f=b.apply(a,d)}}return f},resolveMethod:function(a,b){if(Ext.isFunction(a)){return a}return b[a]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var a=function(a){return a.test(Ext.userAgent)},s=document.compatMode=='CSS1Compat',i=function(c,b){var a;return c&&(a=b.exec(Ext.userAgent))?parseFloat(a[1]):0},b=document.documentMode,n=a(/opera/),y=n&&a(/version\/10\.5/),q=a(/\bchrome\b/),p=a(/webkit/),h=!q&&a(/safari/),C=h&&a(/applewebkit\/4/),D=h&&a(/version\/3/),E=h&&a(/version\/4/),z=h&&a(/version\/5\.0/),F=h&&a(/version\/5/),c=!n&&a(/msie/),e=c&&(a(/msie 7/)&&b!=8&&b!=9&&b!=10||b==7),f=c&&(a(/msie 8/)&&b!=7&&b!=9&&b!=10||b==8),l=c&&(a(/msie 9/)&&b!=7&&b!=8&&b!=10||b==9),t=c&&(a(/msie 10/)&&b!=7&&b!=8&&b!=9||b==10),d=c&&a(/msie 6/),j=!p&&a(/gecko/),m=j&&a(/rv:1\.9/),H=j&&a(/rv:2\.0/),I=j&&a(/rv:5\./),B=j&&a(/rv:10\./),J=m&&a(/rv:1\.9\.0/),K=m&&a(/rv:1\.9\.1/),L=m&&a(/rv:1\.9\.2/),G=a(/windows|win32/),N=a(/macintosh|mac os x/),M=a(/linux/),o=null,u=i(!0,/\bchrome\/(\d+\.\d+)/),g=i(!0,/\bfirefox\/(\d+\.\d+)/),A=i(c,/msie (\d+\.\d+)/),x=i(n,/version\/(\d+\.\d+)/),v=i(h,/version\/(\d+\.\d+)/),w=i(p,/webkit\/(\d+\.\d+)/),r=/^https/i.test(window.location.protocol),k;try{document.execCommand('BackgroundImageCache',!1,!0)}catch(O){}k=function(){};k.info=k.warn=k.error=Ext.emptyFn;Ext.setVersion('extjs','4.2.1.883');Ext.apply(Ext,{SSL_SECURE_URL:r&&c?"javascript:''":'about:blank',plainTableCls:Ext.buildSettings.baseCSSPrefix+'table-plain',plainListCls:Ext.buildSettings.baseCSSPrefix+'list-plain',enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(a,d){if(!a||!document){return null}if(a.dom){return a.dom}else {if(typeof a=='string'){var b=Ext.getElementById(a);if(b&&c&&d){if(a==b.getAttribute('id')){return b}else {return null}}return b}else {return a}}},removeNode:d||e||f?function(){var a;return function(b){if(b&&b.tagName.toUpperCase()!='BODY'){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;if(c[d]){delete c[d].dom;delete c[d]}if(f&&b.parentNode){b.parentNode.removeChild(b)}a=a||document.createElement('div');a.appendChild(b);a.innerHTML=''}}}():function(a){if(a&&a.parentNode&&a.tagName.toUpperCase()!='BODY'){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,c=a.id;if(b[c]){delete b[c].dom;delete b[c]}a.parentNode.removeChild(a)}},isStrict:s,isIEQuirks:c&&(!s&&(d||e||f||l)),isOpera:n,isOpera10_5:y,isWebKit:p,isChrome:q,isSafari:h,isSafari3:D,isSafari4:E,isSafari5:F,isSafari5_0:z,isSafari2:C,isIE:c,isIE6:d,isIE7:e,isIE7m:d||e,isIE7p:c&&!d,isIE8:f,isIE8m:d||e||f,isIE8p:c&&!(d||e),isIE9:l,isIE9m:d||e||f||l,isIE9p:c&&!(d||e||f),isIE10:t,isIE10m:d||e||f||l||t,isIE10p:c&&!(d||e||f||l),isGecko:j,isGecko3:m,isGecko4:H,isGecko5:I,isGecko10:B,isFF3_0:J,isFF3_5:K,isFF3_6:L,isFF4:4<=g&&g<5,isFF5:5<=g&&g<6,isFF10:10<=g&&g<11,isLinux:M,isWindows:G,isMac:N,chromeVersion:u,firefoxVersion:g,ieVersion:A,operaVersion:x,safariVersion:v,webKitVersion:w,isSecure:r,BLANK_IMAGE_URL:d||e?'//www.sencha.com/s.gif':'data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,'\\$1')},addBehaviors:function(e){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(e)})}else {var b={},c,d,a;for(d in e){if((c=d.split('@'))[1]){a=c[0];if(!b[a]){b[a]=Ext.select(a)}b[a].on(c[1],e[d])}}b=null}},getScrollbarSize:function(c){if(!Ext.isReady){return {}}if(c||!o){var b=document.body,a=document.createElement('div');a.style.width=a.style.height='100px';a.style.overflow='scroll';a.style.position='absolute';b.appendChild(a);o={width:a.offsetWidth-a.clientWidth,height:a.offsetHeight-a.clientHeight};b.removeChild(a)}return o},getScrollBarWidth:function(a){var b=Ext.getScrollbarSize(a);return b.width+2},copyTo:function(e,d,a,f){if(typeof a=='string'){a=a.split(/[,;\s]/)}var c,g=a?a.length:0,b;for(c=0;c<g;c++){b=a[c];if(f||d.hasOwnProperty(b)){e[b]=d[b]}}return e},destroyMembers:function(c){for(var a=1,b=arguments,d=b.length;a<d;a++){Ext.destroy(c[b[a]]);delete c[b[a]]}},log:k,partition:function(d,c){var e=[[],[]],a,b,f=d.length;for(a=0;a<f;a++){b=d[a];e[c&&c(b,a,d)||!c&&b?0:1].push(b)}return e},invoke:function(e,d){var c=[],g=Array.prototype.slice.call(arguments,2),b,a,f=e.length;for(b=0;b<f;b++){a=e[b];if(a&&typeof a[d]=='function'){c.push(a[d].apply(a,g))}else {c.push(undefined)}}return c},zip:function(){var f=Ext.partition(arguments,function(a){return typeof a!='function'}),b=f[0],e=f[1][0],h=Ext.max(Ext.pluck(b,'length')),c=[],a,d,g;for(a=0;a<h;a++){c[a]=[];if(e){c[a]=e.apply(e,Ext.pluck(b,a))}else {for(d=0,g=b.length;d<g;d++){c[a].push(b[d][a])}}}return c},toSentence:function(a,e){var b=a.length,c,d;if(b<=1){return a[0]}else {c=a.slice(0,b-1);d=a[b-1];return Ext.util.Format.format('{0} {1} {2}',c.join(', '),e||'and',d)}},setGlyphFontFamily:function(a){Ext._glyphFontFamily=a},useShims:d})})();Ext.application=function(a){var d,b,c;if(typeof a==='string'){Ext.require(a,function(){d=Ext.ClassManager.get(a)})}else {Ext.Loader.setPath(a.name,a.appFolder||'app');if(b=a.paths){for(c in b){if(b.hasOwnProperty(c)){Ext.Loader.setPath(c,b[c])}}}a['paths processed']=!0;Ext.define(a.name+'.$application',Ext.apply({extend:'Ext.app.Application'},a),function(){d=this})}Ext.onReady(function(){Ext.app.Application.instance=new d()})};(function(){Ext.ns('Ext.util');var a=Ext.util.Format={},g=/<\/?[^>]+>/gi,d=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,i=/\r?\n/g,h=/^#+$/,f=/[\d,\.#]+/,e=/[^\d\.#]/g,b,c={};Ext.apply(a,{thousandSeparator:',',decimalSeparator:'.',currencyPrecision:2,currencySign:'$',currencyAtEnd:!1,undef:function(a){return a!==undefined?a:''},defaultValue:function(a,b){return a!==undefined&&a!==''?a:b},substr:'ab'.substr(-1)!='b'?function(d,a,c){var b=String(d);return a<0?b.substr(Math.max(b.length+a,0),c):b.substr(a,c)}:function(c,b,a){return String(c).substr(b,a)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,'$',2)},currency:function(b,f,c,h){var d='',e=',0',g=0;b=b-0;if(b<0){b=-b;d='-'}c=Ext.isDefined(c)?c:a.currencyPrecision;e+=c>0?'.':'';for(;g<c;g++){e+='0'}b=a.number(b,e);if((h||a.currencyAtEnd)===!0){return Ext.String.format('{0}{1}{2}',d,b,f||a.currencySign)}else {return Ext.String.format('{0}{1}{2}',d,f||a.currencySign,b)}},date:function(a,b){if(!a){return ''}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},stripTags:function(a){return !a?a:String(a).replace(g,'')},stripScripts:function(a){return !a?a:String(a).replace(d,'')},fileSize:function(){var a=1024,b=1048576,c=1073741824;return function(d){var e;if(d<a){if(d===1){e='1 byte'}else {e=d+' bytes'}}else {if(d<b){e=Math.round(d*10/a)/10+' KB'}else {if(d<c){e=Math.round(d*10/b)/10+' MB'}else {e=Math.round(d*10/c)/10+' GB'}}}return e}}(),math:function(){var a={};return function(c,b){if(!a[b]){a[b]=Ext.functionFactory('v','return v '+b+';')}return a[b](c)}}(),round:function(c,a){var b=Number(c);if(typeof a=='number'){a=Math.pow(10,a);b=Math.round(c*a)/a}return b},number:function(o,g){if(!g){return o}var n=c[g];if(!n){var p=g,r=a.thousandSeparator,q=a.decimalSeparator,k,j,m,i=0,s,l,d;if(g.substr(g.length-2)=='/i'){if(!b){b=new RegExp('[^\\d\\'+a.decimalSeparator+']','g')}g=g.substr(0,g.length-2);k=g.indexOf(r)!=-1;j=g.replace(b,'').split(q)}else {k=g.indexOf(',')!=-1;j=g.replace(e,'').split('.')}m=g.replace(f,'');if(j.length>2){}else {if(j.length===2){i=j[1].length;l=h.test(j[1])}}d=['var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts'+(k?',thousandSeparator,thousands=[],j,n,i':'')+(m?',formatString="'+g+'",formatPattern=/[\\d,\\.#]+/':'')+(l?',trailingZeroes=/\\.?0+$/;':';')+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;','fnum=Ext.Number.toFixed(Math.abs(v), '+i+');'];if(k){if(i){d[d.length]='parts=fnum.split(".");';d[d.length]='fnum=parts[0];'}d[d.length]='if(v>=1000) {';d[d.length]='thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}';if(i){d[d.length]='fnum += utilFormat.decimalSeparator+parts[1];'}}else {if(i){d[d.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}if(l){d[d.length]='fnum=fnum.replace(trailingZeroes,"");'}d[d.length]='if(neg&&fnum!=="'+(i?'0.'+Ext.String.repeat('0',i):'0')+'")fnum="-"+fnum;';d[d.length]='return ';if(m){d[d.length]='formatString.replace(formatPattern, fnum);'}else {d[d.length]='fnum;'}d[d.length]='};';n=c[p]=Ext.functionFactory('Ext',d.join(''))(Ext)}return n(o)},numberRenderer:function(b){return function(c){return a.number(c,b)}},attributes:function(a){if(typeof a==='object'){var c=[],b;for(b in a){c.push(b,'="',b==='style'?Ext.DomHelper.generateStyles(a[b]):Ext.htmlEncode(a[b]),'"')}a=c.join('')}return a||''},plural:function(c,b,a){return c+' '+(c==1?b:a?a:b+'s')},nl2br:function(a){return Ext.isEmpty(a)?'':a.replace(i,'<br/>')},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(b){b=b||0;if(typeof b==='number'){return {top:b,right:b,bottom:b,left:b}}var a=b.split(' '),c=a.length;if(c==1){a[1]=a[2]=a[3]=a[0]}else {if(c==2){a[2]=a[0];a[3]=a[1]}else {if(c==3){a[3]=a[1]}}}return {top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,'\\$1')}})})();Ext.cmd.derive('Ext.util.TaskRunner',Ext.Base,{interval:10,timerId:null,constructor:function(b){var a=this;if(typeof b=='number'){a.interval=b}else {if(b){Ext.apply(a,b)}}a.tasks=[];a.timerFn=Ext.Function.bind(a.onTick,a)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);a.manager=this;return a},start:function(a){var b=this,c=Ext.Date.now();if(!a.pending){b.tasks.push(a);a.pending=!0}a.stopped=!1;a.taskStartTime=c;a.taskRunTime=a.fireOnStart!==!1?0:a.taskStartTime;a.taskRunCount=0;if(!b.firing){if(a.fireOnStart!==!1){b.startTimer(0,c)}else {b.startTimer(a.interval,c)}}return a},stop:function(a){if(!a.stopped){a.stopped=!0;if(a.onStop){a.onStop.call(a.scope||a,a)}}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1.0E99,onTick:function(){var b=this,h=b.tasks,g=Ext.Date.now(),j=1.0E99,k=h.length,f,c,e,a,i,d;b.timerId=null;b.firing=!0;for(e=0;e<k||e<(k=h.length);++e){a=h[e];if(!(d=a.stopped)){f=a.taskRunTime+a.interval;if(f<=g){i=1;try{i=a.run.apply(a.scope||a,a.args||[++a.taskRunCount])}catch(l){try{if(a.onError){i=a.onError.call(a.scope||a,a,l)}}catch(m){}}a.taskRunTime=g;if(i===!1||a.taskRunCount===a.repeat){b.stop(a);d=!0}else {d=a.stopped;f=g+a.interval}}if(!d&&a.duration&&a.duration<=g-a.taskStartTime){b.stop(a);d=!0}}if(d){a.pending=!1;if(!c){c=h.slice(0,e)}}else {if(c){c.push(a)}if(j>f){j=f}}}if(c){b.tasks=c}b.firing=!1;if(b.tasks.length){b.startTimer(j-g,Ext.Date.now())}if(b.fireIdleEvent!==!1){Ext.EventManager.idleEvent.fire()}},startTimer:function(b,e){var a=this,d=e+b,c=a.timerId;if(c&&a.nextExpires-d>a.interval){clearTimeout(c);c=null}if(!c){if(b<a.interval){b=a.interval}a.timerId=setTimeout(a.timerFn,b);a.nextExpires=d}}},1,0,0,0,0,0,[Ext.util,'TaskRunner'],function(){var b=this,a=b.prototype;a.destroy=a.stopAll;Ext.util.TaskManager=Ext.TaskManager=new b();b.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==undefined){this.interval=a}this.manager.start(this)},start:function(a){if(this.stopped){this.restart(a)}},stop:function(){this.manager.stop(this)}});a=b.Task.prototype;a.destroy=a.stop});Ext.cmd.derive('Ext.util.TaskManager',Ext.util.TaskRunner,{alternateClassName:['Ext.TaskManager'],singleton:!0},0,0,0,0,0,0,[Ext.util,'TaskManager',Ext,'TaskManager'],0);Ext.cmd.derive('Ext.perf.Accumulator',Ext.Base,function(){var b=null,d=Ext.global['chrome'],c,a=function(){a=function(){return (new Date()).getTime()};var b,c;if(Ext.isChrome&&d&&d.Interval){b=new d.Interval();b.start();a=function(){return b.microseconds()/1000}}else {if(window.ActiveXObject){try{c=new ActiveXObject('SenchaToolbox.Toolbox');Ext.senchaToolbox=c;a=function(){return c.milliseconds}}catch(e){}}else {if(Date.now){a=Date.now}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=a;return a()};function adjustSet(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function leaveFrame(f){var d=f?f:a()-this.time,e=this,c=e.accum;++c.count;if(!--c.depth){adjustSet(c.total,d)}adjustSet(c.pure,d-e.childTime);b=e.parent;if(b){++b.accum.childCount;b.childTime+=d}}function makeSet(){return {min:Number.MAX_VALUE,max:0,sum:0}}function makeTap(b,a){return function(){var c=b.enter(),d=a.apply(this,arguments);c.leave();return d}}function round(a){return Math.round(a*100)/100}function setToJSON(d,e,b,c){var a={avg:0,min:c.min,max:c.max,sum:0};if(d){b=b||0;a.sum=c.sum-e*b;a.avg=a.sum/d}return a}return {constructor:function(b){var a=this;a.count=a.childCount=a.depth=a.maxDepth=0;a.pure=makeSet();a.total=makeSet();a.name=b},statics:{getTimestamp:a},format:function(b){if(!c){c=new Ext.XTemplate(['{name} - {count} call(s)','<tpl if="count">','<tpl if="childCount">',' ({childCount} children)','</tpl>','<tpl if="depth - 1">',' ({depth} deep)','</tpl>','<tpl for="times">',', {type}: {[this.time(values.sum)]} msec (','avg={[this.time(values.sum / parent.count)]}',')','</tpl>','</tpl>'].join(''),{time:function(a){return Math.round(a*100)/100}})}var a=this.getData(b);a.name=this.name;a.pure.type='Pure';a.total.type='Total';a.times=[a.pure,a.total];return c.apply(a)},getData:function(b){var a=this;return {count:a.count,childCount:a.childCount,depth:a.maxDepth,pure:setToJSON(a.count,a.childCount,b,a.pure),total:setToJSON(a.count,a.childCount,b,a.total)}},enter:function(){var c=this,d={accum:c,leave:leaveFrame,childTime:0,parent:b};++c.depth;if(c.maxDepth<c.depth){c.maxDepth=c.depth}b=d;d.time=a();return d},monitor:function(c,a,b){var d=this.enter();if(b){c.apply(a,b)}else {c.call(a)}d.leave()},report:function(){Ext.log(this.format())},tap:function(d,g){var j=this,k=typeof g=='string'?[g]:g,b,f,a,h,e,c,i,l;l=function(){if(typeof d=='string'){b=Ext.global;h=d.split('.');for(a=0,e=h.length;a<e;++a){b=b[h[a]]}}else {b=d}for(a=0,e=k.length;a<e;++a){c=k[a];f=c.charAt(0)=='!';if(f){c=c.substring(1)}else {f=!(c in b.prototype)}i=f?b:b.prototype;i[c]=makeTap(j,i[c])}};Ext.ClassManager.onCreated(l,j,d);return j}}}(),1,0,0,0,0,0,[Ext.perf,'Accumulator'],function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.cmd.derive('Ext.perf.Monitor',Ext.Base,{singleton:!0,alternateClassName:'Ext.Perf',constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var d=new Ext.perf.Accumulator('$'),g=d.total,a=Ext.perf.Accumulator.getTimestamp,e=0,f,c,b;b=a();do{f=d.enter();f.leave();++e}while(g.sum<100);c=a();return (c-b)/e},get:function(b){var c=this,a=c.accumulatorsByName[b];if(!a){c.accumulatorsByName[b]=a=new Ext.perf.Accumulator(b);c.accumulators.push(a)}return a},enter:function(a){return this.get(a).enter()},monitor:function(b,c,a){this.get(b).monitor(c,a)},report:function(){var a=this,b=a.accumulators,c=a.calibrate();b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});a.updateGC();Ext.log('Calibration: '+Math.round(c*100)/100+' msec/sample');Ext.each(b,function(a){Ext.log(a.format(c))})},getData:function(c){var a={},b=this.accumulators;Ext.each(b,function(b){if(c||b.count){a[b.name]=b.getData()}});return a},reset:function(){Ext.each(this.accumulators,function(b){var a=b;a.count=a.childCount=a.depth=a.maxDepth=0;a.pure={min:Number.MAX_VALUE,max:0,sum:0};a.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var b=this.accumulatorsByName.GC,c=Ext.senchaToolbox,a;if(b){b.count=c.garbageCollectionCounter||0;if(b.count){a=b.pure;b.total.sum=a.sum=c.garbageCollectionMilliseconds;a.min=a.max=a.sum/b.count;a=b.total;a.min=a.max=a.sum/b.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get('GC');a.watchGarbageCollector(!1)}},setup:function(a){if(!a){a={render:{'Ext.AbstractComponent':'render'},layout:{'Ext.layout.Context':'run'}}}this.currentConfig=a;var d,c,f,b,e;for(d in a){if(a.hasOwnProperty(d)){c=a[d];f=Ext.Perf.get(d);for(b in c){if(c.hasOwnProperty(b)){e=c[b];f.tap(b,e)}}}}this.watchGC()}},1,0,0,0,0,0,[Ext.perf,'Monitor',Ext,'Perf'],0);Ext.is={init:function(c){var d=this.platforms,e=d.length,b,a;c=c||window.navigator;for(b=0;b<e;b++){a=d[b];this[a.identity]=a.regex.test(c[a.property])}this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android;this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:'platform',regex:/iPhone/i,identity:'iPhone'},{property:'platform',regex:/iPod/i,identity:'iPod'},{property:'userAgent',regex:/iPad/i,identity:'iPad'},{property:'userAgent',regex:/Blackberry/i,identity:'Blackberry'},{property:'userAgent',regex:/Android/i,identity:'Android'},{property:'platform',regex:/Mac/i,identity:'Mac'},{property:'platform',regex:/Win/i,identity:'Windows'},{property:'platform',regex:/Linux/i,identity:'Linux'}]};Ext.is.init();(function(){var a=function(a,c){var b=a.ownerDocument.defaultView,d=(b?b.getComputedStyle(a,null):a.currentStyle)||a.style;return d[c]},b={'IE6-quirks':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],'IE6-strict':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],'IE7-quirks':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],'IE7-strict':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],'IE8-quirks':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],'IE8-strict':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],'IE9-quirks':[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],'IE9-strict':[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],'IE10-quirks':[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],'IE10-strict':[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};function getBrowserKey(){var a=Ext.isIE6?'IE6':Ext.isIE7?'IE7':Ext.isIE8?'IE8':Ext.isIE9?'IE9':Ext.isIE10?'IE10':'';return a?a+(Ext.isStrict?'-strict':'-quirks'):''}Ext.supports={init:function(){var d=this,e=document,j=d.toRun||d.tests,f=j.length,a=f&&Ext.isReady&&e.createElement('div'),i=[],k=getBrowserKey(),c,g,h;if(a){a.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>','</div>','<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>','</div>','<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join('');e.body.appendChild(a)}g=b[k];while(f--){c=j[f];h=g&&g[f];if(h!==undefined){d[c.identity]=h}else {if(a||c.early){d[c.identity]=c.fn.call(d,e,a)}else {i.push(c)}}}if(a){e.body.removeChild(a)}d.toRun=i},PointerEvents:'pointerEvents' in document.documentElement.style,LocalStorage:function(){try{return 'localStorage' in window&&window['localStorage']!==null}catch(c){return !1}}(),CSS3BoxShadow:'boxShadow' in document.documentElement.style||'WebkitBoxShadow' in document.documentElement.style||'MozBoxShadow' in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!='undefined'&&'onorientationchange' in window,DeviceMotion:'ondevicemotion' in window,Touch:'ontouchstart' in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:'Transitions',fn:function(i,g){var b=['webkit','Moz','o','ms','khtml'],d='TransitionEnd',f=[b[0]+d,'transitionend',b[2]+d,b[3]+d,b[4]+d],h=b.length,c=0,e=!1;for(;c<h;c++){if(a(g,b[c]+'TransitionProperty')){Ext.supports.CSS3Prefix=b[c];Ext.supports.CSS3TransitionEnd=f[c];e=!0;break}}return e}},{identity:'RightMargin',fn:function(c,b){var a=c.defaultView;return !(a&&a.getComputedStyle(b.firstChild.firstChild,null).marginRight!='0px')}},{identity:'DisplayChangeInputSelectionBug',early:!0,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{identity:'DisplayChangeTextAreaSelectionBug',early:!0,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{identity:'TransparentColor',fn:function(c,b,a){a=c.defaultView;return !(a&&a.getComputedStyle(b.lastChild,null).backgroundColor!='transparent')}},{identity:'ComputedStyle',fn:function(b,c,a){a=b.defaultView;return a&&a.getComputedStyle}},{identity:'Svg',fn:function(a){return !!a.createElementNS&&!!a.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect}},{identity:'Canvas',fn:function(a){return !!a.createElement('canvas').getContext}},{identity:'Vml',fn:function(b){var a=b.createElement('div');a.innerHTML='<!--[if vml]><br/><br/><![endif]-->';return a.childNodes.length==2}},{identity:'Float',fn:function(b,a){return !!a.lastChild.style.cssFloat}},{identity:'AudioTag',fn:function(a){return !!a.createElement('audio').canPlayType}},{identity:'History',fn:function(){var a=window.history;return !!(a&&a.pushState)}},{identity:'CSS3DTransform',fn:function(){return typeof WebKitCSSMatrix!='undefined'&&(new WebKitCSSMatrix()).hasOwnProperty('m41')}},{identity:'CSS3LinearGradient',fn:function(i,c){var a='background-image:',e='-webkit-gradient(linear, left top, right bottom, from(black), to(white))',b='linear-gradient(left top, black, white)',g='-moz-'+b,h='-ms-'+b,f='-o-'+b,d=[a+e,a+b,a+g,a+h,a+f];c.style.cssText=d.join(';');return (''+c.style.backgroundImage).indexOf('gradient')!==-1&&!Ext.isIE9}},{identity:'CSS3BorderRadius',fn:function(e,d){var b=['borderRadius','BorderRadius','MozBorderRadius','WebkitBorderRadius','OBorderRadius','KhtmlBorderRadius'],c=!1,a;for(a=0;a<b.length;a++){if(document.body.style[b[a]]!==undefined){return !0}}return c}},{identity:'GeoLocation',fn:function(){return typeof navigator!='undefined'&&'geolocation' in navigator||typeof google!='undefined'&&typeof google.gears!='undefined'}},{identity:'MouseEnterLeave',fn:function(b,a){return 'onmouseenter' in a&&'onmouseleave' in a}},{identity:'MouseWheel',fn:function(b,a){return 'onmousewheel' in a}},{identity:'Opacity',fn:function(b,a){if(Ext.isIE6||Ext.isIE7||Ext.isIE8){return !1}a.firstChild.style.cssText='opacity:0.73';return a.firstChild.style.opacity=='0.73'}},{identity:'Placeholder',fn:function(a){return 'placeholder' in a.createElement('input')}},{identity:'Direct2DBug',fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:'BoundingClientRect',fn:function(b,a){return Ext.isFunction(a.getBoundingClientRect)}},{identity:'RotatedBoundingClientRect',fn:function(){var d=document.body,c=!1,b=document.createElement('div'),a=b.style;if(b.getBoundingClientRect){a.WebkitTransform=a.MozTransform=a.OTransform=a.transform='rotate(90deg)';a.width='100px';a.height='30px';d.appendChild(b);c=b.getBoundingClientRect().height!==100;d.removeChild(b)}return c}},{identity:'IncludePaddingInWidthCalculation',fn:function(b,a){return a.childNodes[1].firstChild.offsetWidth==210}},{identity:'IncludePaddingInHeightCalculation',fn:function(b,a){return a.childNodes[1].firstChild.offsetHeight==210}},{identity:'ArraySort',fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:'Range',fn:function(){return !!document.createRange}},{identity:'CreateContextualFragment',fn:function(){var a=Ext.supports.Range?document.createRange():!1;return a&&!!a.createContextualFragment}},{identity:'WindowOnError',fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:'TextAreaMaxLength',fn:function(){var a=document.createElement('textarea');return 'maxlength' in a}},{identity:'GetPositionPercentage',fn:function(c,b){return a(b.childNodes[2],'left')=='10%'}},{identity:'PercentageHeightOverflowBug',fn:function(c){var d=!1,b,a;if(Ext.getScrollbarSize().height){a=c.createElement('div');b=a.style;b.height='50px';b.width='50px';b.overflow='auto';b.position='absolute';a.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>','</div>'].join('');c.body.appendChild(a);if(a.firstChild.offsetHeight===50){d=!0}c.body.removeChild(a)}return d}},{identity:'xOriginBug',fn:function(e,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var a=document.getElementById('b1').getBoundingClientRect(),c=document.getElementById('b2').getBoundingClientRect(),d=document.getElementById('b3').getBoundingClientRect();return c.left!==a.left&&d.right!==a.right}},{identity:'ScrollWidthInlinePaddingBug',fn:function(c){var d=!1,a,b;b=c.createElement('div');a=b.style;a.height='50px';a.width='50px';a.padding='10px';a.overflow='hidden';a.position='absolute';b.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';c.body.appendChild(b);if(b.scrollWidth===70){d=!0}c.body.removeChild(b);return d}}]}})();Ext.supports.init();Ext.util.DelayedTask=function(f,d,e,b){var a=this,c,g=function(){clearInterval(a.id);a.id=null;f.apply(d,e||[]);Ext.EventManager.idleEvent.fire()};b=typeof b==='boolean'?b:!0;a.id=null;a.delay=function(h,k,i,j){if(b){a.cancel()}c=h||c,f=k||f;d=i||d;e=j||e;if(!a.id){a.id=setInterval(g,c)}};a.cancel=function(){if(a.id){clearInterval(a.id);a.id=null}}};Ext.cmd.derive('Ext.util.Event',Ext.Base,function(){var d=Array.prototype.slice,c=Ext.Array.insert,b=Ext.Array.toArray,a=Ext.util.DelayedTask;return {isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(o,j,m){var a=this,g,l,h,f,e,k,i,b,d,n;j=j||a.observable;if(!a.isListening(o,j)){l=a.createListener(o,j,m);if(a.firing){a.listeners=a.listeners.slice(0)}g=a.listeners;b=i=g.length;h=m&&m.priority;e=a._highestNegativePriorityIndex;k=e!==undefined;if(h){f=h<0;if(!f||k){for(d=f?e:0;d<i;d++){n=g[d].o?g[d].o.priority||0:0;if(n<h){b=d;break}}}else {a._highestNegativePriorityIndex=b}}else {if(k){b=e}}if(!f&&b<=e){a._highestNegativePriorityIndex++}if(b===i){a.listeners[i]=l}else {c(a.listeners,b,[l])}}},createListener:function(f,d,a){d=d||this.observable;var e=this,c={fn:f,scope:d,ev:e},b=f;if(a){c.o=a;if(a.single){b=e.createSingle(b,c,a,d)}if(a.target){b=e.createTargeted(b,c,a,d)}if(a.delay){b=e.createDelayed(b,c,a,d)}if(a.buffer){b=e.createBuffered(b,c,a,d)}}c.fireFn=b;return c},findListener:function(f,e){var c=this.listeners,b=c.length,a,d;while(b--){a=c[b];if(a){d=a.scope;if(a.fn==f&&d==(e||this.observable)){return b}}}return -1},isListening:function(b,a){return this.findListener(b,a)!==-1},removeListener:function(g,f){var a=this,c,b,d,e;c=a.findListener(g,f);if(c!=-1){b=a.listeners[c];d=a._highestNegativePriorityIndex;if(a.firing){a.listeners=a.listeners.slice(0)}if(b.task){b.task.cancel();delete b.task}e=b.tasks&&b.tasks.length;if(e){while(e--){b.tasks[e].cancel()}delete b.tasks}a.listeners.splice(c,1);if(d){if(c<d){a._highestNegativePriorityIndex--}else {if(c===d&&c===a.listeners.length){delete a._highestNegativePriorityIndex}}}return !0}return !1},clearListeners:function(){var a=this.listeners,b=a.length;while(b--){this.removeListener(a[b].fn,a[b].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var b=this,f=b.listeners,g=f.length,e,c,a,h;if(!b.suspended&&g>0){b.firing=!0;c=arguments.length?d.call(arguments,0):[];h=c.length;for(e=0;e<g;e++){a=f[e];if(a.o){c[h]=a.o}if(a&&a.fireFn.apply(a.scope||b.observable,c)===!1){return b.firing=!1}}}b.firing=!1;return !0},createTargeted:function(a,d,c,b){return function(){if(c.target===arguments[0]){a.apply(b,arguments)}}},createBuffered:function(d,c,f,e){c.task=new a();return function(){c.task.delay(f.buffer,d,e,b(arguments))}},createDelayed:function(d,c,f,e){return function(){var g=new a();if(!c.tasks){c.tasks=[]}c.tasks.push(g);g.delay(f.delay||10,d,e,b(arguments))}},createSingle:function(c,a,d,b){return function(){var e=a.ev;if(e.removeListener(a.fn,b)&&e.observable){e.observable.hasListeners[e.name]--}return c.apply(b,arguments)}}}},1,0,0,0,0,0,[Ext.util,'Event'],0);Ext.EventManager=new function(){var a=this,b=document,d=window,h=/\\/g,e='x-',f=!Ext.isIE9&&'addEventListener' in b,c,g=function(){var d=b.body||b.getElementsByTagName('body')[0],f=[e+'body'],a=[],h=Ext.supports.CSS3LinearGradient,g=Ext.supports.CSS3BorderRadius,c;if(!d){return !1}c=d.parentNode;function add(a){f.push(e+a)}if(Ext.isIE&&Ext.isIE9m){add('ie');if(Ext.isIE6){add('ie6')}else {add('ie7p');if(Ext.isIE7){add('ie7')}else {add('ie8p');if(Ext.isIE8){add('ie8')}else {add('ie9p');if(Ext.isIE9){add('ie9')}}}}if(Ext.isIE7m){add('ie7m')}if(Ext.isIE8m){add('ie8m')}if(Ext.isIE9m){add('ie9m')}if(Ext.isIE7||Ext.isIE8){add('ie78')}}if(Ext.isIE10){add('ie10')}if(Ext.isGecko){add('gecko');if(Ext.isGecko3){add('gecko3')}if(Ext.isGecko4){add('gecko4')}if(Ext.isGecko5){add('gecko5')}}if(Ext.isOpera){add('opera')}if(Ext.isWebKit){add('webkit')}if(Ext.isSafari){add('safari');if(Ext.isSafari2){add('safari2')}if(Ext.isSafari3){add('safari3')}if(Ext.isSafari4){add('safari4')}if(Ext.isSafari5){add('safari5')}if(Ext.isSafari5_0){add('safari5_0')}}if(Ext.isChrome){add('chrome')}if(Ext.isMac){add('mac')}if(Ext.isLinux){add('linux')}if(!g){add('nbr')}if(!h){add('nlg')}if(c){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){Ext.isBorderBox=!1}else {Ext.isBorderBox=!0}if(!Ext.isBorderBox){a.push(e+'content-box')}if(Ext.isStrict){a.push(e+'strict')}else {a.push(e+'quirks')}Ext.fly(c,'_internal').addCls(a)}Ext.fly(d,'_internal').addCls(f);return !0};Ext.apply(a,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){c=new Ext.util.Event();c.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date()).getTime();c.self.prototype.fire.apply(c,arguments);Ext._afterReadytime=(new Date()).getTime()};return c}(),idleEvent:new Ext.util.Event(),isReadyPaused:function(){return /[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){if(a.hasBoundOnReady){return}if(b.readyState=='complete'){a.onReadyEvent({type:b.readyState||'body'})}else {b.addEventListener('DOMContentLoaded',a.onReadyEvent,!1);d.addEventListener('load',a.onReadyEvent,!1);a.hasBoundOnReady=!0}},onReadyEvent:function(c){if(c&&c.type){a.onReadyChain.push(c.type)}if(a.hasBoundOnReady){b.removeEventListener('DOMContentLoaded',a.onReadyEvent,!1);d.removeEventListener('load',a.onReadyEvent,!1)}if(!Ext.isReady){a.fireDocReady()}},fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=(new Date()).getTime();Ext.isReady=!0;Ext.supports.init();a.onWindowUnload();c.onReadyChain=a.onReadyChain;if(Ext.isNumber(a.deferReadyEvent)){Ext.Function.defer(a.fireReadyEvent,a.deferReadyEvent);a.hasDocReadyTimer=!0}else {a.fireReadyEvent()}}},fireReadyEvent:function(){a.hasDocReadyTimer=!1;a.isFiring=!0;while(c.listeners.length&&!a.isReadyPaused()){c.fire()}a.isFiring=!1;a.hasFiredReady=!0;Ext.EventManager.idleEvent.fire()},onDocumentReady:function(e,d,b){b=b||{};b.single=!0;c.addListener(e,d,b);if(!(a.isFiring||a.hasDocReadyTimer)){if(Ext.isReady){a.fireReadyEvent()}else {a.bindReadyEvent()}}},stoppedMouseDownEvent:new Ext.util.Event(),propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var c;a=Ext.getDom(a);if(a===b||a===d){c=a===b?Ext.documentId:Ext.windowId}else {c=Ext.id(a)}if(!Ext.cache[c]){Ext.addCacheEntry(c,null,a)}return c},prepareListenerConfig:function(f,d,g){var h=a.propRe,c,b,e;for(c in d){if(d.hasOwnProperty(c)){if(!h.test(c)){b=d[c];if(typeof b=='function'){e=[f,c,b,d.scope,d]}else {e=[f,c,b.fn,b.scope,b]}if(g){a.removeListener.apply(a,e)}else {a.addListener.apply(a,e)}}}}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(b,c){if(a.mouseEnterLeaveRe.test(b)&&!Ext.supports.MouseEnterLeave){if(c){c=Ext.Function.createInterceptor(c,a.contains)}b=b=='mouseenter'?'mouseover':'mouseout'}else {if(b=='mousewheel'&&!Ext.supports.MouseWheel&&!Ext.isOpera){b='DOMMouseScroll'}}return {eventName:b,fn:c}},contains:function(c){c=c.browserEvent||c;var d=c.currentTarget,b=a.getRelatedTarget(c);if(d&&d.firstChild){while(b){if(b===d){return !1}b=b.parentNode;if(b&&b.nodeType!=1){b=null}}}return !0},addListener:function(g,c,e,o,i){if(typeof c!=='string'){a.prepareListenerConfig(g,c);return}var d=g.dom||Ext.getDom(g),l,p,k,j,h,m,n;if(typeof e==='string'){e=Ext.resolveMethod(e,o||g)}i=i||{};p=a.normalizeEvent(c,e);k=a.createListenerWrap(d,c,p.fn,o,i);j=a.getEventListenerCache(g.dom?g:d,c);c=p.eventName;l=f||Ext.isIE9&&!d.attachEvent;if(!l){h=a.normalizeId(d);if(h){m=Ext.cache[h][c];if(m&&m.firing){j=a.cloneEventListenerCache(d,c)}}}n=!!i.capture;j.push({fn:e,wrap:k,scope:o,capture:n});if(!l){if(j.length===1){h=a.normalizeId(d,!0);e=Ext.Function.bind(a.handleSingleEvent,a,[h,c],!0);Ext.cache[h][c]={firing:!1,fn:e};d.attachEvent('on'+c,e)}}else {d.addEventListener(c,k,n)}if(d==b&&c=='mousedown'){a.stoppedMouseDownEvent.addListener(k)}},normalizeId:function(c,d){var b;if(c===document){b=Ext.documentId}else {if(c===window){b=Ext.windowId}else {b=c.id}}if(!b&&d){b=a.getId(c)}return b},handleSingleEvent:function(h,g,e){var d=a.getEventListenerCache(g,e),c=Ext.cache[g][e],f,b;if(c.firing){return}c.firing=!0;for(b=0,f=d.length;b<f;++b){d[b].wrap(h)}c.firing=!1},removeListener:function(j,h,e,n){if(typeof h!=='string'){a.prepareListenerConfig(j,h,!0);return}var d=Ext.getDom(j),o,r=j.dom?j:Ext.get(d),k=a.getEventListenerCache(r,h),i=a.normalizeEvent(h).eventName,p=k.length,m,l,q,g,c;if(!d){return}q=f||Ext.isIE9&&!d.detachEvent;if(typeof e==='string'){e=Ext.resolveMethod(e,n||j)}while(p--){g=k[p];if(g&&(!e||g.fn==e)&&(!n||g.scope===n)){c=g.wrap;if(c.task){clearTimeout(c.task);delete c.task}m=c.tasks&&c.tasks.length;if(m){while(m--){clearTimeout(c.tasks[m])}delete c.tasks}if(!q){o=a.normalizeId(d,!0);l=Ext.cache[o][i];if(l&&l.firing){k=a.cloneEventListenerCache(d,i)}if(k.length===1){e=l.fn;delete Ext.cache[o][i];d.detachEvent('on'+i,e)}}else {d.removeEventListener(i,c,g.capture)}if(c&&d==b&&h=='mousedown'){a.stoppedMouseDownEvent.removeListener(c)}Ext.Array.erase(k,p,1)}}},removeAll:function(b){var f=typeof b==='string'?b:b.id,e,d,c;if(f&&(e=Ext.cache[f])){d=e.events;for(c in d){if(d.hasOwnProperty(c)){a.removeListener(b,c)}}e.events={}}},purgeElement:function(d,c){var e=Ext.getDom(d),f=0,g,b;if(c){a.removeListener(d,c)}else {a.removeAll(d)}if(e&&e.childNodes){b=e.childNodes;for(g=b.length;f<g;f++){a.purgeElement(b[f],c)}}},createListenerWrap:function(g,d,j,i,c){c=c||{};var b,e,f=function(l,k){if(!e){b=['if(!'+Ext.name+') {return;}'];if(c.buffer||c.delay||c.freezeEvent){if(c.freezeEvent){b.push('e = X.EventObject.setEvent(e);')}b.push('e = new X.EventObjectImpl(e, '+(c.freezeEvent?'true':'false')+');')}else {b.push('e = X.EventObject.setEvent(e);')}if(c.delegate){b.push('var result, t = e.getTarget("'+(c.delegate+'').replace(h,'\\\\')+'", this);');b.push('if(!t) {return;}')}else {b.push('var t = e.target, result;')}if(c.target){b.push('if(e.target !== options.target) {return;}')}if(c.stopEvent){b.push('e.stopEvent();')}else {if(c.preventDefault){b.push('e.preventDefault();')}if(c.stopPropagation){b.push('e.stopPropagation();')}}if(c.normalized===!1){b.push('e = e.browserEvent;')}if(c.buffer){b.push('(wrap.task && clearTimeout(wrap.task));');b.push('wrap.task = setTimeout(function() {')}if(c.delay){b.push('wrap.tasks = wrap.tasks || [];');b.push('wrap.tasks.push(setTimeout(function() {')}b.push('result = fn.call(scope || dom, e, t, options);');if(c.single){b.push('evtMgr.removeListener(dom, ename, fn, scope);')}if(d!=='mousemove'&&d!=='unload'){b.push('if (evtMgr.idleEvent.listeners.length) {');b.push('evtMgr.idleEvent.fire();');b.push('}')}if(c.delay){b.push('}, '+c.delay+'));')}if(c.buffer){b.push('}, '+c.buffer+');')}b.push('return result;');e=Ext.cacheableFunctionFactory('e','options','fn','scope','ename','dom','wrap','args','X','evtMgr',b.join('\n'))}return e.call(g,l,c,j,i,d,g,f,k,Ext,a)};return f},getEventCache:function(b){var c,e,d;if(!b){return []}if(b.$cache){c=b.$cache}else {if(typeof b==='string'){d=b}else {d=a.getId(b)}c=Ext.cache[d]}e=c.events||(c.events={});return e},getEventListenerCache:function(d,c){var b=a.getEventCache(d);return b[c]||(b[c]=[])},cloneEventListenerCache:function(e,d){var c=a.getEventCache(e),b;if(c[d]){b=c[d].slice(0)}else {b=[]}c[d]=b;return b},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(b){a.stopPropagation(b);a.preventDefault(b)},stopPropagation:function(a){a=a.browserEvent||a;if(a.stopPropagation){a.stopPropagation()}else {a.cancelBubble=!0}},preventDefault:function(a){a=a.browserEvent||a;if(a.preventDefault){a.preventDefault()}else {a.returnValue=!1;try{if(a.ctrlKey||a.keyCode>111&&a.keyCode<124){a.keyCode=-1}}catch(i){}}},getRelatedTarget:function(b){b=b.browserEvent||b;var c=b.relatedTarget;if(!c){if(a.mouseLeaveRe.test(b.type)){c=b.toElement}else {if(a.mouseEnterRe.test(b.type)){c=b.fromElement}}}return a.resolveTextNode(c)},getPageX:function(b){return a.getPageXY(b)[0]},getPageY:function(b){return a.getPageXY(b)[1]},getPageXY:function(d){d=d.browserEvent||d;var e=d.pageX,f=d.pageY,a=b.documentElement,c=b.body;if(!e&&e!==0){e=d.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0);f=d.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return [e,f]},getTarget:function(b){b=b.browserEvent||b;return a.resolveTextNode(b.target||b.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if(b!=='[xpconnect wrapped native prototype]'&&b!=='[object XULElement]'){return a.nodeType==3?a.parentNode:a}}}:function(a){return a&&a.nodeType==3?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(f,e,c){var b=a.resizeEvent;if(!b){a.resizeEvent=b=new Ext.util.Event();a.on(d,'resize',a.fireResize,null,{buffer:100})}b.addListener(f,e,c)},fireResize:function(){var c=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight();if(a.curHeight!=b||a.curWidth!=c){a.curHeight=b;a.curWidth=c;a.resizeEvent.fire(c,b)}},removeResizeListener:function(d,c){var b=a.resizeEvent;if(b){b.removeListener(d,c)}},onWindowUnload:function(c,f,e){var b=a.unloadEvent;if(!b){a.unloadEvent=b=new Ext.util.Event();a.addListener(d,'unload',a.fireUnload)}if(c){b.addListener(c,f,e)}},fireUnload:function(){try{b=d=undefined;var e,c,h,g,f;a.unloadEvent.fire();if(Ext.isGecko3){e=Ext.ComponentQuery.query('gridview');c=0;h=e.length;for(;c<h;c++){e[c].scrollToTop()}}f=Ext.cache;for(g in f){if(f.hasOwnProperty(g)){a.removeAll(g)}}}catch(i){}},removeUnloadListener:function(d,c){var b=a.unloadEvent;if(b){b.removeListener(d,c)}},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return a.useKeyDown?'keydown':'keypress'}});if(!f&&document.attachEvent){Ext.apply(a,{pollScroll:function(){var b=!0;try{document.documentElement.doScroll('left')}catch(i){b=!1}if(b&&document.body){a.onReadyEvent({type:'doScroll'})}else {a.scrollTimeout=setTimeout(a.pollScroll,20)}return b},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var b=document.readyState;if(a.readyStatesRe.test(b)){a.onReadyEvent({type:b})}},bindReadyEvent:function(){var c=!0;if(a.hasBoundOnReady){return}try{c=window.frameElement===undefined}catch(i){c=!1}if(!c||!b.documentElement.doScroll){a.pollScroll=Ext.emptyFn}if(a.pollScroll()===!0){return}if(b.readyState=='complete'){a.onReadyEvent({type:'already '+(b.readyState||'body')})}else {b.attachEvent('onreadystatechange',a.checkReadyState);window.attachEvent('onload',a.onReadyEvent);a.hasBoundOnReady=!0}},onReadyEvent:function(b){if(b&&b.type){a.onReadyChain.push(b.type)}if(a.hasBoundOnReady){document.detachEvent('onreadystatechange',a.checkReadyState);window.detachEvent('onload',a.onReadyEvent)}if(Ext.isNumber(a.scrollTimeout)){clearTimeout(a.scrollTimeout);delete a.scrollTimeout}if(!Ext.isReady){a.fireDocReady()}},onReadyChain:[]})}Ext.onReady=function(c,b,a){Ext.Loader.onReady(c,b,!0,a)};Ext.onDocumentReady=a.onDocumentReady;a.on=a.addListener;a.un=a.removeListener;Ext.onReady(g)}();Ext.cmd.derive('Ext.util.Observable',Ext.Base,function(c){var f=[],e=Array.prototype,b=e.slice,d=Ext.util.Event,a=function(d){if(d instanceof a){return d}this.observable=d;if(arguments[1].isObservable){this.managedListeners=!0}this.args=b.call(arguments,1)};a.prototype.destroy=function(){this.observable[this.managedListeners?'mun':'un'].apply(this.observable,this.args)};return {statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,d,a){var b=function(b,f){return d.apply(a,[b].concat(f))};this.captureArgs(e,b,a)},captureArgs:function(a,d,b){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,d,b)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this());this.captureArgs(a.prototype,a.fireEventArgs,a)}if(Ext.isObject(b)){a.on(b)}}return a},prepareClass:function(a,d){if(!a.HasListeners){var b=function(){},e=a.superclass.HasListeners||d&&d.HasListeners||c.HasListeners;a.prototype.HasListeners=a.HasListeners=b;b.prototype=a.hasListeners=new e()}}},isObservable:!0,eventsSuspended:0,constructor:function(b){var a=this;Ext.apply(a,b);if(!a.hasListeners){a.hasListeners=new a.HasListeners()}a.events=a.events||{};if(a.listeners){a.on(a.listeners);a.listeners=null}if(a.bubbleEvents){a.enableBubble(a.bubbleEvents)}},onClassExtended:function(a){if(!a.HasListeners){c.prepareClass(a)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(i,d,h,e,b,l){var f=this,k=f.managedListeners=f.managedListeners||[],g,j;if(typeof d!=='string'){j=arguments.length>4?b:d;b=d;for(d in b){if(b.hasOwnProperty(d)){g=b[d];if(!f.eventOptionsRe.test(d)){f.addManagedListener(i,d,g.fn||g,g.scope||b.scope||e,g.fn?g:j,!0)}}}if(b&&b.destroyable){return new a(f,i,b)}}else {if(typeof h==='string'){e=e||f;h=Ext.resolveMethod(h,e)}k.push({item:i,ename:d,fn:h,scope:e,options:b});i.on(d,h,e,b);if(!l&&b&&b.destroyable){return new a(f,i,d,h,e)}}},removeManagedListener:function(k,a,g,e){var b=this,d,f,i,j,h,l;if(typeof a!=='string'){d=a;for(a in d){if(d.hasOwnProperty(a)){f=d[a];if(!b.eventOptionsRe.test(a)){b.removeManagedListener(k,a,f.fn||f,f.scope||d.scope||e)}}}}else {i=b.managedListeners?b.managedListeners.slice():[];if(typeof g==='string'){e=e||b;g=Ext.resolveMethod(g,e)}for(h=0,j=i.length;h<j;h++){b.removeManagedListenerItem(!1,i[h],k,a,g,e)}}},fireEvent:function(a){return this.fireEventArgs(a,b.call(arguments,1))},fireEventArgs:function(a,h){a=a.toLowerCase();var b=this,d=b.events,e=d&&d[a],g=!0;if(e&&b.hasListeners[a]){g=b.continueFireEvent(a,h||f,e.bubble)}return g},continueFireEvent:function(e,h,f){var a=this,g,b,d=!0;do{if(a.eventsSuspended){if(g=a.eventQueue){g.push([e,h,f])}return d}else {b=a.events[e];if(b&&b!==!0){if((d=b.fire.apply(b,h))===!1){break}}}}while(f&&(a=a.getBubbleParent()));return d},getBubbleParent:function(){var b=this,a=b.getBubbleTarget&&b.getBubbleTarget();if(a&&a.isObservable){return a}return null},addListener:function(b,j,i,e){var f=this,h,g,k=0;if(typeof b!=='string'){e=b;for(b in e){if(e.hasOwnProperty(b)){h=e[b];if(!f.eventOptionsRe.test(b)){f.addListener(b,h.fn||h,h.scope||e.scope,h.fn?h:e)}}}if(e&&e.destroyable){return new a(f,e)}}else {b=b.toLowerCase();g=f.events[b];if(g&&g.isEvent){k=g.listeners.length}else {f.events[b]=g=new d(f,b)}if(typeof j==='string'){i=i||f;j=Ext.resolveMethod(j,i)}g.addListener(j,i,e);if(g.listeners.length!==k){f.hasListeners._incr_(b)}if(e&&e.destroyable){return new a(f,b,j,i,e)}}},removeListener:function(a,h,g){var d=this,e,f,b;if(typeof a!=='string'){b=a;for(a in b){if(b.hasOwnProperty(a)){e=b[a];if(!d.eventOptionsRe.test(a)){d.removeListener(a,e.fn||e,e.scope||b.scope)}}}}else {a=a.toLowerCase();f=d.events[a];if(f&&f.isEvent){if(typeof h==='string'){g=g||d;h=Ext.resolveMethod(h,g)}if(f.removeListener(h,g)){d.hasListeners._decr_(a)}}}},clearListeners:function(){var b=this.events,e=this.hasListeners,d,a;for(a in b){if(b.hasOwnProperty(a)){d=b[a];if(d.isEvent){delete e[a];d.clearListeners()}}}this.clearManagedListeners()},clearManagedListeners:function(){var b=this.managedListeners||[],a=0,d=b.length;for(;a<d;a++){this.removeManagedListenerItem(!0,b[a])}this.managedListeners=[]},removeManagedListenerItem:function(b,a,g,f,e,d){if(b||a.item===g&&a.ename===f&&(!e||a.fn===e)&&(!d||a.scope===d)){a.item.un(a.ename,a.fn,a.scope);if(!b){Ext.Array.remove(this.managedListeners,a)}}},addEvents:function(g){var d=this,f=d.events||(d.events={}),b,a,e;if(typeof g=='string'){for(a=arguments,e=a.length;e--;){b=a[e];if(!f[b]){f[b]=!0}}}else {Ext.applyIf(d.events,g)}},hasListener:function(a){return !!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended+=1;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(e){var d=arguments.length,b,a;for(b=0;b<d;b++){a=this.events[arguments[b]];if(a&&a.suspend){a.suspend()}}},resumeEvent:function(){var d=arguments.length,b,a;for(b=0;b<d;b++){a=this.events[arguments[b]];if(a&&a.resume){a.resume()}}},resumeEvents:function(){var a=this,d=a.eventQueue,e,b;if(a.eventsSuspended&&!--a.eventsSuspended){delete a.eventQueue;if(d){e=d.length;for(b=0;b<e;b++){a.continueFireEvent.apply(a,d[b])}}}},relayEvents:function(h,g,i){var e=this,j=g.length,f=0,b,d={};for(;f<j;f++){b=g[f];d[b]=e.createRelayer(i?i+b:b)}e.mon(h,d,null,null,undefined);return new a(e,h,d)},createRelayer:function(e,a){var d=this;return function(){return d.fireEventArgs.call(d,e,a?b.apply(arguments,a):arguments)}},enableBubble:function(f){if(f){var g=this,i=typeof f=='string'?arguments:f,j=i.length,h=g.events,a,b,e;for(e=0;e<j;++e){a=i[e].toLowerCase();b=h[a];if(!b||typeof b=='boolean'){h[a]=b=new d(g,a)}g.hasListeners._incr_(a);b.bubble=!0}}}}},1,0,0,0,0,0,[Ext.util,'Observable'],function(){var a=this,e=a.prototype,d=function(){},c=function(b){if(!b.HasListeners){var d=b.prototype;a.prepareClass(b,this);b.onExtended(function(c){a.prepareClass(c)});if(d.onClassMixedIn){Ext.override(b,{onClassMixedIn:function(a){c.call(this,a);this.callParent(arguments)}})}else {d.onClassMixedIn=function(a){c.call(this,a)}}}},b;d.prototype={_decr_:function(a){if(!--this[a]){delete this[a]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else {this[a]=1}}};e.HasListeners=a.HasListeners=d;a.createAlias({on:'addListener',un:'removeListener',mon:'addManagedListener',mun:'removeManagedListener'});a.observeClass=a.observe;Ext.globalEvents=b=new a({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return b.addListener.apply(b,arguments)};Ext.un=function(){return b.removeListener.apply(b,arguments)};function getMethodEvent(e){var a=(this.methodEvents=this.methodEvents||{})[e],c,b,d,g=this,f;if(!a){this.methodEvents[e]=a={};a.originalFn=this[e];a.methodName=e;a.before=[];a.after=[];f=function(h,a,f){if((b=h.apply(a||g,f))!==undefined){if(typeof b=='object'){if(b.returnValue!==undefined){c=b.returnValue}else {c=b}d=!!b.cancel}else {if(b===!1){d=!0}else {c=b}}}};this[e]=function(){var k=Array.prototype.slice.call(arguments,0),i,h,j;c=b=undefined;d=!1;for(h=0,j=a.before.length;h<j;h++){i=a.before[h];f(i.fn,i.scope,k);if(d){return c}}if((b=a.originalFn.apply(g,k))!==undefined){c=b}for(h=0,j=a.after.length;h<j;h++){i=a.after[h];f(i.fn,i.scope,k);if(d){return c}}return c}}return a}Ext.apply(e,{onClassMixedIn:c,beforeMethod:function(a,c,b){getMethodEvent.call(this,a).before.push({fn:c,scope:b})},afterMethod:function(a,c,b){getMethodEvent.call(this,a).after.push({fn:c,scope:b})},removeMethodListener:function(f,e,d){var b=this.getMethodEvent(f),a,c;for(a=0,c=b.before.length;a<c;a++){if(b.before[a].fn==e&&b.before[a].scope==d){Ext.Array.erase(b.before,a,1);return}}for(a=0,c=b.after.length;a<c;a++){if(b.after[a].fn==e&&b.after[a].scope==d){Ext.Array.erase(b.after,a,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?'capture':'releaseCapture'](this,function(b){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(b,arguments)}})}})});Ext.cmd.derive('Ext.EventObjectImpl',Ext.Base,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;if(Ext.isGecko){a=3}else {if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120}else {a=12}a*=3}else {a=120}}return a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){if(a){this.setEvent(a.browserEvent||a,b)}},setEvent:function(a,e){var b=this,c,d;if(a===b||a&&a.browserEvent){return a}b.browserEvent=a;if(a){c=a.button?b.btnMap[a.button]:a.which?a.which-1:-1;if(b.clickRe.test(a.type)&&c==-1){c=0}d={type:a.type,button:c,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||!1,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:e?b.getXY():null}}else {d={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]}}Ext.apply(b,d);return b},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){Ext.EventManager.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this.browserEvent;if(a){if(a.type=='mousedown'){Ext.EventManager.stoppedMouseDownEvent.fire(this)}Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy){this.xy=Ext.EventManager.getPageXY(this.browserEvent)}return this.xy},getTarget:function(b,c,a){if(b){return Ext.fly(this.target).findParent(b,c,a)}return a?Ext.get(this.target):this.target},getRelatedTarget:function(b,c,a){if(b&&this.relatedTarget){return Ext.fly(this.relatedTarget).findParent(b,c,a)}return a?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var c=this.WHEEL_SCALE,b=Math.round(a/c);if(!b&&a){b=a<0?-1:1}return b},getWheelDeltas:function(){var d=this,a=d.browserEvent,c=0,b=0;if(Ext.isDefined(a.wheelDeltaX)){c=a.wheelDeltaX;b=a.wheelDeltaY}else {if(a.wheelDelta){b=a.wheelDelta}else {if(a.detail){b=-a.detail;if(b>100){b=3}else {if(b<-100){b=-3}}if(Ext.isDefined(a.axis)&&a.axis===a.HORIZONTAL_AXIS){c=b;b=0}}}}return {x:d.correctWheelDelta(c),y:d.correctWheelDelta(b)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(b,e,d){if(b){var c=e?this.getRelatedTarget():this.getTarget(),a;if(c){a=Ext.fly(b,'_internal').contains(c);if(!a&&d){a=c==Ext.getDom(b)}return a}}return !1},isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return a>=33&&a<=40||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return this.type=='keypress'&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&a<=20||a>=44&&a<=46},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){var a,b={},c;if(!Ext.isIE9m&&document.createEvent){a={createHtmlEvent:function(e,d,c,b){var a=e.createEvent('HTMLEvents');a.initEvent(d,c,b);return a},createMouseEvent:function(d,n,h,f,m,b,c,i,k,g,j,l,e){var a=d.createEvent('MouseEvents'),o=d.defaultView||window;if(a.initMouseEvent){a.initMouseEvent(n,h,f,o,m,b,c,b,c,i,k,g,j,l,e)}else {a=d.createEvent('UIEvents');a.initEvent(n,h,f);a.view=o;a.detail=m;a.screenX=b;a.screenY=c;a.clientX=b;a.clientY=c;a.ctrlKey=i;a.altKey=k;a.metaKey=j;a.shiftKey=g;a.button=l;a.relatedTarget=e}return a},createUIEvent:function(b,f,d,c,e){var a=b.createEvent('UIEvents'),g=b.defaultView||window;a.initUIEvent(f,d,c,g,e);return a},fireEvent:function(a,c,b){a.dispatchEvent(b)},fixTarget:function(a){if(a==window&&!a.dispatchEvent){return document}return a}}}else {if(document.createEventObject){c={0:1,1:4,2:2};a={createHtmlEvent:function(d,e,c,b){var a=d.createEventObject();a.bubbles=c;a.cancelable=b;return a},createMouseEvent:function(n,o,i,g,m,b,d,j,l,h,k,e,f){var a=n.createEventObject();a.bubbles=i;a.cancelable=g;a.detail=m;a.screenX=b;a.screenY=d;a.clientX=b;a.clientY=d;a.ctrlKey=j;a.altKey=l;a.shiftKey=h;a.metaKey=k;a.button=c[e]||e;a.relatedTarget=f;return a},createUIEvent:function(d,f,c,b,e){var a=d.createEventObject();a.bubbles=c;a.cancelable=b;return a},fireEvent:function(a,c,b){a.fireEvent('on'+c,b)},fixTarget:function(a){if(a==document){return document.documentElement}return a}}}}Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(c,d){var f=d[0],e=d[1];b[c]=function(b,h){var g=a.createHtmlEvent(c,f,e);a.fireEvent(b,c,g)}});function createMouseEventDispatcher(b,d){var c=b!='mousemove';return function(f,e){var g=e.getXY(),h=a.createMouseEvent(f.ownerDocument,b,!0,c,d,g[0],g[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);a.fireEvent(f,b,h)}}Ext.each(['click','dblclick','mousedown','mouseup','mouseover','mousemove','mouseout'],function(a){b[a]=createMouseEventDispatcher(a,1)});Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(c,d){var f=d[0],e=d[1];b[c]=function(b,h){var g=a.createUIEvent(b.ownerDocument,c,f,e,1);a.fireEvent(b,c,g)}});if(!a){b={};a={fixTarget:Ext.identityFn}}function cannotInject(b,a){}return function(c){var d=this,f=b[d.type]||cannotInject,e=c?c.dom||c:d.getTarget();e=a.fixTarget(e);f(e,d)}}()},1,0,0,0,0,0,[Ext,'EventObjectImpl'],function(){Ext.EventObject=new Ext.EventObjectImpl()});Ext.cmd.derive('Ext.dom.AbstractQuery',Ext.Base,{select:function(c,a){var f=[],d,b,e,h,g;a=a||document;if(typeof a=='string'){a=document.getElementById(a)}c=c.split(',');for(b=0,h=c.length;b<h;b++){if(typeof c[b]=='string'){if(typeof c[b][0]=='@'){d=a.getAttributeNode(c[b].substring(1));f.push(d)}else {d=a.querySelectorAll(c[b]);for(e=0,g=d.length;e<g;e++){f.push(d[e])}}}}return f},selectNode:function(b,a){return this.select(b,a)[0]},is:function(a,b){if(typeof a=='string'){a=document.getElementById(a)}return this.select(b).indexOf(a)!==-1}},0,0,0,0,0,0,[Ext.dom,'AbstractQuery'],0);Ext.cmd.derive('Ext.dom.AbstractHelper',Ext.Base,{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:'class',htmlFor:'for'},closeTags:{},decamelizeName:function(){var b=/([a-z])([A-Z])/g,a={};function decamel(c,a,b){return a+'-'+b.toLowerCase()}return function(c){return a[c]||(a[c]=c.replace(b,decamel))}}(),generateMarkup:function(a,b){var e=this,i=typeof a,d,c,f,g,h;if(i=='string'||i=='number'){b.push(a)}else {if(Ext.isArray(a)){for(g=0;g<a.length;g++){if(a[g]){e.generateMarkup(a[g],b)}}}else {f=a.tag||'div';b.push('<',f);for(d in a){if(a.hasOwnProperty(d)){c=a[d];if(!e.confRe.test(d)){if(typeof c=='object'){b.push(' ',d,'="');e.generateStyles(c,b).push('"')}else {b.push(' ',e.attributeTransform[d]||d,'="',c,'"')}}}}if(e.emptyTags.test(f)){b.push('/>')}else {b.push('>');if(c=a.tpl){c.applyOut(a.tplData,b)}if(c=a.html){b.push(c)}if(c=a.cn||a.children){e.generateMarkup(c,b)}h=e.closeTags;b.push(h[f]||(h[f]='</'+f+'>'))}}}return b},generateStyles:function(b,c){var d=c||[],a;for(a in b){if(b.hasOwnProperty(a)){d.push(this.decamelizeName(a),':',b[a],';')}}return c||d.join('')},markup:function(a){if(typeof a=='string'){return a}var b=this.generateMarkup(a,[]);return b.join('')},applyStyles:function(b,a){if(a){var c=0,d;b=Ext.fly(b,'_applyStyles');if(typeof a=='function'){a=a.call()}if(typeof a=='string'){a=Ext.util.Format.trim(a).split(this.styleSepRe);for(d=a.length;c<d;){b.setStyle(a[c++],a[c++])}}else {if(Ext.isObject(a)){b.setStyle(a)}}}},insertHtml:function(b,a,h){var g={},e,c,d,f;b=b.toLowerCase();g['beforebegin']=['BeforeBegin','previousSibling'];g['afterend']=['AfterEnd','nextSibling'];c=a.ownerDocument.createRange();e='setStart'+(this.endRe.test(b)?'After':'Before');if(g[b]){c[e](a);d=c.createContextualFragment(h);a.parentNode.insertBefore(d,b=='beforebegin'?a:a.nextSibling);return a[(b=='beforebegin'?'previous':'next')+'Sibling']}else {f=(b=='afterbegin'?'first':'last')+'Child';if(a.firstChild){c[e](a[f]);d=c.createContextualFragment(h);if(b=='afterbegin'){a.insertBefore(d,a.firstChild)}else {a.appendChild(d)}}else {a.innerHTML=h}return a[f]}throw 'Illegal insertion point -> "'+b+'"'},insertBefore:function(b,c,a){return this.doInsert(b,c,a,'beforebegin')},insertAfter:function(b,c,a){return this.doInsert(b,c,a,'afterend','nextSibling')},insertFirst:function(b,c,a){return this.doInsert(b,c,a,'afterbegin','firstChild')},append:function(b,c,a){return this.doInsert(b,c,a,'beforeend','',!0)},overwrite:function(a,c,b){a=Ext.getDom(a);a.innerHTML=this.markup(c);return b?Ext.get(a.firstChild):a.firstChild},doInsert:function(d,e,b,c,f,g){var a=this.insertHtml(c,Ext.getDom(d),this.markup(e));return b?Ext.get(a,!0):a}},0,0,0,0,0,0,[Ext.dom,'AbstractHelper'],0);Ext.define('Ext.dom.AbstractElement_static',{override:'Ext.dom.AbstractElement',inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:'px',borders:{l:'border-left-width',r:'border-right-width',t:'border-top-width',b:'border-bottom-width'},paddings:{l:'padding-left',r:'padding-right',t:'padding-top',b:'padding-bottom'},margins:{l:'margin-left',r:'margin-right',t:'margin-top',b:'margin-bottom'},addUnits:function(a,b){if(typeof a=='number'){return a+(b||this.defaultUnit||'px')}if(a===''||a=='auto'||a===undefined||a===null){return a||''}if(!this.unitRe.test(a)){return a||''}return a},isAncestor:function(b,a){var c=!1;b=Ext.getDom(b);a=Ext.getDom(a);if(b&&a){if(b.contains){return b.contains(a)}else {if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(a)&16)}else {while(a=a.parentNode){c=a==b||c}}}}return c},parseBox:function(b){b=b||0;var d=typeof b,a,c;if(d==='number'){return {top:b,right:b,bottom:b,left:b}}else {if(d!=='string'){return b}}a=b.split(' ');c=a.length;if(c==1){a[1]=a[2]=a[3]=a[0]}else {if(c==2){a[2]=a[0];a[3]=a[1]}else {if(c==3){a[3]=a[1]}}}return {top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},unitizeBox:function(d,a){var b=this.addUnits,c=this.parseBox(d);return b(c.top,a)+' '+b(c.right,a)+' '+b(c.bottom,a)+' '+b(c.left,a)},camelReplaceFn:function(b,a){return a.charAt(1).toUpperCase()},normalize:function(a){if(a=='float'){a=Ext.supports.Float?'cssFloat':'styleFloat'}return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,'ms-').replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return {width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return window.orientation==0?'portrait':'landscape'}return window.innerHeight>window.innerWidth?'portrait':'landscape'},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(b){var d={},c=this.cssRe,a;if(b){c.lastIndex=0;while(a=c.exec(b)){d[a[1]]=a[2]||''}}return d}}},function(){var a=document,b=null,c=a.compatMode=='CSS1Compat';if(!('activeElement' in a)&&a.addEventListener){a.addEventListener('focus',function(c){if(c&&c.target){b=c.target==a?null:c.target}},!0)}function makeSelectionRestoreFn(a,b,c){return function(){a.selectionStart=b;a.selectionEnd=c}}this.addInheritableStatics({getActiveElement:function(){var c;try{c=a.activeElement}catch(d){}c=c||b;if(!c){c=b=document.body}return c},getRightMarginFixCleaner:function(j){var i=Ext.supports,h=i.DisplayChangeInputSelectionBug,g=i.DisplayChangeTextAreaSelectionBug,c,f,d,e;if(h||g){c=a.activeElement||b;f=c&&c.tagName;if(g&&f=='TEXTAREA'||h&&f=='INPUT'&&c.type=='text'){if(Ext.dom.Element.isAncestor(j,c)){d=c.selectionStart;e=c.selectionEnd;if(Ext.isNumber(d)&&Ext.isNumber(e)){return makeSelectionRestoreFn(c,d,e)}}}}return Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!c?a.body.scrollHeight:a.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!c?a.body.scrollWidth:a.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?a.documentElement.clientHeight:a.body.clientHeight:self.innerHeight},getViewportWidth:function(){return !Ext.isStrict&&!Ext.isOpera?a.body.clientWidth:Ext.isIE9m?a.documentElement.clientWidth:self.innerWidth},serializeForm:function(j){var k=j.elements||(document.forms[j]||Ext.getDom(j)).elements,l=!1,d=encodeURIComponent,e='',o=k.length,a,f,c,i,m,g,h,n,b;for(g=0;g<o;g++){a=k[g];f=a.name;c=a.type;i=a.options;if(!a.disabled&&f){if(/select-(one|multiple)/i.test(c)){n=i.length;for(h=0;h<n;h++){b=i[h];if(b.selected){m=b.hasAttribute?b.hasAttribute('value'):b.getAttributeNode('value').specified;e+=Ext.String.format('{0}={1}&',d(f),d(m?b.value:b.text))}}}else {if(!/file|undefined|reset|button/i.test(c)){if(!(/radio|checkbox/i.test(c)&&!a.checked)&&!(c=='submit'&&l)){e+=d(f)+'='+d(a.value)+'&';l=/submit/i.test(c)}}}}}return e.substr(0,e.length-1)}})});Ext.define('Ext.dom.AbstractElement_insertion',{override:'Ext.dom.AbstractElement',appendChild:function(a,c){var e=this,b,f,d,g;if(a.nodeType||a.dom||typeof a=='string'){a=Ext.getDom(a);e.dom.appendChild(a);return !c?Ext.get(a):a}else {if(a.length){b=Ext.fly(document.createDocumentFragment(),'_internal');f=a.length;Ext.DomHelper.useDom=!0;for(d=0;d<f;d++){b.appendChild(a[d],c)}Ext.DomHelper.useDom=g;e.dom.appendChild(b.dom);return c?b.dom:b}else {return e.createChild(a,null,c)}}},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=='string'){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return !b?Ext.get(a):a}else {return this.createChild(a,this.dom.firstChild,b)}},insertSibling:function(a,k,e){var b=this,d=Ext.core.DomHelper,j=d.useDom,f=(k||'before').toLowerCase()=='after',c,h,i,g;if(Ext.isArray(a)){h=Ext.fly(document.createDocumentFragment(),'_internal');i=a.length;d.useDom=!0;for(g=0;g<i;g++){c=h.appendChild(a[g],e)}d.useDom=j;b.dom.parentNode.insertBefore(h.dom,f?b.dom.nextSibling:b.dom);return c}a=a||{};if(a.nodeType||a.dom){c=b.dom.parentNode.insertBefore(Ext.getDom(a),f?b.dom.nextSibling:b.dom);if(!e){c=Ext.get(c)}}else {if(f&&!b.dom.nextSibling){c=d.append(b.dom.parentNode,a,!e)}else {c=d[f?'insertAfter':'insertBefore'](b.dom,a,!e)}}return c},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(b){var a=this;if(b.nodeType||b.dom||typeof b=='string'){b=Ext.get(b);a.dom.parentNode.insertBefore(b.dom,a.dom)}else {b=Ext.core.DomHelper.insertBefore(a.dom,b)}delete Ext.cache[a.id];Ext.removeNode(a.dom);a.id=Ext.id(a.dom=b);Ext.dom.AbstractElement.addToCache(a.isFlyweight?new Ext.dom.AbstractElement(a.dom):a);return a},createChild:function(a,b,c){a=a||{tag:'div'};if(b){return Ext.core.DomHelper.insertBefore(b,a,c!==!0)}else {return Ext.core.DomHelper.append(this.dom,a,c!==!0)}},wrap:function(e,d,b){var a=Ext.core.DomHelper.insertBefore(this.dom,e||{tag:'div'},!0),c=a;if(b){c=Ext.DomQuery.selectNode(b,a.dom)}c.appendChild(this.dom);return d?a.dom:a},insertHtml:function(c,d,b){var a=Ext.core.DomHelper.insertHtml(c,this.dom,d);return b?Ext.get(a):a}});Ext.define('Ext.dom.AbstractElement_style',{override:'Ext.dom.AbstractElement'},function(){var a=this,q=/\w/g,m=/\s+/,k=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,h=Ext.supports.ClassList,b='padding',d='margin',c='border',i='-left',g='-right',j='-top',f='-bottom',e='-width',o={l:c+i+e,r:c+g+e,t:c+j+e,b:c+f+e},n={l:b+i,r:b+g,t:b+j,b:b+f},p={l:d+i,r:d+g,t:d+j,b:d+f},l=new a.Fly();Ext.override(a,{styleHooks:{},addStyles:function(h,g){var f=0,c=(h||'').match(q),a,e=c.length,d,b=[];if(e==1){f=Math.abs(parseFloat(this.getStyle(g[c[0]]))||0)}else {if(e){for(a=0;a<e;a++){d=c[a];b.push(g[d])}b=this.getStyle(b);for(a=0;a<e;a++){d=c[a];f+=Math.abs(parseFloat(b[g[d]])||0)}}}return f},addCls:function(){var b=function(b){var h=this,e=h.dom,i=h.trimRe,k=b,g,c,f,j,d;if(typeof b=='string'){b=b.replace(i,'').split(m)}if(e&&b&&!!(j=b.length)){if(!e.className){e.className=b.join(' ')}else {g=e.classList;if(g){for(f=0;f<j;++f){d=b[f];if(d){if(!g.contains(d)){if(c){c.push(d)}else {c=e.className.replace(i,'');c=c?[c,d]:[d]}}}}if(c){e.className=c.join(' ')}}else {a(k)}}}return h},a=function(a){var d=this,c=d.dom,b;if(c&&a&&a.length){b=Ext.Element.mergeClsList(c.className,a);if(b.changed){c.className=b.join(' ')}}return d};return h?b:a}(),removeCls:function(a){var e=this,b=e.dom,c,f,d;if(typeof a=='string'){a=a.replace(e.trimRe,'').split(m)}if(b&&b.className&&a&&!!(f=a.length)){c=b.classList;if(f===1&&c){if(a[0]){c.remove(a[0])}}else {d=Ext.Element.removeCls(b.className,a);if(d.changed){b.className=d.join(' ')}}}return e},radioCls:function(a){var e=this.dom.parentNode.childNodes,c,b,d;a=Ext.isArray(a)?a:[a];for(b=0,d=e.length;b<d;b++){c=e[b];if(c&&c.nodeType==1){l.attach(c).removeCls(a)}}return this.addCls(a)},toggleCls:function(){var b=function(b){var d=this,e=d.dom,c;if(e){b=b.replace(d.trimRe,'');if(b){c=e.classList;if(c){c.toggle(b)}else {a(b)}}}return d},a=function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)};return h?b:a}(),hasCls:function(){var b=function(c){var e=this.dom,d=!1,b;if(e&&c){b=e.classList;if(b){d=b.contains(c)}else {d=a(c)}}return d},a=function(a){var b=this.dom;return b?a&&(' '+b.className+' ').indexOf(' '+a+' ')!==-1:!1};return h?b:a}(),replaceCls:function(b,a){return this.removeCls(b).addCls(a)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(n,i){var k=this,e=k.dom,m=typeof n!='string',p=k.styleHooks,b=n,j=b,q=1,h,o,f,d,g,c,l;if(m){f={};b=j[0];l=0;if(!(q=j.length)){return f}}if(!e||e.documentElement){return f||''}h=e.style;if(i){c=h}else {c=e.ownerDocument.defaultView.getComputedStyle(e,null);if(!c){i=!0;c=h}}do{d=p[b];if(!d){p[b]=d={name:a.normalize(b)}}if(d.get){g=d.get(e,k,i,c)}else {o=d.name;g=c[o]}if(!m){return g}f[b]=g;b=j[++l]}while(l<q);return f},getStyles:function(){var a=Ext.Array.slice(arguments),c=a.length,b;if(c&&typeof a[c-1]=='boolean'){b=a.pop()}return this.getStyle(a,b)},isTransparent:function(b){var a=this.getStyle(b);return a?k.test(a):!1},setStyle:function(h,c){var e=this,f=e.dom,g=e.styleHooks,i=f.style,d=h,b;if(typeof d=='string'){b=g[d];if(!b){g[d]=b={name:a.normalize(d)}}c=c==null?'':c;if(b.set){b.set(f,c,e)}else {i[b.name]=c}if(b.afterSet){b.afterSet(f,c,e)}}else {for(d in h){if(h.hasOwnProperty(d)){b=g[d];if(!b){g[d]=b={name:a.normalize(d)}}c=h[d];c=c==null?'':c;if(b.set){b.set(f,c,e)}else {i[b.name]=c}if(b.afterSet){b.afterSet(f,c,e)}}}}return e},getHeight:function(c){var b=this.dom,a=c?b.clientHeight-this.getPadding('tb'):b.offsetHeight;return a>0?a:0},getWidth:function(c){var b=this.dom,a=c?b.clientWidth-this.getPadding('lr'):b.offsetWidth;return a>0?a:0},setWidth:function(c){var b=this;b.dom.style.width=a.addUnits(c);return b},setHeight:function(c){var b=this;b.dom.style.height=a.addUnits(c);return b},getBorderWidth:function(a){return this.addStyles(a,o)},getPadding:function(a){return this.addStyles(a,n)},margins:p,applyStyles:function(b){if(b){var c,d,e=this.dom;if(typeof b=='function'){b=b.call()}if(typeof b=='string'){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(c=0,d=b.length;c<d;){e.style[a.normalize(b[c++])]=b[c++]}}else {if(typeof b=='object'){this.setStyle(b)}}}},setSize:function(b,c){var e=this,d=e.dom.style;if(Ext.isObject(b)){c=b.height;b=b.width}d.width=a.addUnits(b);d.height=a.addUnits(c);return e},getViewSize:function(){var c=document,b=this.dom;if(b==c||b==c.body){return {width:a.getViewportWidth(),height:a.getViewportHeight()}}else {return {width:b.clientWidth,height:b.clientHeight}}},getSize:function(b){var a=this.dom;return {width:Math.max(0,b?a.clientWidth-this.getPadding('lr'):a.offsetWidth),height:Math.max(0,b?a.clientHeight-this.getPadding('tb'):a.offsetHeight)}},repaint:function(){var a=this.dom;this.addCls('x-repaint');setTimeout(function(){l.attach(a).removeCls('x-repaint')},1);return this},getMargin:function(e){var a=this,f={t:'top',l:'left',r:'right',b:'bottom'},b,c,d;if(!e){d=[];for(b in a.margins){if(a.margins.hasOwnProperty(b)){d.push(a.margins[b])}}c=a.getStyle(d);if(c&&typeof c=='object'){for(b in a.margins){if(a.margins.hasOwnProperty(b)){c[f[b]]=parseFloat(c[a.margins[b]])||0}}}return c}else {return a.addStyles(e,a.margins)}},mask:function(h,d,j){var a=this,k=a.dom,f=(a.$cache||a.getCache()).data,i=f.mask,e,c,g='',b='x-';a.addCls(b+'masked');if(a.getStyle('position')=='static'){a.addCls(b+'masked-relative')}if(i){i.remove()}if(d&&typeof d=='string'){g=' '+d}else {g=' '+b+'mask-gray'}e=a.createChild({cls:b+'mask'+(j!==!1?'':' '+b+'mask-gray'),html:h?'<div class="'+(d||b+'mask-message')+'">'+h+'</div>':''});c=a.getSize();f.mask=e;if(k===document.body){c.height=window.innerHeight;if(a.orientationHandler){Ext.EventManager.unOrientationChange(a.orientationHandler,a)}a.orientationHandler=function(){c=a.getSize();c.height=window.innerHeight;e.setSize(c)};Ext.EventManager.onOrientationChange(a.orientationHandler,a)}e.setSize(c);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var a=this,c=(a.$cache||a.getCache()).data,d=c.mask,b='x-';if(d){d.remove();delete c.mask}a.removeCls([b+'masked',b+'masked-relative']);if(a.dom===document.body){Ext.EventManager.unOrientationChange(a.orientationHandler,a);delete a.orientationHandler}}});Ext.onReady(function(){var b=Ext.supports,c,d,g,f,e;function fixTransparent(d,e,c,b){var a=b[this.name]||'';return k.test(a)?'transparent':a}function fixRightMargin(c,g,f,e){var b=e.marginRight,a,d;if(b!='0px'){a=c.style;d=a.display;a.display='inline-block';b=(f?e:c.ownerDocument.defaultView.getComputedStyle(c,null)).marginRight;a.display=d}return b}function fixRightMarginAndInputFocus(c,i,h,g){var d=g.marginRight,b,e,f;if(d!='0px'){b=c.style;e=a.getRightMarginFixCleaner(c);f=b.display;b.display='inline-block';d=(h?g:c.ownerDocument.defaultView.getComputedStyle(c,'')).marginRight;b.display=f;e()}return d}c=a.prototype.styleHooks;if(b.init){b.init()}if(!b.RightMargin){c.marginRight=c['margin-right']={name:'marginRight',get:b.DisplayChangeInputSelectionBug||b.DisplayChangeTextAreaSelectionBug?fixRightMarginAndInputFocus:fixRightMargin}}if(!b.TransparentColor){d=['background-color','border-color','color','outline-color'];for(g=d.length;g--;){f=d[g];e=a.normalize(f);c[f]=c[e]={name:e,get:fixTransparent}}}})});Ext.define('Ext.dom.AbstractElement_traversal',{override:'Ext.dom.AbstractElement',findParent:function(e,b,f){var a=this.dom,g=document.documentElement,d=0,c;b=b||50;if(isNaN(b)){c=Ext.getDom(b);b=Number.MAX_VALUE}while(a&&a.nodeType==1&&d<b&&a!=g&&a!=c){if(Ext.DomQuery.is(a,e)){return f?Ext.get(a):a}d++;a=a.parentNode}return null},findParentNode:function(b,d,c){var a=Ext.fly(this.dom.parentNode,'_internal');return a?a.findParent(b,d,c):null},up:function(a,c,b){return this.findParentNode(a,c,!b)},select:function(b,a){return Ext.dom.Element.select(b,this.dom,a)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(c,b){var a=Ext.DomQuery.selectNode(c,this.dom);return b?a:Ext.get(a)},child:function(e,d){var b,c=this,a;a=Ext.id(c.dom);a=Ext.escapeId(a);b=Ext.DomQuery.selectNode('#'+a+' > '+e,c.dom);return d?b:Ext.get(b)},parent:function(b,a){return this.matchNode('parentNode','parentNode',b,a)},next:function(b,a){return this.matchNode('nextSibling','nextSibling',b,a)},prev:function(b,a){return this.matchNode('previousSibling','previousSibling',b,a)},first:function(b,a){return this.matchNode('nextSibling','firstChild',b,a)},last:function(b,a){return this.matchNode('previousSibling','lastChild',b,a)},matchNode:function(e,d,b,c){if(!this.dom){return null}var a=this.dom[d];while(a){if(a.nodeType==1&&(!b||Ext.DomQuery.is(a,b))){return !c?Ext.get(a):a}a=a[e]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});Ext.cmd.derive('Ext.dom.AbstractElement',Ext.Base,{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(a){var c=this,e=window.document,g=Ext.dom.Element,b,f,d,i,h;if(!a){return null}if(a.isFly){a=a.dom}if(typeof a=='string'){if(a==Ext.windowId){return g.get(window)}else {if(a==Ext.documentId){return g.get(e)}}b=Ext.cache[a];if(b&&b.skipGarbageCollection){d=b.el;return d}if(!(i=e.getElementById(a))){return null}if(b&&b.el){d=Ext.updateCacheEntry(b,i).el}else {d=new g(i,!!b)}return d}else {if(a.tagName){if(!(h=a.id)){h=Ext.id(a)}b=Ext.cache[h];if(b&&b.el){d=Ext.updateCacheEntry(b,a).el}else {d=new g(a,!!b)}return d}else {if(a instanceof c){if(a!=c.docEl&&a!=c.winEl){h=a.id;b=Ext.cache[h];if(b){Ext.updateCacheEntry(b,e.getElementById(h)||a.dom)}}return a}else {if(a.isComposite){return a}else {if(Ext.isArray(a)){return c.select(a)}else {if(a===e){if(!c.docEl){f=c.docEl=Ext.Object.chain(g.prototype);f.dom=e;f.el=f;f.id=Ext.id(e);c.addToCache(f)}return c.docEl}else {if(a===window){if(!c.winEl){c.winEl=Ext.Object.chain(g.prototype);c.winEl.dom=window;c.winEl.id=Ext.id(window);c.addToCache(c.winEl)}return c.winEl}}}}}}}return null},addToCache:function(a,b){if(a){Ext.addCacheEntry(b,a)}return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,e={},c,i,d,g,b,f=[],h=!1,k=this.trimRe,j=this.whitespaceRe;for(c=0,i=arguments.length;c<i;c++){a=arguments[c];if(Ext.isString(a)){a=a.replace(k,'').split(j)}if(a){for(d=0,g=a.length;d<g;d++){b=a[d];if(!e[b]){if(c){h=!0}e[b]=!0}}}}for(b in e){f.push(b)}f.changed=h;return f},removeCls:function(b,c){var e={},a,f,d,g=[],i=!1,h=this.whitespaceRe;if(b){if(Ext.isString(b)){b=b.replace(this.trimRe,'').split(h)}for(a=0,f=b.length;a<f;a++){e[b[a]]=!0}}if(c){if(Ext.isString(c)){c=c.split(h)}for(a=0,f=c.length;a<f;a++){d=c[a];if(e[d]){i=!0;delete e[d]}}}for(d in e){g.push(d)}g.changed=i;return g},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(d,e){var a=this,c=typeof d=='string'?document.getElementById(d):d,b;a.el=a;if(!c){return null}b=c.id;if(!e&&b&&Ext.cache[b]){return Ext.cache[b].el}a.dom=c;a.id=b||Ext.id(c);a.self.addToCache(a)},set:function(d,e){var c=this.dom,a,b;for(a in d){if(d.hasOwnProperty(a)){b=d[a];if(a=='style'){this.applyStyles(b)}else {if(a=='cls'){c.className=b}else {if(e!==!1){if(b===undefined){c.removeAttribute(a)}else {c.setAttribute(a,b)}}else {c[a]=b}}}}}return this},defaultUnit:'px',is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a},remove:function(){var a=this,b=a.dom;if(a.isAnimate){a.stopAnimation()}if(b){Ext.removeNode(b);delete a.dom}},contains:function(a){if(!a){return !1}var c=this,b=a.dom||a;return b===c.dom||Ext.dom.AbstractElement.isAncestor(c.dom,b)},getAttribute:function(a,c){var b=this.dom;return b.getAttributeNS(c,a)||b.getAttribute(c+':'+a)||b.getAttribute(a)||b[a]},update:function(a){if(this.dom){this.dom.innerHTML=a}return this},setHTML:function(a){if(this.dom){this.dom.innerHTML=a}return this},getHTML:function(){return this.dom?this.dom.innerHTML:''},hide:function(){this.setVisible(!1);return this},show:function(){this.setVisible(!0);return this},setVisible:function(d,f){var b=this,c=b.self,e=b.getVisibilityMode(),a='x-';switch(e){case c.VISIBILITY:b.removeCls([a+'hidden-display',a+'hidden-offsets']);b[d?'removeCls':'addCls'](a+'hidden-visibility');break;case c.DISPLAY:b.removeCls([a+'hidden-visibility',a+'hidden-offsets']);b[d?'removeCls':'addCls'](a+'hidden-display');break;case c.OFFSETS:b.removeCls([a+'hidden-visibility',a+'hidden-display']);b[d?'removeCls':'addCls'](a+'hidden-offsets');break;}return b},getVisibilityMode:function(){var b=(this.$cache||this.getCache()).data,a=b.visibilityMode;if(a===undefined){b.visibilityMode=a=this.self.DISPLAY}return a},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var a=this,b=a.dom.id||Ext.id(a.dom);a.$cache=Ext.cache[b]||Ext.addCacheEntry(b,null,a.dom);return a.$cache}},1,0,0,0,0,0,[Ext.dom,'AbstractElement'],function(){var a=this;Ext.getDetachedBody=function(){var b=a.detachedBodyEl;if(!b){b=document.createElement('div');a.detachedBodyEl=b=new a.Fly(b);b.isDetachedBody=!0}return b};Ext.getElementById=function(d){var b=document.getElementById(d),c;if(!b&&(c=a.detachedBodyEl)){b=c.dom.querySelector('#'+Ext.escapeId(d))}return b};Ext.get=function(a){return Ext.dom.Element.get(a)};this.addStatics({Fly:new Ext.Class({extend:a,isFly:!0,constructor:function(a){this.dom=a;this.el=this},attach:function(a){this.dom=a;this.$cache=a.id?Ext.cache[a.id]:null;return this}}),_flyweights:{},fly:function(b,c){var d=null,e=a._flyweights;c=c||'_global';b=Ext.getDom(b);if(b){d=e[c]||(e[c]=new a.Fly());d.dom=b;d.$cache=b.id?Ext.cache[b.id]:null}return d}});Ext.fly=function(){return a.fly.apply(a,arguments)};(function(a){a.destroy=a.remove;if(document.querySelector){a.getById=function(c,d){var b=document.getElementById(c)||this.dom.querySelector('#'+Ext.escapeId(c));return d?b:b?Ext.get(b):null}}else {a.getById=function(d,c){var b=document.getElementById(d);return c?b:b?Ext.get(b):null}}})(this.prototype)});Ext.cmd.derive('Ext.dom.Helper',Ext.dom.AbstractHelper,function(){var c='afterbegin',m='afterend',b='beforebegin',l='beforeend',i='<table>',h='</table>',g=i+'<tbody>',f='</tbody>'+h,o=g+'<tr>',n='</tr>'+f,a=document.createElement('div'),e=['BeforeBegin','previousSibling'],d=['AfterEnd','nextSibling'],j={beforebegin:e,afterend:d},k={beforebegin:e,afterend:d,afterbegin:['AfterBegin','firstChild'],beforeend:['BeforeEnd','lastChild']};return {tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(b,g){var a,f=document,h,c,d,i,e,j;if(Ext.isArray(b)){a=f.createDocumentFragment();for(e=0,j=b.length;e<j;e++){this.createDom(b[e],a)}}else {if(typeof b=='string'){a=f.createTextNode(b)}else {a=f.createElement(b.tag||'div');h=!!a.setAttribute;for(c in b){if(!this.confRe.test(c)){d=b[c];if(c=='cls'){a.className=d}else {if(h){a.setAttribute(c,d)}else {a[c]=d}}}}Ext.DomHelper.applyStyles(a,b.style);if(i=b.children||b.cn){this.createDom(i,a)}else {if(b.html){a.innerHTML=b.html}}}}if(g){g.appendChild(a)}return a},ieTable:function(g,f,e,d){a.innerHTML=[f,e,d].join('');var h=-1,b=a,c;while(++h<g){b=b.firstChild}c=b.nextSibling;if(c){c=b;b=document.createDocumentFragment();while(c){nx=c.nextSibling;b.appendChild(c);c=nx}}return b},insertIntoTable:function(a,j,d,r){var e,t,q=j==b,k=j==c,s=j==l,p=j==m;if(a=='td'&&(k||s)||!this.tableElRe.test(a)&&(q||p)){return null}t=q?d:p?d.nextSibling:k?d.firstChild:null;if(q||p){d=d.parentNode}if(a=='td'||a=='tr'&&(s||k)){e=this.ieTable(4,o,r,n)}else {if((a=='tbody'||a=='thead')&&(s||k)||a=='tr'&&(q||p)){e=this.ieTable(3,g,r,f)}else {e=this.ieTable(2,i,r,h)}}d.insertBefore(e,t);return e},createContextualFragment:function(e){var c=document.createDocumentFragment(),d,b;a.innerHTML=e;b=a.childNodes;d=b.length;while(d--){c.appendChild(b[0])}return c},applyStyles:function(b,a){if(a){if(typeof a=='function'){a=a.call()}if(typeof a=='string'){a=Ext.dom.Element.parseStyles(a)}if(typeof a=='object'){Ext.fly(b,'_applyStyles').setStyle(a)}}},createHtml:function(a){return this.markup(a)},doInsert:function(a,d,e,g,c,f){a=a.dom||Ext.getDom(a);var b;if(this.useDom){b=this.createDom(d,null);if(f){a.appendChild(b)}else {(c=='firstChild'?a:a.parentNode).insertBefore(b,a[c]||a)}}else {b=this.insertHtml(g,a,this.markup(d))}return e?Ext.get(b,!0):b},overwrite:function(a,b,d){var c;a=Ext.getDom(a);b=this.markup(b);if(Ext.isIE&&this.tableRe.test(a.tagName)){while(a.firstChild){a.removeChild(a.firstChild)}if(b){c=this.insertHtml('afterbegin',a,b);return d?Ext.get(c):c}return null}a.innerHTML=b;return d?Ext.get(a.firstChild):a.firstChild},insertHtml:function(d,a,f){var h,g,l,i,e;d=d.toLowerCase();if(a.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(a.tagName)&&(e=this.insertIntoTable(a.tagName.toLowerCase(),d,a,f))){return e}if(h=k[d]){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){a.insertAdjacentHTML(h[0],f)})}else {a.insertAdjacentHTML(h[0],f)}return a[h[1]]}}else {if(a.nodeType===3){d=d==='afterbegin'?'beforebegin':d;d=d==='beforeend'?'afterend':d}g=Ext.supports.CreateContextualFragment?a.ownerDocument.createRange():undefined;i='setStart'+(this.endRe.test(d)?'After':'Before');if(j[d]){if(g){g[i](a);e=g.createContextualFragment(f)}else {e=this.createContextualFragment(f)}a.parentNode.insertBefore(e,d==b?a:a.nextSibling);return a[(d==b?'previous':'next')+'Sibling']}else {l=(d==c?'first':'last')+'Child';if(a.firstChild){if(g){g[i](a[l]);e=g.createContextualFragment(f)}else {e=this.createContextualFragment(f)}if(d==c){a.insertBefore(e,a.firstChild)}else {a.appendChild(e)}}else {a.innerHTML=f}return a[l]}}},createTemplate:function(b){var a=this.markup(b);return new Ext.Template(a)}}}(),0,0,0,0,0,0,[Ext.dom,'Helper'],function(){Ext.ns('Ext.core');Ext.DomHelper=Ext.core.DomHelper=new this()});Ext.cmd.derive('Ext.Template',Ext.Base,{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||'')}},constructor:function(f){var a=this,d=arguments,e=[],g=0,c=d.length,b;a.initialConfig={};if(c===1&&Ext.isArray(f)){d=f;c=d.length}if(c>1){for(;g<c;g++){b=d[g];if(typeof b=='object'){Ext.apply(a.initialConfig,b);Ext.apply(a,b)}else {e.push(b)}}}else {e.push(f)}a.html=e.join('');if(a.compiled){a.compile()}},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(b){var a=this,f=a.disableFormats!==!0,e=Ext.util.Format,d=a,c;if(a.compiled){return a.compiled(b).join('')}function fn(h,g,c,a){if(c&&f){if(a){a=[b[g]].concat(Ext.functionFactory('return ['+a+'];')())}else {a=[b[g]]}if(c.substr(0,5)=='this.'){return d[c.substr(5)].apply(d,a)}else {return e[c].apply(e,a)}}else {return b[g]!==undefined?b[g]:''}}c=a.html.replace(a.re,fn);return c},applyOut:function(c,a){var b=this;if(b.compiled){a.push.apply(a,b.compiled(c))}else {a.push(b.apply(c))}return a},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(c,b){var a=this;a.html=c;a.compiled=null;return b?a.compile():a},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;function fn(d,c,a,b){if(a&&useFormat){b=b?','+b:'';if(a.substr(0,5)!='this.'){a='fm.'+a+'('}else {a='this.'+a.substr(5)+'('}}else {b='';a="(values['"+c+"'] == undefined ? '' : "}return "',"+a+"values['"+c+"']"+b+") ,'"}bodyReturn=me.html.replace(me.compileARe,'\\\\').replace(me.compileBRe,'\\n').replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(c,b,a){return this.doInsert('afterBegin',c,b,a)},insertBefore:function(c,b,a){return this.doInsert('beforeBegin',c,b,a)},insertAfter:function(c,b,a){return this.doInsert('afterEnd',c,b,a)},append:function(c,b,a){return this.doInsert('beforeEnd',c,b,a)},doInsert:function(d,e,c,b){var a=Ext.DomHelper.insertHtml(d,Ext.getDom(e),this.apply(c));return b?Ext.get(a):a},overwrite:function(d,c,b){var a=Ext.DomHelper.overwrite(Ext.getDom(d),this.apply(c));return b?Ext.get(a):a}},1,0,0,0,0,0,[Ext,'Template'],0);Ext.cmd.derive('Ext.XTemplateParser',Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(f){var b=this,p=f.length,r={elseif:'elif'},o=b.topRe,q=b.actionsRe,i,d,j,c,g,n,l,m,h,e,a,k;b.level=0;b.stack=d=[];for(i=0;i<p;i=e){o.lastIndex=i;c=o.exec(f);if(!c){b.doText(f.substring(i,p));break}h=c.index;e=o.lastIndex;if(i<h){b.doText(f.substring(i,h))}if(c[1]){e=f.indexOf('%}',h+2);b.doEval(f.substring(h+2,e));e+=2}else {if(c[2]){e=f.indexOf(']}',h+2);b.doExpr(f.substring(h+2,e));e+=2}else {if(c[3]){b.doTag(c[3])}else {if(c[4]){a=null;while((m=q.exec(c[4]))!==null){j=m[2]||m[3];if(j){j=Ext.String.htmlDecode(j);g=m[1];g=r[g]||g;a=a||{};n=a[g];if(typeof n=='string'){a[g]=[n,j]}else {if(n){a[g].push(j)}else {a[g]=j}}}}if(!a){if(b.elseRe.test(c[4])){b.doElse()}else {if(b.defaultRe.test(c[4])){b.doDefault()}else {b.doTpl();d.push({type:'tpl'})}}}else {if(a['if']){b.doIf(a['if'],a);d.push({type:'if'})}else {if(a['switch']){b.doSwitch(a['switch'],a);d.push({type:'switch'})}else {if(a['case']){b.doCase(a['case'],a)}else {if(a['elif']){b.doElseIf(a['elif'],a)}else {if(a['for']){++b.level;if(k=b.propRe.exec(c[4])){a.propName=k[1]||k[2]}b.doFor(a['for'],a);d.push({type:'for',actions:a})}else {if(a['foreach']){++b.level;if(k=b.propRe.exec(c[4])){a.propName=k[1]||k[2]}b.doForEach(a['foreach'],a);d.push({type:'foreach',actions:a})}else {if(a.exec){b.doExec(a.exec,a);d.push({type:'exec',actions:a})}}}}}}}}}else {if(c[0].length===5){d.push({type:'tpl'})}else {l=d.pop();b.doEnd(l.type,l.actions);if(l.type=='for'||l.type=='foreach'){--b.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext,'XTemplateParser'],0);Ext.cmd.derive('Ext.XTemplateCompiler',Ext.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(c){var a=this,b=a.generate(c);return a.useEval?a.evalTpl(b):(new Function('Ext',b))(Ext)},generate:function(d){var a=this,b='var fm=Ext.util.Format,ts=Object.prototype.toString;',c;a.maxLevel=0;a.body=['var c0=values, a0='+a.createArrayTest(0)+', p0=parent, n0=xcount, i0=xindex, k0, v;\n'];if(a.definitions){if(typeof a.definitions==='string'){a.definitions=[a.definitions,b]}else {a.definitions.push(b)}}else {a.definitions=[b]}a.switches=[];a.parse(d);a.definitions.push((a.useEval?'$=':'return')+' function ('+a.fnArgs+') {',a.body.join(''),'}');c=a.definitions.join('\n');a.definitions.length=a.body.length=a.switches.length=0;delete a.definitions;delete a.body;delete a.switches;return c},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,'\\n');if(b.useIndex){c.push("out[out.length]='",a,"'\n")}else {c.push("out.push('",a,"')\n")}},doExpr:function(b){var a=this.body;a.push('if ((v='+b+') != null) out');if(this.useIndex){a.push("[out.length]=v+''\n")}else {a.push(".push(v+'')\n")}},doTag:function(b){var a=this.parseTag(b);if(a){this.doExpr(a)}else {this.doText('{'+b+'}')}},doElse:function(){this.body.push('} else {\n')},doEval:function(a){this.body.push(a,'\n')},doIf:function(b,c){var a=this;if(b==='.'){a.body.push('if (values) {\n')}else {if(a.propNameRe.test(b)){a.body.push('if (',a.parseTag(b),') {\n')}else {a.body.push('if (',a.addFn(b),a.callFn,') {\n')}}if(c.exec){a.doExec(c.exec)}},doElseIf:function(b,c){var a=this;if(b==='.'){a.body.push('else if (values) {\n')}else {if(a.propNameRe.test(b)){a.body.push('} else if (',a.parseTag(b),') {\n')}else {a.body.push('} else if (',a.addFn(b),a.callFn,') {\n')}}if(c.exec){a.doExec(c.exec)}},doSwitch:function(b){var a=this;if(b==='.'){a.body.push('switch (values) {\n')}else {if(a.propNameRe.test(b)){a.body.push('switch (',a.parseTag(b),') {\n')}else {a.body.push('switch (',a.addFn(b),a.callFn,') {\n')}}a.switches.push(0)},doCase:function(e){var a=this,c=Ext.isArray(e)?e:[e],d=a.switches.length-1,f,b;if(a.switches[d]){a.body.push('break;\n')}else {a.switches[d]++}for(b=0,d=c.length;b<d;++b){f=a.intRe.exec(c[b]);c[b]=f?f[1]:"'"+c[b].replace(a.aposRe,"\\'")+"'"}a.body.push('case ',c.join(': case '),':\n')},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push('break;\n')}else {a.switches[b]++}a.body.push('default:\n')},doEnd:function(c,d){var a=this,b=a.level-1;if(c=='for'||c=='foreach'){if(d.exec){a.doExec(d.exec)}a.body.push('}\n');a.body.push('parent=p',b,';values=r',b+1,';xcount=n'+b+';xindex=i',b,'+1;xkey=k',b,';\n')}else {if(c=='if'||c=='switch'){a.body.push('}\n')}}},doFor:function(c,d){var b=this,f,a=b.level,e=a-1,g;if(c==='.'){f='values'}else {if(b.propNameRe.test(c)){f=b.parseTag(c)}else {f=b.addFn(c)+b.callFn}}if(b.maxLevel<a){b.maxLevel=a;b.body.push('var ')}if(c=='.'){g='c'+a}else {g='a'+e+'?c'+e+'[i'+e+']:c'+e}b.body.push('i',a,'=0,n',a,'=0,c',a,'=',f,',a',a,'=',b.createArrayTest(a),',r',a,'=values,p',a,',k',a,';\n','p',a,'=parent=',g,'\n','if (c',a,'){if(a',a,'){n',a,'=c',a,'.length;}else if (c',a,'.isMixedCollection){c',a,'=c',a,'.items;n',a,'=c',a,'.length;}else if(c',a,'.isStore){c',a,'=c',a,'.data.items;n',a,'=c',a,'.length;}else{c',a,'=[c',a,'];n',a,'=1;}}\n','for (xcount=n',a,';i',a,'<n'+a+';++i',a,'){\n','values=c',a,'[i',a,']');if(d.propName){b.body.push('.',d.propName)}b.body.push('\n','xindex=i',a,'+1\n');if(d.between){b.body.push('if(xindex>1){ out.push("',d.between,'"); } \n')}},doForEach:function(c,d){var b=this,f,a=b.level,e=a-1,g;if(c==='.'){f='values'}else {if(b.propNameRe.test(c)){f=b.parseTag(c)}else {f=b.addFn(c)+b.callFn}}if(b.maxLevel<a){b.maxLevel=a;b.body.push('var ')}if(c=='.'){g='c'+a}else {g='a'+e+'?c'+e+'[i'+e+']:c'+e}b.body.push('i',a,'=-1,n',a,'=0,c',a,'=',f,',a',a,'=',b.createArrayTest(a),',r',a,'=values,p',a,',k',a,';\n','p',a,'=parent=',g,'\n','for(k',a,' in c',a,'){\n','xindex=++i',a,'+1;\n','xkey=k',a,';\n','values=c',a,'[k',a,'];');if(d.propName){b.body.push('.',d.propName)}if(d.between){b.body.push('if(xindex>1){ out.push("',d.between,'"); } \n')}},createArrayTest:'isArray' in Array?function(a){return 'Array.isArray(c'+a+')'}:function(a){return 'ts.call(c'+a+')==="[object Array]"'},doExec:function(c,d){var a=this,b='f'+a.definitions.length;a.definitions.push('function '+b+'('+a.fnArgs+') {',' try { with(values) {','  '+c,' }} catch(e) {','}','}');a.body.push(b+a.callFn+'\n')},addFn:function(c){var a=this,b='f'+a.definitions.length;if(c==='.'){a.definitions.push('function '+b+'('+a.fnArgs+') {',' return values','}')}else {if(c==='..'){a.definitions.push('function '+b+'('+a.fnArgs+') {',' return parent','}')}else {a.definitions.push('function '+b+'('+a.fnArgs+') {',' try { with(values) {','  return('+c+')',' }} catch(e) {','}','}')}}return b},parseTag:function(h){var e=this,f=e.tagRe.exec(h),a,c,d,g,b;if(!f){return null}a=f[1];c=f[2];d=f[3];g=f[4];if(a=='.'){if(!e.validTypes){e.definitions.push('var validTypes={string:1,number:1,boolean:1};');e.validTypes=!0}b='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else {if(a=='#'){b='xindex'}else {if(a=='$'){b='xkey'}else {if(a.substr(0,7)=='parent.'){b=a}else {if(isNaN(a)&&a.indexOf('-')==-1&&a.indexOf('.')!=-1){b='values.'+a}else {b="values['"+a+"']"}}}}}if(g){b='('+b+g+')'}if(c&&e.useFormat){d=d?','+d:'';if(c.substr(0,5)!='this.'){c='fm.'+c+'('}else {c+='('}}else {return b}return c+b+d+')'},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext,'XTemplateCompiler'],function(){var a=this.prototype;a.fnArgs='out,values,parent,xindex,xcount,xkey';a.callFn='.call(this,'+a.fnArgs+')'});Ext.cmd.derive('Ext.XTemplate',Ext.Template,{emptyObj:{},apply:function(b,a){return this.applyOut(b,[],a).join('')},applyOut:function(e,c,d){var a=this,b;if(!a.fn){b=new Ext.XTemplateCompiler({useFormat:a.disableFormats!==!0,definitions:a.definitions});a.fn=b.compile(a.html)}try{a.fn(c,e,d||a.emptyObj,1,1)}catch(f){}return c},compile:function(){return this},statics:{getTpl:function(c,d){var b=c[d],a;if(b&&!b.isTemplate){b=Ext.ClassManager.dynInstantiate('Ext.XTemplate',b);if(c.hasOwnProperty(d)){a=c}else {for(a=c.self.prototype;a&&!a.hasOwnProperty(d);a=a.superclass){}}a[d]=b;b.owner=a}return b||null}}},0,0,0,0,0,0,[Ext,'XTemplate'],0);Ext.ns('Ext.core');Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var a=doc.createElement('div');a.innerHTML='<!-- -->text<!-- -->';return a.children&&a.children.length===0}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var a,b='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){a=(new DOMParser()).parseFromString(b,'application/xml')}else {a=new ActiveXObject('Microsoft.XMLDOM');a.loadXML(b)}return !!a.getElementsByTagName('a:b').length}(),longHexToChar=function(b,a){return String.fromCharCode(parseInt(a,16))},shortToLongHex=function(b,a){while(a.length<6){a='0'+a}return '\\'+a},charToLongHex=function(b,a){num=a.charCodeAt(0).toString(16);if(num.length===1){num='0'+num}return '\\0000'+num},unescapeCssSelector=function(a){return hasEscapes?a.replace(longHex,longHexToChar):a},setupEscapes=function(a){hasEscapes=a.indexOf('\\')>-1;if(hasEscapes){a=a.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,'\\\\')}return a};eval('var batch = 30803, child, next, prev, byClassName;');child=useChildrenCollection?function child(a,b){return a.children[b]}:function child(b,c){var d=0,a=b.firstChild;while(a){if(a.nodeType==1){if(++d==c){return a}}a=a.nextSibling}return null};next=useElementPointer?function(a){return a.nextElementSibling}:function(a){while((a=a.nextSibling)&&a.nodeType!=1){}return a};prev=useElementPointer?function(a){return a.previousElementSibling}:function(a){while((a=a.previousSibling)&&a.nodeType!=1){}return a};function children(c){var a=c.firstChild,d=-1,b;while(a){b=a.nextSibling;if(a.nodeType==3&&!nonSpace.test(a.nodeValue)){c.removeChild(a)}else {a.nodeIndex=++d}a=b}return this}byClassName=useClassList?function(f,a){a=unescapeCssSelector(a);if(!a){return f}var d=[],g=-1,e,b,c;for(e=0;b=f[e];e++){c=b.classList;if(c){if(c.contains(a)){d[++g]=b}}else {if((' '+b.className+' ').indexOf(a)!==-1){d[++g]=b}}}return d}:function(d,a){a=unescapeCssSelector(a);if(!a){return d}var e=[],f=-1,c,b;for(c=0;b=d[c];c++){if((' '+b.className+' ').indexOf(a)!==-1){e[++f]=b}}return e};function attrValue(a,b){if(!a.tagName&&typeof a.length!='undefined'){a=a[0]}if(!a){return null}if(b=='for'){return a.htmlFor}if(b=='class'||b=='className'){return a.className}return a.getAttribute(b)||a[b]}function getNodes(d,i,a){var f=[],k=-1,m,b,h,e,j,n,g,c,l;if(!d){return f}a=a.replace('|',':')||'*';if(typeof d.getElementsByTagName!='undefined'){d=[d]}if(!i){a=unescapeCssSelector(a);if(!supportsColonNsSeparator&&DQ.isXml(d[0])&&a.indexOf(':')!==-1){for(b=0;h=d[b];b++){m=h.getElementsByTagName(a.split(':').pop());for(e=0;j=m[e];e++){if(j.tagName===a){f[++k]=j}}}}else {for(b=0;h=d[b];b++){m=h.getElementsByTagName(a);for(e=0;j=m[e];e++){f[++k]=j}}}}else {if(i=='/'||i=='>'){g=a.toUpperCase();for(b=0;h=d[b];b++){n=h.childNodes;for(e=0;l=n[e];e++){if(l.nodeName==g||l.nodeName==a||a=='*'){f[++k]=l}}}}else {if(i=='+'){g=a.toUpperCase();for(b=0;c=d[b];b++){while((c=c.nextSibling)&&c.nodeType!=1){}if(c&&(c.nodeName==g||c.nodeName==a||a=='*')){f[++k]=c}}}else {if(i=='~'){g=a.toUpperCase();for(b=0;c=d[b];b++){while(c=c.nextSibling){if(c.nodeName==g||c.nodeName==a||a=='*'){f[++k]=c}}}}}}}return f}function concat(a,b){a.push.apply(a,b);return a}function byTag(a,b){if(a.tagName||a===doc){a=[a]}if(!b){return a}var e=[],f=-1,d,c;b=b.toLowerCase();for(d=0;c=a[d];d++){if(c.nodeType==1&&c.tagName.toLowerCase()==b){e[++f]=c}}return e}function byId(a,c){c=unescapeCssSelector(c);if(a.tagName||a===doc){a=[a]}if(!c){return a}var d=[],f=-1,e,b;for(e=0;b=a[e];e++){if(b&&b.id==c){d[++f]=b;return d}}return d}function byAttribute(l,c,d,m,k){var h=[],n=-1,j=k=='{',e=DQ.operators[m],b,i,g,f,a;d=unescapeCssSelector(d);for(f=0;a=l[f];f++){if(a.nodeType===1){if(!g){i=DQ.isXml(a);g=!0}if(!i){if(j){b=DQ.getStyle(a,c)}else {if(c=='class'||c=='className'){b=a.className}else {if(c=='for'){b=a.htmlFor}else {if(c=='href'){b=a.getAttribute('href',2)}else {b=a.getAttribute(c)}}}}}else {b=a.getAttribute(c)}if(e&&e(b,d)||!e&&b){h[++n]=a}}}return h}function byPseudo(c,b,a){a=unescapeCssSelector(a);return DQ.pseudos[b](c,a)}function nodupIEXml(b){var f=++key,e,a,c,d;b[0].setAttribute('_nodup',f);e=[b[0]];for(a=1,c=b.length;a<c;a++){d=b[a];if(!d.getAttribute('_nodup')!=f){d.setAttribute('_nodup',f);e[e.length]=d}}for(a=0,c=b.length;a<c;a++){b[a].removeAttribute('_nodup')}return e}function nodup(a){if(!a){return []}var h=a.length,g,d,e=a,f,i=-1,c,b;if(!h||typeof a.nodeType!='undefined'||h==1){return a}if(isIE&&typeof a[0].selectSingleNode!='undefined'){return nodupIEXml(a)}c=++key;a[0]._nodup=c;for(d=1;g=a[d];d++){if(g._nodup!=c){g._nodup=c}else {e=[];for(b=0;b<d;b++){e[++i]=a[b]}for(b=d+1;f=a[b];b++){if(f._nodup!=c){f._nodup=c;e[++i]=f}}return e}}return e}function quickDiffIEXml(c,d){var f=++key,e=[],a,b;for(a=0,b=c.length;a<b;a++){c[a].setAttribute('_qdiff',f)}for(a=0,b=d.length;a<b;a++){if(d[a].getAttribute('_qdiff')!=f){e[e.length]=d[a]}}for(a=0,b=c.length;a<b;a++){c[a].removeAttribute('_qdiff')}return e}function quickDiff(c,b){var e=c.length,g=++key,d=[],a,f;if(!e){return b}if(isIE&&typeof c[0].selectSingleNode!='undefined'){return quickDiffIEXml(c,b)}for(a=0;a<e;a++){c[a]._qdiff=g}for(a=0,f=b.length;a<f;a++){if(b[a]._qdiff!=g){d[d.length]=b[a]}}return d}function quickId(b,d,c,a){if(b==c){a=unescapeCssSelector(a);var e=c.ownerDocument||c;return e.getElementById(a)}b=getNodes(b,d,'*');return byId(b,a)}return DQ={getStyle:function(b,a){return Ext.fly(b,'_DomQuery').getStyle(a)},compile:function(path,type){type=type||'select';var fn=['var f = function(root) {\n var mode; ++batch; var n = root || document;\n'],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,'')+'";';path=path.replace(lmode[1],'')}while(path.substr(0,1)=='/'){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=='select'){if(tokenMatch){if(tokenMatch[1]=='#'){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else {fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],'')}else {if(path.substr(0,1)!='@'){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else {if(tokenMatch){if(tokenMatch[1]=='#'){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else {fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],'')}}while(!(modeMatch=path.match(modeRe))){matched=!1;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(b,a){return m[a]});path=path.replace(m[0],'');matched=!0;break}}if(!matched){Ext.Error.raise({sourceClass:'Ext.DomQuery',sourceMethod:'compile',msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,'')+'";';path=path.replace(modeMatch[1],'')}}fn[fn.length]='return nodup(n);\n}';eval(fn.join(''));return f},jsSelect:function(h,b,i){b=b||doc;if(typeof b=='string'){b=doc.getElementById(b)}var f=h.split(','),c=[],e,g,a,d;for(e=0,g=f.length;e<g;e++){a=f[e].replace(trimRe,'');if(!cache[a]){cache[a]=DQ.compile(a,i);if(!cache[a]){Ext.Error.raise({sourceClass:'Ext.DomQuery',sourceMethod:'jsSelect',msg:a+' is not a valid selector'})}}else {setupEscapes(a)}d=cache[a](b);if(d&&d!==doc){c=c.concat(d)}}if(f.length>1){return nodup(c)}return c},isXml:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=='HTML':!1},select:doc.querySelectorAll?function(b,a,d,c){a=a||doc;if(!DQ.isXml(a)){try{if(a.parentNode&&a.nodeType!==9&&b.indexOf(',')===-1&&!startIdRe.test(b)){b='#'+Ext.escapeId(Ext.id(a))+' '+b;a=a.parentNode}return c?[a.querySelector(b)]:Ext.Array.toArray(a.querySelectorAll(b))}catch(e){}}return DQ.jsSelect.call(this,b,a,d)}:function(a,b,c){return DQ.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,!0)[0]},selectValue:function(b,e,d){b=b.replace(trimRe,'');if(!valueCache[b]){valueCache[b]=DQ.compile(b,'select')}else {setupEscapes(b)}var a=valueCache[b](e),c;a=a[0]?a[0]:a;if(typeof a.normalize=='function'){a.normalize()}c=a&&a.firstChild?a.firstChild.nodeValue:null;return c===null||c===undefined||c===''?d:c},selectNumber:function(b,c,a){var d=DQ.selectValue(b,c,a||0);return parseFloat(d)},is:function(a,d){if(typeof a=='string'){a=doc.getElementById(a)}var b=Ext.isArray(a),c=DQ.filter(b?a:[a],d);return b?c.length==a.length:c.length>0},filter:function(c,a,d){a=a.replace(trimRe,'');if(!simpleCache[a]){simpleCache[a]=DQ.compile(a,'simple')}else {setupEscapes(a)}var b=simpleCache[a](c);return d?quickDiff(b,c):b},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{'=':function(a,b){return a==b},'!=':function(a,b){return a!=b},'^=':function(a,b){return a&&a.substr(0,b.length)==b},'$=':function(a,b){return a&&a.substr(a.length-b.length)==b},'*=':function(a,b){return a&&a.indexOf(b)!==-1},'%=':function(a,b){return a%b===0},'|=':function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+'-')},'~=':function(a,b){return a&&(' '+a+' ').indexOf(' '+b+' ')!=-1}},pseudos:{'first-child':function(f){var d=[],e=-1,a,b,c;for(b=0;c=a=f[b];b++){while((a=a.previousSibling)&&a.nodeType!=1){}if(!a){d[++e]=c}}return d},'last-child':function(f){var d=[],e=-1,a,b,c;for(b=0;c=a=f[b];b++){while((a=a.nextSibling)&&a.nodeType!=1){}if(!a){d[++e]=c}}return d},'nth-child':function(l,c){var g=[],h=-1,k=nthRe.exec(c=='even'&&'2n'||c=='odd'&&'2n+1'||!nthRe2.test(c)&&'n+'+c||c),i=(k[1]||1)-0,f=k[2]-0,e,b,j,a,d;for(e=0;b=l[e];e++){d=b.parentNode;if(batch!=d._batch){j=0;for(a=d.firstChild;a;a=a.nextSibling){if(a.nodeType==1){a.nodeIndex=++j}}d._batch=batch}if(i==1){if(f===0||b.nodeIndex==f){g[++h]=b}}else {if((b.nodeIndex+f)%i===0){g[++h]=b}}}return g},'only-child':function(e){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if(!prev(a)&&!next(a)){c[++d]=a}}return c},'empty':function(i){var g=[],h=-1,d,b,f,e,c,a;for(d=0;b=i[d];d++){f=b.childNodes;e=0;a=!0;while(c=f[e]){++e;if(c.nodeType==1||c.nodeType==3){a=!1;break}}if(a){g[++h]=b}}return g},'contains':function(e,f){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if((a.textContent||a.innerText||a.text||'').indexOf(f)!=-1){c[++d]=a}}return c},'nodeValue':function(e,f){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if(a.firstChild&&a.firstChild.nodeValue==f){c[++d]=a}}return c},'checked':function(e){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if(a.checked===!0){c[++d]=a}}return c},'not':function(b,a){return DQ.filter(b,a,!0)},'any':function(i,f){var h=f.split('|'),d=[],g=-1,e,b,a,c;for(b=0;a=i[b];b++){for(c=0;e=h[c];c++){if(DQ.is(a,e)){d[++g]=a;break}}}return d},'odd':function(a){return this['nth-child'](a,'odd')},'even':function(a){return this['nth-child'](a,'even')},'nth':function(b,a){return b[a-1]||[]},'first':function(a){return a[0]||[]},'last':function(a){return a[a.length-1]||[]},'has':function(f,e){var g=DQ.select,c=[],d=-1,b,a;for(b=0;a=f[b];b++){if(g(e,a).length>0){c[++d]=a}}return c},'next':function(h,g){var e=DQ.is,d=[],f=-1,b,a,c;for(b=0;a=h[b];b++){c=next(a);if(c&&e(c,g)){d[++f]=a}}return d},'prev':function(h,g){var e=DQ.is,d=[],f=-1,b,a,c;for(b=0;a=h[b];b++){c=prev(a);if(c&&e(c,g)){d[++f]=a}}return d},focusable:function(c){var e=c.length,d=[],b=0,a;for(;b<e;b++){a=c[b];if(Ext.fly(a,'_DomQuery').isFocusable()){d.push(a)}}return d},visible:function(c,e){var f=c.length,d=[],b=0,a;for(;b<f;b++){a=c[b];if(Ext.fly(a,'_DomQuery').isVisible(e)){d.push(a)}}return d}}}}();Ext.query=Ext.DomQuery.select;Ext.define('Ext.dom.Element_anim',{override:'Ext.dom.Element',animate:function(a){var b=this,c,d,e=b.dom.id||Ext.id(b.dom);if(!Ext.fx.Manager.hasFxBlock(e)){if(a.listeners){c=a.listeners;delete a.listeners}if(a.internalListeners){a.listeners=a.internalListeners;delete a.internalListeners}d=new Ext.fx.Anim(b.anim(a));if(c){d.on(c)}Ext.fx.Manager.queueFx(d)}return b},anim:function(b){if(!Ext.isObject(b)){return b?{}:!1}var c=this,d=b.duration||Ext.fx.Anim.prototype.duration,e=b.easing||'ease',a;if(b.stopAnimation){c.stopAnimation()}Ext.applyIf(b,Ext.fx.Manager.getFxDefaults(c.id));Ext.fx.Manager.setFxDefaults(c.id,{delay:0});a={target:c.dom,remove:b.remove,alternate:b.alternate||!1,duration:d,easing:e,callback:b.callback,listeners:b.listeners,iterations:b.iterations||1,scope:b.scope,block:b.block,concurrent:b.concurrent,delay:b.delay||0,paused:!0,keyframes:b.keyframes,from:b.from||{},to:Ext.apply({},b)};Ext.apply(a.to,b.to);delete a.to.to;delete a.to.from;delete a.to.remove;delete a.to.alternate;delete a.to.keyframes;delete a.to.iterations;delete a.to.listeners;delete a.to.target;delete a.to.paused;delete a.to.callback;delete a.to.scope;delete a.to.duration;delete a.to.easing;delete a.to.concurrent;delete a.to.block;delete a.to.stopAnimation;delete a.to.delay;return a},slideIn:function(a,c,d){var b=this,g=b.dom,h=g.style,j,e,f,i;a=a||'t';c=c||{};j=function(){var p=this,o=c.listeners,m=Ext.fly(g,'_anim'),j,n,l,k;if(!d){m.fixDisplay()}j=m.getBox();if((a=='t'||a=='b')&&j.height===0){j.height=g.scrollHeight}else {if((a=='l'||a=='r')&&j.width===0){j.width=g.scrollWidth}}n=m.getStyles('width','height','left','right','top','bottom','position','z-index',!0);m.setSize(j.width,j.height);if(c.preserveScroll){f=m.cacheScrollValues()}k=m.wrap({id:Ext.id()+'-anim-wrap-for-'+m.dom.id,style:{visibility:d?'visible':'hidden'}});i=k.dom.parentNode;k.setPositioning(m.getPositioning(!0));if(k.isStyle('position','static')){k.position('relative')}m.clearPositioning('auto');k.clip();if(f){f()}m.setStyle({visibility:'',position:'absolute'});if(d){k.setSize(j.width,j.height)}switch(a){case 't':l={from:{width:j.width+'px',height:'0px'},to:{width:j.width+'px',height:j.height+'px'}};h.bottom='0px';break;case 'l':l={from:{width:'0px',height:j.height+'px'},to:{width:j.width+'px',height:j.height+'px'}};b.anchorAnimX(a);break;case 'r':l={from:{x:j.x+j.width,width:'0px',height:j.height+'px'},to:{x:j.x,width:j.width+'px',height:j.height+'px'}};b.anchorAnimX(a);break;case 'b':l={from:{y:j.y+j.height,width:j.width+'px',height:'0px'},to:{y:j.y,width:j.width+'px',height:j.height+'px'}};break;case 'tl':l={from:{x:j.x,y:j.y,width:'0px',height:'0px'},to:{width:j.width+'px',height:j.height+'px'}};h.bottom='0px';b.anchorAnimX('l');break;case 'bl':l={from:{y:j.y+j.height,width:'0px',height:'0px'},to:{y:j.y,width:j.width+'px',height:j.height+'px'}};b.anchorAnimX('l');break;case 'br':l={from:{x:j.x+j.width,y:j.y+j.height,width:'0px',height:'0px'},to:{x:j.x,y:j.y,width:j.width+'px',height:j.height+'px'}};b.anchorAnimX('r');break;case 'tr':l={from:{x:j.x+j.width,width:'0px',height:'0px'},to:{x:j.x,width:j.width+'px',height:j.height+'px'}};h.bottom='0px';b.anchorAnimX('r');break;}k.show();e=Ext.apply({},c);delete e.listeners;e=new Ext.fx.Anim(Ext.applyIf(e,{target:k,duration:500,easing:'ease-out',from:d?l.to:l.from,to:d?l.from:l.to}));e.on('afteranimate',function(){var b=Ext.fly(g,'_anim');b.setStyle(n);if(d){if(c.useDisplay){b.setDisplayed(!1)}else {b.hide()}}if(k.dom){if(k.dom.parentNode){k.dom.parentNode.insertBefore(b.dom,k.dom)}else {i.appendChild(b.dom)}k.remove()}if(f){f()}p.end()});if(o){e.on(o)}};b.animate({duration:c.duration?Math.max(c.duration,500)*2:1000,listeners:{beforeanimate:j}});return b},slideOut:function(a,b){return this.slideIn(a,b,!0)},puff:function(a){var c=this,e=c.dom,d,b=c.getBox(),f=c.getStyles('width','height','left','right','top','bottom','position','z-index','font-size','opacity',!0);a=Ext.applyIf(a||{},{easing:'ease-out',duration:500,useDisplay:!1});d=function(){var c=Ext.fly(e,'_anim');c.clearOpacity();c.show();this.to={width:b.width*2,height:b.height*2,x:b.x-b.width/2,y:b.y-b.height/2,opacity:0,fontSize:'200%'};this.on('afteranimate',function(){var b=Ext.fly(e,'_anim');if(b){if(a.useDisplay){b.setDisplayed(!1)}else {b.hide()}b.setStyle(f);Ext.callback(a.callback,a.scope)}})};c.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:d}}});return c},switchOff:function(a){var c=this,b=c.dom,d;a=Ext.applyIf(a||{},{easing:'ease-in',duration:500,remove:!1,useDisplay:!1});d=function(){var c=Ext.fly(b,'_anim'),h=this,d=c.getSize(),g=c.getXY(),e,f;c.clearOpacity();c.clip();f=c.getPositioning();e=new Ext.fx.Animator({target:b,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:g[1]+d.height/2},100:{width:1,x:g[0]+d.width/2}}});e.on('afteranimate',function(){var c=Ext.fly(b,'_anim');if(a.useDisplay){c.setDisplayed(!1)}else {c.hide()}c.clearOpacity();c.setPositioning(f);c.setSize(d);h.end()})};c.animate({duration:Math.max(a.duration,500)*2,listeners:{beforeanimate:{fn:d}},callback:a.callback,scope:a.scope});return c},frame:function(b,c,a){var d=this,f=d.dom,e;b=b||'#C3DAF9';c=c||1;a=a||{};e=function(){var g=Ext.fly(f,'_anim'),i=this,d,e,h;g.show();d=g.getBox();e=Ext.getBody().createChild({id:g.dom.id+'-anim-proxy',style:{position:'absolute','pointer-events':'none','z-index':35000,border:'0px solid '+b}});h=new Ext.fx.Anim({target:e,duration:a.duration||1000,iterations:c,from:{top:d.y,left:d.x,borderWidth:0,opacity:1,height:d.height,width:d.width},to:{top:d.y-20,left:d.x-20,borderWidth:10,opacity:0,height:d.height+40,width:d.width+40}});h.on('afteranimate',function(){e.remove();i.end()})};d.animate({duration:Math.max(a.duration,500)*2||2000,listeners:{beforeanimate:{fn:e}},callback:a.callback,scope:a.scope});return d},ghost:function(a,e){var b=this,d=b.dom,c;a=a||'b';c=function(){var h=Ext.fly(d,'_anim'),g=h.getWidth(),f=h.getHeight(),c=h.getXY(),i=h.getPositioning(),b={opacity:0};switch(a){case 't':b.y=c[1]-f;break;case 'l':b.x=c[0]-g;break;case 'r':b.x=c[0]+g;break;case 'b':b.y=c[1]+f;break;case 'tl':b.x=c[0]-g;b.y=c[1]-f;break;case 'bl':b.x=c[0]-g;b.y=c[1]+f;break;case 'br':b.x=c[0]+g;b.y=c[1]+f;break;case 'tr':b.x=c[0]+g;b.y=c[1]-f;break;}this.to=b;this.on('afteranimate',function(){var b=Ext.fly(d,'_anim');if(b){b.hide();b.clearOpacity();b.setPositioning(i)}})};b.animate(Ext.applyIf(e||{},{duration:500,easing:'ease-out',listeners:{beforeanimate:c}}));return b},highlight:function(j,b){var e=this,f=e.dom,k={},i,h,c,d,a,g;if(f.tagName.match(e.tableTagRe)){return e.select('div').highlight(j,b)}b=b||{};d=b.listeners||{};c=b.attr||'backgroundColor';k[c]=j||'ffff9c';if(!b.to){h={};h[c]=b.endColor||e.getColor(c,'ffffff','')}else {h=b.to}b.listeners=Ext.apply(Ext.apply({},d),{beforeanimate:function(){i=f.style[c];var e=Ext.fly(f,'_anim');e.clearOpacity();e.show();a=d.beforeanimate;if(a){g=a.fn||a;return g.apply(a.scope||d.scope||window,arguments)}},afteranimate:function(){if(f){f.style[c]=i}a=d.afteranimate;if(a){g=a.fn||a;g.apply(a.scope||d.scope||window,arguments)}}});e.animate(Ext.apply({},b,{duration:1000,easing:'ease-in',from:k,to:h}));return e},pause:function(b){var a=this;Ext.fx.Manager.setFxDefaults(a.id,{delay:b});return a},fadeIn:function(c){var a=this,b=a.dom;a.animate(Ext.apply({},c,{opacity:1,internalListeners:{beforeanimate:function(d){var a=Ext.fly(b,'_anim');if(a.isStyle('display','none')){a.setDisplayed('')}else {a.show()}}}}));return this},fadeOut:function(a){var b=this,c=b.dom;a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(d){if(c&&d.to.opacity===0){var b=Ext.fly(c,'_anim');if(a.useDisplay){b.setDisplayed(!1)}else {b.hide()}}}}},a);b.animate(a);return b},scale:function(c,a,b){this.animate(Ext.apply({},b,{width:c,height:a}));return this},shift:function(a){this.animate(a);return this},anchorAnimX:function(a){var b=a==='l'?'right':'left';this.dom.style[b]='0px'}});Ext.define('Ext.dom.Element_dd',{override:'Ext.dom.Element',initDD:function(c,b,a){var d=new Ext.dd.DD(Ext.id(this.dom),c,b);return Ext.apply(d,a)},initDDProxy:function(c,b,a){var d=new Ext.dd.DDProxy(Ext.id(this.dom),c,b);return Ext.apply(d,a)},initDDTarget:function(c,b,a){var d=new Ext.dd.DDTarget(Ext.id(this.dom),c,b);return Ext.apply(d,a)}});Ext.define('Ext.dom.Element_fx',{override:'Ext.dom.Element'},function(){var a=Ext.dom.Element,e='visibility',b='display',c='none',i='hidden',o='visible',m='offsets',l='asclass',n='nosize',d='originalDisplay',h='visibilityMode',k='isVisible',j='x-hide-offsets',f=function(c){var b=(c.$cache||c.getCache()).data,a=b[d];if(a===undefined){b[d]=a=''}return a},g=function(d){var c=(d.$cache||d.getCache()).data,b=c[h];if(b===undefined){c[h]=b=a.VISIBILITY}return b};a.override({originalDisplay:'',visibilityMode:1,setVisible:function(f,h){var c=this,o=c.dom,d=g(c);if(typeof h=='string'){switch(h){case b:d=a.DISPLAY;break;case e:d=a.VISIBILITY;break;case m:d=a.OFFSETS;break;case n:case l:d=a.ASCLASS;break;}c.setVisibilityMode(d);h=!1}if(!h||!c.anim){if(d==a.DISPLAY){return c.setDisplayed(f)}else {if(d==a.OFFSETS){c[f?'removeCls':'addCls'](j)}else {if(d==a.VISIBILITY){c.fixDisplay();o.style.visibility=f?'':i}else {if(d==a.ASCLASS){c[f?'removeCls':'addCls'](c.visibilityCls||a.visibilityCls)}}}}}else {if(f){c.setOpacity(0.01);c.setVisible(!0)}if(!Ext.isObject(h)){h={duration:350,easing:'ease-in'}}c.animate(Ext.applyIf({callback:function(){if(!f){Ext.fly(o,'_internal').setVisible(!1).setOpacity(1)}},to:{opacity:f?1:0}},h))}(c.$cache||c.getCache()).data[k]=f;return c},hasMetrics:function(){var b=g(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(b){var a=this;a.setVisible(!a.isVisible(),a.anim(b));return a},setDisplayed:function(a){if(typeof a=='boolean'){a=a?f(this):c}this.setStyle(b,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(b,c)){a.setStyle(e,i);a.setStyle(b,f(a));if(a.isStyle(b,c)){a.setStyle(b,'block')}}},hide:function(a){if(typeof a=='string'){this.setVisible(!1,a);return this}this.setVisible(!1,this.anim(a));return this},show:function(a){if(typeof a=='string'){this.setVisible(!0,a);return this}this.setVisible(!0,this.anim(a));return this}})});Ext.define('Ext.dom.Element_position',{override:'Ext.dom.Element'},function(){var e,a=this,w='left',u='right',x='top',s='bottom',i='position',l='static',r='relative',t='z-index',v='BODY',f='padding',g='border',m='-left',k='-right',o='-top',j='-bottom',h='-width',c={l:g+m+h,r:g+k+h,t:g+o+h,b:g+j+h},b={l:f+m,r:f+k,t:f+o,b:f+j},p=[b.l,b.r,b.t,b.b],q=[c.l,c.r,c.t,c.b],n=Math.round,d=document,y=function(a){if(!e){e=new Ext.Element.Fly()}e.attach(a);return e};a.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(b){return a.getXY(b)[0]},getXY:function(a){var e=d.body,h=d.documentElement,f=0,g=0,i=[0,0],b,c;a=Ext.getDom(a);if(a!=d&&a!=e){if(Ext.isIE){try{b=a.getBoundingClientRect();g=h.clientTop||e.clientTop;f=h.clientLeft||e.clientLeft}catch(z){b={left:0,top:0}}}else {b=a.getBoundingClientRect()}c=y(d).getScroll();i=[n(b.left+c.left-f),n(b.top+c.top-g)]}return i},getY:function(b){return a.getXY(b)[1]},setX:function(b,c){a.setXY(b,[c,!1])},setXY:function(b,e){(b=Ext.fly(b,'_setXY')).position();var c=b.translatePoints(e),d=b.dom.style,a;d.right='auto';for(a in c){if(!isNaN(c[a])){d[a]=c[a]+'px'}}},setY:function(b,c){a.setXY(b,[!1,c])}},center:function(a){return this.alignTo(a||d,'c-c')},clearPositioning:function(a){a=a||'';return this.setStyle({left:a,right:a,top:a,bottom:a,'z-index':'',position:l})},getAnchorToXY:function(d,a,c,b){return d.getAnchorXY(a,c,b)},getBottom:function(a){return (a?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var d=this.getStyle(p),a=this.getStyle(q);return {beforeX:(parseFloat(a[c.l])||0)+(parseFloat(d[b.l])||0),afterX:(parseFloat(a[c.r])||0)+(parseFloat(d[b.r])||0),beforeY:(parseFloat(a[c.t])||0)+(parseFloat(d[b.t])||0),afterY:(parseFloat(a[c.b])||0)+(parseFloat(d[b.b])||0)}},getCenterXY:function(){return this.getAlignToXY(d,'c-c')},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var c=this,d=c.dom.offsetParent,b=c.getStyle('left');if(!b||b==='auto'){b=0}else {if(c.pxRe.test(b)){b=parseFloat(b)}else {b=c.getX();if(d){b-=a.getX(d)}}}return b},getLocalXY:function(){var d=this,e=d.dom.offsetParent,f=d.getStyle(['left','top']),b=f.left,c=f.top;if(!b||b==='auto'){b=0}else {if(d.pxRe.test(b)){b=parseFloat(b)}else {b=d.getX();if(e){b-=a.getX(e)}}}if(!c||c==='auto'){c=0}else {if(d.pxRe.test(c)){c=parseFloat(c)}else {c=d.getY();if(e){c-=a.getY(e)}}}return [b,c]},getLocalY:function(){var c=this,d=c.dom.offsetParent,b=c.getStyle('top');if(!b||b==='auto'){b=0}else {if(c.pxRe.test(b)){b=parseFloat(b)}else {b=c.getY();if(d){b-=a.getY(d)}}}return b},getPageBox:function(k){var d=this,b=d.dom,c=b.nodeName==v,j=c?Ext.Element.getViewWidth():b.offsetWidth,f=c?Ext.Element.getViewHeight():b.offsetHeight,a=d.getXY(),i=a[1],h=a[0]+j,e=a[1]+f,g=a[0];if(k){return new Ext.util.Region(i,h,e,g)}else {return {left:g,top:i,width:j,height:f,right:h,bottom:e}}},getPositioning:function(c){var a=this.getStyle(['left','top','position','z-index']),b=this.dom;if(c){if(a.left==='auto'){a.left=b.offsetLeft+'px'}if(a.top==='auto'){a.top=b.offsetTop+'px'}}return a},getRight:function(a){return (a?this.getLocalX():this.getX())+this.getWidth()},getTop:function(a){return a?this.getLocalY():this.getY()},getX:function(){return a.getX(this.dom)},getXY:function(){return a.getXY(this.dom)},getY:function(){return a.getY(this.dom)},moveTo:function(b,c,a){return this.setXY([b,c],a)},position:function(b,c,d,e){var a=this;if(!b&&a.isStyle(i,l)){a.setStyle(i,r)}else {if(b){a.setStyle(i,b)}}if(c){a.setStyle(t,c)}if(d||e){a.setXY([d||!1,e||!1])}},setBottom:function(a){this.dom.style[s]=this.addUnits(a);return this},setBounds:function(d,e,c,b,a){return this.setBox({x:d,y:e,width:c,height:b},a)},setLeft:function(a){this.dom.style[w]=this.addUnits(a);return this},setLeftTop:function(c,d){var a=this,b=a.dom.style;b.left=a.addUnits(c);b.top=a.addUnits(d);return a},setLocalX:function(b){var a=this.dom.style;a.right='auto';a.left=b===null?'auto':b+'px'},setLocalXY:function(a,c){var b=this.dom.style;b.right='auto';if(a&&a.length){c=a[1];a=a[0]}if(a===null){b.left='auto'}else {if(a!==undefined){b.left=a+'px'}}if(c===null){b.top='auto'}else {if(c!==undefined){b.top=c+'px'}}},setLocalY:function(a){this.dom.style.top=a===null?'auto':a+'px'},setLocation:function(b,c,a){return this.setXY([b,c],a)},setPositioning:function(a){return this.setStyle(a)},setRight:function(a){this.dom.style[u]=this.addUnits(a);return this},setTop:function(a){this.dom.style[x]=this.addUnits(a);return this},setX:function(b,a){return this.setXY([b,this.getY()],a)},setXY:function(d,b){var c=this;if(!b||!c.anim){a.setXY(c.dom,d)}else {if(!Ext.isObject(b)){b={}}c.animate(Ext.applyIf({to:{x:d[0],y:d[1]}},b))}return this},setY:function(b,a){return this.setXY([this.getX(),b],a)}});a.getTrueXY=a.getXY});Ext.define('Ext.dom.Element_scroll',{override:'Ext.dom.Element',isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var g=this,b=g.dom,d=document,a=d.body,f=d.documentElement,c,e;if(b===d||b===a){c=f.scrollLeft||(a?a.scrollLeft:0);e=f.scrollTop||(a?a.scrollTop:0)}else {c=b.scrollLeft;e=b.scrollTop}return {left:c,top:e}},getScrollLeft:function(){var a=this.dom,b=document;if(a===b||a===b.body){return this.getScroll().left}else {return a.scrollLeft}},getScrollTop:function(){var a=this.dom,b=document;if(a===b||a===b.body){return this.getScroll().top}else {return a.scrollTop}},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},scrollBy:function(a,b,d){var c=this,e=c.dom;if(a.length){d=b;b=a[1];a=a[0]}else {if(typeof a!='number'){d=b;b=a.y;a=a.x}}if(a){c.scrollTo('left',c.constrainScrollLeft(e.scrollLeft+a),d)}if(b){c.scrollTo('top',c.constrainScrollTop(e.scrollTop+b),d)}return c},scrollTo:function(g,d,c){var h=/top/i.test(g),b=this,e=h?'scrollTop':'scrollLeft',f=b.dom,a;if(!c||!b.anim){f[e]=d;f[e]=d}else {a={to:{}};a.to[e]=d;if(Ext.isObject(c)){Ext.applyIf(a,c)}b.animate(a)}return b},scrollIntoView:function(a,q,e,n){var c=this,d=c.dom,k=c.getOffsetsTo(a=Ext.getDom(a)||Ext.getBody().dom),g=k[0]+a.scrollLeft,h=k[1]+a.scrollTop,l=h+d.offsetHeight,m=g+d.offsetWidth,f=a.clientHeight,j=parseInt(a.scrollTop,10),i=parseInt(a.scrollLeft,10),o=j+f,p=i+a.clientWidth,b;if(n){if(e){e=Ext.apply({listeners:{afteranimate:function(){c.scrollChildFly.attach(d).highlight()}}},e)}else {c.scrollChildFly.attach(d).highlight()}}if(d.offsetHeight>f||h<j){b=h}else {if(l>o){b=l-f}}if(b!=null){c.scrollChildFly.attach(a).scrollTo('top',b,e)}if(q!==!1){b=null;if(d.offsetWidth>a.clientWidth||g<i){b=g}else {if(m>p){b=m-a.clientWidth}}if(b!=null){c.scrollChildFly.attach(a).scrollTo('left',b,e)}}return c},scrollChildIntoView:function(b,a){this.scrollChildFly.attach(Ext.getDom(b)).scrollIntoView(this,a)},scroll:function(d,c,i){if(!this.isScrollable()){return !1}var e=this,h=e.dom,g=d==='r'||d==='l'?'left':'top',f=!1,a,b;if(d==='r'){c=-c}if(g==='left'){a=h.scrollLeft;b=e.constrainScrollLeft(a+c)}else {a=h.scrollTop;b=e.constrainScrollTop(a+c)}if(b!==a){this.scrollTo(g,b,i);f=!0}return f},constrainScrollLeft:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollWidth-a.clientWidth),0)},constrainScrollTop:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollHeight-a.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly();this.prototype.scrolltoFly=new this.Fly()});Ext.define('Ext.dom.Element_style',{override:'Ext.dom.Element'},function(){var a=this,s=document.defaultView,t=/table-row|table-.*-group/,e='_internal',n='hidden',m='height',j='width',f='isClipped',i='overflow',g='overflow-x',h='overflow-y',q='originalClip',r=/#document|body/i,d,c,b,o,p,k,l;if(!s||!s.getComputedStyle){a.prototype.getStyle=function(o,p){var k=this,g=k.dom,n=typeof o!='string',q=k.styleHooks,d=o,j=d,r=1,m=p,i,h,f,c,e,b,l;if(n){f={};d=j[0];l=0;if(!(r=j.length)){return f}}if(!g||g.documentElement){return f||''}h=g.style;if(p){b=h}else {b=g.currentStyle;if(!b){m=!0;b=h}}do{c=q[d];if(!c){q[d]=c={name:a.normalize(d)}}if(c.get){e=c.get(g,k,m,b)}else {i=c.name;if(c.canThrow){try{e=b[i]}catch(v){e=''}}else {e=b?b[i]:''}}if(!n){return e}f[d]=e;d=j[++l]}while(l<r);return f}}a.override({getHeight:function(d,e){var b=this,f=b.isStyle('display','none'),a,c;if(f){return 0}a=b.dom.offsetHeight;if(Ext.supports.Direct2DBug){c=b.adjustDirect2DDimension(m);if(e){a+=c}else {if(c>0&&c<0.5){a++}}}if(d){a-=b.getBorderWidth('tb')+b.getPadding('tb')}return a<0?0:a},getWidth:function(g,e){var b=this,f=b.dom,h=b.isStyle('display','none'),c,a,d;if(h){return 0}if(e&&Ext.supports.BoundingClientRect){c=f.getBoundingClientRect();a=b.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect?c.bottom-c.top:c.right-c.left}else {a=f.offsetWidth}if(Ext.supports.Direct2DBug&&!b.vertical){d=b.adjustDirect2DDimension(j);if(e){a+=d}else {if(d>0&&d<0.5){a++}}}if(g){a-=b.getBorderWidth('lr')+b.getPadding('lr')}return a<0?0:a},setWidth:function(c,b){var a=this;c=a.adjustWidth(c);if(!b||!a.anim){a.dom.style.width=a.addUnits(c)}else {if(!Ext.isObject(b)){b={}}a.animate(Ext.applyIf({to:{width:c}},b))}return a},setHeight:function(c,b){var a=this;c=a.adjustHeight(c);if(!b||!a.anim){a.dom.style.height=a.addUnits(c)}else {if(!Ext.isObject(b)){b={}}a.animate(Ext.applyIf({to:{height:c}},b))}return a},applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},setSize:function(b,c,d){var a=this;if(Ext.isObject(b)){d=c;c=b.height;b=b.width}b=a.adjustWidth(b);c=a.adjustHeight(c);if(!d||!a.anim){a.dom.style.width=a.addUnits(b);a.dom.style.height=a.addUnits(c)}else {if(d===!0){d={}}a.animate(Ext.applyIf({to:{width:b,height:c}},d))}return a},getViewSize:function(){var e=this,b=e.dom,d=r.test(b.nodeName),c;if(d){c={width:a.getViewWidth(),height:a.getViewHeight()}}else {c={width:b.clientWidth,height:b.clientHeight}}return c},getSize:function(a){return {width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=this,c=typeof a=='number';if(c&&b.autoBoxAdjust&&!b.isBorderBox()){a-=b.getBorderWidth('lr')+b.getPadding('lr')}return c&&a<0?0:a},adjustHeight:function(a){var b=this,c=typeof a=='number';if(c&&b.autoBoxAdjust&&!b.isBorderBox()){a-=b.getBorderWidth('tb')+b.getPadding('tb')}return c&&a<0?0:a},getColor:function(h,f,c){var a=this.getStyle(h),b=c||c===''?c:'#',d,g,e=0;if(!a||/transparent|inherit/.test(a)){return f}if(/^r/.test(a)){a=a.slice(4,a.length-1).split(',');g=a.length;for(;e<g;e++){d=parseInt(a[e],10);b+=(d<16?'0':'')+d.toString(16)}}else {a=a.replace('#','');b+=a.length==3?a.replace(/^(\w)(\w)(\w)$/,'$1$1$2$2$3$3'):a}return b.length>5?b.toLowerCase():f},setOpacity:function(c,b){var a=this;if(!a.dom){return a}if(!b||!a.anim){a.setStyle('opacity',c)}else {if(typeof b!='object'){b={duration:350,easing:'ease-in'}}a.animate(Ext.applyIf({to:{opacity:c}},b))}return a},clearOpacity:function(){return this.setOpacity('')},adjustDirect2DDimension:function(d){var f=this,a=f.dom,b=f.getStyle('display'),h=a.style.display,g=a.style.position,i=d===j?0:1,c=a.currentStyle,e;if(b==='inline'){a.style.display='inline-block'}a.style.position=b.match(t)?'absolute':'static';e=(parseFloat(c[d])||parseFloat(c.msTransformOrigin.split(' ')[i])*2)%1;a.style.position=g;if(b==='inline'){a.style.display=h}return e},clip:function(){var a=this,c=(a.$cache||a.getCache()).data,b;if(!c[f]){c[f]=!0;b=a.getStyle([i,g,h]);c[q]={o:b[i],x:b[g],y:b[h]};a.setStyle(i,n);a.setStyle(g,n);a.setStyle(h,n)}return a},unclip:function(){var b=this,c=(b.$cache||b.getCache()).data,a;if(c[f]){c[f]=!1;a=c[q];if(a.o){b.setStyle(i,a.o)}if(a.x){b.setStyle(g,a.x)}if(a.y){b.setStyle(h,a.y)}}return b},boxWrap:function(b){b=b||'x-box';var c=Ext.get(this.insertHtml('beforeBegin',"<div class='"+b+"'>"+Ext.String.format(a.boxMarkup,b)+'</div>'));Ext.DomQuery.selectNode('.'+b+'-mc',c.dom).appendChild(this.dom);return c},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle(m))||0;if(!a.isBorderBox()){b+=a.getFrameWidth('tb')}}return b},getComputedWidth:function(){var a=this,b=Math.max(a.dom.offsetWidth,a.dom.clientWidth);if(!b){b=parseFloat(a.getStyle(j))||0;if(!a.isBorderBox()){b+=a.getFrameWidth('lr')}}return b},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(b,c,g){var a=this,d=a.dom,f=Ext.isFunction(c);a.hover(function(){if(f&&c.call(g||a,a)===!1){return}Ext.fly(d,e).addCls(b)},function(){Ext.fly(d,e).removeCls(b)});return a},addClsOnFocus:function(b,c,g){var a=this,d=a.dom,f=Ext.isFunction(c);a.on('focus',function(){if(f&&c.call(g||a,a)===!1){return !1}Ext.fly(d,e).addCls(b)});a.on('blur',function(){Ext.fly(d,e).removeCls(b)});return a},addClsOnClick:function(b,c,g){var a=this,d=a.dom,f=Ext.isFunction(c);a.on('mousedown',function(){if(f&&c.call(g||a,a)===!1){return !1}Ext.fly(d,e).addCls(b);var i=Ext.getDoc(),h=function(){Ext.fly(d,e).removeCls(b);i.removeListener('mouseup',h)};i.on('mouseup',h)});return a},getStyleSize:function(){var b=this,g=this.dom,f=r.test(g.nodeName),c,e,d;if(f){return {width:a.getViewWidth(),height:a.getViewHeight()}}c=b.getStyle([m,j],!0);if(c.width&&c.width!='auto'){e=parseFloat(c.width);if(b.isBorderBox()){e-=b.getFrameWidth('lr')}}if(c.height&&c.height!='auto'){d=parseFloat(c.height);if(b.isBorderBox()){d-=b.getFrameWidth('tb')}}return {width:e||b.getWidth(!0),height:d||b.getHeight(!0)}},statics:{selectableCls:'x-selectable',unselectableCls:'x-unselectable'},selectable:function(){var b=this;b.dom.unselectable='';b.removeCls(a.unselectableCls);b.addCls(a.selectableCls);return b},unselectable:function(){var b=this;if(Ext.isOpera){b.dom.unselectable='on'}b.removeCls(a.selectableCls);b.addCls(a.unselectableCls);return b},setVertical:function(e,d){var b=this,c=a.prototype,f;b.vertical=!0;if(d){b.addCls(b.verticalCls=d)}b.setWidth=c.setHeight;b.setHeight=c.setWidth;if(!Ext.isIE9m){b.getWidth=c.getHeight;b.getHeight=c.getWidth}b.styleHooks=e===270?a.prototype.verticalStyleHooks270:a.prototype.verticalStyleHooks90},setHorizontal:function(){var a=this,b=a.verticalCls;delete a.vertical;if(b){delete a.verticalCls;a.removeCls(b)}delete a.setWidth;delete a.setHeight;if(!Ext.isIE9m){delete a.getWidth;delete a.getHeight}delete a.styleHooks}});a.prototype.styleHooks=d=Ext.dom.AbstractElement.prototype.styleHooks;a.prototype.verticalStyleHooks90=c=Ext.Object.chain(a.prototype.styleHooks);a.prototype.verticalStyleHooks270=b=Ext.Object.chain(a.prototype.styleHooks);c.width={name:'height'};c.height={name:'width'};c['margin-top']={name:'marginLeft'};c['margin-right']={name:'marginTop'};c['margin-bottom']={name:'marginRight'};c['margin-left']={name:'marginBottom'};c['padding-top']={name:'paddingLeft'};c['padding-right']={name:'paddingTop'};c['padding-bottom']={name:'paddingRight'};c['padding-left']={name:'paddingBottom'};c['border-top']={name:'borderLeft'};c['border-right']={name:'borderTop'};c['border-bottom']={name:'borderRight'};c['border-left']={name:'borderBottom'};b.width={name:'height'};b.height={name:'width'};b['margin-top']={name:'marginRight'};b['margin-right']={name:'marginBottom'};b['margin-bottom']={name:'marginLeft'};b['margin-left']={name:'marginTop'};b['padding-top']={name:'paddingRight'};b['padding-right']={name:'paddingBottom'};b['padding-bottom']={name:'paddingLeft'};b['padding-left']={name:'paddingTop'};b['border-top']={name:'borderRight'};b['border-right']={name:'borderBottom'};b['border-bottom']={name:'borderLeft'};b['border-left']={name:'borderTop'};if(Ext.isIE7m){d.fontSize=d['font-size']={name:'fontSize',canThrow:!0};d.fontStyle=d['font-style']={name:'fontStyle',canThrow:!0};d.fontFamily=d['font-family']={name:'fontFamily',canThrow:!0}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){var u=function(c,d,b,a){if(a[this.styleName]=='none'){return '0px'}return a[this.name]};o=['Top','Right','Bottom','Left'];p=o.length;while(p--){k=o[p];l='border'+k+'Width';d['border-'+k.toLowerCase()+'-width']=d[l]={name:l,styleName:'border'+k+'Style',get:u}}}Ext.getDoc().on('selectstart',function(h,b){var g=document.documentElement,f=a.selectableCls,e=a.unselectableCls,c=b&&b.tagName;c=c&&c.toLowerCase();if(c==='input'||c==='textarea'){return}while(b&&b.nodeType===1&&b!==g){var d=Ext.fly(b);if(d.hasCls(f)){return}if(d.hasCls(e)){h.stopEvent();return}b=b.parentNode}})});Ext.onReady(function(){var a=/alpha\(opacity=(.*)\)/i,c=/^\s+|\s+$/g,b=Ext.dom.Element.prototype.styleHooks;b.opacity={name:'opacity',afterSet:function(c,b,a){if(a.isLayer){a.onOpacitySet(b)}}};if(!Ext.supports.Opacity&&Ext.isIE){Ext.apply(b.opacity,{get:function(e){var d=e.style.filter,c,b;if(d.match){c=d.match(a);if(c){b=parseFloat(c[1]);if(!isNaN(b)){return b?b/100:0}}}return 1},set:function(f,b){var d=f.style,e=d.filter.replace(a,'').replace(c,'');d.zoom=1;if(typeof b=='number'&&b>=0&&b<1){b*=100;d.filter=e+(e.length?' ':'')+'alpha(opacity='+b+')'}else {d.filter=e}}})}});Ext.cmd.derive('Ext.util.Positionable',Ext.Base,{_positionTopLeft:['position','top','left'],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,c){var b=this.getConstrainVector(c,a);if(b){a[0]+=b[0];a[1]+=b[1]}return a},alignTo:function(e,d,f,b){var a=this,c=a.el;return a.setXY(a.getAlignToXY(e,d,f),c.anim&&!!b?c.anim(b):!1)},anchorTo:function(e,f,i,h,c,g){var a=this,d=!Ext.isEmpty(c),b=function(){a.alignTo(e,f,i,h);Ext.callback(g,a)},j=a.getAnchor();a.removeAnchor();Ext.apply(j,{fn:b,scroll:d});Ext.EventManager.onWindowResize(b,null);if(d){Ext.EventManager.on(window,'scroll',b,null,{buffer:!isNaN(c)?c:50})}b();return a},calculateAnchorXY:function(f,k,l,e){var g=this,j=g.el,i=document,h=j.dom==i.body||j.dom==i,d=Math.round,a,b,c;f=(f||'tl').toLowerCase();e=e||{};b=e.width||h?Ext.Element.getViewWidth():g.getWidth();c=e.height||h?Ext.Element.getViewHeight():g.getHeight();switch(f){case 'tl':a=[0,0];break;case 'bl':a=[0,c];break;case 'tr':a=[b,0];break;case 'c':a=[d(b*0.5),d(c*0.5)];break;case 't':a=[d(b*0.5),0];break;case 'l':a=[0,d(c*0.5)];break;case 'r':a=[b,d(c*0.5)];break;case 'b':a=[d(b*0.5),c];break;case 'tc':a=[d(b*0.5),0];break;case 'bc':a=[d(b*0.5),c];break;case 'br':a=[b,c];}return [a[0]+k,a[1]+l]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(b,a,n){var c=this,x=Ext.Element.getViewWidth()-10,w=Ext.Element.getViewHeight()-10,B=document,y=B.documentElement,A=B.body,l=y.scrollLeft||A.scrollLeft||0,m=y.scrollTop||A.scrollTop||0,i,p,o,k,j,f,r,q,z,g,h,t,s,v,u,d,e;b=Ext.get(b.el||b);if(!b||!b.dom){}n=n||[0,0];a=(!a||a=='?'?'tl-bl?':!/-/.test(a)&&a!==''?'tl-'+a:a||'tl-bl').toLowerCase();a=c.convertPositionSpec(a);i=a.match(c._alignRe);g=i[1];h=i[2];z=!!i[3];p=c.getAnchorXY(g,!0);o=c.getAnchorToXY(b,h,!1);d=o[0]-p[0]+n[0];e=o[1]-p[1]+n[1];if(z){k=c.getWidth();j=c.getHeight();f=b.getRegion();t=g.charAt(0);s=g.charAt(g.length-1);v=h.charAt(0);u=h.charAt(h.length-1);r=t=='t'&&v=='b'||t=='b'&&v=='t';q=s=='r'&&u=='l'||s=='l'&&u=='r';if(d+k>x+l){d=q?f.left-k:x+l-k}if(d<l){d=q?f.right:l}if(e+j>w+m){e=r?f.top-j:w+m-j}if(e<m){e=r?f.bottom:m}}return [d,e]},getAnchor:function(){var b=this.el,c=(b.$cache||b.getCache()).data,a;if(!b.dom){return}a=c._anchor;if(!a){a=c._anchor={}}return a},getAnchorXY:function(h,e,k){var b=this,f=b.getXY(),a=b.el,g=document,c=a.dom==g.body||a.dom==g,d=a.getScroll(),i=c?d.left:e?0:f[0],j=c?d.top:e?0:f[1];return b.calculateAnchorXY(h,i,j,k)},getBox:function(j,k){var b=this,i=k?b.getLocalXY():b.getXY(),c=i[0],d=i[1],h=b.getWidth(),g=b.getHeight(),a,e,f;if(j){a=b.getBorderPadding();e=a.beforeX;f=a.beforeY;c+=e;d+=f;h-=e+a.afterX;g-=f+a.afterY}return {x:c,left:c,0:c,y:d,top:d,1:d,width:h,height:g,right:c+h,bottom:d+g}},calculateConstrainedPosition:function(h,b,k,l){var a=this,d,j=a.floatParent,i=j?j.getTargetEl():null,c,g,f,e=!1;if(k&&j){c=i.getXY();g=i.getBorderPadding();c[0]+=g.beforeX;c[1]+=g.beforeY;if(b){f=[b[0]+c[0],b[1]+c[1]]}}else {f=b}h=h||a.constrainTo||i||a.container||a.el.parent();d=(a.constrainHeader?a.header:a).getConstrainVector(h,f,l);if(d){e=b||a.getPosition(k);e[0]+=d[0];e[1]+=d[1]}return e},getConstrainVector:function(b,g,h){var a=this.getRegion(),d=[0,0],f=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():undefined,e=!1,c=this.constraintInsets;if(!(b instanceof Ext.util.Region)){b=Ext.get(b.el||b).getViewRegion()}if(c){c=Ext.isObject(c)?c:Ext.Element.parseBox(c);b.adjust(c.top,c.right,c.bottom,c.length)}if(g){a.translateBy(g[0]-a.x,g[1]-a.y)}if(h){a.right=a.left+h[0];a.bottom=a.top+h[1]}if(f){b.adjust(f[0],-f[1],-f[2],f[3])}if(a.right>b.right){e=!0;d[0]=b.right-a.right}if(a.left+d[0]<b.left){e=!0;d[0]=b.left-a.left}if(a.bottom>b.bottom){e=!0;d[1]=b.bottom-a.bottom}if(a.top+d[1]<b.top){e=!0;d[1]=b.top-a.top}return e?d:!1},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a.el||a,'_internal').getXY();return [c[0]-b[0],c[1]-b[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a=this,i=a.el,j=i.dom.nodeName==='BODY',d,f,h,c,b,g,e;if(j){f=i.getScroll();b=f.left;c=f.top;g=Ext.dom.AbstractElement.getViewportWidth();e=Ext.dom.AbstractElement.getViewportHeight()}else {d=a.getBorderPadding();h=a.getXY();b=h[0]+d.beforeX;c=h[1]+d.beforeY;g=a.getWidth(!0);e=a.getHeight(!0)}return new Ext.util.Region(c,b+g,c+e,b)},move:function(a,b,l){var j=this,k=j.getXY(),c=k[0],d=k[1],i=[c-b,d],g=[c+b,d],f=[c,d-b],e=[c,d+b],h={l:i,left:i,r:g,right:g,t:f,top:f,up:f,b:e,bottom:e,down:e};a=a.toLowerCase();j.setXY([h[a][0],h[a][1]],l)},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,'scroll',a.fn)}delete a.fn}return this},setBox:function(d,i){var a=this,f=a.el,b=d.x,c=d.y,k=[b,c],h=d.width,g=d.height,j=a.constrain||a.constrainHeader,e=j&&a.calculateConstrainedPosition(null,[b,c],!1,[h,g]);if(e){b=e[0];c=e[1]}if(!i||!f.anim){a.setSize(h,g);a.setXY([b,c]);a.afterSetPosition(b,c)}else {a.animate(Ext.applyIf({to:{x:b,y:c,width:f.adjustWidth(h),height:f.adjustHeight(g)},listeners:{afteranimate:Ext.Function.bind(a.afterSetPosition,a,[b,c])}},i))}return a},setRegion:function(a,b){return this.setBox({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top},b)},translatePoints:function(b,c){var a=this.translateXY(b,c);return {left:a.x,top:a.y}},translateXY:function(a,g){var f=this,e=f.el,d=e.getStyle(f._positionTopLeft),h=d.position=='relative',b=parseFloat(d.left),c=parseFloat(d.top),i=f.getXY();if(Ext.isArray(a)){g=a[1];a=a[0]}if(isNaN(b)){b=h?0:e.dom.offsetLeft}if(isNaN(c)){c=h?0:e.dom.offsetTop}b=typeof a=='number'?a-i[0]+b:undefined;c=typeof g=='number'?g-i[1]+c:undefined;return {x:b,y:c}}},0,0,0,0,0,0,[Ext.util,'Positionable'],0);Ext.cmd.derive('Ext.dom.Element',Ext.dom.AbstractElement,function(a){var l='hidden',c=document,j='visibility',f='display',h='none',g='x-masked',d='x-masked-relative',e='x-mask-msg',m=/^body/i,b,i=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},k=function(f){var d=[],e=-1,c,b;for(c=0;b=f[c];c++){if(b.scrollTop>0||b.scrollLeft>0){d[++e]=b}}return d};return {alternateClassName:['Ext.Element','Ext.core.Element'],tableTagRe:/^(?:tr|td|table|tbody)$/i,addUnits:function(){return a.addUnits.apply(a,arguments)},focus:function(d,b){var c=this;b=b||c.dom;try{if(Number(d)){Ext.defer(c.focus,d,c,[null,b])}else {b.focus()}}catch(n){}return c},blur:function(){var c=this,b=c.dom;if(b!==document.body){try{b.blur()}catch(n){}return c}else {return c.focus(undefined,b)}},isBorderBox:function(){var b=Ext.isBorderBox;if(b&&Ext.isIE7m){b=!((this.dom.tagName||'').toLowerCase() in i)}return b},hover:function(e,f,d,c){var b=this;b.on('mouseenter',e,d||b.dom,c);b.on('mouseleave',f,d||b.dom,c);return b},getAttributeNS:function(c,b){return this.getAttribute(b,c)},getAttribute:Ext.isIE&&!(Ext.isIE9p&&c.documentMode>=9)?function(b,d){var e=this.dom,c;if(d){c=typeof e[d+':'+b];if(c!='undefined'&&c!='unknown'){return e[d+':'+b]||null}return null}if(b==='for'){b='htmlFor'}return e[b]||null}:function(b,d){var c=this.dom;if(d){return c.getAttributeNS(d,b)||c.getAttribute(d+':'+b)}return c.getAttribute(b)||c[b]||null},cacheScrollValues:function(){var g=this,d,c,b,e=[],f=function(){for(b=0;b<d.length;b++){c=d[b];c.scrollLeft=e[b][0];c.scrollTop=e[b][1]}};if(!Ext.DomQuery.pseudos.isScrolled){Ext.DomQuery.pseudos.isScrolled=k}d=g.query(':isScrolled');for(b=0;b<d.length;b++){c=d[b];e[b]=[c.scrollLeft,c.scrollTop]}return f},autoBoxAdjust:!0,isVisible:function(e){var g=this,c=g.dom,d=c.ownerDocument.documentElement;if(!b){b=new a.Fly()}while(c!==d){if(!c||c.nodeType===11||b.attach(c).isStyle(j,l)||b.isStyle(f,h)){return !1}if(!e){break}c=c.parentNode}return !0},isDisplayed:function(){return !this.isStyle(f,h)},enableDisplayMode:function(c){var b=this;b.setVisibilityMode(a.DISPLAY);if(!Ext.isEmpty(c)){(b.$cache||b.getCache()).data.originalDisplay=c}return b},mask:function(r,q,p){var h=this,k=h.dom,o=k.style.setExpression,j=(h.$cache||h.getCache()).data,b=j.maskShimEl,f=j.maskEl,i=j.maskMsg,n,l;if(!(m.test(k.tagName)&&h.getStyle('position')=='static')){h.addCls(d)}if(f){f.remove()}if(i){i.remove()}if(b){b.remove()}if(Ext.isIE6){b=Ext.DomHelper.append(k,{tag:'iframe',cls:'x-shim x-mask-shim'},!0);j.maskShimEl=b;b.setDisplayed(!0)}Ext.DomHelper.append(k,[{cls:'x-mask',style:'top:0;left:0;'},{cls:q?e+' '+q:e,cn:{tag:'div',cls:'x-mask-msg-inner',cn:{tag:'div',cls:'x-mask-msg-text',html:r||''}}}]);i=Ext.get(k.lastChild);f=Ext.get(i.dom.previousSibling);j.maskMsg=i;j.maskEl=f;h.addCls(g);f.setDisplayed(!0);if(typeof r=='string'){i.setDisplayed(!0);i.center(h)}else {i.setDisplayed(!1)}if(!Ext.supports.IncludePaddingInWidthCalculation&&o){try{f.dom.style.setExpression('width','this.parentNode.clientWidth + "px"');n='this.parentNode.clientWidth + "px"';if(b){b.dom.style.setExpression('width',n)}f.dom.style.setExpression('width',n)}catch(s){}}if(!Ext.supports.IncludePaddingInHeightCalculation&&o){try{l='this.parentNode.'+(k==c.body?'scrollHeight':'offsetHeight')+' + "px"';if(b){b.dom.style.setExpression('height',l)}f.dom.style.setExpression('height',l)}catch(t){}}else {if(Ext.isIE9m&&!(Ext.isIE7&&Ext.isStrict)&&h.getStyle('height')=='auto'){if(b){b.setSize(undefined,p||h.getHeight())}f.setSize(undefined,p||h.getHeight())}}return f},unmask:function(){var h=this,c=(h.$cache||h.getCache()).data,e=c.maskEl,f=c.maskShimEl,i=c.maskMsg,b;if(e){b=e.dom.style;if(b.clearExpression){b.clearExpression('width');b.clearExpression('height')}if(e){e.remove();delete c.maskEl}if(i){i.remove();delete c.maskMsg}h.removeCls([g,d]);if(f){b=f.dom.style;if(b.clearExpression){b.clearExpression('width');b.clearExpression('height')}f.remove();delete c.maskShimEl}}},isMasked:function(){var b=this,f=(b.$cache||b.getCache()).data,e=f.maskEl,d=f.maskMsg,c=!1;if(e&&e.isVisible()){if(d){d.center(b)}c=!0}return c},createShim:function(){var b=c.createElement('iframe'),d;b.frameBorder='0';b.className='x-shim';b.src=Ext.SSL_SECURE_URL;d=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));d.autoBoxAdjust=!1;return d},addKeyListener:function(b,e,d){var c;if(typeof b!='object'||Ext.isArray(b)){c={target:this,key:b,fn:e,scope:d}}else {c={target:this,key:b.key,shift:b.shift,ctrl:b.ctrl,alt:b.alt,fn:e,scope:d}}return new Ext.util.KeyMap(c)},addKeyMap:function(b){return new Ext.util.KeyMap(Ext.apply({target:this},b))},on:function(b,e,d,c){Ext.EventManager.on(this,b,e,d||this,c);return this},un:function(b,d,c){Ext.EventManager.un(this,b,d,c||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},select:function(b){return a.select(b,!1,this.dom)}}},0,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable]],[Ext.dom,'Element',Ext,'Element',Ext.core,'Element'],function(){var c=document,b=Ext.cache,a=this,d=Ext.dom.AbstractElement,f=/^a|button|embed|iframe|input|object|select|textarea$/i,j=/\S/,h=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,g=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,l=/\ssrc=([\'\"])(.*?)\1/i,k=/\stype=([\'\"])(.*?)\1/i,i=!Ext.isIE8m,e;a.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';function garbageCollect(){if(!Ext.enableGarbageCollector){clearInterval(a.collectorThreadId)}else {var c,d,e,f;for(c in b){if(!b.hasOwnProperty(c)){continue}e=b[c];if(e.skipGarbageCollection){continue}d=e.dom;if(d&&(!d.parentNode||!d.offsetParent&&!Ext.getElementById(c))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(d)}delete b[c]}}if(Ext.isIE){f={};for(c in b){if(!b.hasOwnProperty(c)){continue}f[c]=b[c]}b=Ext.cache=f}}}a.collectorThreadId=setInterval(garbageCollect,30000);a.addMethods({monitorMouseLeave:function(e,d,f){var c=this,b,a={mouseleave:function(a){b=setTimeout(Ext.Function.bind(d,f||c,[a]),e)},mouseenter:function(){clearTimeout(b)},freezeEvent:!0};c.on(a);return a},swallowEvent:function(a,f){var b=this,c,d,e=function(b){b.stopPropagation();if(f){b.preventDefault()}};if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++){b.on(a[c],e)}return b}b.on(a,e);return b},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(h){var c=this,d=c.dom,f=(c.$cache||c.getCache()).data,a=d.firstChild,g=-1,b;if(f.isCleaned&&h!==!0){return c}while(a){b=a.nextSibling;if(a.nodeType==3){if(!j.test(a.nodeValue)){d.removeChild(a)}else {if(b&&b.nodeType==3){a.appendData(Ext.String.trim(b.data));d.removeChild(b);b=a.nextSibling;a.nodeIndex=++g}}}else {e.attach(a).clean();a.nodeIndex=++g}a=b}f.isCleaned=!0;return c},load:function(a){this.getLoader().load(a);return this},getLoader:function(){var b=this,c=(b.$cache||b.getCache()).data,a=c.loader;if(!a){c.loader=a=new Ext.ElementLoader({target:b})}return a},syncContent:function(d){d=Ext.getDom(d);var j=d.childNodes,l=j.length,f=this.dom,k=f.childNodes,n=k.length,b,c,a,h,g,m,i;if(Ext.isIE9m&&f.mergeAttributes){f.mergeAttributes(d,!0);f.src=d.src}else {g=d.attributes;m=g.length;for(b=0;b<m;b++){i=g[b].name;if(i!=='id'){f.setAttribute(i,g[b].value)}}}if(l!==n){f.innerHTML=d.innerHTML;return}for(b=0;b<l;b++){a=j[b];c=k[b];h=a.nodeType;if(h!==c.nodeType||h===1&&a.tagName!==c.tagName){f.innerHTML=d.innerHTML;return}if(h===3){c.data=a.data}else {if(a.id&&c.id!==a.id){c.id=a.id}c.style.cssText=a.style.cssText;c.className=a.className;e.attach(c).syncContent(a)}}},update:function(b,j,f){var a=this,e,d,i;if(!a.dom){return a}b=b||'';d=a.dom;if(j!==!0){d.innerHTML=b;Ext.callback(f,a);return a}e=Ext.id();b+='<span id="'+e+'"></span>';i=setInterval(function(){var q,d,n,m,g,p,o;if(!(p=c.getElementById(e))){return !1}clearInterval(i);Ext.removeNode(p);q=Ext.getHead().dom;while(d=h.exec(b)){n=d[1];m=n?n.match(l):!1;if(m&&m[2]){o=c.createElement('script');o.src=m[2];g=n.match(k);if(g&&g[2]){o.type=g[2]}q.appendChild(o)}else {if(d[2]&&d[2].length>0){if(window.execScript){window.execScript(d[2])}else {window['eval'](d[2])}}}}Ext.callback(f,a)},20);d.innerHTML=b.replace(g,'');return a},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(b,e,f){b=typeof b=='object'?b:{tag:'div',cls:b};var d=this,c=e?Ext.DomHelper.append(e,b,!0):Ext.DomHelper.insertBefore(d.dom,b,!0);c.setVisibilityMode(a.DISPLAY);c.hide();if(f&&d.setBox&&d.getBox){c.setBox(d.getBox())}return c},needsTabIndex:function(){if(this.dom){if(this.dom.nodeName==='a'&&!this.dom.href){return !0}return !f.test(this.dom.nodeName)}},isFocusable:function(g){var b=this.dom,d=b.getAttributeNode('tabIndex'),c,e=b.nodeName,a=!1;if(d&&d.specified){c=d.value}if(b&&!b.disabled){if(c==-1){a=Ext.FocusManager&&Ext.FocusManager.enabled&&g}else {if(f.test(e)){if(e!=='a'||b.href){a=!0}}else {a=c!=null&&c>=0}}a=a&&this.isVisible(!0)}return a}});if(Ext.isIE){a.prototype.getById=function(e,h){var j=this.dom,f,d,g;if(j){d=i&&c.getElementById(e)||j.all[e];if(d){if(h){g=d}else {f=b[e];if(f&&f.el){g=Ext.updateCacheEntry(f,d).el}else {g=new a(d)}}return g}}return h?Ext.getDom(e):a.get(e)}}a.createAlias({addListener:'on',removeListener:'un',clearListeners:'removeAllListeners',focusable:'isFocusable'});a.Fly=d.Fly=new Ext.Class({extend:a,isFly:!0,constructor:function(a){this.dom=a;this.el=this},attach:d.Fly.prototype.attach});e=new a.Fly();if(Ext.isIE){Ext.getElementById=function(e){var a=c.getElementById(e),b;if(!a&&(b=d.detachedBodyEl)){a=b.dom.all[e]}return a}}else {if(!c.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(a){return c.getElementById(a)}}}});Ext.cmd.derive('Ext.dom.CompositeElementLite',Ext.Base,{alternateClassName:'Ext.CompositeElementLite',statics:{importElementMethods:function(){var b,c=Ext.dom.Element.prototype,a=this.prototype;for(b in c){if(typeof c[b]=='function'){(function(b){a[b]=a[b]||function(){return this.invoke(b,arguments)}}).call(a,b)}}}},constructor:function(a,b){this.elements=[];this.add(a,b);this.el=new Ext.dom.AbstractElement.Fly()},isComposite:!0,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,e){var d=this.elements,b,c;if(!a){return this}if(typeof a=='string'){a=Ext.dom.Element.selectorFunction(a,e)}else {if(a.isComposite){a=a.elements}else {if(!Ext.isIterable(a)){a=[a]}}}for(b=0,c=a.length;b<c;++b){d.push(this.transformElement(a[b]))}return this},invoke:function(c,e){var d=this.elements,f=d.length,b,a;c=Ext.dom.Element.prototype[c];for(a=0;a<f;a++){b=d[a];if(b){c.apply(this.getElement(b),e)}}return this},item:function(c){var b=this.elements[c],a=null;if(b){a=this.getElement(b)}return a},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(d,e,f,h){var c=this.elements,g=c.length,b,a;for(b=0;b<g;b++){a=c[b];if(a){Ext.EventManager.on(a,d,e,f||a,h)}}return this},each:function(g,e){var c=this,d=c.elements,f=d.length,b,a;for(b=0;b<f;b++){a=d[b];if(a){a=this.getElement(a);if(g.call(e||a,a,c,b)===!1){break}}}return c},fill:function(b){var a=this;a.elements=[];a.add(b);return a},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(e){var b=this,f=b.elements,i=f.length,g=[],d=0,h=typeof e=='function',c,a;for(;d<i;d++){a=f[d];c=!1;if(a){a=b.getElement(a);if(h){c=e.call(a,a,b,d)!==!1}else {c=a.is(e)}if(c){g.push(b.transformElement(a))}}}b.elements=g;return b},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(d,a,e){var c=!isNaN(d)?d:this.indexOf(d),b;if(c>-1){a=Ext.getDom(a);if(e){b=this.elements[c];b.parentNode.insertBefore(a,b);Ext.removeNode(b)}Ext.Array.splice(this.elements,c,1,a)}return this},clear:function(c){var d=this,b=d.elements,a=b.length-1;if(c){for(;a>=0;a--){Ext.removeNode(b[a])}}this.elements=[]},addElements:function(a,d){if(!a){return this}if(typeof a=='string'){a=Ext.dom.Element.selectorFunction(a,d)}var e=this.elements,c=a.length,b;for(b=0;b<c;b++){e.push(Ext.get(a[b]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(b,g){b=[].concat(b);var f=this,e=f.elements,h=b.length,a,c,d;for(d=0;d<h;d++){a=b[d];if(c=e[a]||e[a=f.indexOf(a)]){if(g){if(c.dom){c.remove()}else {Ext.removeNode(c)}}Ext.Array.erase(e,a,1)}}return f}},1,0,0,0,0,0,[Ext.dom,'CompositeElementLite',Ext,'CompositeElementLite'],function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery){Ext.dom.Element.selectorFunction=Ext.DomQuery.select}Ext.dom.Element.select=function(a,c){var b;if(typeof a=='string'){b=Ext.dom.Element.selectorFunction(a,c)}else {if(a.length!==undefined){b=a}else {}}return new Ext.CompositeElementLite(b)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}});Ext.cmd.derive('Ext.dom.CompositeElement',Ext.dom.CompositeElementLite,{alternateClassName:'Ext.CompositeElement',getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},0,0,0,0,0,0,[Ext.dom,'CompositeElement',Ext,'CompositeElement'],function(){Ext.dom.Element.select=function(b,c,d){var a;if(typeof b=='string'){a=Ext.dom.Element.selectorFunction(b,d)}else {if(b.length!==undefined){a=b}else {}}return c===!0?new Ext.CompositeElement(a):new Ext.CompositeElementLite(a)}});Ext.select=Ext.Element.select;Ext.cmd.derive('Ext.util.HashMap',Ext.Base,{generation:0,constructor:function(b){b=b||{};var a=this,c=b.keyFn;a.initialConfig=b;a.addEvents('add','clear','remove','replace');a.mixins.observable.constructor.call(a,b);a.clear(!0);if(c){a.getKey=c}},getCount:function(){return this.length},getData:function(b,a){if(a===undefined){a=b;b=this.getKey(a)}return [b,a]},getKey:function(a){return a.id},add:function(c,b){var a=this;if(arguments.length===1){b=c;c=a.getKey(b)}if(a.containsKey(c)){return a.replace(c,b)}a.map[c]=b;++a.length;a.generation++;if(a.hasListeners.add){a.fireEvent('add',a,c,b)}return b},replace:function(b,c){var a=this,d=a.map,e;if(arguments.length===1){c=b;b=a.getKey(c)}if(!a.containsKey(b)){a.add(b,c)}e=d[b];d[b]=c;a.generation++;if(a.hasListeners.replace){a.fireEvent('replace',a,b,c,e)}return c},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeAtKey(a)}return !1},removeAtKey:function(b){var a=this,c;if(a.containsKey(b)){c=a.map[b];delete a.map[b];--a.length;a.generation++;if(a.hasListeners.remove){a.fireEvent('remove',a,b,c)}return !0}return !1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(b){var a=this;if(b||a.generation){a.map={};a.length=0;a.generation=b?0:a.generation+1}if(b!==!0&&a.hasListeners.clear){a.fireEvent('clear',a)}return a},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(d){var c=[],a,b=this.map;for(a in b){if(b.hasOwnProperty(a)){c.push(d?a:b[a])}}return c},each:function(e,c){var b=Ext.apply({},this.map),a,d=this.length;c=c||this;for(a in b){if(b.hasOwnProperty(a)){if(e.call(c,a,b[a],d)===!1){break}}}return this},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b])}}a.resumeEvents();return a},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return undefined}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'HashMap'],0);Ext.cmd.derive('Ext.AbstractManager',Ext.Base,{typeName:'type',constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,c){var d=a[this.typeName]||a.type||c,b=this.types[d];return new b(a)},onAvailable:function(d,f,e){var a=this.all,c,b;if(a.containsKey(d)){c=a.get(d);f.call(e||c,c)}else {b=function(h,g,c){if(g==d){f.call(e||c,c);a.un('add',b)}};a.on('add',b)}},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}},1,0,0,0,0,0,[Ext,'AbstractManager'],0);Ext.cmd.derive('Ext.ComponentManager',Ext.AbstractManager,{alternateClassName:'Ext.ComponentMgr',singleton:!0,typeName:'xtype',create:function(a,b){if(typeof a=='string'){return Ext.widget(a)}if(a.isComponent){return a}return Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a;b.prototype[this.typeName]=a}},0,0,0,0,0,0,[Ext,'ComponentManager',Ext,'ComponentMgr'],function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});Ext.cmd.derive('Ext.ComponentQuery',Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,'ComponentQuery'],function(){var a=this,b=Ext.dom.Query.operators,p=/(\d*)n\+?(\d*)/,o=/\D/,j=['var r = [],','i = 0,','it = items,','l = it.length,','c;','for (; i < l; i++) {','c = it[i];','if (c.{0}) {','r.push(c);','}','}','return r;'].join(''),d=function(b,a){return a.method.apply(this,[b].concat(a.args))},f=function(d,g){var b=[],c=0,e=d.length,a,f=g!=='>';for(;c<e;c++){a=d[c];if(a.getRefItems){b=b.concat(a.getRefItems(f))}}return b},l=function(d){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];while(!!(a=a.getRefOwner())){c.push(a)}}return c},c=function(b,e,f){if(e==='*'){return b.slice()}else {var d=[],c=0,g=b.length,a;for(;c<g;c++){a=b[c];if(a.isXType(e,f)){d.push(a)}}return d}},i=function(d,e){var c=[],b=0,f=d.length,a;for(;b<f;b++){a=d[b];if(a.hasCls(e)){c.push(a)}}return c},h=function(m,a,i,e){var f=[],j=0,n=m.length,h,k,d,c,g,l;if(a.charAt(0)==='@'){h=!0;a=a.substr(1)}if(a.charAt(0)==='?'){h=!0;k=!0;a=a.substr(1)}for(;j<n;j++){d=m[j];if(!h||d.hasOwnProperty(a)){c=d[a];if(k){f.push(d)}else {if(i==='~='){if(c){if(!Ext.isArray(c)){c=c.split(' ')}for(g=0,l=c.length;g<l;g++){if(b[i](Ext.coerce(c[g],e),e)){f.push(d);break}}}}else {if(!e?!!d[a]:b[i](Ext.coerce(c,e),e)){f.push(d)}}}}}return f},e=function(d,f){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];if(a.getItemId()===f){c.push(a)}}return c},k=function(b,d,c){return a.pseudos[d](b,c)},n=/^(\s?([>\^])\s?|\s|$)/,m=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,g=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:c},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:h},{re:/^#([\w\-]+)/,method:e},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:k},{re:/^(?:\{([^\}]+)\})/,method:j}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(b){var g=this.operations,e=0,h=g.length,c,a;if(!b){a=Ext.ComponentManager.all.getArray()}else {if(Ext.isIterable(b)){a=b}else {if(b.isMixedCollection){a=b.items}}}for(;e<h;e++){c=g[e];if(c.mode==='^'){a=l(a||[b])}else {if(c.mode){a=f(a||[b],c.mode)}else {a=d(a||f([b]),c)}}if(e===h-1){return a}}return []},is:function(e){var c=this.operations,a=Ext.isArray(e)?e:[e],g=a.length,h=c[c.length-1],f,b;a=d(a,h);if(a.length===g){if(c.length>1){for(b=0,f=a.length;b<f;b++){if(Ext.Array.indexOf(this.execute(),a[b])===-1){return !1}}}return !0}return !1}});Ext.apply(this,{cache:{},pseudos:{not:function(c,e){var h=Ext.ComponentQuery,b=0,f=c.length,d=[],g=-1,a;for(;b<f;++b){a=c[b];if(!h.is(a,e)){d[++g]=a}}return d},first:function(a){var b=[];if(a.length>0){b.push(a[0])}return b},last:function(a){var b=a.length,c=[];if(b>0){c.push(a[b-1])}return c},focusable:function(d){var e=d.length,c=[],b=0,a;for(;b<e;b++){a=d[b];if(a.isFocusable()){c.push(a)}}return c},'nth-child':function(i,a){var d=[],h=p.exec(a=='even'&&'2n'||a=='odd'&&'2n+1'||!o.test(a)&&'n+'+a||a),g=(h[1]||1)-0,e=h[2]-0,b,f,c;for(b=0;f=i[b];b++){c=b+1;if(g==1){if(e==0||c==e){d.push(f)}}else {if((c+e)%g==0){d.push(f)}}}return d}},query:function(c,k){var h=c.split(','),i=h.length,a=0,b=[],e=[],f={},j,g,d;for(;a<i;a++){c=Ext.String.trim(h[a]);j=this.cache[c]||(this.cache[c]=this.parse(c));b=b.concat(j.execute(k))}if(i>1){g=b.length;for(a=0;a<g;a++){d=b[a];if(!f[d.id]){e.push(d);f[d.id]=!0}}b=e}return b},is:function(e,a){if(!a){return !0}var c=a.split(','),f=c.length,b=0,d;for(;b<f;b++){a=Ext.String.trim(c[b]);d=this.cache[a]||(this.cache[a]=this.parse(a));if(d.is(e)){return !0}}return !1},parse:function(b){var f=[],q=g.length,p,d,o,j,h,l,k,r;while(b&&p!==b){p=b;d=b.match(m);if(d){o=d[1];if(o==='#'){f.push({method:e,args:[Ext.String.trim(d[2])]})}else {if(o==='.'){f.push({method:i,args:[Ext.String.trim(d[2])]})}else {f.push({method:c,args:[Ext.String.trim(d[2]),Boolean(d[3])]})}}b=b.replace(d[0],'')}while(!(j=b.match(n))){for(l=0;b&&l<q;l++){k=g[l];h=b.match(k.re);r=k.method;if(h){f.push({method:Ext.isString(k.method)?Ext.functionFactory('items',Ext.String.format.apply(Ext.String,[r].concat(h.slice(1)))):k.method,args:h.slice(1)});b=b.replace(h[0],'');break}if(l===q-1){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(j[1]){f.push({mode:j[2]||j[1]});b=b.replace(j[0],'')}}return new a.Query({operations:f})}})});Ext.cmd.derive('Ext.util.ProtoElement',Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return {isProtoEl:!0,clsProp:'cls',styleProp:'style',removedProp:'removed',styleIsText:!1,constructor:function(d){var c=this;Ext.apply(c,d);c.classList=a(c.cls);c.classMap=b(c.classList);delete c.cls;if(Ext.isFunction(c.style)){c.styleFn=c.style;delete c.style}else {if(typeof c.style=='string'){c.style=Ext.Element.parseStyles(c.style)}else {if(c.style){c.style=Ext.apply({},c.style)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(d){var c=this,g=typeof d==='string'?a(d):d,i=g.length,j=c.classList,h=c.classMap,f=c.flushClassList,e=0,b;for(;e<i;++e){b=g[e];if(!h[b]){h[b]=!0;j.push(b);if(f){f.push(b);delete c.removedClasses[b]}}}return c},hasCls:function(a){return a in this.classMap},removeCls:function(l){var d=this,g=d.classList,i=d.classList=[],k=b(a(l)),j=g.length,h=d.classMap,f=d.removedClasses,e,c;for(e=0;e<j;++e){c=g[e];if(k[c]){if(f){if(h[c]){f[c]=!0;Ext.Array.remove(d.flushClassList,c)}}delete h[c]}else {i.push(c)}}return d},setStyle:function(a,d){var b=this,c=b.style||(b.style={});if(typeof a=='string'){if(arguments.length===1){b.setStyle(Ext.Element.parseStyles(a))}else {c[a]=d}}else {Ext.apply(c,a)}return b},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=!0}},writeTo:function(d){var a=this,e=a.flushClassList||a.classList,c=a.removedClasses,b;if(a.styleFn){b=Ext.apply({},a.styleFn());Ext.apply(b,a.style)}else {b=a.style}d[a.clsProp]=e.join(' ');if(b){d[a.styleProp]=a.styleIsText?Ext.DomHelper.generateStyles(b):b}if(c){c=Ext.Object.getKeys(c);if(c.length){d[a.removedProp]=c.join(' ')}}if(a.unselectableAttr){d.unselectable='on'}return d}}}(),1,0,0,0,0,0,[Ext.util,'ProtoElement'],0);Ext.cmd.derive('Ext.PluginManager',Ext.AbstractManager,{alternateClassName:'Ext.PluginMgr',singleton:!0,typeName:'ptype',create:function(b,d,c){var a;if(b.init){a=b}else {if(c){b=Ext.apply({},b);b.cmp=c}else {c=b.cmp}if(b.xclass){a=Ext.create(b)}else {a=Ext.ClassManager.getByAlias('plugin.'+(b.ptype||d));if(typeof a==='function'){a=new a(b)}}}if(a&&c&&a.setCmp&&!a.setCmpCalled){a.setCmp(c);a.setCmpCalled=!0}return a},findByType:function(f,d){var e=[],b=this.types,c,a;for(c in b){if(!b.hasOwnProperty(c)){continue}a=b[c];if(a.type==f&&(!d||d===!0&&a.isDefault)){e.push(a)}}return e}},0,0,0,0,0,0,[Ext,'PluginManager',Ext,'PluginMgr'],function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});Ext.cmd.derive('Ext.util.Filter',Ext.Base,{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(e){var c=!0,f=a.length,d,b;for(d=0;c&&d<f;d++){b=a[d];if(!b.disabled){c=c&&b.filterFn.call(b.scope||b,e)}}return c}:function(){return !0}}},operatorFns:{'<':function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},'<=':function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=this.value},'=':function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},'>=':function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},'>':function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},'!=':function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(b){var a=this;a.initialConfig=b;Ext.apply(a,b);a.filter=a.filter||a.filterFn;if(a.filter===undefined){a.setValue(b.value)}},setValue:function(b){var a=this;a.value=b;if(a.property===undefined||a.value===undefined){}else {a.filter=a.createFilterFn()}a.filterFn=a.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;if(a.operator){return a.operatorFns[a.operator]}else {return function(e){var d=a.getRoot(e)[c];return b===null?d===null:b.test(d)}}},getRoot:function(a){var b=this.root;return b===undefined?a:a[b]},createValueMatcher:function(){var b=this,a=b.value,f=b.anyMatch,e=b.exactMatch,d=b.caseSensitive,c=Ext.String.escapeRegex;if(a===null){return a}if(!a.exec){a=String(a);if(f===!0){a=c(a)}else {a='^'+c(a);if(e===!0){a+='$'}}a=new RegExp(a,d?'':'i')}return a},serialize:function(){var b=this,a=Ext.apply({},b.initialConfig);a.value=b.value;return a}},1,0,0,0,0,0,[Ext.util,'Filter'],function(){this.prototype.operatorFns['==']=this.prototype.operatorFns['=']});Ext.cmd.derive('Ext.util.AbstractMixedCollection',Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(b,c){var a=this;if(arguments.length===1&&Ext.isObject(b)){a.initialConfig=b;Ext.apply(a,b)}else {a.allowFunctions=b===!0;if(c){a.getKey=c}a.initialConfig={allowFunctions:a.allowFunctions,getKey:a.getKey}}a.items=[];a.map={};a.keys=[];a.indexMap={};a.length=0;a.mixins.observable.constructor.call(a)},allowFunctions:!1,add:function(b,d){var c=this.length,a;if(arguments.length===1){a=this.insert(c,b)}else {a=this.insert(c,b,d)}return a},getKey:function(a){return a.id},replace:function(b,c){var a=this,d,e;if(arguments.length==1){c=arguments[0];b=a.getKey(c)}d=a.map[b];if(typeof b=='undefined'||b===null||typeof d=='undefined'){return a.add(b,c)}a.generation++;e=a.indexOfKey(b);a.items[e]=c;a.map[b]=c;if(a.hasListeners.replace){a.fireEvent('replace',b,d,c)}return c},updateKey:function(b,c){var a=this,e=a.map,f=a.indexMap,d=a.indexOfKey(b),g;if(d>-1){g=e[b];delete e[b];delete f[b];e[c]=g;f[c]=d;a.keys[d]=c;a.generation++}},addAll:function(a){var c=this,b;if(arguments.length>1||Ext.isArray(a)){c.insert(c.length,arguments.length>1?arguments:a)}else {for(b in a){if(a.hasOwnProperty(b)){if(c.allowFunctions||typeof a[b]!='function'){c.add(b,a[b])}}}}},each:function(f,e){var c=Ext.Array.push([],this.items),a=0,d=c.length,b;for(;a<d;a++){b=c[a];if(f.call(e||b,b,a,d)===!1){break}}},eachKey:function(f,e){var b=this.keys,d=this.items,a=0,c=b.length;for(;a<c;a++){f.call(e||window,b[a],d[a],a,c)}},findBy:function(f,c){var d=this.keys,b=this.items,a=0,e=b.length;for(;a<e;a++){if(f.call(c||window,b[a],d[a])){return b[a]}}return null},insert:function(c,b,d){var a;if(Ext.isIterable(b)){a=this.doInsert(c,b,d)}else {if(arguments.length>2){a=this.doInsert(c,[b],[d])}else {a=this.doInsert(c,[b])}a=a[0]}return a},doInsert:function(f,e,d){var b=this,c,i,a,g=e.length,j=g,o=b.hasListeners.add,k,h={},l,n,m;if(d!=null){b.useLinearSearch=!0}else {d=e;e=new Array(g);for(a=0;a<g;a++){e[a]=this.getKey(d[a])}}b.suspendEvents();for(a=0;a<g;a++){c=e[a];i=b.indexOfKey(c);if(i!==-1){if(i<f){f--}b.removeAt(i)}if(c!=null){if(h[c]!=null){l=!0;j--}h[c]=a}}b.resumeEvents();if(l){n=e;m=d;e=new Array(j);d=new Array(j);a=0;for(c in h){e[a]=n[h[c]];d[a]=m[h[c]];a++}g=j}k=f===b.length&&b.indexGeneration===b.generation;Ext.Array.insert(b.items,f,d);Ext.Array.insert(b.keys,f,e);b.length+=g;b.generation++;if(k){b.indexGeneration=b.generation}for(a=0;a<g;a++,f++){c=e[a];if(c!=null){b.map[c]=d[a];if(k){b.indexMap[c]=f}}if(o){b.fireEvent('add',f,d[a],c)}}return d},remove:function(d){var a=this,c,b;if(!a.useLinearSearch&&(c=a.getKey(d))){b=a.indexOfKey(c)}else {b=Ext.Array.indexOf(a.items,d)}return b===-1?!1:a.removeAt(b)},removeAll:function(b){var a=this,c;if(b||a.hasListeners.remove){if(b){for(c=b.length-1;c>=0;--c){a.remove(b[c])}}else {while(a.length){a.removeAt(0)}}}else {a.length=a.items.length=a.keys.length=0;a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}},removeAt:function(b){var a=this,d,c;if(b<a.length&&b>=0){a.length--;d=a.items[b];Ext.Array.erase(a.items,b,1);c=a.keys[b];if(typeof c!='undefined'){delete a.map[c]}Ext.Array.erase(a.keys,b,1);if(a.hasListeners.remove){a.fireEvent('remove',d,c)}a.generation++;return d}return !1},removeRange:function(c,b){var a=this,i,f,d,e,g,h;if(c<a.length&&c>=0){if(!b){b=1}e=Math.min(c+b,a.length);b=e-c;h=e===a.length;g=h&&a.indexGeneration===a.generation;for(d=c;d<e;d++){f=a.keys[d];if(f!=null){delete a.map[f];if(g){delete a.indexMap[f]}}}i=a.items[d-1];a.length-=b;a.generation++;if(g){a.indexGeneration=a.generation}if(h){a.items.length=a.keys.length=a.length}else {a.items.splice(c,b);a.keys.splice(c,b)}return i}return !1},removeAtKey:function(d){var b=this,c=b.keys,a;if(d==null){for(a=c.length-1;a>=0;a--){if(c[a]==null){b.removeAt(a)}}}else {return b.removeAt(b.indexOfKey(d))}},getCount:function(){return this.length},indexOf:function(b){var a=this,c;if(b!=null){if(!a.useLinearSearch&&(c=a.getKey(b))){return this.indexOfKey(c)}return Ext.Array.indexOf(a.items,b)}return -1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var b=this,d=b.indexMap={},c=b.keys,e=c.length,a;for(a=0;a<e;a++){d[c[a]]=a}b.indexGeneration=b.generation},get:function(a){var b=this,d=b.map[a],c=d!==undefined?d:typeof a=='number'?b.items[a]:undefined;return typeof c!='function'||b.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var c=this,b;if(a!=null){if(!c.useLinearSearch&&(b=c.getKey(a))){return this.map[b]!=null}return Ext.Array.indexOf(this.items,a)!==-1}return !1},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent('clear')}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(f,h,c,a){var d=this.extractValues(f,h),g=d.length,e=0,b;c=c||0;a=a||a===0?a:g-1;for(b=c;b<=a;b++){e+=d[b]}return e},collect:function(h,j,g){var e=this.extractValues(h,j),i=e.length,f={},d=[],a,c,b;for(b=0;b<i;b++){a=e[b];c=String(a);if((g||!Ext.isEmpty(a))&&!f[c]){f[c]=!0;d.push(a)}}return d},extractValues:function(c,b){var a=this.items;if(b){a=Ext.Array.pluck(a,b)}return Ext.Array.pluck(a,c)},hasRange:function(b,a){return a<this.length},getRange:function(b,a){var h=this,f=h.items,c=[],d=f.length,g,e;if(d<1){return c}if(b>a){e=!0;g=b;b=a;a=g}if(b<0){b=0}if(a==null||a>=d){a=d-1}c=f.slice(b,a+1);if(e&&c.length){c.reverse()}return c},filter:function(a,e,d,c){var b=[];if(Ext.isString(a)){b.push(new Ext.util.Filter({property:a,value:e,anyMatch:d,caseSensitive:c}))}else {if(Ext.isArray(a)||a instanceof Ext.util.Filter){b=b.concat(a)}}return this.filterBy(Ext.util.Filter.createFilterFn(b))},filterBy:function(h,g){var b=this,d=new b.self(b.initialConfig),e=b.keys,c=b.items,f=c.length,a;d.getKey=b.getKey;for(a=0;a<f;a++){if(h.call(g||b,c[a],e[a])){d.add(e[a],c[a])}}return d},findIndex:function(d,a,e,c,b){if(Ext.isEmpty(a,!1)){return -1}a=this.createValueMatcher(a,c,b);return this.findIndexBy(function(f){return f&&a.test(f[d])},null,e)},findIndexBy:function(h,d,e){var b=this,f=b.keys,c=b.items,a=e||0,g=c.length;for(;a<g;a++){if(h.call(d||b,c[a],f[a])){return a}}return -1},createValueMatcher:function(a,e,c,d){if(!a.exec){var b=Ext.String.escapeRegex;a=String(a);if(e===!0){a=b(a)}else {a='^'+b(a);if(d===!0){a+='$'}}a=new RegExp(a,c?'':'i')}return a},clone:function(){var a=this,b=new this.self(a.initialConfig);b.add(a.keys,a.items);return b}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'AbstractMixedCollection'],0);Ext.cmd.derive('Ext.util.Sorter',Ext.Base,{direction:'ASC',constructor:function(b){var a=this;Ext.apply(a,b);a.updateSortFunction()},createSortFunction:function(d){var a=this,b=a.direction||'ASC',c=b.toUpperCase()=='DESC'?-1:1;return function(b,e){return c*d.call(a,b,e)}},defaultSorterFn:function(e,f){var a=this,d=a.transform,b=a.getRoot(e)[a.property],c=a.getRoot(f)[a.property];if(d){b=d(b);c=d(c)}return b>c?1:b<c?-1:0},getRoot:function(a){return this.root===undefined?a:a[this.root]},setDirection:function(a){var b=this;b.direction=a?a.toUpperCase():a;b.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,'ASC','DESC');a.updateSortFunction()},updateSortFunction:function(b){var a=this;b=b||a.sorterFn||a.defaultSorterFn;a.sort=a.createSortFunction(b)},serialize:function(){return {root:this.root,property:this.property,direction:this.direction}}},1,0,0,0,0,0,[Ext.util,'Sorter'],0);Ext.cmd.derive('Ext.util.Sortable',Ext.Base,{isSortable:!0,defaultSortDirection:'ASC',statics:{createComparator:function(a){return a&&a.length?function(d,e){var b=a[0].sort(d,e),f=a.length,c=1;for(;c<f;c++){b=b||a[c].sort.call(this,d,e)}return b}:function(){return 0}}},initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(!1,function(a){return a.id||a.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(c,f,e,g){var b=this,d,a;if(Ext.isArray(c)){g=e;e=f;a=c}else {if(Ext.isObject(c)){g=e;e=f;a=[c]}else {if(Ext.isString(c)){d=b.sorters.get(c);if(!d){d={property:c,direction:f};a=[d]}else {if(f===undefined){d.toggle()}else {d.setDirection(f)}}}}}if(a&&a.length){a=b.decodeSorters(a);if(Ext.isString(e)){if(e==='prepend'){b.sorters.insert(0,a)}else {b.sorters.addAll(a)}}else {b.sorters.clear();b.sorters.addAll(a)}}if(g!==!1){b.fireEvent('beforesort',b,a);b.onBeforeSort(a);c=b.sorters.items;if(c.length){b.doSort(b.generateComparator())}}return c},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(b){if(!Ext.isArray(b)){if(b===undefined){b=[]}else {b=[b]}}var g=b.length,f=Ext.util.Sorter,e=this.model?this.model.prototype.fields:null,d,a,c;for(c=0;c<g;c++){a=b[c];if(!(a instanceof f)){if(Ext.isString(a)){a={property:a}}Ext.applyIf(a,{root:this.sortRoot,direction:'ASC'});if(a.fn){a.sorterFn=a.fn}if(typeof a=='function'){a={sorterFn:a}}if(e&&!a.transform){d=e.get(a.property);a.transform=d&&d.sortType!==Ext.identityFn?d.sortType:undefined}b[c]=new Ext.util.Sorter(a)}}return b},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var c=this.sorters.items,d=c.length,b=0,a;for(;b<d;++b){a=c[b];if(!a.isGrouper){return a}}return null}},0,0,0,0,0,0,[Ext.util,'Sortable'],function(){this.prototype.createComparator=this.createComparator});Ext.cmd.derive('Ext.util.MixedCollection',Ext.util.AbstractMixedCollection,{constructor:function(){var a=this;Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments);a.addEvents('sort');a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(h,j,g){var b=this,a,d,k=String(j).toUpperCase()=='DESC'?-1:1,c=[],i=b.keys,f=b.items,e;g=g||function(a,b){return a-b};for(a=0,d=f.length;a<d;a++){c[c.length]={key:i[a],value:f[a],index:a}}Ext.Array.sort(c,function(a,b){return g(a[h],b[h])*k||(a.index<b.index?-1:1)});for(a=0,d=c.length;a<d;a++){e=c[a];f[a]=e.value;i[a]=e.key;b.indexMap[e.key]=a}b.generation++;b.indexGeneration=b.generation;b.fireEvent('sort',b)},sortBy:function(h){var b=this,c=b.items,f,g=b.keys,d,e=c.length,a;for(a=0;a<e;a++){c[a].$extCollectionIndex=a}Ext.Array.sort(c,function(a,b){return h(a,b)||(a.$extCollectionIndex<b.$extCollectionIndex?-1:1)});for(a=0;a<e;a++){f=c[a];d=b.getKey(f);g[a]=d;b.indexMap[d]=a;delete c.$extCollectionIndex}b.generation++;b.indexGeneration=b.generation;b.fireEvent('sort',b,c,g)},findInsertionIndex:function(h,d){var g=this,f=g.items,b=0,e=f.length-1,a,c;if(!d){d=g.generateComparator()}while(b<=e){a=b+e>>1;c=d(h,f[a]);if(c>=0){b=a+1}else {if(c<0){e=a-1}}}return b},reorder:function(e){var b=this,f=b.items,a=0,h=f.length,c=[],g=[],d;b.suspendEvents();for(d in e){c[e[d]]=f[d]}for(a=0;a<h;a++){if(e[a]==undefined){g.push(f[a])}}for(a=0;a<h;a++){if(c[a]==undefined){c[a]=g.shift()}}b.clear();b.addAll(c);b.resumeEvents();b.fireEvent('sort',b)},sortByKey:function(a,b){this._sort('key',a,b||function(e,f){var c=String(e).toUpperCase(),d=String(f).toUpperCase();return c>d?1:c<d?-1:0})}},1,0,0,0,0,[['sortable',Ext.util.Sortable]],[Ext.util,'MixedCollection'],0);Ext.cmd.derive('Ext.fx.target.Target',Ext.Base,{isAnimTarget:!0,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}},1,0,0,0,0,0,[Ext.fx.target,'Target'],0);Ext.cmd.derive('Ext.fx.target.Element',Ext.fx.target.Target,{type:'element',getElVal:function(c,b,a){if(a==undefined){if(b==='x'){a=c.getX()}else {if(b==='y'){a=c.getY()}else {if(b==='scrollTop'){a=c.getScroll().top}else {if(b==='scrollLeft'){a=c.getScroll().left}else {if(b==='height'){a=c.getHeight()}else {if(b==='width'){a=c.getWidth()}else {a=c.getStyle(b)}}}}}}}return a},getAttr:function(b,c){var a=this.target;return [[a,this.getElVal(a,b,c)]]},setAttr:function(f){var i=this.target,h=f.length,a,b,e,c,d,g;for(c=0;c<h;c++){a=f[c].attrs;for(b in a){if(a.hasOwnProperty(b)){g=a[b].length;for(d=0;d<g;d++){e=a[b][d];this.setElVal(e[0],b,e[1])}}}}},setElVal:function(a,c,b){if(c==='x'){a.setX(b)}else {if(c==='y'){a.setY(b)}else {if(c==='scrollTop'){a.scrollTo('top',b)}else {if(c==='scrollLeft'){a.scrollTo('left',b)}else {if(c==='width'){a.setWidth(b)}else {if(c==='height'){a.setHeight(b)}else {a.setStyle(c,b)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,'Element'],0);Ext.cmd.derive('Ext.fx.target.ElementCSS',Ext.fx.target.Element,{setAttr:function(j,f){var d={attrs:[],duration:[],easing:[]},m=j.length,k,a,e,h,g,b,c,i,l;for(c=0;c<m;c++){a=j[c];g=a.duration;h=a.easing;a=a.attrs;for(e in a){if(Ext.Array.indexOf(d.attrs,e)==-1){d.attrs.push(e.replace(/[A-Z]/g,function(a){return '-'+a.toLowerCase()}));d.duration.push(g+'ms');d.easing.push(h)}}}k=d.attrs.join(',');g=d.duration.join(',');h=d.easing.join(', ');for(c=0;c<m;c++){a=j[c].attrs;for(e in a){l=a[e].length;for(i=0;i<l;i++){b=a[e][i];b[0].setStyle(Ext.supports.CSS3Prefix+'TransitionProperty',f?'':k);b[0].setStyle(Ext.supports.CSS3Prefix+'TransitionDuration',f?'':g);b[0].setStyle(Ext.supports.CSS3Prefix+'TransitionTimingFunction',f?'':h);b[0].setStyle(e,b[1]);if(f){b=b[0].dom.offsetWidth}else {b[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+'TransitionProperty',null);this.setStyle(Ext.supports.CSS3Prefix+'TransitionDuration',null);this.setStyle(Ext.supports.CSS3Prefix+'TransitionTimingFunction',null)},b[0],{single:!0})}}}}}},0,0,0,0,0,0,[Ext.fx.target,'ElementCSS'],0);Ext.cmd.derive('Ext.fx.target.CompositeElement',Ext.fx.target.Element,{isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,'ext-composite-');Ext.fx.target.Element.prototype.constructor.call(this,a)},getAttr:function(g,h){var e=[],d=this.target,c=d.elements,f=c.length,b,a;for(b=0;b<f;b++){a=c[b];if(a){a=d.getElement(a);e.push([a,this.getElVal(a,g,h)])}}return e},setAttr:function(f){var h=this.target,l=f.length,g=h.elements,k=g.length,i,e,a,b,m,c,d,j;for(c=0;c<l;c++){a=f[c].attrs;for(b in a){if(a.hasOwnProperty(b)){j=a[b].length;for(d=0;d<j;d++){i=a[b][d][1];for(e=0;e<k;++e){el=g[e];if(el){el=h.getElement(el);this.setElVal(el,b,i)}}}}}}}},1,0,0,0,0,0,[Ext.fx.target,'CompositeElement'],0);Ext.cmd.derive('Ext.fx.target.CompositeElementCSS',Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,'CompositeElementCSS'],0);Ext.cmd.derive('Ext.fx.target.Sprite',Ext.fx.target.Target,{type:'draw',getFromPrim:function(b,c){var a;switch(c){case 'rotate':case 'rotation':a=b.attr.rotation;return {x:a.x||0,y:a.y||0,degrees:a.degrees||0};case 'scale':case 'scaling':a=b.attr.scaling;return {x:a.x||1,y:a.y||1,cx:a.cx||0,cy:a.cy||0};case 'translate':case 'translation':a=b.attr.translation;return {x:a.x||0,y:a.y||0};default:return b.attr[c];}},getAttr:function(b,a){return [[this.target,a!=undefined?a:this.getFromPrim(this.target,b)]]},setAttr:function(n){var m=n.length,f=[],k,a,i,b,l,j,g,c,h,d,e,o;for(c=0;c<m;c++){k=n[c].attrs;for(a in k){i=k[a];o=i.length;for(h=0;h<o;h++){l=i[h][0];b=i[h][1];if(a==='translate'||a==='translation'){g={x:b.x,y:b.y}}else {if(a==='rotate'||a==='rotation'){d=b.x;if(isNaN(d)){d=null}e=b.y;if(isNaN(e)){e=null}g={degrees:b.degrees,x:d,y:e}}else {if(a==='scale'||a==='scaling'){d=b.x;if(isNaN(d)){d=null}e=b.y;if(isNaN(e)){e=null}g={x:d,y:e,cx:b.cx,cy:b.cy}}else {if(a==='width'||a==='height'||a==='x'||a==='y'){g=parseFloat(b)}else {g=b}}}}j=Ext.Array.indexOf(f,l);if(j==-1){f.push([l,{}]);j=f.length-1}f[j][1][a]=g}}}m=f.length;for(c=0;c<m;c++){f[c][0].setAttributes(f[c][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,'Sprite'],0);Ext.cmd.derive('Ext.fx.target.CompositeSprite',Ext.fx.target.Sprite,{getAttr:function(g,e){var d=[],c=[].concat(this.target.items),f=c.length,a,b;for(a=0;a<f;a++){b=c[a];d.push([b,e!=undefined?e:this.getFromPrim(b,g)])}return d}},0,0,0,0,0,0,[Ext.fx.target,'CompositeSprite'],0);Ext.cmd.derive('Ext.fx.target.Component',Ext.fx.target.Target,{type:'component',getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle('opacity')}},setMethods:{top:'setPosition',left:'setPosition',x:'setPagePosition',y:'setPagePosition',height:'setSize',width:'setSize',opacity:'setOpacity'},getAttr:function(b,a){return [[this.target,a!==undefined?a:this.getPropMethod[b].call(this.target)]]},setAttr:function(k,q,o){var h=this,p=k.length,d,c,a,e,f,l,m,n,j,i,b={},g;for(e=0;e<p;e++){d=k[e].attrs;for(c in d){l=d[c].length;for(f=0;f<l;f++){a=d[c][f];g=b[h.setMethods[c]]||(b[h.setMethods[c]]={});g.target=a[0];g[c]=a[1]}}if(b.setPosition){a=b.setPosition;m=a.left===undefined?undefined:parseFloat(a.left);n=a.top===undefined?undefined:parseFloat(a.top);a.target.setPosition(m,n)}if(b.setPagePosition){a=b.setPagePosition;a.target.setPagePosition(a.x,a.y)}if(b.setSize){a=b.setSize;j=a.width===undefined?a.target.getWidth():parseFloat(a.width);i=a.height===undefined?a.target.getHeight():parseFloat(a.height);a.target.el.setSize(j,i);if(o||h.dynamic){Ext.globalEvents.on({idle:Ext.Function.bind(a.target.setSize,a.target,[j,i]),single:!0})}}if(b.setOpacity){a=b.setOpacity;a.target.el.setStyle('opacity',a.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,'Component'],0);Ext.cmd.derive('Ext.fx.Queue',Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(b){var a=this.targets.get(b);if(a){return a.fxDefaults}return {}},setFxDefaults:function(b,c){var a=this.targets.get(b);if(a){a.fxDefaults=Ext.apply(a.fxDefaults||{},c)}},stopAnimation:function(c){var d=this,b=d.getFxQueue(c),a=b.length;while(a){b[a-1].end();a--}},getActiveAnimation:function(b){var a=this.getFxQueue(b);return a&&!!a.length?a[0]:!1},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(a){if(!a){return !1}var b=this,d=b.fxQueue[a],c=b.targets.get(a);if(!c){return !1}if(!d){b.fxQueue[a]=[];if(c.type!='element'){c.target.on('destroy',function(){b.fxQueue[a]=[]})}}return b.fxQueue[a]},queueFx:function(a){var e=this,c=a.target,b,d;if(!c){return}b=e.getFxQueue(c.getId());d=b.length;if(d){if(a.concurrent){a.paused=!1}else {b[d-1].on('afteranimate',function(){a.paused=!1})}}else {a.paused=!1}a.on('afteranimate',function(){Ext.Array.remove(b,a);if(b.length===0){e.targets.remove(a.target)}if(a.remove){if(c.type=='element'){var d=Ext.get(c.id);if(d){d.remove()}}}},e,{single:!0});b.push(a)}},1,0,0,0,0,0,[Ext.fx,'Queue'],0);Ext.cmd.derive('Ext.fx.Manager',Ext.Base,{singleton:!0,constructor:function(){var a=this;a.items=new Ext.util.MixedCollection();a.mixins.queue.constructor.call(a);a.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:!0,createTarget:function(a){var d=this,c=!d.forceJS&&Ext.supports.Transitions,b;d.useCSS3=c;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);b=new Ext.fx.target['Element'+(c?'CSS':'')](a)}else {if(a.dom){b=new Ext.fx.target['Element'+(c?'CSS':'')](a)}else {if(a.isComposite){b=new Ext.fx.target['CompositeElement'+(c?'CSS':'')](a)}else {if(a.isSprite){b=new Ext.fx.target.Sprite(a)}else {if(a.isCompositeSprite){b=new Ext.fx.target.CompositeSprite(a)}else {if(a.isComponent){b=new Ext.fx.target.Component(a)}else {if(a.isAnimTarget){return a}else {return null}}}}}}}d.targets.add(b);return b}else {return null}},addAnim:function(d){var a=this,c=a.items,b=a.task;c.add(d.id,d);if(!b&&c.length){b=a.task={run:a.runner,interval:a.interval,scope:a};a.taskRunner.start(b)}},removeAnim:function(d){var a=this,b=a.items,c=a.task;b.removeAtKey(d.id);if(c&&!b.length){a.taskRunner.stop(c);delete a.task}},runner:function(){var c=this,d=c.items.getRange(),a=0,e=d.length,b;c.targetArr={};c.timestamp=new Date();for(;a<e;a++){b=d[a];if(b.isReady()){c.startAnim(b)}}for(a=0;a<e;a++){b=d[a];if(b.isRunning()){c.runAnim(b)}}c.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(!a){return}var e=this,d=e.useCSS3&&a.target.type=='element',f=e.timestamp-a.startTime,g=f>=a.duration,b,c;b=this.collectTargetData(a,f,d,g);if(d){a.target.setAttr(b.anims[a.id].attributes,!0);e.collectTargetData(a,a.duration,d,g);a.paused=!0;b=a.target.target;if(a.target.isComposite){b=a.target.target.last()}c={};c[Ext.supports.CSS3TransitionEnd]=a.lastFrame;c.scope=a;c.single=!0;b.on(c)}},collectTargetData:function(a,d,f,e){var c=a.target.getId(),b=this.targetArr[c];if(!b){b=this.targetArr[c]={id:c,el:a.target,anims:{}}}b.anims[a.id]={id:a.id,anim:a,elapsed:d,isLastFrame:e,attributes:[{duration:a.duration,easing:f&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(d)}]};return b},applyPendingAttrs:function(){var c=this.targetArr,b,d,a,f,e;for(d in c){if(c.hasOwnProperty(d)){b=c[d];for(e in b.anims){if(b.anims.hasOwnProperty(e)){a=b.anims[e];f=a.anim;if(a.attributes&&f.isRunning()){b.el.setAttr(a.attributes,!1,a.isLastFrame);if(a.isLastFrame){f.lastFrame()}}}}}}}},1,0,0,0,0,[['queue',Ext.fx.Queue]],[Ext.fx,'Manager'],0);Ext.cmd.derive('Ext.fx.Animator',Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:'ease',running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(b){var a=this;b=Ext.apply(a,b||{});a.config=b;a.id=Ext.id(null,'ext-animator-');a.addEvents('beforeanimate','keyframe','afteranimate');a.mixins.observable.constructor.call(a,b);a.timeline=[];a.createTimeline(a.keyframes);if(a.target){a.applyAnimator(a.target);Ext.fx.Manager.addAnim(a)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(e){var d=this,b=[],k=d.to||{},g=d.duration,h,j,c,i,a,f;for(a in e){if(e.hasOwnProperty(a)&&d.animKeyFramesRE.test(a)){f={attrs:Ext.apply(e[a],k)};if(a=='from'){a=0}else {if(a=='to'){a=100}}f.pct=parseInt(a,10);b.push(f)}}Ext.Array.sort(b,d.sorter);i=b.length;for(c=0;c<i;c++){h=b[c-1]?g*(b[c-1].pct/100):0;j=g*(b[c].pct/100);d.timeline.push({duration:j-h,attrs:b[c].attrs})}},applyAnimator:function(j){var b=this,e=[],g=b.timeline,f=g.length,a,i,h,d,c;if(b.fireEvent('beforeanimate',b)!==!1){for(c=0;c<f;c++){a=g[c];d=a.attrs;i=d.easing||b.easing;h=d.damper||b.damper;delete d.easing;delete d.damper;a=new Ext.fx.Anim({target:j,easing:i,damper:h,duration:a.duration,paused:!0,to:d});e.push(a)}b.animations=e;b.target=a.target;for(c=0;c<f-1;c++){a=e[c];a.nextAnim=e[c+1];a.on('afteranimate',function(){this.nextAnim.paused=!1});a.on('afteranimate',function(){this.fireEvent('keyframe',this,++this.keyframeStep)},b)}e[f-1].on('afteranimate',function(){this.lastFrame()},b)}},start:function(b){var a=this,d=a.delay,c=a.delayStart,e;if(d){if(!c){a.delayStart=b;return}else {e=b-c;if(e<d){return}else {b=new Date(c.getTime()+d)}}}if(a.fireEvent('beforeanimate',a)!==!1){a.startTime=b;a.running=!0;a.animations[a.keyframeStep].paused=!1}},lastFrame:function(){var a=this,c=a.iterations,b=a.currentIteration;b++;if(b<c){a.startTime=new Date();a.currentIteration=b;a.keyframeStep=0;a.applyAnimator(a.target);a.animations[a.keyframeStep].paused=!1}else {a.currentIteration=0;a.end()}},end:function(){var a=this;a.fireEvent('afteranimate',a,a.startTime,new Date()-a.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return !1}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.fx,'Animator'],0);Ext.cmd.derive('Ext.fx.CubicBezier',Ext.Base,{singleton:!0,cubicBezierAtTime:function(l,d,e,i,j,h){var a=3*d,b=3*(i-d)-a,f=1-a-b,c=3*e,g=3*(j-e)-c,k=1-c-g;function sampleCurveX(c){return ((f*c+b)*c+a)*c}function solve(f,b){var a=solveCurveX(f,b);return ((k*a+g)*a+c)*a}function solveCurveX(n,q){var g,k,c,m,o,p;for(c=n,p=0;p<8;p++){m=sampleCurveX(c)-n;if(Math.abs(m)<q){return c}o=(3*f*c+2*b)*c+a;if(Math.abs(o)<1.0E-6){break}c=c-m/o}g=0;k=1;c=n;if(c<g){return g}if(c>k){return k}while(g<k){m=sampleCurveX(c);if(Math.abs(m-n)<q){return c}if(n>m){g=c}else {k=c}c=(k-g)/2+g}return c}return solve(l,1/(200*h))},cubicBezier:function(b,d,c,e){var a=function(a){return Ext.fx.CubicBezier.cubicBezierAtTime(a,b,d,c,e,1)};a.toCSS3=function(){return 'cubic-bezier('+[b,d,c,e].join(',')+')'};a.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-e,1-b,1-d)};return a}},0,0,0,0,0,0,[Ext.fx,'CubicBezier'],0);Ext.require('Ext.fx.CubicBezier',function(){var b=Math,g=b.PI,a=b.pow,f=b.sin,e=b.sqrt,d=b.abs,c=1.70158;Ext.cmd.derive('Ext.fx.Easing',Ext.Base,{singleton:!0,linear:Ext.identityFn,ease:function(k){var c=0.07813-k/2,l=-0.25,f=e(0.0066+c*c),g=f-c,i=a(d(g),1/3)*(g<0?-1:1),h=-f-c,j=a(d(h),1/3)*(h<0?-1:1),b=i+j+0.25;return a(1-b,2)*3*b*0.1+(1-b)*3*b*b+b*b*b},easeIn:function(b){return a(b,1.7)},easeOut:function(b){return a(b,0.48)},easeInOut:function(k){var c=0.48-k/1.04,f=e(0.1734+c*c),g=f-c,i=a(d(g),1/3)*(g<0?-1:1),h=-f-c,j=a(d(h),1/3)*(h<0?-1:1),b=i+j+0.5;return (1-b)*3*b*b+b*b*b},backIn:function(a){return a*a*((c+1)*a-c)},backOut:function(a){a=a-1;return a*a*((c+1)*a+c)+1},elasticIn:function(b){if(b===0||b===1){return b}var c=0.3,d=c/4;return a(2,-10*b)*f((b-d)*(2*g)/c)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var d=7.5625,b=2.75,c;if(a<1/b){c=d*a*a}else {if(a<2/b){a-=1.5/b;c=d*a*a+0.75}else {if(a<2.5/b){a-=2.25/b;c=d*a*a+0.9375}else {a-=2.625/b;c=d*a*a+0.984375}}}return c}},0,0,0,0,0,0,[Ext.fx,'Easing'],function(){var b=Ext.fx.Easing.self,a=b.prototype;b.implement({'back-in':a.backIn,'back-out':a.backOut,'ease-in':a.easeIn,'ease-out':a.easeOut,'elastic-in':a.elasticIn,'elastic-out':a.elasticOut,'bounce-in':a.bounceIn,'bounce-out':a.bounceOut,'ease-in-out':a.easeInOut})})});Ext.cmd.derive('Ext.draw.Color',Ext.Base,{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(e,c,d){var b=this,a=Ext.Number.constrain;b.r=a(e,0,255);b.g=a(c,0,255);b.b=a(d,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return [a.r,a.g,a.b]},getHSL:function(){var h=this,f=h.r/255,e=h.g/255,g=h.b/255,b=Math.max(f,e,g),d=Math.min(f,e,g),c=b-d,a,j=0,i=0.5*(b+d);if(d!=b){j=i<0.5?c/(b+d):c/(2-b-d);if(f==b){a=60*(e-g)/c}else {if(e==b){a=120+60*(g-f)/c}else {a=240+60*(f-e)/c}}if(a<0){a+=360}if(a>=360){a-=360}}return [a,j,i]},getLighter:function(b){var a=this.getHSL();b=b||this.lightnessFactor;a[2]=Ext.Number.constrain(a[2]+b,0,1);return this.fromHSL(a[0],a[1],a[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var e=this,d=Math.round,c=d(e.r).toString(16),b=d(e.g).toString(16),a=d(e.b).toString(16);c=c.length==1?'0'+c:c;b=b.length==1?'0'+b:b;a=a.length==1?'0'+a:a;return ['#',c,b,a].join('')},toHex:function(a){if(Ext.isArray(a)){a=a[0]}if(!Ext.isString(a)){return ''}if(a.substr(0,1)==='#'){return a}var b=this.colorToHexRe.exec(a),e,c,d,f;if(Ext.isArray(b)){e=parseInt(b[2],10);c=parseInt(b[3],10);d=parseInt(b[4],10);f=d|c<<8|e<<16;return b[1]+'#'+('000000'+f.toString(16)).slice(-6)}else {return a}},fromString:function(b){var a,c,e,d,f=parseInt;if((b.length==4||b.length==7)&&b.substr(0,1)==='#'){a=b.match(this.hexRe);if(a){c=f(a[1],16)>>0;e=f(a[2],16)>>0;d=f(a[3],16)>>0;if(b.length==4){c+=c*16;e+=e*16;d+=d*16}}}else {a=b.match(this.rgbRe);if(a){c=a[1];e=a[2];d=a[3]}}return typeof c=='undefined'?undefined:new Ext.draw.Color(c,e,d)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(d,i,e){var b,c,f,j,a=[],h=Math.abs,g=Math.floor;if(i==0||d==null){a=[e,e,e]}else {d/=60;b=i*(1-h(2*e-1));c=b*(1-h(d-2*g(d/2)-1));f=e-b/2;switch(g(d)){case 0:a=[b,c,0];break;case 1:a=[c,b,0];break;case 2:a=[0,b,c];break;case 3:a=[0,c,b];break;case 4:a=[c,0,b];break;case 5:a=[b,0,c];break;}a=[a[0]+f,a[1]+f,a[2]+f]}return new Ext.draw.Color(a[0]*255,a[1]*255,a[2]*255)}},3,0,0,0,0,0,[Ext.draw,'Color'],function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});Ext.cmd.derive('Ext.draw.Draw',Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:'along',blur:null,'clip-rect':'csv',cx:null,cy:null,fill:'color','fill-opacity':null,'font-size':null,height:null,opacity:null,path:'path',r:null,rotation:'csv',rx:null,ry:null,scale:'csv',stroke:'color','stroke-opacity':null,'stroke-width':null,translation:'csv',width:null,x:null,y:null},is:function(b,a){a=String(a).toLowerCase();return a=='object'&&b===Object(b)||a=='undefined'&&typeof b==a||a=='null'&&b===null||a=='array'&&Array.isArray&&Array.isArray(b)||Object.prototype.toString.call(b).toLowerCase().slice(8,-1)==a},ellipsePath:function(b){var a=b.attr;return Ext.String.format('M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z',a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(b){var a=b.attr;if(a.radius){return Ext.String.format('M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z',a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height)}else {return Ext.String.format('M{0},{1}L{2},{1},{2},{3},{0},{3}z',a.x,a.y,a.width+a.x,a.height+a.y)}},path2string:function(){return this.join(',').replace(Ext.draw.Draw.pathToStringRE,'$1')},pathToString:function(a){return a.join(',').replace(Ext.draw.Draw.pathToStringRE,'$1')},parsePathString:function(c){if(!c){return null}var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[],b=this;if(b.is(c,'array')&&b.is(c[0],'array')){a=b.pathClone(c)}if(!a.length){String(c).replace(b.pathCommandRE,function(i,g,h){var e=[],f=g.toLowerCase();h.replace(b.pathValuesRE,function(b,a){a&&e.push(+a)});if(f=='m'&&e.length>2){a.push([g].concat(Ext.Array.splice(e,0,2)));f='l';g=g=='m'?'l':'L'}while(e.length>=d[f]){a.push([g].concat(Ext.Array.splice(e,0,d[f])));if(!d[f]){break}}})}a.toString=b.path2string;return a},mapPath:function(c,e){if(!e){return c}var h,i,d,f,a,g,b;c=this.path2curve(c);for(d=0,f=c.length;d<f;d++){b=c[d];for(a=1,g=b.length;a<g-1;a+=2){h=e.x(b[a],b[a+1]);i=e.y(b[a],b[a+1]);b[a]=h;b[a+1]=i}}return c},pathClone:function(a){var d=[],c,f,b,e;if(!this.is(a,'array')||!this.is(a&&a[0],'array')){a=this.parsePathString(a)}for(b=0,e=a.length;b<e;b++){d[b]=[];for(c=0,f=a[b].length;c<f;c++){d[b][c]=a[b][c]}}d.toString=this.path2string;return d},pathToAbsolute:function(d){if(!this.is(d,'array')||!this.is(d&&d[0],'array')){d=this.parsePathString(d)}var i=[],f=0,g=0,j=0,k=0,h=0,l=d.length,b,a,c,e;if(l&&d[0][0]=='M'){f=+d[0][1];g=+d[0][2];j=f;k=g;h++;i[0]=['M',f,g]}for(;h<l;h++){b=i[h]=[];a=d[h];if(a[0]!=a[0].toUpperCase()){b[0]=a[0].toUpperCase();switch(b[0]){case 'A':b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=+(a[6]+f);b[7]=+(a[7]+g);break;case 'V':b[1]=+a[1]+g;break;case 'H':b[1]=+a[1]+f;break;case 'M':j=+a[1]+f;k=+a[2]+g;default:c=1;e=a.length;for(;c<e;c++){b[c]=+a[c]+(c%2?f:g)};}}else {c=0;e=a.length;for(;c<e;c++){i[h][c]=a[c]}}switch(b[0]){case 'Z':f=j;g=k;break;case 'H':f=b[1];break;case 'V':g=b[1];break;case 'M':a=i[h];e=a.length;j=a[e-2];k=a[e-1];default:a=i[h];e=a.length;f=a[e-2];g=a[e-1];}}i.toString=this.path2string;return i},pathToRelative:function(e){if(!this.is(e,'array')||!this.is(e&&e[0],'array')){e=this.parsePathString(e)}var d=[],g=0,f=0,k=0,l=0,m=0,c,a,b,h,j,i,n,o,p;if(e[0][0]=='M'){g=e[0][1];f=e[0][2];k=g;l=f;m++;d.push(['M',g,f])}for(b=m,n=e.length;b<n;b++){c=d[b]=[];a=e[b];if(a[0]!=a[0].toLowerCase()){c[0]=a[0].toLowerCase();switch(c[0]){case 'a':c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=+(a[6]-g).toFixed(3);c[7]=+(a[7]-f).toFixed(3);break;case 'v':c[1]=+(a[1]-f).toFixed(3);break;case 'm':k=a[1];l=a[2];default:for(h=1,o=a.length;h<o;h++){c[h]=+(a[h]-(h%2?g:f)).toFixed(3)};}}else {c=d[b]=[];if(a[0]=='m'){k=a[1]+g;l=a[2]+f}for(j=0,p=a.length;j<p;j++){d[b][j]=a[j]}}i=d[b].length;switch(d[b][0]){case 'z':g=k;f=l;break;case 'h':g+=+d[b][i-1];break;case 'v':f+=+d[b][i-1];break;default:g+=+d[b][i-2];f+=+d[b][i-1];}}d.toString=this.path2string;return d},path2curve:function(i){var h=this,b=h.pathToAbsolute(i),g=b.length,c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a,d,e,f;for(a=0;a<g;a++){b[a]=h.command2curve(b[a],c);if(b[a].length>7){b[a].shift();f=b[a];while(f.length){Ext.Array.splice(b,a++,0,['C'].concat(Ext.Array.splice(f,0,6)))}Ext.Array.erase(b,a,1);g=b.length;a--}d=b[a];e=d.length;c.x=d[e-2];c.y=d[e-1];c.bx=parseFloat(d[e-4])||c.x;c.by=parseFloat(d[e-3])||c.y}return b},interpolatePaths:function(o,n){var k=this,c=k.pathToAbsolute(o),b=k.pathToAbsolute(n),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,d){if(a[d].length>7){a[d].shift();var e=a[d];while(e.length){Ext.Array.splice(a,d++,0,['C'].concat(Ext.Array.splice(e,0,6)))}Ext.Array.erase(a,d,1);j=Math.max(c.length,b.length||0)}},m=function(d,f,e,g,a){if(d&&f&&d[a][0]=='M'&&f[a][0]!='M'){Ext.Array.splice(f,a,0,['M',g.x,g.y]);e.bx=0;e.by=0;e.x=d[a][1];e.y=d[a][2];j=Math.max(c.length,b.length||0)}},a,j,g,f,i,h;for(a=0,j=Math.max(c.length,b.length||0);a<j;a++){c[a]=k.command2curve(c[a],e);l(c,a);b[a]=k.command2curve(b[a],d);l(b,a);m(c,b,e,d,a);m(b,c,d,e,a);g=c[a];f=b[a];i=g.length;h=f.length;e.x=g[i-2];e.y=g[i-1];e.bx=parseFloat(g[i-4])||e.x;e.by=parseFloat(g[i-3])||e.y;d.bx=parseFloat(f[h-4])||d.x;d.by=parseFloat(f[h-3])||d.y;d.x=f[h-2];d.y=f[h-1]}return [c,b]},command2curve:function(b,a){var c=this;if(!b){return ['C',a.x,a.y,a.x,a.y,a.x,a.y]}if(b[0]!='T'&&b[0]!='Q'){a.qx=a.qy=null}switch(b[0]){case 'M':a.X=b[1];a.Y=b[2];break;case 'A':b=['C'].concat(c.arc2curve.apply(c,[a.x,a.y].concat(b.slice(1))));break;case 'S':b=['C',a.x+(a.x-(a.bx||a.x)),a.y+(a.y-(a.by||a.y))].concat(b.slice(1));break;case 'T':a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));b=['C'].concat(c.quadratic2curve(a.x,a.y,a.qx,a.qy,b[1],b[2]));break;case 'Q':a.qx=b[1];a.qy=b[2];b=['C'].concat(c.quadratic2curve(a.x,a.y,b[1],b[2],b[3],b[4]));break;case 'L':b=['C'].concat(a.x,a.y,b[1],b[2],b[1],b[2]);break;case 'H':b=['C'].concat(a.x,a.y,b[1],a.y,b[1],a.y);break;case 'V':b=['C'].concat(a.x,a.y,a.x,b[1],a.x,b[1]);break;case 'Z':b=['C'].concat(a.x,a.y,a.X,a.Y,a.X,a.Y);break;}return b},quadratic2curve:function(g,h,c,d,e,f){var a=1/3,b=2/3;return [a*g+b*c,a*h+b*d,a*e+b*c,a*f+b*d,e,f]},rotate:function(d,e,b){var a=Math.cos(b),c=Math.sin(b),f=d*a-e*c,g=d*c+e*a;return {x:f,y:g}},arc2curve:function(m,n,d,c,K,X,v,e,f,o){var s=this,k=Math.PI,Y=s.radian,Q=k*120/180,w=Y*(+K||0),g=[],p=Math,B=p.cos,C=p.sin,N=p.sqrt,R=p.abs,M=p.asin,t,i,j,u,x,y,I,q,r,b,a,z,S,V,T,W,J,D,E,F,l,G,H,A,h,U,L,O,P;if(!o){t=s.rotate(m,n,-w);m=t.x;n=t.y;t=s.rotate(e,f,-w);e=t.x;f=t.y;i=(m-e)/2;j=(n-f)/2;u=i*i/(d*d)+j*j/(c*c);if(u>1){u=N(u);d=u*d;c=u*c}x=d*d;y=c*c;I=(X==v?-1:1)*N(R((x*y-x*j*j-y*i*i)/(x*j*j+y*i*i)));q=I*d*j/c+(m+e)/2;r=I*-c*i/d+(n+f)/2;b=M(((n-r)/c).toFixed(7));a=M(((f-r)/c).toFixed(7));b=m<q?k-b:b;a=e<q?k-a:a;if(b<0){b=k*2+b}if(a<0){a=k*2+a}if(v&&b>a){b=b-k*2}if(!v&&a>b){a=a-k*2}}else {b=o[0];a=o[1];q=o[2];r=o[3]}z=a-b;if(R(z)>Q){L=a;O=e;P=f;a=b+Q*(v&&a>b?1:-1);e=q+d*B(a);f=r+c*C(a);g=s.arc2curve(e,f,d,c,K,0,v,O,P,[a,L,q,r])}z=a-b;S=B(b);V=C(b);T=B(a);W=C(a);J=p.tan(z/4);D=4/3*d*J;E=4/3*c*J;F=[m,n];l=[m+D*V,n-E*S];G=[e+D*W,f-E*T];H=[e,f];l[0]=2*F[0]-l[0];l[1]=2*F[1]-l[1];if(o){return [l,G,H].concat(g)}else {g=[l,G,H].concat(g).join().split(',');A=[];U=g.length;for(h=0;h<U;h++){A[h]=h%2?s.rotate(g[h-1],g[h],w).y:s.rotate(g[h],g[h+1],w).x}return A}},rotateAndTranslatePath:function(b){var h=b.rotation.degrees,k=b.rotation.x,l=b.rotation.y,e=b.translation.x,f=b.translation.y,i,g,a,d,c,j=[];if(!h&&!e&&!f){return this.pathToAbsolute(b.attr.path)}e=e||0;f=f||0;i=this.pathToAbsolute(b.attr.path);for(g=i.length;g--;){a=j[g]=i[g].slice();if(a[0]=='A'){d=this.rotatePoint(a[6],a[7],h,k,l);a[6]=d.x+e;a[7]=d.y+f}else {c=1;while(a[c+1]!=null){d=this.rotatePoint(a[c],a[c+1],h,k,l);a[c]=d.x+e;a[c+1]=d.y+f;c+=2}}}return j},rotatePoint:function(b,c,a,d,e){if(!a){return {x:b,y:c}}d=d||0;e=e||0;b=b-d;c=c-e;a=a*this.radian;var f=Math.cos(a),g=Math.sin(a);return {x:b*f-c*g+d,y:b*g+c*f+e}},pathDimensions:function(b){if(!b||!(b+'')){return {x:0,y:0,width:0,height:0}}b=this.path2curve(b);var f=0,g=0,d=[],e=[],j=0,m=b.length,a,h,i,k,l,c;for(;j<m;j++){a=b[j];if(a[0]=='M'){f=a[1];g=a[2];d.push(f);e.push(g)}else {c=this.curveDim(f,g,a[1],a[2],a[3],a[4],a[5],a[6]);d=d.concat(c.min.x,c.max.x);e=e.concat(c.min.y,c.max.y);f=a[5];g=a[6]}}h=Math.min.apply(0,d);i=Math.min.apply(0,e);k=Math.max.apply(0,d);l=Math.max.apply(0,e);return {x:Math.round(h),y:Math.round(i),path:b,width:Math.round(k-h),height:Math.round(l-i)}},intersectInside:function(b,a,c){return (c[0]-a[0])*(b[1]-a[1])>(c[1]-a[1])*(b[0]-a[0])},intersectIntersection:function(d,c,a,b){var e=[],f=a[0]-b[0],g=a[1]-b[1],h=d[0]-c[0],i=d[1]-c[1],j=a[0]*b[1]-a[1]*b[0],k=d[0]*c[1]-d[1]*c[0],l=1/(f*i-g*h);e[0]=(j*h-k*f)*l;e[1]=(j*i-k*g)*l;return e},intersect:function(m,i){var g=this,j=0,l=i.length,c=i[l-1],b=m,a,e,d,k,f,h;for(;j<l;++j){a=i[j];f=b;b=[];e=f[f.length-1];h=0;k=f.length;for(;h<k;h++){d=f[h];if(g.intersectInside(d,c,a)){if(!g.intersectInside(e,c,a)){b.push(g.intersectIntersection(e,d,c,a))}b.push(d)}else {if(g.intersectInside(e,c,a)){b.push(g.intersectIntersection(e,d,c,a))}}e=d}c=a}return b},bezier:function(d,g,h,e,b){if(b===0){return d}else {if(b===1){return e}}var a=1-b,f=a*a*a,c=b/a;return f*(d+c*(3*g+c*(3*h+e*c)))},bezierDim:function(b,c,f,g){var d=[],a,m,e,o,j,i,n,l,k,h;if(b+3*f==g+3*c){a=b-c;a/=2*(b-c-c+f);if(a<1&&a>0){d.push(a)}}else {m=b-3*c+3*f-g;e=2*(b-c-c+f);o=b-c;j=e*e-4*m*o;i=m+m;if(j===0){a=e/i;if(a<1&&a>0){d.push(a)}}else {if(j>0){n=Math.sqrt(j);a=(n+e)/i;if(a<1&&a>0){d.push(a)}a=(e-n)/i;if(a<1&&a>0){d.push(a)}}}}l=Math.min(b,g);k=Math.max(b,g);for(h=0;h<d.length;h++){l=Math.min(l,this.bezier(b,c,f,g,d[h]));k=Math.max(k,this.bezier(b,c,f,g,d[h]))}return [l,k]},curveDim:function(g,h,c,d,e,f,i,j){var a=this.bezierDim(g,c,e,i),b=this.bezierDim(h,d,f,j);return {min:{x:a[0],y:b[0]},max:{x:a[1],y:b[1]}}},getAnchors:function(t,c,f,a,s,b,n){n=n||4;var k=Math,j=k.PI,r=j/2,o=k.abs,w=k.sin,v=k.cos,u=k.atan,p,q,d,e,l,g,m,h,i;p=(f-t)/n;q=(s-f)/n;if(a>=c&&a>=b||a<=c&&a<=b){d=e=r}else {d=u((f-t)/o(a-c));if(c<a){d=j-d}e=u((s-f)/o(a-b));if(b<a){e=j-e}}i=r-(d+e)%(j*2)/2;if(i>r){i-=j}d+=i;e+=i;l=f-p*w(d);g=a+p*v(d);m=f+q*w(e);h=a+q*v(e);if(a>c&&g<c||a<c&&g>c){l+=o(c-g)*(l-f)/(g-a);g=c}if(a>b&&h<b||a<b&&h>b){m-=o(b-h)*(m-f)/(h-a);h=b}return {x1:l,y1:g,x2:m,y2:h}},smooth:function(s,r){var f=this.path2curve(s),e=[f[0]],m=f[0][1],n=f[0][2],q,d,i=1,t=f.length,h=1,k=m,l=n,a,b,g,j,c,o,p;for(;i<t;i++){a=f[i];b=a.length;g=f[i-1];j=g.length;c=f[i+1];o=c&&c.length;if(a[0]=='M'){k=a[1];l=a[2];q=i+1;while(f[q][0]!='C'){q++}e.push(['M',k,l]);h=e.length;m=k;n=l;continue}if(a[b-2]==k&&a[b-1]==l&&(!c||c[0]=='M')){p=e[h].length;d=this.getAnchors(g[j-2],g[j-1],k,l,e[h][p-2],e[h][p-1],r);e[h][1]=d.x2;e[h][2]=d.y2}else {if(!c||c[0]=='M'){d={x1:a[b-2],y1:a[b-1]}}else {d=this.getAnchors(g[j-2],g[j-1],a[b-2],a[b-1],c[o-2],c[o-1],r)}}e.push(['C',m,n,d.x1,d.y1,a[b-2],a[b-1]]);m=d.x2;n=d.y2}return e},findDotAtSegment:function(g,h,c,d,e,f,i,j,a){var b=1-a;return {x:Math.pow(b,3)*g+Math.pow(b,2)*3*a*c+b*3*a*a*e+Math.pow(a,3)*i,y:Math.pow(b,3)*h+Math.pow(b,2)*3*a*d+b*3*a*a*f+Math.pow(a,3)*j}},snapEnds:function(a,d,l,q){if(Ext.isDate(a)){return this.snapEndsByDate(a,d,l)}var c=(d-a)/l,f=Math.floor(Math.log(c)/Math.LN10)+1,g=Math.pow(10,f),b,e,p=Math.round(c%g*Math.pow(10,2-f)),k=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],h=0,j,m,i,o,n=1000000000,r=k.length;e=Math.floor(a/g)*g;if(a==e&&e>0){e=Math.floor((a-g/10)/g)*g}if(q){for(i=0;i<r;i++){j=k[i][0];m=j-p<0?1000000:(j-p)/k[i][1];if(m<n){o=j;n=m}}c=Math.floor(c*Math.pow(10,-f))*Math.pow(10,f)+o*Math.pow(10,f-2);if(a<0&&d>=0){b=0;while(b>a){b-=c;h++}a=+b.toFixed(10);b=0;while(b<d){b+=c;h++}d=+b.toFixed(10)}else {b=a=e;while(b<d){b+=c;h++}}d=+b.toFixed(10)}else {a=e;h=l}return {from:a,to:d,power:f,step:c,steps:h}},snapEndsByDate:function(e,f,h,g){var c=!1,j=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],l=j.length,k=!1,a,b,i,d;for(d=0;d<l;d++){a=j[d];if(!k){for(b=0;b<a[1].length;b++){if(f<Ext.Date.add(e,a[0],a[1][b]*h)){c=[a[0],a[1][b]];k=!0;break}}}}if(!c){i=this.snapEnds(e.getFullYear(),f.getFullYear()+1,h,g);c=[Date.YEAR,Math.round(i.step)]}return this.snapEndsByDateAndStep(e,f,c,g)},snapEndsByDateAndStep:function(f,o,n,m){var a=[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()],g,e,d,k,i,h,c,j,l=n[0],b=n[1];if(m){e=f}else {switch(l){case Ext.Date.MILLI:e=new Date(a[0],a[1],a[2],a[3],a[4],a[5],Math.floor(a[6]/b)*b);break;case Ext.Date.SECOND:e=new Date(a[0],a[1],a[2],a[3],a[4],Math.floor(a[5]/b)*b,0);break;case Ext.Date.MINUTE:e=new Date(a[0],a[1],a[2],a[3],Math.floor(a[4]/b)*b,0,0);break;case Ext.Date.HOUR:e=new Date(a[0],a[1],a[2],Math.floor(a[3]/b)*b,0,0,0);break;case Ext.Date.DAY:e=new Date(a[0],a[1],Math.floor((a[2]-1)/b)*b+1,0,0,0,0);break;case Ext.Date.MONTH:e=new Date(a[0],Math.floor(a[1]/b)*b,1,0,0,0,0);break;default:e=new Date(Math.floor(a[0]/b)*b,0,1,0,0,0,0);break;}}j=l===Ext.Date.MONTH&&(b==1/2||b==1/3||b==1/4);g=j?[]:0;d=new Date(e);while(d<o){if(j){k=new Date(d);i=k.getFullYear();h=k.getMonth();c=k.getDate();switch(b){case 1/2:if(c>=15){c=1;if(++h>11){i++}}else {c=15};break;case 1/3:if(c>=20){c=1;if(++h>11){i++}}else {if(c>=10){c=20}else {c=10}};break;case 1/4:if(c>=22){c=1;if(++h>11){i++}}else {if(c>=15){c=22}else {if(c>=8){c=15}else {c=8}}};break;}d.setYear(i);d.setMonth(h);d.setDate(c);g.push(new Date(d))}else {d=Ext.Date.add(d,l,b);g++}}if(m){d=o}if(j){return {from:+e,to:+d,steps:g}}else {return {from:+e,to:+d,step:(d-e)/g,steps:g}}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(b,c,a){a=a||{};return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},parseGradient:function(b){var h=this,f=b.type||'linear',k=b.angle||0,j=h.radian,e=b.stops,d=[],c,a,g,i;if(f=='linear'){a=[0,0,Math.cos(k*j),Math.sin(k*j)];g=1/(Math.max(Math.abs(a[2]),Math.abs(a[3]))||1);a[2]*=g;a[3]*=g;if(a[2]<0){a[0]=-a[2];a[2]=0}if(a[3]<0){a[1]=-a[3];a[3]=0}}for(c in e){if(e.hasOwnProperty(c)&&h.stopsRE.test(c)){i={offset:parseInt(c,10),color:Ext.draw.Color.toHex(e[c].color)||'#ffffff',opacity:e[c].opacity||1};d.push(i)}}Ext.Array.sort(d,h.sorter);if(f=='linear'){return {id:b.id,type:f,vector:a,stops:d}}else {return {id:b.id,type:f,centerX:b.centerX,centerY:b.centerY,focalX:b.focalX,focalY:b.focalY,radius:b.radius,vector:a,stops:d}}}},0,0,0,0,0,0,[Ext.draw,'Draw'],0);Ext.cmd.derive('Ext.fx.PropertyHandler',Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(c,d,e,f,i){e=typeof e=='number'?e:1;var g=this.unitRE,a=g.exec(c),h,b;if(a){c=a[1];b=a[2];if(!this.scrollRE.test(i)&&!b&&this.pixelDefaultsRE.test(i)){b='px'}}c=+c||0;a=g.exec(d);if(a){d=a[1];b=a[2]||b}d=+d||0;h=f!=null?f:c;return {from:c,delta:(d-h)*e,units:b}},get:function(b,e,i,h,j){var l=b.length,f=[],a,d,g,c,k;for(a=0;a<l;a++){if(h){d=h[a][1].from}if(Ext.isArray(b[a][1])&&Ext.isArray(e)){g=[];c=0;k=b[a][1].length;for(;c<k;c++){g.push(this.computeDelta(b[a][1][c],e[c],i,d,j))}f.push([b[a][0],g])}else {f.push([b[a][0],this.computeDelta(b[a][1],e,i,d,j)])}}return f},set:function(d,g){var i=d.length,e=[],b,a,f,h,c;for(b=0;b<i;b++){a=d[b][1];if(Ext.isArray(a)){f=[];c=0;h=a.length;for(;c<h;c++){f.push(a[c].from+a[c].delta*g+(a[c].units||0))}e.push([d[b][0],f])}else {e.push([d[b][0],a.from+a.delta*g+(a.units||0)])}}return e}},stringHandler:{computeDelta:function(a,b,d,c,e){return {from:a,delta:b}},get:function(b,g,e,i,f){var h=b.length,c=[],a,d,k,l,j;for(a=0;a<h;a++){c.push([b[a][0],this.computeDelta(b[a][1],g,e,d,f)])}return c},set:function(b,f){var e=b.length,c=[],a,d,h,g,i;for(a=0;a<e;a++){d=b[a][1];c.push([b[a][0],d.delta])}return c}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(f,d){d=typeof d=='number'?d:1;var g=!1,e=[this.hexRE,this.rgbRE,this.hex3RE],i=e.length,a,c,h,b;for(b=0;b<i;b++){h=e[b];c=b%2===0?16:10;a=h.exec(f);if(a&&a.length===4){if(b===2){a[1]+=a[1];a[2]+=a[2];a[3]+=a[3]}g={red:parseInt(a[1],c),green:parseInt(a[2],c),blue:parseInt(a[3],c)};break}}return g||f},computeDelta:function(d,a,c,e){d=this.parseColor(d);a=this.parseColor(a,c);var b=e?e:d,f=typeof b,g=typeof a;if(f=='string'||f=='undefined'||g=='string'||g=='undefined'){return a||b}return {from:d,delta:{red:Math.round((a.red-b.red)*c),green:Math.round((a.green-b.green)*c),blue:Math.round((a.blue-b.blue)*c)}}},get:function(b,g,f,c){var h=b.length,e=[],a,d;for(a=0;a<h;a++){if(c){d=c[a][1].from}e.push([b[a][0],this.computeDelta(b[a][1],g,f,d)])}return e},set:function(f,e){var i=f.length,h=[],b,a,g,d,c;for(b=0;b<i;b++){a=f[b][1];if(a){d=a.from;c=a.delta;a=typeof a=='object'&&'red' in a?'rgb('+a.red+', '+a.green+', '+a.blue+')':a;a=typeof a=='object'&&a.length?a[0]:a;if(typeof a=='undefined'){return []}g=typeof a=='string'?a:'rgb('+[(d.red+Math.round(c.red*e))%256,(d.green+Math.round(c.green*e))%256,(d.blue+Math.round(c.blue*e))%256].join(',')+')';h.push([f[b][0],g])}}return h}},object:{interpolate:function(c,a){a=typeof a=='number'?a:1;var d={},b;for(b in c){d[b]=parseFloat(c[b])*a}return d},computeDelta:function(a,b,f,d){a=this.interpolate(a);b=this.interpolate(b,f);var g=d?d:a,e={},c;for(c in b){e[c]=b[c]-g[c]}return {from:a,delta:e}},get:function(b,g,f,c){var h=b.length,e=[],a,d;for(a=0;a<h;a++){if(c){d=c[a][1].from}e.push([b[a][0],this.computeDelta(b[a][1],g,f,d)])}return e},set:function(c,i){var j=c.length,h=[],f={},a,d,g,e,b;for(a=0;a<j;a++){e=c[a][1];d=e.from;g=e.delta;for(b in d){f[b]=d[b]+g[b]*i}h.push([c[a][0],f])}return h}},path:{computeDelta:function(b,c,a,d){a=typeof a=='number'?a:1;var e;b=+b||0;c=+c||0;e=d!=null?d:b;return {from:b,delta:(c-e)*a}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.draw.Draw.parsePathString(a)}return a},get:function(g,p,o,i){var f=this.forcePath(p),m=[],n=g.length,j,k,e,c,l,a,d,h,b;for(e=0;e<n;e++){b=this.forcePath(g[e][1]);c=Ext.draw.Draw.interpolatePaths(b,f);b=c[0];f=c[1];j=b.length;h=[];for(a=0;a<j;a++){c=[b[a][0]];k=b[a].length;for(d=1;d<k;d++){l=i&&i[0][1][a][d].from;c.push(this.computeDelta(b[a][d],f[a][d],o,l))}h.push(c)}m.push([g[e][0],h])}return m},set:function(g,k){var l=g.length,j=[],c,a,d,f,e,b,h,i;for(c=0;c<l;c++){b=g[c][1];f=[];h=b.length;for(a=0;a<h;a++){e=[b[a][0]];i=b[a].length;for(d=1;d<i;d++){e.push(b[a][d].from+b[a][d].delta*k)}f.push(e.join(','))}j.push([g[c][0],f.join(',')])}return j}}}},0,0,0,0,0,0,[Ext.fx,'PropertyHandler'],function(){var b=['outlineColor','backgroundColor','borderColor','borderTopColor','borderRightColor','borderBottomColor','borderLeftColor','fill','stroke'],d=b.length,a=0,c;for(;a<d;a++){c=b[a];this[c]=this.color}b=['cursor'];d=b.length;a=0;for(;a<d;a++){c=b[a];this[c]=this.stringHandler}});Ext.cmd.derive('Ext.fx.Anim',Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:'ease',damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(b){var a=this,c;b=b||{};if(b.keyframes){return new Ext.fx.Animator(b)}Ext.apply(a,b);if(a.from===undefined){a.from={}}a.propHandlers={};a.config=b;a.target=Ext.fx.Manager.createTarget(a.target);a.easingFn=Ext.fx.Easing[a.easing];a.target.dynamic=a.dynamic;if(!a.easingFn){a.easingFn=String(a.easing).match(a.bezierRE);if(a.easingFn&&a.easingFn.length==5){c=a.easingFn;a.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4])}}a.id=Ext.id(null,'ext-anim-');a.addEvents('beforeanimate','afteranimate','lastframe');a.mixins.observable.constructor.call(a);Ext.fx.Manager.addAnim(a)},setAttr:function(b,a){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,b,a)},initAttrs:function(){var b=this,i=b.from,e=b.to,h=b.initialFrom||{},g={},f,d,c,a;for(a in e){if(e.hasOwnProperty(a)){f=b.target.getAttr(a,i[a]);d=e[a];if(!Ext.fx.PropertyHandler[a]){if(Ext.isObject(d)){c=b.propHandlers[a]=Ext.fx.PropertyHandler.object}else {c=b.propHandlers[a]=Ext.fx.PropertyHandler.defaultHandler}}else {c=b.propHandlers[a]=Ext.fx.PropertyHandler[a]}g[a]=c.get(f,d,b.damper,h[a],a)}}b.currentAttrs=g},start:function(b){var a=this,d=a.delay,c=a.delayStart,e;if(d){if(!c){a.delayStart=b;return}else {e=b-c;if(e<d){return}else {b=new Date(c.getTime()+d)}}}if(a.fireEvent('beforeanimate',a)!==!1){a.startTime=b;if(!a.paused&&!a.currentAttrs){a.initAttrs()}a.running=!0;a.frameCount=0}},runAnim:function(b){var a=this,e=a.currentAttrs,d=a.duration,k=a.easingFn,j=a.propHandlers,i={},g,h,c,f;if(b>=d){b=d;f=!0}if(a.reverse){b=d-b}for(c in e){if(e.hasOwnProperty(c)){h=e[c];g=f?1:k(b/d);i[c]=j[c].set(h,g)}}a.frameCount++;return i},lastFrame:function(){var a=this,c=a.iterations,b=a.currentIteration;b++;if(b<c){if(a.alternate){a.reverse=!a.reverse}a.startTime=new Date();a.currentIteration=b;a.paused=!1}else {a.currentIteration=0;a.end();a.fireEvent('lastframe',a,a.startTime)}},endWasCalled:0,end:function(){if(this.endWasCalled++){return}var a=this;a.startTime=0;a.paused=!1;a.running=!1;Ext.fx.Manager.removeAnim(a);a.fireEvent('afteranimate',a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime])},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.fx,'Anim'],0);Ext.enableFx=!0;Ext.cmd.derive('Ext.util.Animate',Ext.Base,{isAnimate:!0,animate:function(b){var a=this;if(Ext.fx.Manager.hasFxBlock(a.id)){return a}Ext.fx.Manager.queueFx(new Ext.fx.Anim(a.anim(b)));return this},anim:function(a){if(!Ext.isObject(a)){return a?{}:!1}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:!0},a)},stopFx:Ext.Function.alias(Ext.util.Animate,'stopAnimation'),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,'getActiveAnimation'),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,'Animate'],function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});Ext.cmd.derive('Ext.util.ElementContainer',Ext.Base,{childEls:[],constructor:function(){var a=this,b;if(a.hasOwnProperty('childEls')){b=a.childEls;delete a.childEls;a.addChildEls.apply(a,b)}},destroy:function(){var c=this,e=c.getChildEls(),b,a,d,f;for(d=e.length;d--;){a=e[d];if(typeof a!='string'){a=a.name}b=c[a];if(b){c[a]=null;b.remove()}}},addChildEls:function(){var a=this,b=arguments;if(a.hasOwnProperty('childEls')){a.childEls.push.apply(a.childEls,b)}else {a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b))}a.prune(a.childEls,!1)},applyChildEls:function(d,i){var f=this,h=f.getChildEls(),e,a,g,c,b;e=(i||f.id)+'-';for(g=h.length;g--;){a=h[g];if(typeof a=='string'){b=d.getById(e+a)}else {if(c=a.select){b=Ext.select(c,!0,d.dom)}else {if(c=a.selectNode){b=Ext.get(Ext.DomQuery.selectNode(c,d.dom))}else {b=d.getById(a.id||e+a.itemId)}}a=a.name}f[a]=b}},getChildEls:function(){var a=this,b;if(a.hasOwnProperty('childEls')){return a.childEls}b=a.self;return b.$childEls||a.getClassChildEls(b)},getClassChildEls:function(h){var m=this,a=h.$childEls,d,i,n,k,l,e,g,c,f,b,j;if(!a){b=h.superclass;if(b){b=b.self;c=[b.$childEls||m.getClassChildEls(b)];j=b.prototype.mixins||{}}else {c=[];j={}}f=h.prototype;e=f.mixins;for(g in e){if(e.hasOwnProperty(g)&&!j.hasOwnProperty(g)){l=e[g].self;c.push(l.$childEls||m.getClassChildEls(l))}}c.push(f.hasOwnProperty('childEls')&&f.childEls);for(i=0,n=c.length;i<n;++i){d=c[i];if(d&&d.length){if(!a){a=d}else {if(!k){k=!0;a=a.slice(0)}a.push.apply(a,d)}}}h.$childEls=a=a?m.prune(a,!k):[]}return a},prune:function(a,d){var c=a.length,e={},b;while(c--){b=a[c];if(typeof b!='string'){b=b.name}if(!e[b]){e[b]=1}else {if(d){d=!1;a=a.slice(0)}Ext.Array.erase(a,c,1)}}return a},removeChildEls:function(g){var d=this,c=d.getChildEls(),f=d.childEls=[],e,a,b;for(a=0,e=c.length;a<e;++a){b=c[a];if(!g(b)){f.push(b)}}}},1,0,0,0,0,0,[Ext.util,'ElementContainer'],0);Ext.cmd.derive('Ext.util.Renderable',Ext.Base,{frameCls:'x-frame',frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:['TL','TC','TR','ML','MC','MR','BL','BC','BR'],frameTpl:['{%this.renderDockedItems(out,values,0);%}','<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','</tpl>','<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">','{%this.applyRenderTpl(out, values)%}','</div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','</tpl>','{%this.renderDockedItems(out,values,1);%}'],frameTableTpl:['{%this.renderDockedItems(out,values,0);%}','<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">','<tr>','<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>','</tr>','</tpl>','<tr>','<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">','{%this.applyRenderTpl(out, values)%}','</td>','<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>','</tr>','<tpl if="bottom">','<tr>','<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>','</tr>','</tpl>','</tbody></table>','{%this.renderDockedItems(out,values,1);%}'],afterRender:function(){var a=this,c={},h=a.protoEl,f=a.el,b,g,d,e;a.finishRenderChildren();if(a.contentEl){g='x-';d=g+'hide-';e=Ext.get(a.contentEl);e.removeCls([g+'hidden',d+'display',d+'offsets',d+'nosize']);a.getContentTarget().appendChild(e.dom)}h.writeTo(c);b=c.removed;if(b){f.removeCls(b)}b=c.cls;if(b.length){f.addCls(b)}b=c.style;if(c.style){f.setStyle(b)}a.protoEl=null;if(!a.ownerCt){a.updateLayout()}},afterFirstLayout:function(i,h){var a=this,f=a.x,g=a.y,d,e,b,c;if(!a.ownerLayout){d=Ext.isDefined(f);e=Ext.isDefined(g)}if(a.floating&&(!d||!e)){if(a.floatParent){b=a.floatParent.getTargetEl().getViewRegion();c=a.el.getAlignToXY(a.floatParent.getTargetEl(),'c-c');b.x=c[0]-b.x;b.y=c[1]-b.y}else {c=a.el.getAlignToXY(a.container,'c-c');b=a.container.translateXY(c[0],c[1])}f=d?f:b.x;g=e?g:b.y;d=e=!0}if(d||e){a.setPosition(f,g)}a.onBoxReady(i,h)},applyRenderSelectors:function(){var c=this,a=c.renderSelectors,d=c.el,e=d.dom,b;c.applyChildEls(d);if(a){for(b in a){if(a.hasOwnProperty(b)&&a[b]){c[b]=Ext.get(Ext.DomQuery.selectNode(a[b],e))}}}},beforeRender:function(){var a=this,e=a.getTargetEl(),b=a.getOverflowEl(),c=a.getComponentLayout(),d=a.getOverflowStyle();a.frame=a.frame||a.alwaysFramed;if(!c.initialized){c.initLayout()}if(b){b.setStyle(d);a.overflowStyleSet=!0}a.setUI(a.ui);if(a.disabled){a.disable(!0)}},doApplyRenderTpl:function(d,a){var c=a.$comp,b;if(!c.rendered){b=c.initRenderTpl();b.applyOut(a.renderData,d)}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(document.body)}else {a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(b,c){var a=c.$comp;if(a.html){Ext.DomHelper.generateMarkup(a.html,b);delete a.html}if(a.tpl){if(!a.tpl.isTemplate){a.tpl=new Ext.XTemplate(a.tpl)}if(a.data){a.tpl.applyOut(a.data,b);delete a.data}}},doRenderFramingDockedItems:function(d,a,c){var b=a.$comp;if(!b.rendered&&b.doRenderDockedItems){a.renderData.$skipDockedItems=!0;b.doRenderDockedItems.call(this,d,a,c)}},finishRender:function(e){var a=this,c,d,b;if(!a.el||a.$pid){if(a.container){b=a.container.getById(a.id,!0)}else {b=Ext.getDom(a.id)}if(!a.el){a.wrapPrimaryEl(b)}else {delete a.$pid;if(!a.el.dom){a.wrapPrimaryEl(a.el)}b.parentNode.insertBefore(a.el.dom,b);Ext.removeNode(b)}}else {if(!a.rendering){c=a.initRenderTpl();if(c){d=a.initRenderData();c.insertFirst(a.getTargetEl(),d)}}}if(!a.container){a.container=Ext.get(a.el.dom.parentNode)}if(a.ctCls){a.container.addCls(a.ctCls)}a.onRender(a.container,e);if(!a.overflowStyleSet){a.getOverflowEl().setStyle(a.getOverflowStyle())}a.el.setVisibilityMode(Ext.Element[a.hideMode.toUpperCase()]);if(a.overCls){a.el.hover(a.addOverCls,a.removeOverCls,a)}if(a.hasListeners.render){a.fireEvent('render',a)}a.afterRender();if(a.hasListeners.afterrender){a.fireEvent('afterrender',a)}a.initEvents();if(a.hidden){a.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a=this,i=a.autoEl,g=a.getFrameInfo(),b={tag:'div',tpl:g?a.initFramingTpl(g.table):a.initRenderTpl()},h=a.protoEl,c,d,k,j,e,f;a.initStyles(h);h.writeTo(b);h.flush();if(Ext.isString(i)){b.tag=i}else {Ext.apply(b,i)}b.id=a.id;if(b.tpl){if(g){d=a.frameElNames;k=d.length;b.tplData=f=a.getFrameRenderData();f.renderData=a.initRenderData();e=f.fgid;for(c=0;c<k;c++){j=d[c];a.addChildEls({name:'frame'+j,id:e+j})}a.addChildEls({name:'frameBody',id:e+'MC'})}else {b.tplData=a.initRenderData()}}return b},initFramingTpl:function(b){var a=this.getFrameTpl(b);if(a&&!a.applyRenderTpl){this.setupFramingTpl(a)}return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else {a=Ext.getDom(a)}}return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent('beforerender',a)!==!1){a.beforeRender();a.rendering=!0;if(a.el){return {tag:'div',id:a.$pid=Ext.id()}}return a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=!1}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,childElCls:''},a.renderData)},initRenderTpl:function(){var a=this.getTpl('renderTpl');if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},onRender:function(i,h){var b=this,e=b.x,f=b.y,a=null,d,c,g=b.el;b.applyRenderSelectors();b.rendering=null;b.rendered=!0;if(e!=null){a={x:e}}if(f!=null){(a=a||{}).y=f}if(!b.getFrameInfo()&&Ext.isBorderBox){d=b.width;c=b.height;if(typeof d==='number'){a=a||{};a.width=d}if(typeof c==='number'){a=a||{};a.height=c}}b.lastBox=g.lastBox=a},render:function(c,f){var a=this,b=a.el&&(a.el=Ext.get(a.el)),g,d,e;Ext.suspendLayouts();c=a.initContainer(c);e=a.getInsertPosition(f);if(!b){d=a.getRenderTree();if(a.ownerLayout&&a.ownerLayout.transformItemRenderTree){d=a.ownerLayout.transformItemRenderTree(d)}if(d){if(e){b=Ext.DomHelper.insertBefore(e,d)}else {b=Ext.DomHelper.append(c,d)}a.wrapPrimaryEl(b)}}else {if(!a.hasListeners.beforerender||a.fireEvent('beforerender',a)!==!1){a.beforeRender();a.initStyles(b);if(a.allowDomMove!==!1){if(e){c.dom.insertBefore(b.dom,e)}else {c.dom.appendChild(b.dom)}}}else {g=!0}}if(b&&!g){a.finishRender(f)}Ext.resumeLayouts(!a.hidden&&!c.isDetachedBody)},ensureAttachedToBody:function(c){var a=this,b;while(a.ownerCt){a=a.ownerCt}if(a.container.isDetachedBody){a.container=b=Ext.getBody();b.appendChild(a.el.dom);if(c){a.updateLayout()}if(typeof a.x=='number'||typeof a.y=='number'){a.setPosition(a.x,a.y)}}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,!0)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,g=a.getFrameInfo(),h,f,e=a.frameElNames,i=e.length,b,c,d;if(g){h=a.getFrameTpl(g.table);c=a.getFrameRenderData();f=c.fgid;h.insertFirst(a.el,c);a.frameBody=a.el.down('.'+a.frameCls+'-mc');a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(b=0;b<i;b++){d=e[b];a['frame'+d]=a.el.getById(f+d)}}},getFrameRenderData:function(){var a=this,b=a.frameSize,c=(a.frameGenId||0)+1;a.frameGenId=c;return {$comp:a,fgid:a.id+'-frame'+c,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:''}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,g=a.frameSize&&a.frameSize.table,f=a.frameTL,d=a.frameBL,e=a.frameML,b=a.frameMC,c;a.initFrame();if(b){if(a.frame){c=a.frameMC.dom.className;b.insertAfter(a.frameMC);a.frameMC.remove();a.frameBody=a.frameMC=b;b.dom.className=c;if(g){a.el.query('> table')[1].remove()}else {if(f){f.remove()}if(d){d.remove()}if(e){e.remove()}}}}else {if(a.frame){a.applyRenderSelectors()}}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return !1}var d=this,v=d.frameInfoCache,u=d.getFramingInfoCls()+'-frameInfo',c=v[u],b=Math.max,w,x,a,p,n,m,o,l,k,i,j,t,s,q,r,g,h,f,e;if(c==null){w=Ext.fly(d.getStyleProxy(u),'frame-style-el');a=w.getStyle('font-family');if(a){a=a.split('-');g=parseInt(a[1],10);h=parseInt(a[2],10);f=parseInt(a[3],10);e=parseInt(a[4],10);l=parseInt(a[5],10);k=parseInt(a[6],10);i=parseInt(a[7],10);j=parseInt(a[8],10);t=parseInt(a[9],10);s=parseInt(a[10],10);q=parseInt(a[11],10);r=parseInt(a[12],10);p=b(l,b(g,h));n=b(k,b(h,f));m=b(i,b(e,f));o=b(j,b(g,e));c={table:a[0].charAt(0)==='t',vertical:a[0].charAt(1)==='v',top:p,right:n,bottom:m,left:o,width:o+n,height:p+m,maxWidth:b(p,n,m,o),border:{top:l,right:k,bottom:i,left:j,width:j+k,height:l+i},padding:{top:t,right:s,bottom:q,left:r,width:r+s,height:t+q},radius:{tl:g,tr:h,br:f,bl:e}}}else {c=!1}v[u]=c}d.frame=!!c;d.frameSize=c;return c},getFramingInfoCls:function(){return this.baseCls+'-'+this.ui},getStyleProxy:function(b){var a=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:'absolute',top:'-10000px'}},null,!0));a.className=b;return a},getFrameTpl:function(a){return this.getTpl(a?'frameTableTpl':'frameTpl')},frameInfoCache:{}},0,0,0,0,0,0,[Ext.util,'Renderable'],0);Ext.cmd.derive('Ext.state.Provider',Ext.Base,{prefix:'ext-',constructor:function(b){b=b||{};var a=this;Ext.apply(a,b);a.addEvents('statechange');a.state={};a.mixins.observable.constructor.call(a)},get:function(a,b){return typeof this.state[a]=='undefined'?b:this.state[a]},clear:function(b){var a=this;delete a.state[b];a.fireEvent('statechange',a,b,null)},set:function(c,b){var a=this;a.state[c]=b;a.fireEvent('statechange',a,c,b)},decodeValue:function(a){var i=this,j=/^(a|n|d|b|s|o|e)\:(.*)$/,e=j.exec(unescape(a)),d,h,g,c,f,b;if(!e||!e[1]){return}h=e[1];a=e[2];switch(h){case 'e':return null;case 'n':return parseFloat(a);case 'd':return new Date(Date.parse(a));case 'b':return a=='1';case 'a':d=[];if(a!=''){c=a.split('^');f=c.length;for(b=0;b<f;b++){a=c[b];d.push(i.decodeValue(a))}};return d;case 'o':d={};if(a!=''){c=a.split('^');f=c.length;for(b=0;b<f;b++){a=c[b];g=a.split('=');d[g[0]]=i.decodeValue(g[1])}};return d;default:return a;}},encodeValue:function(a){var c='',e=0,b,f,d;if(a==null){return 'e:1'}else {if(typeof a=='number'){b='n:'+a}else {if(typeof a=='boolean'){b='b:'+(a?'1':'0')}else {if(Ext.isDate(a)){b='d:'+a.toGMTString()}else {if(Ext.isArray(a)){for(f=a.length;e<f;e++){c+=this.encodeValue(a[e]);if(e!=f-1){c+='^'}}b='a:'+c}else {if(typeof a=='object'){for(d in a){if(typeof a[d]!='function'&&a[d]!==undefined){c+=d+'='+this.encodeValue(a[d])+'^'}}b='o:'+c.substring(0,c.length-1)}else {b='s:'+a}}}}}}return escape(b)}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.state,'Provider'],0);Ext.cmd.derive('Ext.state.Manager',Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(b,a){this.provider.set(b,a)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,'Manager'],0);Ext.cmd.derive('Ext.state.Stateful',Ext.Base,{stateful:!1,saveDelay:100,constructor:function(b){var a=this;b=b||{};if(b.stateful!==undefined){a.stateful=b.stateful}if(b.saveDelay!==undefined){a.saveDelay=b.saveDelay}a.stateId=a.stateId||b.stateId;if(!a.stateEvents){a.stateEvents=[]}if(b.stateEvents){a.stateEvents.concat(b.stateEvents)}this.addEvents('beforestaterestore','staterestore','beforestatesave','statesave');a.mixins.observable.constructor.call(a);if(a.stateful!==!1){a.addStateEvents(a.stateEvents);a.initState()}},addStateEvents:function(b){var a=this,e,c,d;if(a.stateful&&a.getStateId()){if(typeof b=='string'){b=Array.prototype.slice.call(arguments,0)}d=a.stateEventsByName||(a.stateEventsByName={});for(e=b.length;e--;){c=b[e];if(!d[c]){d[c]=1;a.on(c,a.onStateChange,a)}}}},onStateChange:function(){var a=this,d=a.saveDelay,b,c;if(!a.stateful){return}if(d){if(!a.stateTask){b=Ext.state.Stateful;c=b.runner||(b.runner=new Ext.util.TaskRunner());a.stateTask=c.newTask({run:a.saveState,scope:a,interval:d,repeat:1})}a.stateTask.start()}else {a.saveState()}},saveState:function(){var a=this,d=a.stateful&&a.getStateId(),c=a.hasListeners,b;if(d){b=a.getState()||{};if(!c.beforestatesave||a.fireEvent('beforestatesave',a,b)!==!1){Ext.state.Manager.set(d,b);if(c.statesave){a.fireEvent('statesave',a,b)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a=this,d=a.stateful&&a.getStateId(),c=a.hasListeners,b;if(d){b=Ext.state.Manager.get(d);if(b){b=Ext.apply({},b);if(!c.beforestaterestore||a.fireEvent('beforestaterestore',a,b)!==!1){a.applyState(b);if(c.staterestore){a.fireEvent('staterestore',a,b)}}}}},savePropToState:function(a,d,f){var b=this,e=b[a],c=b.initialConfig;if(b.hasOwnProperty(a)){if(!c||c[a]!==e){if(d){d[f||a]=e}return !0}}return !1},savePropsToState:function(a,c){var d=this,b,e;if(typeof a=='string'){d.savePropToState(a,c)}else {for(b=0,e=a.length;b<e;++b){d.savePropToState(a[b],c)}}return c},destroy:function(){var a=this,b=a.stateTask;if(b){b.destroy();a.stateTask=null}a.clearListeners()}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.state,'Stateful'],0);Ext.cmd.derive('Ext.AbstractComponent',Ext.Base,{statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(c,b){var a=this.runningLayoutContext||this.pendingLayouts;if(a){a.cancelComponent(c,!1,b)}},flushLayouts:function(){var b=this,a=b.pendingLayouts;if(a&&a.invalidQueue.length){b.pendingLayouts=null;b.runningLayoutContext=a;Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;var a=this.callParent();if(Ext.globalEvents.hasListeners.afterlayout){Ext.globalEvents.fireEvent('afterlayout')}return a}});a.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}if(Ext.globalEvents.hasListeners.resumelayouts){Ext.globalEvents.fireEvent('resumelayouts')}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(b,e){var a=this,d=a.runningLayoutContext,c;if(d){d.queueInvalidate(b)}else {c=a.pendingLayouts||(a.pendingLayouts=new Ext.layout.Context());c.queueInvalidate(b);if(!e&&!a.layoutSuspendCount&&!b.isLayoutSuspended()){a.flushLayouts()}}}},isComponent:!0,getAutoId:function(){this.autoGenId=!0;return ++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:'{%this.renderContent(out,values)%}',frameSize:null,tplWriteMode:'overwrite',baseCls:'x-component',disabledCls:'x-item-disabled',ui:'default',uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:'display',autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:'padding',horizontalPosProp:'left',borderBoxCls:'x-border-box',constructor:function(b){var a=this,c,e,d;if(b){Ext.apply(a,b);d=a.xhooks;if(d){delete a.xhooks;Ext.override(a,d)}}else {b={}}a.initialConfig=b;a.mixins.elementCt.constructor.call(a);a.addEvents('beforeactivate','activate','beforedeactivate','deactivate','added','disable','enable','beforeshow','show','beforehide','hide','removed','beforerender','render','afterrender','boxready','beforedestroy','destroy','resize','move','focus','blur');a.getId();a.setupProtoEl();if(a.cls){a.initialCls=a.cls;a.protoEl.addCls(a.cls)}if(a.style){a.initialStyle=a.style;a.protoEl.setStyle(a.style)}a.renderData=a.renderData||{};a.renderSelectors=a.renderSelectors||{};if(a.plugins){a.plugins=a.constructPlugins()}if(!a.hasListeners){a.hasListeners=new a.HasListeners()}a.initComponent();Ext.ComponentManager.register(a);a.mixins.observable.constructor.call(a);a.mixins.state.constructor.call(a,b);this.addStateEvents('resize');if(a.plugins){for(c=0,e=a.plugins.length;c<e;c++){a.plugins[c]=a.initPlugin(a.plugins[c])}}a.loader=a.getLoader();if(a.renderTo){a.render(a.renderTo)}if(a.autoShow&&!a.isContained){a.show()}},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var b=this,a=null,c=b.getSizeModel();if(c.width.configured){a=b.addPropertyToState(a,'width')}if(c.height.configured){a=b.addPropertyToState(a,'height')}return a},addPropertyToState:function(b,a,c){var d=this,e=arguments.length;if(e==3||d.hasOwnProperty(a)){if(e<3){c=d[a]}if(c!==d.initialConfig[a]){(b||(b={}))[a]=c}}return b},show:Ext.emptyFn,animate:function(b){var a=this,e,d,j,k,c,r,q,i,p,h,o,f,n,l,m,g;b=b||{};c=b.to||{};if(Ext.fx.Manager.hasFxBlock(a.id)){return a}e=Ext.isDefined(c.width);if(e){k=Ext.Number.constrain(c.width,a.minWidth,a.maxWidth)}d=Ext.isDefined(c.height);if(d){j=Ext.Number.constrain(c.height,a.minHeight,a.maxHeight)}if(!b.dynamic&&(e||d)){i=(b.from?b.from.width:undefined)||a.getWidth();p=i;h=(b.from?b.from.height:undefined)||a.getHeight();o=h;f=!1;if(d&&j>h){o=j;f=!0}if(e&&k>i){p=k;f=!0}if(d||e){g=a.el.getStyle('overtflow');if(g!=='hidden'){a.el.setStyle('overflow','hidden')}}if(f){r=!Ext.isNumber(a.width);q=!Ext.isNumber(a.height);a.setSize(p,o);a.el.setSize(i,h);if(r){delete a.width}if(q){delete a.height}}if(e){c.width=k}if(d){c.height=j}}n=a.constrain;l=a.constrainHeader;if(n||l){a.constrain=a.constrainHeader=!1;m=b.callback;b.callback=function(){a.constrain=n;a.constrainHeader=l;if(m){m.call(b.scope||a,arguments)}if(g!=='hidden'){a.el.setStyle('overflow',g)}}}return a.mixins.animate.animate.apply(a,arguments)},setHiddenState:function(b){var a=this.getHierarchyState();this.hidden=b;if(b){a.hidden=!0}else {delete a.hidden}},onHide:function(){if(this.ownerLayout){this.updateLayout({isRoot:!1})}},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(a){var b=this;if(typeof a=='string'){a=Ext.PluginManager.create({},a,b)}else {a=Ext.PluginManager.create(a,null,b)}return a},constructPlugins:function(){var d=this,a=d.plugins,c,b,e;if(a){c=[];if(!Ext.isArray(a)){a=[a]}for(b=0,e=a.length;b<e;b++){c[b]=d.constructPlugin(a[b])}}d.pluginsInitialized=!0;return c},initPlugin:function(a){a.init(this);return a},addPlugin:function(a){var b=this;a=b.constructPlugin(a);if(b.plugins){b.plugins.push(a)}else {b.plugins=[a]}if(b.pluginsInitialized){b.initPlugin(a)}return a},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},findPlugin:function(c){var a,b=this.plugins,d=b&&b.length;for(a=0;a<d;a++){if(b[a].ptype===c){return b[a]}}},getPlugin:function(c){var a,b=this.plugins,d=b&&b.length;for(a=0;a<d;a++){if(b[a].pluginId===c){return b[a]}}},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(b){var a=this;if(!a.floatingDescendants){a.floatingDescendants=new Ext.ZIndexManager(a)}a.floatingDescendants.register(b)},unregisterFloatingItem:function(b){var a=this;if(a.floatingDescendants){a.floatingDescendants.unregister(b)}},layoutSuspendCount:0,suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount==1){a.suspendLayout=!0}},resumeLayouts:function(b){var a=this;if(!a.rendered){return}if(!--a.layoutSuspendCount){a.suspendLayout=!1;if(b&&!a.isLayoutSuspended()){a.updateLayout(b)}}},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(' ')})},initCls:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];if(a.componentCls){b.push(a.componentCls)}else {a.componentCls=a.baseCls}return b},setUI:function(c){var a=this,e=a.uiCls,d=a.activeUI,b;if(c===d){return}if(d){b=a.removeClsWithUI(e,!0);if(b.length){a.removeCls(b)}a.removeUIFromElement()}else {a.uiCls=[]}a.ui=c;a.activeUI=c;a.addUIToElement();b=a.addClsWithUI(e,!0);if(b.length){a.addCls(b)}if(a.rendered){a.updateLayout()}},addClsWithUI:function(a,i){var b=this,d=[],e=0,h=b.uiCls=Ext.Array.clone(b.uiCls),f=b.activeUI,g,c;if(typeof a==='string'){a=a.indexOf(' ')<0?[a]:Ext.String.splitWords(a)}g=a.length;for(;e<g;e++){c=a[e];if(c&&!b.hasUICls(c)){h.push(c);if(f){d=d.concat(b.addUIClsToElement(c))}}}if(i!==!0&&f){b.addCls(d)}return d},removeClsWithUI:function(a,k){var b=this,d=[],e=0,g=Ext.Array,i=g.remove,j=b.uiCls=g.clone(b.uiCls),f=b.activeUI,h,c;if(typeof a==='string'){a=a.indexOf(' ')<0?[a]:Ext.String.splitWords(a)}h=a.length;for(e=0;e<h;e++){c=a[e];if(c&&b.hasUICls(c)){i(j,c);if(f){d=d.concat(b.removeUIClsFromElement(c))}}}if(k!==!0&&f){b.removeCls(d)}return d},hasUICls:function(b){var c=this,a=c.uiCls||[];return Ext.Array.contains(a,b)},frameElementsArray:['tl','tc','tr','ml','mc','mr','bl','bc','br'],addUIClsToElement:function(e){var a=this,h=a.baseCls+'-'+a.ui+'-'+e,i=['x-'+e,a.baseCls+'-'+e,h],c,g,b,f,d;if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;g=c.length;for(b=0;b<g;b++){d=c[b];f=a['frame'+d.toUpperCase()];if(f){f.addCls(h+'-'+d)}}}return i},removeUIClsFromElement:function(e){var a=this,h=a.baseCls+'-'+a.ui+'-'+e,i=['x-'+e,a.baseCls+'-'+e,h],c,g,b,f,d;if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;g=c.length;for(b=0;b<g;b++){d=c[b];f=a['frame'+d.toUpperCase()];if(f){f.removeCls(h+'-'+d)}}}return i},addUIToElement:function(){var a=this,g=a.baseCls+'-'+a.ui,c,f,b,e,d;a.addCls(g);if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;f=c.length;for(b=0;b<f;b++){d=c[b];e=a['frame'+d.toUpperCase()];if(e){e.addCls(g+'-'+d)}}}},removeUIFromElement:function(){var a=this,g=a.baseCls+'-'+a.ui,c,f,b,e,d;a.removeCls(g);if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;f=c.length;for(b=0;b<f;b++){d=c[b];e=a['frame'+d.toUpperCase()];if(e){e.removeCls(g+'-'+d)}}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(b){var a=this,k=Ext.Element,g=a.margin,j=a.border,i=a.cls,h=a.style,e=a.x,f=a.y,d,c;a.initPadding(b);if(g!=null){b.setStyle('margin',this.unitizeBox(g===!0?5:g))}if(j!=null){a.setBorder(j,b)}if(i&&i!=a.initialCls){b.addCls(i);a.cls=a.initialCls=null}if(h&&h!=a.initialStyle){b.setStyle(h);a.style=a.initialStyle=null}if(e!=null){b.setStyle(a.horizontalPosProp,typeof e=='number'?e+'px':e)}if(f!=null){b.setStyle('top',typeof f=='number'?f+'px':f)}if(Ext.isBorderBox&&(!a.ownerCt||a.floating)){b.addCls(a.borderBoxCls)}if(!a.getFrameInfo()){d=a.width;c=a.height;if(d!=null){if(typeof d==='number'){if(Ext.isBorderBox){b.setStyle('width',d+'px')}}else {b.setStyle('width',d)}}if(c!=null){if(typeof c==='number'){if(Ext.isBorderBox){b.setStyle('height',c+'px')}}else {b.setStyle('height',c)}}}},initPadding:function(c){var a=this,b=a.padding;if(b!=null){if(a.layout&&a.layout.managePadding&&a.contentPaddingProperty==='padding'){c.setStyle('padding',0)}else {c.setStyle('padding',this.unitizeBox(b===!0?5:b))}}},parseBox:function(a){return Ext.dom.Element.parseBox(a)},unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(a,c){var b=this;if(b.rendered){if(!a&&a!==0){a=''}else {if(a===!0){a=5}a=this.unitizeBox(a)}b.getTargetEl().setStyle('margin',a);if(!c){b.updateLayout()}}else {b.margin=a}},initEvents:function(){var c=this,d=c.afterRenderEvents,e,b,f,a,g;if(d){for(f in d){b=c[f];if(b&&b.on){e=d[f];for(a=0,g=e.length;a<g;++a){c.mon(b,e[a])}}}}c.addFocusListener()},addFocusListener:function(){var b=this,a=b.getFocusEl(),c;if(a){if(a.isComponent){return a.addFocusListener()}c=a.needsTabIndex();if(!b.focusListenerAdded&&(!c||Ext.FocusManager.enabled)){if(c){a.dom.tabIndex=-1}a.on({focus:b.onFocus,blur:b.onBlur,scope:b});b.focusListenerAdded=!0}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a=this,b;if(a.focusable!==!1&&(b=a.getFocusEl())&&a.rendered&&!a.destroying&&!a.isDestroyed&&!a.disabled&&a.isVisible(!0)){return b.isFocusable(!0)}},beforeFocus:Ext.emptyFn,onFocus:function(d){var a=this,b=a.focusCls,c=a.getFocusEl();if(!a.disabled){a.beforeFocus(d);if(b&&c){c.addCls(a.addClsWithUI(b,!0))}if(!a.hasFocus){a.hasFocus=!0;a.fireEvent('focus',a,d)}}},beforeBlur:Ext.emptyFn,onBlur:function(b){var a=this,c=a.focusCls,d=a.getFocusEl();if(a.destroying){return}a.beforeBlur(b);if(c&&d){d.removeCls(a.removeClsWithUI(c,!0))}if(a.validateOnBlur){a.validate()}a.hasFocus=!1;a.fireEvent('blur',a,b);a.postBlur(b)},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(c,b){var a=this.getRefOwner(),f=typeof b==='string',g=typeof b==='number',e=b&&b.isComponent,d=0;if(c){for(;a;a=a.getRefOwner()){d++;if(c.isComponent){if(a===c){return a}}else {if(Ext.ComponentQuery.is(a,c)){return a}}if(f&&a.is(b)){return}if(g&&d===b){return}if(e&&a===b){return}}}return a},nextSibling:function(c){var f=this.ownerCt,b,d,a,e;if(f){b=f.items;a=b.indexOf(this)+1;if(a){if(c){for(d=b.getCount();a<d;a++){if((e=b.getAt(a)).is(c)){return e}}}else {if(a<b.getCount()){return b.getAt(a)}}}}return null},previousSibling:function(c){var e=this.ownerCt,b,a,d;if(e){b=e.items;a=b.indexOf(this);if(a!=-1){if(c){for(--a;a>=0;a--){if((d=b.getAt(a)).is(c)){return d}}}else {if(a){return b.getAt(--a)}}}}return null},previousNode:function(c,h){var d=this,f=d.ownerCt,a,g,e,b;if(h&&d.is(c)){return d}if(f){for(g=f.items.items,e=Ext.Array.indexOf(g,d)-1;e>-1;e--){b=g[e];if(b.query){a=b.query(c);a=a[a.length-1];if(a){return a}}if(b.is(c)){return b}}return f.previousNode(c,!0)}return null},nextNode:function(b,i){var c=this,f=c.ownerCt,g,d,h,e,a;if(i&&c.is(b)){return c}if(f){for(d=f.items.items,e=Ext.Array.indexOf(d,c)+1,h=d.length;e<h;e++){a=d[e];if(a.is(b)){return a}if(a.down){g=a.down(b);if(g){return g}}}return f.nextNode(b)}return null},getId:function(){return this.id||(this.id='ext-comp-'+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var c=this,d=null,a,b,e;if(typeof c.autoScroll==='boolean'){d={overflow:e=c.autoScroll?'auto':''};c.scrollFlags={overflowX:e,overflowY:e,x:!0,y:!0,both:!0}}else {a=c.overflowX;b=c.overflowY;if(a!==undefined||b!==undefined){d={'overflowX':a=a||'','overflowY':b=b||''};c.scrollFlags={overflowX:a,overflowY:b,x:a=a==='auto'||a==='scroll',y:b=b==='auto'||b==='scroll',both:a&&b}}else {c.scrollFlags={overflowX:'',overflowY:'',x:!1,y:!1,both:!1}}}if(d&&Ext.isIE7m){d.position='relative'}return d},isXType:function(a,b){if(b){return this.xtype===a}else {return this.xtypesMap[a]}},getXTypes:function(){var c=this.self,b,a,d;if(!c.xtypes){b=[];a=this;while(a){d=a.xtypes;if(d!==undefined){b.unshift.apply(b,d)}a=a.superclass}c.xtypeChain=b;c.xtypes=b.join('/')}return c.xtypes},update:function(b,e,f){var a=this,d=a.tpl&&!Ext.isString(b),c;if(d){a.data=b}else {a.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b}if(a.rendered){c=a.isContainer?a.layout.getRenderTarget():a.getTargetEl();if(d){a.tpl[a.tplWriteMode](c,b||{})}else {c.update(a.html,e,f)}a.updateLayout()}},setVisible:function(a){return this[a?'show':'hide']()},isVisible:function(c){var a=this,b;if(a.hidden||!a.rendered||a.isDestroyed){b=!0}else {if(c){b=a.isHierarchicallyHidden()}}return !b},isHierarchicallyHidden:function(){var a=this,b=!1,c,d;for(;c=a.ownerCt||a.floatParent;a=c){d=c.getHierarchyState();if(d.hidden){b=!0;break}if(a.getHierarchyState().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=!0;break}}else {b=!!d.collapsed;break}}return b},onBoxReady:function(c,b){var a=this;if(a.disableOnBoxReady){a.onDisable()}else {if(a.enableOnBoxReady){a.onEnable()}}if(a.resizable){a.initResizable(a.resizable)}if(a.draggable){a.initDraggable()}if(a.hasListeners.boxready){a.fireEvent('boxready',a,c,b)}},enable:function(b){var a=this;delete a.disableOnBoxReady;a.removeCls(a.disabledCls);if(a.rendered){a.onEnable()}else {a.enableOnBoxReady=!0}a.disabled=!1;delete a.resetDisable;if(b!==!0){a.fireEvent('enable',a)}return a},disable:function(b){var a=this;delete a.enableOnBoxReady;a.addCls(a.disabledCls);if(a.rendered){a.onDisable()}else {a.disableOnBoxReady=!0}a.disabled=!0;if(b!==!0){delete a.resetDisable;a.fireEvent('disable',a)}return a},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=!1;this.unmask()}},onDisable:function(){var a=this,b=a.focusCls,c=a.getFocusEl();if(b&&c){c.removeCls(a.removeClsWithUI(b,!0))}if(a.maskOnDisable){a.el.dom.disabled=!0;a.mask()}},mask:function(){var c=this.lastBox,a=this.getMaskTarget(),b=[];if(c){b[2]=c.height}a.mask.apply(a,b)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?'disable':'enable']()},isHidden:function(){return this.hidden},addCls:function(c){var a=this,b=a.rendered?a.el:a.protoEl;b.addCls.apply(b,arguments);return a},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(c){var a=this,b=a.rendered?a.el:a.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(c){var a=this,b=a.rendered?a.el:a.protoEl;b.removeCls.apply(b,arguments);return a},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(b,c,f,d){var a=this,g,e;if(Ext.isString(b)&&(Ext.isObject(c)||d&&d.element)){if(d.element){g=c;c={};c[b]=g;b=d.element;if(f){c.scope=f}for(e in d){if(d.hasOwnProperty(e)){if(a.eventOptionsRe.test(e)){c[e]=d[e]}}}}if(a[b]&&a[b].on){a.mon(a[b],c)}else {a.afterRenderEvents=a.afterRenderEvents||{};if(!a.afterRenderEvents[b]){a.afterRenderEvents[b]=[]}a.afterRenderEvents[b].push(c)}return}return a.mixins.observable.addListener.apply(a,arguments)},removeManagedListenerItem:function(d,a,h,g,f,e){var c=this,b=a.options?a.options.element:null;if(b){b=c[b];if(b&&b.un){if(d||a.item===h&&a.ename===g&&(!f||a.fn===f)&&(!e||a.scope===e)){b.un(a.ename,a.fn,a.scope);if(!d){Ext.Array.remove(c.managedListeners,a)}}}}else {return c.mixins.observable.removeManagedListenerItem.apply(c,arguments)}},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(b,c){var a=this;a.ownerCt=b;if(a.hierarchyState){a.hierarchyState.invalid=!0;delete a.hierarchyState}if(a.hasListeners.added){a.fireEvent('added',a,b,c)}},onRemoved:function(b){var a=this;if(a.hasListeners.removed){a.fireEvent('removed',a,a.ownerCt)}delete a.ownerCt;delete a.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(e,d,c,b){var a=this;if(a.floating&&a.constrain){a.doConstrain()}if(a.hasListeners.resize){a.fireEvent('resize',a,e,d,c,b)}},setSize:function(b,c){var a=this;if(b&&typeof b=='object'){c=b.height;b=b.width}if(typeof b=='number'){a.width=Ext.Number.constrain(b,a.minWidth,a.maxWidth)}else {if(b===null){delete a.width}}if(typeof c=='number'){a.height=Ext.Number.constrain(c,a.minHeight,a.maxHeight)}else {if(c===null){delete a.height}}if(a.rendered&&a.isVisible()){a.updateLayout({isRoot:!1})}return a},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return !0}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return !0}b=a.ownerLayout;if(!b){break}a=b.owner}return !1},updateLayout:function(b){var a=this,e,d=a.lastBox,c=b&&b.isRoot;if(d){d.invalid=!0}if(!a.rendered||a.layoutSuspendCount||a.suspendLayout){return}if(a.hidden){Ext.AbstractComponent.cancelLayout(a)}else {if(typeof c!='boolean'){c=a.isLayoutRoot()}}if(c||!a.ownerLayout||!a.ownerLayout.onContentChange(a)){if(!a.isLayoutSuspended()){e=b&&b.hasOwnProperty('defer')?b.defer:a.deferLayouts;Ext.AbstractComponent.updateLayout(a,e)}}},getSizeModel:function(g){var c=this,a=Ext.layout.SizeModel,h=c.componentLayout.ownerContext,p=c.width,o=c.height,n,m,j,i,d,k,f,b,l,e;if(h){e=h.widthModel;d=h.heightModel}if(!e||!d){j=(n=typeof p)=='number';i=(m=typeof o)=='number';l=c.floating||!(k=c.ownerLayout);if(l){f=Ext.layout.Layout.prototype.autoSizePolicy;b=c.floating?3:c.shrinkWrap;if(j){e=a.configured}if(i){d=a.configured}}else {f=k.getItemSizePolicy(c,g);b=k.isItemShrinkWrap(c)}if(h){h.ownerSizePolicy=f}b=b===!0?3:b||0;if(l&&b){if(p&&n=='string'){b&=2}if(o&&m=='string'){b&=1}}if(b!==3){if(!g){g=c.ownerCt&&c.ownerCt.getSizeModel()}if(g){b|=(g.width.shrinkWrap?1:0)|(g.height.shrinkWrap?2:0)}}if(!e){if(!f.setsWidth){if(j){e=a.configured}else {e=b&1?a.shrinkWrap:a.natural}}else {if(f.readsWidth){if(j){e=a.calculatedFromConfigured}else {e=b&1?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else {e=a.calculated}}}if(!d){if(!f.setsHeight){if(i){d=a.configured}else {d=b&2?a.shrinkWrap:a.natural}}else {if(f.readsHeight){if(i){d=a.calculatedFromConfigured}else {d=b&2?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else {d=a.calculated}}}}return e.pairsByHeightOrdinal[d.ordinal]},isDescendant:function(b){if(b.isContainer){for(var a=this.ownerCt;a;a=a.ownerCt){if(a===b){return !0}}}return !1},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,'autocomponent'))}return a.componentLayout},afterComponentLayout:function(b,a,e,d){var c=this;if(++c.componentLayoutCounter===1){c.afterFirstLayout(b,a)}if(b!==e||a!==d){c.onResize(b,a,e,d)}},beforeComponentLayout:function(b,a){return !0},setPosition:function(b,c,e){var a=this,d=a.beforeSetPosition.apply(a,arguments);if(d&&a.rendered){b=d.x;c=d.y;if(e){if(b!==a.getLocalX()||c!==a.getLocalY()){a.stopAnimation();a.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(a.afterSetPosition,a,[b,c])},to:{x:b,y:c}},e))}}else {a.setLocalXY(b,c);a.afterSetPosition(b,c)}}return a},beforeSetPosition:function(a,c,e){var b,d;if(a){if(Ext.isNumber(d=a[0])){e=c;c=a[1];a=d}else {if((d=a.x)!==undefined){e=c;c=a.y;a=d}}}if(this.constrain||this.constrainHeader){b=this.calculateConstrainedPosition(null,[a,c],!0);if(b){a=b[0];c=b[1]}}b={x:this.x=a,y:this.y=c,anim:e,hasX:a!==undefined,hasY:c!==undefined};return b.hasX||b.hasY?b:null},afterSetPosition:function(b,c){var a=this;a.onPosition(b,c);if(a.hasListeners.move){a.fireEvent('move',a,b,c)}},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this,c=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,b=a.loader||c;if(b){if(!b.isLoader){a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:c},b))}else {b.setTarget(a)}return a.loader}return null},setDocked:function(c,b){var a=this;a.dock=c;if(b&&a.ownerCt&&a.rendered){a.ownerCt.updateLayout()}return a},setBorder:function(a,c){var b=this,d=!!c;if(b.rendered||d){if(!d){c=b.el}if(!a){a=0}else {if(a===!0){a='1px'}else {a=this.unitizeBox(a)}}c.setStyle('border-width',a);if(!d){b.updateLayout()}}b.border=a},onDestroy:function(){var a=this;if(a.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(a.setSize,a)}Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var a=this,c=a.renderSelectors,b,d;if(!a.isDestroyed){if(!a.hasListeners.beforedestroy||a.fireEvent('beforedestroy',a)!==!1){a.destroying=!0;a.beforeDestroy();if(a.floating){delete a.floatParent;if(a.zIndexManager){a.zIndexManager.unregister(a)}}else {if(a.ownerCt&&a.ownerCt.remove){a.ownerCt.remove(a,!1)}}a.stopAnimation();a.onDestroy();Ext.destroy(a.plugins);if(a.hasListeners.destroy){a.fireEvent('destroy',a)}Ext.ComponentManager.unregister(a);a.mixins.state.destroy.call(a);a.clearListeners();if(a.rendered){if(!a.preserveElOnDestroy){a.el.remove()}a.mixins.elementCt.destroy.call(a);if(c){for(b in c){if(c.hasOwnProperty(b)){d=a[b];if(d){delete a[b];d.remove()}}}}delete a.el;delete a.frameBody;delete a.rendered}a.destroying=!1;a.isDestroyed=!0}}},isDescendantOf:function(a){return !!this.findParentBy(function(b){return b===a})},getHierarchyState:function(h){var a=this,b=h&&a.hierarchyStateInner||a.hierarchyState,g=a.ownerCt,e,c,d,f;if(!b||b.invalid){e=a.getRefOwner();if(g){f=a.ownerLayout===g.layout}a.hierarchyState=b=Ext.Object.chain(e?e.getHierarchyState(f):Ext.rootHierarchyState);a.initHierarchyState(b);if((c=a.componentLayout).initHierarchyState){c.initHierarchyState(b)}if(a.isContainer){a.hierarchyStateInner=d=Ext.Object.chain(b);c=a.layout;if(c&&c.initHierarchyState){c.initHierarchyState(d,b)}if(h){b=d}}}return b},initHierarchyState:function(a){var b=this;if(b.collapsed){a.collapsed=!0}if(b.hidden){a.hidden=!0}if(b.collapseImmune){a.collapseImmune=!0}},getAnchorToXY:function(d,a,c,b){return d.getAnchorXY(a,c,b)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(b,a){this.el.setX(b,a)},setXY:function(b,a){this.el.setXY(b,a)},setY:function(b,a){this.el.setY(b,a)}},1,0,0,0,0,[['positionable',Ext.util.Positionable],['observable',Ext.util.Observable],['animate',Ext.util.Animate],['elementCt',Ext.util.ElementContainer],['renderable',Ext.util.Renderable],['state',Ext.state.Stateful]],[Ext,'AbstractComponent'],function(){var a=this;a.createAlias({on:'addListener',prev:'previousSibling',next:'nextSibling'});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(c,b){a.suspendLayouts();c.call(b);a.resumeLayouts(!0)}});Ext.cmd.derive('Ext.AbstractPlugin',Ext.Base,{disabled:!1,isPlugin:!0,constructor:function(a){this.pluginConfig=a;Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(c,b,d){var a=b.alias;if(a&&!b.ptype){if(Ext.isArray(a)){a=a[0]}c.prototype.ptype=a.split('plugin.')[1]}}},1,0,0,0,0,0,[Ext,'AbstractPlugin'],0);Ext.cmd.derive('Ext.data.flash.BinaryXhr',Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById('ext-flash-polyfill');Ext.globalEvents.fireEvent('flashready')},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(b,c,d){var a;a=this.liveConnections[Number(b)];if(a){a.onFlashStateChange(c,d)}},registerConnection:function(b){var a=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[a]=b;return a},injectFlashPlugin:function(){var a,e,d,b,g=this,f,c;b=document.createElement('img');b.setAttribute('src',window.location.protocol+'//www.adobe.com/images/shared/download_buttons/get_flash_player.gif');b.setAttribute('alt','Get Adobe Flash player');d=document.createElement('a');d.setAttribute('href','http://www.adobe.com/go/getflashplayer');d.appendChild(b);e=document.createElement('p');e.innerHTML='To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.';a=document.createElement('div');a.setAttribute('id','ext-flash-polyfill');a.appendChild(e);a.appendChild(b);Ext.getBody().dom.appendChild(a);f=[Ext.Loader.getPath('Ext.data.Connection'),'../../../plugins/flash/swfobject.js'].join('/');c='/plugins/flash/FlashPlugin.swf';if(Ext.flashPluginPath){c=Ext.flashPluginPath}Ext.Loader.loadScript({url:f,onLoad:function(){var d='11.4.0';var e='playerProductInstall.swf';var f={};var a={};a.quality='high';a.bgcolor='#ffffff';a.allowscriptaccess='sameDomain';a.allowfullscreen='true';var b={};b.id='ext-flash-polyfill';b.name='polyfill';b.align='middle';swfobject.embedSWF(c,'ext-flash-polyfill','0','0',d,e,f,a,b)},onError:function(){},scope:g});Ext.globalEvents.addEvents('flashready');Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:'',responseBytes:null,javascriptId:null,constructor:function(b){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var a=this;Ext.apply(a,b);a.requestHeaders={}},abort:function(){var a=this;if(a.readyState==4){return}a.aborted=!0;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.removeListener('flashready',a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(c,b){a.push(c+': '+b)});return a.join('\r\n')},getResponseHeader:function(b){var a=this.responseHeaders;return a&&a[b]||null},open:function(c,f,d,e,b){var a=this;a.method=c;a.url=f;a.async=d!==!1;a.user=e;a.password=b},overrideMimeType:function(a){this.mimeType=a},send:function(b){var a=this;a.body=b;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.addListener('flashready',a.onFlashReady,a)}else {this.onFlashReady()}},onFlashReady:function(){var a=this,b,c;a.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(a);b={method:a.method,url:a.url,user:a.user,password:a.password,mimeType:a.mimeType,requestHeaders:a.requestHeaders,body:a.body,javascriptId:a.javascriptId};c=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;if(a.readyState!=b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0;b.responseHeaders={};if(b.mimeType){b.responseHeaders['content-type']=b.mimeType}if(a.reason=='complete'){this.responseBytes=a.data;b.responseHeaders['content-length']=a.data.length}else {if(a.reason=='error'||a.reason=='securityError'){this.statusText=a.text;b.responseHeaders['content-length']=0}}},onFlashStateChange:function(b,c){var a=this;if(b==4){a.parseData(c);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}a.setReadyState(b)}},1,0,0,0,0,0,[Ext.data.flash,'BinaryXhr'],0);Ext.cmd.derive('Ext.data.Connection',Ext.Base,{statics:{requestId:0},url:null,async:!0,method:null,username:'',password:'',disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:'text/plain',disableCachingParam:'_dc',timeout:30000,useDefaultHeader:!0,defaultPostHeader:'application/x-www-form-urlencoded; charset=UTF-8',useDefaultXhrHeader:!0,defaultXhrHeader:'XMLHttpRequest',constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(b){b=b||{};var a=this,j=b.scope||window,i=b.username||a.username,h=b.password||a.password||'',f,d,c,g,e;if(a.fireEvent('beforerequest',a,b)!==!1){d=a.setOptions(b,j);if(a.isFormUpload(b)){a.upload(b.form,d.url,d.data,b);return null}if(b.autoAbort||a.autoAbort){a.abort()}f=b.async!==!1?b.async||a.async:!1;e=a.openRequest(b,d,f,i,h);if(!a.isXdr){g=a.setupHeaders(e,b,d.data,d.params)}c={id:++Ext.data.Connection.requestId,xhr:e,headers:g,options:b,async:f,binary:b.binary||a.binary,timeout:setTimeout(function(){c.timedout=!0;a.abort(c)},b.timeout||a.timeout)};a.requests[c.id]=c;a.latestId=c.id;if(f){if(!a.isXdr){e.onreadystatechange=Ext.Function.bind(a.onStateChange,a,[c])}}if(a.isXdr){a.processXdrRequest(c,e)}e.send(d.data);if(!f){return a.onComplete(c)}return c}else {Ext.callback(b.callback,b.scope,[b,undefined,undefined]);return null}},processXdrRequest:function(a,c){var b=this;delete a.headers;a.contentType=a.options.contentType||b.defaultXdrContentType;c.onload=Ext.Function.bind(b.onStateChange,b,[a,!0]);c.onerror=c.ontimeout=Ext.Function.bind(b.onStateChange,b,[a,!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return []};a.getResponseHeader=function(){return ''};a.contentType=b.contentType||this.defaultXdrContentType},upload:function(a,r,n,k){a=Ext.getDom(a);k=k||{};var d=Ext.id(),f=document.createElement('iframe'),j=[],m='multipart/form-data',q={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},l=function(c,b){e=document.createElement('input');Ext.fly(e).set({type:'hidden',value:b,name:c});a.appendChild(e);j.push(e)},e,g,b,c,p,i,o,h;Ext.fly(f).set({id:d,name:d,cls:'x-hide-display',src:Ext.SSL_SECURE_URL});document.body.appendChild(f);if(document.frames){document.frames[d].name=d}Ext.fly(a).set({target:d,method:'POST',enctype:m,encoding:m,action:r||q.action});if(n){g=Ext.Object.fromQueryString(n)||{};for(c in g){if(g.hasOwnProperty(c)){b=g[c];if(Ext.isArray(b)){p=b.length;for(i=0;i<p;i++){l(c,b[i])}}else {l(c,b)}}}}Ext.fly(f).on('load',Ext.Function.bind(this.onUploadComplete,this,[f,k]),null,{single:!Ext.isOpera});a.submit();Ext.fly(a).set(q);o=j.length;for(h=0;h<o;h++){Ext.removeNode(j[h])}},onUploadComplete:function(e,c){var h=this,b={responseText:'',responseXML:null},f,g,a,d;try{a=e.contentWindow.document||e.contentDocument||window.frames[e.id].document;if(a){if(Ext.isOpera&&a.location=='about:blank'){return}if(a.body){if((d=a.body.firstChild)&&/pre/i.test(d.tagName)){b.responseText=d.textContent}else {if(d=a.getElementsByTagName('textarea')[0]){b.responseText=d.value}else {b.responseText=a.body.textContent||a.body.innerText}}}b.responseXML=a.XMLDocument||a;f=c.success;g=!0}}catch(i){b.responseText='{success:false,message:"'+Ext.String.trim(i.message||i.description)+'"}';f=c.failure;g=!1}h.fireEvent('requestcomplete',h,b,c);Ext.callback(f,c.scope,[b,c]);Ext.callback(c.callback,c.scope,[c,g,b]);setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return a.isUpload||/multipart\/form-data/i.test(b.getAttribute('enctype'))}return !1},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,k){var f=this,b=a.params||{},g=f.extraParams,e=a.urlParams,c=a.url||f.url,i=a.jsonData,h,j,d;if(Ext.isFunction(b)){b=b.call(k,a)}if(Ext.isFunction(c)){c=c.call(k,a)}c=this.setupUrl(a,c);d=a.rawData||a.binaryData||a.xmlData||i||null;if(i&&!Ext.isPrimitive(i)){d=Ext.encode(d)}if(a.binaryData){if(f.nativeBinaryPostSupport()){d=new Uint8Array(a.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko){d=d.buffer}}}if(Ext.isObject(b)){b=Ext.Object.toQueryString(b)}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}b=b+(g?(b?'&':'')+g:'');e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;b=this.setupParams(a,b);h=(a.method||f.method||(b||d?'POST':'GET')).toUpperCase();this.setupMethod(a,h);j=a.disableCaching!==!1?a.disableCaching||f.disableCaching:!1;if(h==='GET'&&j){c=Ext.urlAppend(c,(a.disableCachingParam||f.disableCachingParam)+'='+(new Date()).getTime())}if((h=='GET'||d)&&b){c=Ext.urlAppend(c,b);b=null}if(e){c=Ext.urlAppend(c,e)}return {url:c,method:h,data:d||b||null}},setupUrl:function(c,a){var b=this.getForm(c);if(b){a=a||b.action}return a},setupParams:function(c,a){var d=this.getForm(c),b;if(d&&!this.isFormUpload(c)){b=Ext.Element.serializeForm(d);a=a?a+'&'+b:b}return a},setupMethod:function(a,b){if(this.isFormUpload(a)){return 'POST'}return b},setupHeaders:function(k,e,i,j){var c=this,a=Ext.apply({},e.headers||{},c.defaultHeaders||{}),d=c.defaultPostHeader,g=e.jsonData,h=e.xmlData,b,f;if(!a['Content-Type']&&(i||j)){if(i){if(e.rawData){d='text/plain'}else {if(h&&Ext.isDefined(h)){d='text/xml'}else {if(g&&Ext.isDefined(g)){d='application/json'}}}}a['Content-Type']=d}if(c.useDefaultXhrHeader&&!a['X-Requested-With']){a['X-Requested-With']=c.defaultXhrHeader}try{for(b in a){if(a.hasOwnProperty(b)){f=a[b];k.setRequestHeader(b,f)}}}catch(l){c.fireEvent('exception',b,f)}return a},newRequest:function(c){var b=this,a;if(c.binaryData){if(b.nativeBinaryPostSupport()){a=this.getXhrInstance()}else {a=new Ext.data.flash.BinaryXhr()}}else {if((c.cors||b.cors)&&Ext.isIE&&Ext.ieVersion<=9){a=b.getXdrInstance();b.isXdr=!0}else {a=b.getXhrInstance()}}return a},openRequest:function(d,b,f,e,g){var c=this,a=c.newRequest(d);if(e){a.open(b.method,b.url,f,e,g)}else {if(c.isXdr){a.open(b.method,b.url)}else {a.open(b.method,b.url,f)}}if(d.binary||c.binary){if(window.Uint8Array){a.responseType='arraybuffer'}else {if(a.overrideMimeType){a.overrideMimeType('text/plain; charset=x-user-defined')}}}if(d.withCredentials||c.withCredentials){a.withCredentials=!0}return a},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest()}else {Ext.Error.raise({msg:'Your browser does not support CORS'})}return a},getXhrInstance:function(){var c=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject('MSXML2.XMLHTTP.3.0')},function(){return new ActiveXObject('MSXML2.XMLHTTP')},function(){return new ActiveXObject('Microsoft.XMLHTTP')}],b=0,d=c.length,a;for(;b<d;++b){try{a=c[b];a();break}catch(e){}}return a}(),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return !1}var b=a.xhr.readyState;return a.xhr instanceof Ext.data.flash.BinaryXhr&&b!=4||!(b===0||b==4)},abort:function(a){var b=this,c;if(!a){a=b.getLatest()}if(a&&b.isLoading(a)){c=a.xhr;try{c.onreadystatechange=null}catch(d){c.onreadystatechange=Ext.emptyFn}c.abort();b.clearTimeout(a);if(!a.timedout){a.aborted=!0}b.onComplete(a);b.cleanup(a)}},abortAll:function(){var a=this.requests,b;for(b in a){if(a.hasOwnProperty(b)){this.abort(a[b])}}},getLatest:function(){var b=this.latestId,a;if(b){a=this.requests[b]}return a||null},onStateChange:function(a,c){var b=this;if(a.xhr&&a.xhr.readyState==4||b.isXdr){b.clearTimeout(a);b.onComplete(a,c);b.cleanup(a);Ext.EventManager.idleEvent.fire()}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(d,g){var b=this,a=d.options,e,f,c;try{e=b.parseStatus(d.xhr.status)}catch(h){e={success:!1,isException:!1}}f=b.isXdr?g:e.success;if(f){c=b.createResponse(d);b.fireEvent('requestcomplete',b,c,a);Ext.callback(a.success,a.scope,[c,a])}else {if(e.isException||d.aborted||d.timedout){c=b.createException(d)}else {c=b.createResponse(d)}b.fireEvent('requestexception',b,c,a);Ext.callback(a.failure,a.scope,[c,a])}Ext.callback(a.callback,a.scope,[a,f,c]);delete b.requests[d.id];return c},parseStatus:function(a){a=a==1223?204:a;var c=a>=200&&a<300||a==304,b=!1;if(!c){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=!0;break;}}return {success:c,isException:b}},createResponse:function(c){var g=this,a=c.xhr,i=g.isXdr,f={},j=i?[]:a.getAllResponseHeaders().replace(/\r\n/g,'\n').split('\n'),h=j.length,e,d,k,b,l;while(h--){e=j[h];d=e.indexOf(':');if(d>=0){k=e.substr(0,d).toLowerCase();if(e.charAt(d+1)==' '){++d}f[k]=e.substr(d+1)}}c.xhr=null;delete c.xhr;b={request:c,requestId:c.id,status:a.status,statusText:a.statusText,getResponseHeader:function(a){return f[a.toLowerCase()]},getAllResponseHeaders:function(){return f}};if(i){g.processXdrResponse(b,a)}if(c.binary){b.responseBytes=g.getByteArray(a)}else {b.responseText=a.responseText;b.responseXML=a.responseXML}a=null;return b},createException:function(a){return {request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?'transaction aborted':'communication failure',aborted:a.aborted,timedout:a.timedout}},getByteArray:function(b){var e=b.response,g=b.responseBody,a,d,f,c;if(b instanceof Ext.data.flash.BinaryXhr){a=b.responseBytes}else {if(window.Uint8Array){a=e?new Uint8Array(e):[]}else {if(Ext.isIE9p){try{a=(new VBArray(g)).toArray()}catch(h){a=[]}}else {if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(b.responseBody,a=[])}else {a=[];d=b.responseText;f=d.length;for(c=0;c<f;c++){a.push(d.charCodeAt(c)&255)}}}}}return a},injectVBScript:function(){var a=document.createElement('script');a.type='text/vbscript';a.text=['Function getIEByteArray(byteArray, out)','Dim len, i','len = LenB(byteArray)','For i = 1 to len','out.push(AscB(MidB(byteArray, i, 1)))','Next','End Function'].join('\n');Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.data,'Connection'],0);Ext.cmd.derive('Ext.Ajax',Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,'Ajax'],0);Ext.cmd.derive('Ext.util.Floating',Ext.Base,{focusOnToFront:!0,shadow:'sides',constrain:!1,constructor:function(b){var a=this;a.fixed=a.fixed&&!(Ext.isIE6||Ext.isIEQuirks);a.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:a.hideMode,hidden:a.hidden,shadow:typeof a.shadow!='undefined'?a.shadow:'sides',shadowOffset:a.shadowOffset,constrain:!1,fixed:a.fixed,shim:a.shim===!1?!1:undefined},a.floating),b);if(a.modal&&!(Ext.FocusManager&&Ext.FocusManager.enabled)){a.mon(a.el,{keydown:a.onKeyDown,scope:a})}a.mon(a.el,{mousedown:a.onMouseDown,scope:a});a.floating=!0;a.registerWithOwnerCt();a.initHierarchyEvents()},initHierarchyEvents:function(){var b=this,a=this.syncHidden;if(!b.hasHierarchyEventListeners){b.mon(b.hierarchyEventSource,{hide:a,collapse:a,show:a,expand:a,added:a,scope:b});b.hasHierarchyEventListeners=!0}},registerWithOwnerCt:function(){var a=this,c=a.ownerCt,b=a.zIndexParent;if(b){b.unregisterFloatingItem(a)}b=a.zIndexParent=a.up('[floating]');a.setFloatParent(c||b);delete a.ownerCt;if(b){b.registerFloatingItem(a)}else {Ext.WindowManager.register(a)}},onKeyDown:function(d){var f=this,e,a,b,c;if(d.getKey()==Ext.EventObject.TAB){e=d.shiftKey;a=f.el.query(':focusable');b=a[0];c=a[a.length-1];if(b&&c&&d.target===(e?b:c)){d.stopEvent();(e?c:b).focus(!1,!0)}}},onMouseDown:function(b){var a=this.focusTask;if(this.floating&&(!a||!a.id)){this.toFront(!!b.getTarget(':focusable'))}},setFloatParent:function(b){var a=this;a.floatParent=b;if((a.constrain||a.constrainHeader)&&!a.constrainTo){a.constrainTo=b?b.getTargetEl():a.container}},syncShadow:function(){if(this.floating){this.el.sync(!0)}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var a=this,d=a.hidden||!a.rendered,c=a.hierarchicallyHidden=a.isHierarchicallyHidden(),b=a.pendingShow;if(d!==c){if(c){a.hide();a.pendingShow=!0}else {if(b){delete a.pendingShow;if(b.length){a.show.apply(a,b)}else {a.show()}}}}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+10000}return a},doConstrain:function(c){var a=this,b=a.calculateConstrainedPosition(c,null,!0);if(b){a.setPosition(b)}},toFront:function(b){var a=this,c=a.zIndexParent,d=a.preventFocusOnActivate;if(c&&a.bringParentToFront!==!1){c.toFront(!0)}if(!Ext.isDefined(b)){b=!a.focusOnToFront}if(b){a.preventFocusOnActivate=!0}if(a.zIndexManager.bringToFront(a,b)){if(!b){a.focus(!1,!0)}}a.preventFocusOnActivate=d;return a},setActive:function(c,b){var a=this;if(c){if(a.el.shadow&&!a.maximized){a.el.enableShadow(!0)}if(!a.preventFocusOnActivate){a.focus(!1,!0)}a.fireEvent('activate',a)}else {if(a.isWindow&&(b&&b.isWindow)&&a.hideShadowOnDeactivate){a.el.disableShadow()}a.fireEvent('deactivate',a)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.getAlignToXY(a.container,'c-c');a.setPagePosition(b)}else {a.needsCenter=!0}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter},fitContainer:function(f){var d=this,c=d.floatParent,a=c?c.getTargetEl():d.container,b=a.getViewSize(!1),e=c||a.dom!==document.body?[0,0]:a.getXY();b.x=e[0];b.y=e[1];d.setBox(b,f)}},1,0,0,0,0,0,[Ext.util,'Floating'],0);Ext.cmd.derive('Ext.Component',Ext.AbstractComponent,{statics:{DIRECTION_TOP:'top',DIRECTION_RIGHT:'right',DIRECTION_BOTTOM:'bottom',DIRECTION_LEFT:'left',VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:'all',floating:!1,defaultAlign:'tl-bl?',toFrontOnShow:!0,hideMode:'display',offsetsCls:'x-hide-offsets',bubbleEvents:[],defaultComponentLayoutType:'autocomponent',constructor:function(a){var b=this;a=a||{};if(a.initialConfig){if(a.isAction){b.baseAction=a}a=a.initialConfig}else {if(a.tagName||a.dom||Ext.isString(a)){a={applyTo:a,id:a.id||a}}}Ext.AbstractComponent.prototype.constructor.call(this,a);if(b.baseAction){b.baseAction.addComponent(b)}},initComponent:function(){var a=this;Ext.AbstractComponent.prototype.initComponent.call(this);if(a.listeners){a.on(a.listeners);a.listeners=null}a.enableBubble(a.bubbleEvents)},afterRender:function(){var a=this;Ext.AbstractComponent.prototype.afterRender.call(this);if(!(a.x&&a.y)&&(a.pageX||a.pageY)){a.setPagePosition(a.pageX,a.pageY)}},setAutoScroll:function(b){var a=this;a.autoScroll=!!b;if(a.rendered){a.getOverflowEl().setStyle(a.getOverflowStyle())}a.updateLayout();return a},setOverflowXY:function(c,d){var a=this,b=arguments.length;if(b){a.overflowX=c||'';if(b>1){a.overflowY=d||''}}if(a.rendered){a.getOverflowEl().setStyle(a.getOverflowStyle())}a.updateLayout();return a},beforeRender:function(){var b=this,c=b.floating,a;if(c){b.addCls('x-layer');a=c.cls;if(a){b.addCls(a)}}return Ext.AbstractComponent.prototype.beforeRender.call(this)},beforeLayout:function(){Ext.AbstractComponent.prototype.beforeLayout.apply(this,arguments);if(this.floating){this.onBeforeFloatLayout()}},afterComponentLayout:function(){Ext.AbstractComponent.prototype.afterComponentLayout.apply(this,arguments);if(this.floating){this.onAfterFloatLayout()}},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else {Ext.AbstractComponent.prototype.wrapPrimaryEl.apply(this,arguments)}},initResizable:function(b){var a=this;b=Ext.apply({target:a,dynamic:!1,constrainTo:a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():null),handles:a.resizeHandles},b);b.target=a;a.resizer=new Ext.resizer.Resizer(b)},getDragEl:function(){return this.el},initDraggable:function(){var a=this,c=a.resizer&&a.resizer.el!==a.el?a.resizerComponent=new Ext.Component({el:a.resizer.el,rendered:!0,container:a.container}):a,b=Ext.applyIf({el:c.getDragEl(),constrainTo:a.constrain||a.draggable.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.container):undefined},a.draggable);if(a.constrain||a.constrainDelegate){b.constrain=a.constrain;b.constrainDelegate=a.constrainDelegate}a.dd=new Ext.util.ComponentDragger(c,b)},scrollBy:function(c,d,b){var a;if((a=this.getTargetEl())&&a.dom){a.scrollBy.apply(a,arguments)}},setLoading:function(b,d){var a=this,c={target:a};if(a.rendered){Ext.destroy(a.loadMask);a.loadMask=null;if(b!==!1&&!a.collapsed){if(Ext.isObject(b)){Ext.apply(c,b)}else {if(Ext.isString(b)){c.msg=b}}if(d){Ext.applyIf(c,{useTargetEl:!0})}a.loadMask=new Ext.LoadMask(c);a.loadMask.show()}}return a.loadMask},beforeSetPosition:function(){var c=this,a=Ext.AbstractComponent.prototype.beforeSetPosition.apply(this,arguments),b;if(a){b=c.adjustPosition(a.x,a.y);a.x=b.x;a.y=b.y}return a||null},afterSetPosition:function(a,b){this.onPosition(a,b);this.fireEvent('move',this,a,b)},showAt:function(b,c,d){var a=this;if(!a.rendered&&(a.autoRender||a.floating)){a.x=b;a.y=c;return a.show()}if(a.floating){a.setPosition(b,c,d)}else {a.setPagePosition(b,c,d)}a.show()},showBy:function(b,d,c){var a=this;if(a.floating&&b){a.show();if(a.rendered&&!a.hidden){a.alignTo(b,d||a.defaultAlign,c)}}return a},setPagePosition:function(a,c,f){var b=this,d,e;if(Ext.isArray(a)){c=a[1];a=a[0]}b.pageX=a;b.pageY=c;if(b.floating){if(b.isContainedFloater()){e=b.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(e.left)){a-=e.left}if(Ext.isNumber(c)&&Ext.isNumber(e.top)){c-=e.top}}else {d=b.el.translateXY(a,c);a=d.x;c=d.y}b.setPosition(a,c,f)}else {d=b.el.translateXY(a,c);b.setPosition(d.x,d.y,f)}return b},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return {width:a.getWidth()+a.getMargin('lr'),height:a.getHeight()+a.getMargin('tb')}},adjustPosition:function(c,d){var b=this,a;if(b.isContainedFloater()){a=b.floatParent.getTargetEl().getViewRegion();c+=a.left;d+=a.top}return {x:c,y:d}},getPosition:function(e){var a=this,b,d=a.isContainedFloater(),c;if(e===!0&&!d){return [a.getLocalX(),a.getLocalY()]}b=a.getXY();if(e===!0&&d){c=a.floatParent.getTargetEl().getViewRegion();b[0]-=c.left;b[1]-=c.top}return b},getId:function(){var b=this,a;if(!b.id){a=b.getXType();if(a){a=a.replace(Ext.Component.INVALID_ID_CHARS_Re,'-')}else {a=Ext.name.toLowerCase()+'-comp'}b.id=a+'-'+b.getAutoId()}return b.id},show:function(c,e,d){var a=this,b=a.rendered;if(a.hierarchicallyHidden||a.floating&&!b&&a.isHierarchicallyHidden()){if(!b){a.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;a.pendingShow=arguments}else {a.pendingShow=!0}}else {if(b&&a.isVisible()){if(a.toFrontOnShow&&a.floating){a.toFront()}}else {if(a.fireEvent('beforeshow',a)!==!1){a.hidden=!1;delete this.getHierarchyState().hidden;Ext.suspendLayouts();if(!b&&(a.autoRender||a.floating)){a.doAutoRender();b=a.rendered}if(b){a.beforeShow();Ext.resumeLayouts();a.onShow.apply(a,arguments);a.afterShow.apply(a,arguments)}else {Ext.resumeLayouts(!0)}}else {a.onShowVeto()}}}return a},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show();Ext.AbstractComponent.prototype.onShow.apply(this,arguments);if(a.floating){if(a.maximized){a.fitContainer()}else {if(a.constrain){a.doConstrain()}}}},getAnimateTarget:function(a){a=a||this.animateTarget;if(a){a=a.isComponent?a.getEl():Ext.get(a)}return a||null},afterShow:function(b,h,g){var a=this,c=a.el,f,e,d;b=a.getAnimateTarget(b);if(!a.ghost){b=null}if(b){e={x:c.getX(),y:c.getY(),width:c.dom.offsetWidth,height:c.dom.offsetHeight};f={x:b.getX(),y:b.getY(),width:b.dom.offsetWidth,height:b.dom.offsetHeight};c.addCls(a.offsetsCls);d=a.ghost();d.el.stopAnimation();d.setX(-10000);a.ghostBox=e;d.el.animate({from:f,to:e,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;a.unghost();delete a.ghostBox;c.removeCls(a.offsetsCls);a.onShowComplete(h,g)}}})}else {a.onShowComplete(h,g)}a.fireHierarchyEvent('show')},onShowComplete:function(c,b){var a=this;if(a.floating){a.toFront();a.onFloatShow()}Ext.callback(c,b||a);a.fireEvent('show',a);delete a.hiddenByLayout},hide:function(c,e,d){var a=this,b;if(a.pendingShow){delete a.pendingShow}if(!(a.rendered&&!a.isVisible())){b=a.fireEvent('beforehide',a)!==!1;if(a.hierarchicallyHidden||b){a.hidden=!0;a.getHierarchyState().hidden=!0;if(a.rendered){a.onHide.apply(a,arguments)}}}return a},onHide:function(a,g,e){var b=this,c,d,f;a=b.getAnimateTarget(a);if(!b.ghost){a=null}if(a){f={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};c=b.ghost();c.el.stopAnimation();d=b.getSize();c.el.animate({to:f,listeners:{afteranimate:function(){delete c.componentLayout.lastComponentSize;c.el.hide();c.el.setSize(d);b.afterHide(g,e)}}})}b.el.hide();if(!a){b.afterHide(g,e)}},afterHide:function(d,c){var a=this,b=Ext.Element.getActiveElement();a.hiddenByLayout=null;Ext.AbstractComponent.prototype.onHide.call(a);if(b===a.el||a.el.contains(b)){Ext.fly(b).blur()}Ext.callback(d,c||a);a.fireEvent('hide',a);a.fireHierarchyEvent('hide')},onDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent)}delete a.focusTask;Ext.AbstractComponent.prototype.onDestroy.call(this)},deleteMembers:function(){var b=arguments,c=b.length,a=0;for(;a<c;++a){delete this[b[a]]}},focus:function(f,c,g,h){var a=this,b,e,d;if(c){if(!a.focusTask){Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(a.focus)}a.focusTask.delay(Ext.isNumber(c)?c:10,null,a,[f,!1,g,h]);return a}if(a.focusTask){a.focusTask.cancel()}if(a.rendered&&!a.isDestroyed&&a.isVisible(!0)&&(b=a.getFocusEl())){if(b.isComponent){return b.focus(f,c)}if(e=b.dom){if(b.needsTabIndex()){e.tabIndex=-1}if(a.floating){d=a.container.dom.scrollTop}b.focus();if(f===!0){e.select()}Ext.callback(g,h)}if(a.floating){a.toFront(!0);if(d!==undefined){a.container.dom.scrollTop=d}}}return a},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},blur:function(){var a;if(this.rendered&&(a=this.getFocusEl())){a.blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(a){a=a||{};var d=a.id||Ext.id(),c=Ext.applyIf(a,this.initialConfig),b;c.id=d;b=Ext.getClass(this);return new b(c)},getXType:function(){return this.self.xtype},findParentBy:function(b){var a;for(a=this.getBubbleTarget();a&&!b(a,this);a=a.getBubbleTarget()){}return a||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(d,b,c){var a=this;while(a){if(d.apply(b||a,c||[a])===!1){break}a=a.getBubbleTarget()}return this},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();a.proxy=a.el.createProxy('x-proxy-el',b,!0)}return a.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){Ext.AbstractComponent.prototype.onAdded.apply(this,arguments);if(this.hierarchyEventSource.hasListeners.added){this.fireHierarchyEvent('added')}}},1,['box','component'],['component','box'],{'component':!0,'box':!0},['widget.box','widget.component'],[['floating',Ext.util.Floating]],[Ext,'Component'],function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})});Ext.cmd.derive('Ext.ElementLoader',Ext.Base,{statics:{Renderer:{Html:function(c,a,b){c.getTarget().update(a.responseText,b.scripts===!0);return !0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(c){var a=this,b;c=c||{};Ext.apply(a,c);a.setTarget(a.target);a.addEvents('beforeload','exception','load');a.mixins.observable.constructor.call(a);if(a.autoLoad){b=a.autoLoad;if(b===!0){b={}}a.load(b)}},setTarget:function(a){var b=this;a=Ext.get(a);if(b.target&&b.target!=a){b.abort()}b.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===!0?null:a)},load:function(b){b=Ext.apply({},b);var a=this,d=Ext.isDefined(b.loadMask)?b.loadMask:a.loadMask,c=Ext.apply({},b.params),e=Ext.apply({},b.ajaxOptions),f=b.callback||a.callback,g=b.scope||a.scope||a;Ext.applyIf(e,a.ajaxOptions);Ext.applyIf(b,e);Ext.applyIf(c,a.params);Ext.apply(c,a.baseParams);Ext.applyIf(b,{url:a.url});Ext.apply(b,{scope:a,params:c,callback:a.onComplete});if(a.fireEvent('beforeload',a,b)===!1){return}if(d){a.addMask(d)}a.active={options:b,mask:d,scope:g,callback:f,success:b.success||a.success,failure:b.failure||a.failure,renderer:b.renderer||a.renderer,scripts:Ext.isDefined(b.scripts)?b.scripts:a.scripts};a.active.request=Ext.Ajax.request(b);a.setOptions(a.active,b)},setOptions:Ext.emptyFn,onComplete:function(d,e,c){var a=this,b=a.active,f;if(b){f=b.scope;if(e){e=a.getRenderer(b.renderer).call(a,a,c,b)!==!1}if(e){Ext.callback(b.success,f,[a,c,d]);a.fireEvent('load',a,c,d)}else {Ext.callback(b.failure,f,[a,c,d]);a.fireEvent('exception',a,c,d)}Ext.callback(b.callback,f,[a,e,c,d]);if(b.mask){a.removeMask()}}delete a.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(b,c){var a=this;a.stopAutoRefresh();a.autoRefresh=setInterval(function(){a.load(c)},b)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext,'ElementLoader'],0);Ext.cmd.derive('Ext.ComponentLoader',Ext.ElementLoader,{statics:{Renderer:{Data:function(c,b,d){var a=!0;try{c.getTarget().update(Ext.decode(b.responseText))}catch(e){a=!1}return a},Component:function(f,d,e){var b=!0,a=f.getTarget(),c=[];try{c=Ext.decode(d.responseText)}catch(g){b=!1}if(b){a.suspendLayouts();if(e.removeAll){a.removeAll()}a.add(c);a.resumeLayouts(!0)}return b}}},target:null,loadMask:!1,renderer:'html',setTarget:function(a){var b=this;if(Ext.isString(a)){a=Ext.getCmp(a)}if(b.target&&b.target!=a){b.abort()}b.target=a},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(b,a){b.removeAll=Ext.isDefined(a.removeAll)?a.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a)){return a}var b=this.statics().Renderer;switch(a){case 'component':return b.Component;case 'data':return b.Data;default:return Ext.ElementLoader.Renderer.Html;}}},0,0,0,0,0,0,[Ext,'ComponentLoader'],0);Ext.cmd.derive('Ext.layout.SizeModel',Ext.Base,{constructor:function(e){var a=this,b=a.self,d=b.sizeModelsArray,c;Ext.apply(a,e);a[c=a.name]=!0;a.fixed=!(a.auto=a.natural||a.shrinkWrap);d[a.ordinal=d.length]=b[c]=b.sizeModels[c]=a},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,'SizeModel'],function(){var a=this,d=a.sizeModelsArray,b,c,f,g,e;new a({name:'calculated'});new a({name:'configured',names:{width:'width',height:'height'}});new a({name:'natural'});new a({name:'shrinkWrap'});new a({name:'calculatedFromConfigured',configured:!0,names:{width:'width',height:'height'}});new a({name:'calculatedFromNatural',natural:!0});new a({name:'calculatedFromShrinkWrap',shrinkWrap:!0});new a({name:'constrainedMax',configured:!0,constrained:!0,names:{width:'maxWidth',height:'maxHeight'}});new a({name:'constrainedMin',configured:!0,constrained:!0,names:{width:'minWidth',height:'minHeight'}});new a({name:'constrainedDock',configured:!0,constrained:!0,constrainedByMin:!0,names:{width:'dockConstrainedWidth',height:'dockConstrainedHeight'}});for(b=0,f=d.length;b<f;++b){e=d[b];e.pairsByHeightOrdinal=g=[];for(c=0;c<f;++c){g.push({width:e,height:d[c]})}}});Ext.cmd.derive('Ext.layout.Layout',Ext.Base,{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,i){var e=Ext.ClassManager,h=this.layoutsByType,g,f,d,b,c,j;if(!a||typeof a==='string'){c=a||i;d={}}else {if(a.isLayout){return a}else {d=a;c=a.type||i}}if(!(b=h[c])){g='layout.'+c;f=e.getNameByAlias(g);if(!f){j=!0}b=e.get(f);if(j||!b){return e.instantiateByAlias(g,d||{})}h[c]=b}return new b(d)}},constructor:function(b){var a=this;a.id=Ext.id(null,a.type+'-');Ext.apply(a,b);a.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(b){var a=this,d=a.context,c;if(a.lastWidthModel!=b.widthModel){if(a.lastWidthModel){c=!0}a.lastWidthModel=b.widthModel}if(a.lastHeightModel!=b.heightModel){if(a.lastWidthModel){c=!0}a.lastHeightModel=b.heightModel}if(c){(d=b.context).clearTriggers(a,!1);d.clearTriggers(a,!0);a.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},isItemBoxParent:function(a){return !1},isItemLayoutRoot:function(d){var a=d.getSizeModel(),c=a.width,b=a.height;if(!d.componentLayout.lastComponentSize&&(c.calculated||b.calculated)){return !1}return !c.shrinkWrap&&!b.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(g,c){var f=g.length,d,a,b,e;if(f){e=[];for(d=0;d<f;++d){a=g[d];if(!a.rendered){if(c&&c[a.id]!==undefined){b=c[a.id]}else {this.configureItem(a);b=a.getRenderTree();if(c){c[a.id]=b}}if(b){e.push(b)}}}}return e},finishRender:Ext.emptyFn,finishRenderItems:function(e,c){var d=c.length,a,b;for(a=0;a<d;a++){b=c[a];if(b.rendering){b.finishRender(a);this.afterRenderItem(b)}}},renderChildren:function(){var a=this,c=a.getLayoutItems(),b=a.getRenderTarget();a.renderItems(c,b)},renderItems:function(e,d){var c=this,f=e.length,b=0,a;if(f){Ext.suspendLayouts();for(;b<f;b++){a=e[b];if(a&&!a.rendered){c.renderItem(a,d,b)}else {if(!c.isValidParent(a,d,b)){c.moveItem(a,d,b)}else {c.configureItem(a)}}}Ext.resumeLayouts(!0)}},isValidParent:function(f,e,b){var a=f.el?f.el.dom:Ext.getDom(f),d=e&&e.dom||e,g=a.parentNode,c;if(g){c=g.className;if(c&&c.indexOf('x-resizable-wrap')!==-1){a=a.parentNode}}if(a&&d){if(typeof b=='number'){b=this.getPositionOffset(b);return a===d.childNodes[b]}return a.parentNode===d}return !1},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,d,c){var b=this;if(!a.rendered){b.configureItem(a);a.render(d,c);b.afterRenderItem(a)}},moveItem:function(c,a,b){a=a.dom||a;if(typeof b=='number'){b=a.childNodes[b]}a.insertBefore(c.el.dom,b||null);c.container=Ext.get(a);this.configureItem(c)},onContentChange:function(){this.owner.updateLayout();return !0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return []},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(b){var d=this,e=b.el,c=d.owner,a;if(b.rendered){a=[].concat(d.itemCls||[]);if(c.itemCls){a=Ext.Array.push(a,c.itemCls)}if(a.length){e.removeCls(a)}}delete b.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(b,d){for(var a=0,c=b.length;a<c;++a){b[a].$i=a}Ext.Array.sort(b,function(c,e){var a=e.weight-c.weight;if(!a){a=c.$i-e.$i;if(c[d]){a=-a}}return a});for(a=0;a<c;++a){delete b[a].$i}}},1,0,0,0,0,0,[Ext.layout,'Layout'],function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.cmd.derive('Ext.layout.container.Container',Ext.layout.Layout,{alternateClassName:'Ext.layout.ContainerLayout',type:'container',beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:['overflowPadderEl'],renderTpl:['{%this.renderBody(out,values)%}'],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){Ext.layout.Layout.prototype.destroy.call(this);this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);a.targetContext=a.paddingContext=a.getEl('getTarget',this);this.cacheChildItems(a)},beginLayoutCycle:function(a,c){var b=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(c){if(b.usesContainerHeight){++a.consumersContainerHeight}if(b.usesContainerWidth){++a.consumersContainerWidth}}},cacheChildItems:function(b){var e=b.context,d=[],c=this.getVisibleItems(),f=c.length,a;b.childItems=d;b.visibleItems=c;for(a=0;a<f;++a){d.push(e.getCmp(c[a]))}},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},configureItem:function(e){var c=this,b=c.itemCls,d=c.owner.itemCls,a;e.ownerLayout=c;if(b){a=typeof b==='string'?[b]:b}if(d){a=Ext.Array.push(a||[],d)}if(a){e.addCls(a)}},doRenderBody:function(b,a){this.renderItems(b,a);this.renderContent(b,a)},doRenderContainer:function(d,b){var a=b.$comp.layout,e=a.getRenderTpl(),c=a.getRenderData();e.applyOut(c,d)},doRenderItems:function(c,b){var d=b.$layout,a=d.getRenderTree();if(a){Ext.DomHelper.generateMarkup(a,c)}},finishRender:function(){var a=this,b,c;Ext.layout.Layout.prototype.finishRender.call(this);a.cacheElements();b=a.getRenderTarget();c=a.getLayoutItems();a.finishRenderItems(b,c)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(d,k){var c=d.targetContext,i=c.getFrameInfo(),j=d.paddingContext.getPaddingInfo(),f=0,e=0,h,g,b,a;if(!d.widthModel.shrinkWrap){++e;b=k?c.getDomProp('width'):c.getProp('width');h=typeof b=='number';if(h){++f;b-=i.width+j.width;if(b<0){b=0}}}if(!d.heightModel.shrinkWrap){++e;a=k?c.getDomProp('height'):c.getProp('height');g=typeof a=='number';if(g){++f;a-=i.height+j.height;if(a<0){a=0}}}return {width:b,height:a,needed:e,got:f,gotAll:f==e,gotWidth:h,gotHeight:g}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;if(b){a+=b}}return a},getLayoutItems:function(){var b=this.owner,a=b&&b.items;return a&&a.items||[]},getRenderData:function(){var a=this.owner;return {$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var c=this,f=c.getRenderTarget(),e=c.getLayoutItems(),g=e.length,d=[],a,b;for(a=0;a<g;a++){b=e[a];if(b.rendered&&c.isValidParent(b,f,a)){d.push(b)}}return d},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var b=this,a=Ext.XTemplate.getTpl(this,'renderTpl');if(!a.renderContent){b.owner.setupRenderTpl(a)}return a},getRenderTree:function(){var b,c=this.owner.items,a,d={};do{a=c.generation;b=this.getItemsRenderTree(this.getLayoutItems(),d)}while(c.generation!==a);return b},renderChildren:function(){var a=this,b=a.owner.items,e=a.getRenderTarget(),c,d;do{c=b.generation;d=a.getLayoutItems();a.renderItems(d,e)}while(b.generation!==c)},getScrollbarsNeeded:function(d,b,h,e){var c=Ext.getScrollbarSize(),i=typeof d=='number',f=typeof b=='number',g=0,a=0;if(!c.width){return 0}if(f&&b<e){a=2;d-=c.width}if(i&&d<h){g=1;if(!a&&f){b-=c.height;if(b<e){a=2}}}return a+g},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e=this.getRenderTarget(),d=this.getLayoutItems(),f=d.length,c=[],b,a;for(b=0;b<f;b++){a=d[b];if(a.rendered&&this.isValidParent(a,e,b)&&a.hidden!==!0){c.push(a)}}return c},setupRenderTpl:function(a){var b=this;a.renderBody=b.doRenderBody;a.renderContainer=b.doRenderContainer;a.renderItems=b.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}},1,0,0,0,['layout.container'],[['elementCt',Ext.util.ElementContainer]],[Ext.layout.container,'Container',Ext.layout,'ContainerLayout'],0);Ext.cmd.derive('Ext.layout.container.Auto',Ext.layout.container.Container,{type:'autocontainer',childEls:['outerCt','innerCt','clearEl'],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:['{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}','<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">','{%this.renderBody(out,values)%}','</div>','</span>','{% } else if (values.shrinkWrapWidth) { %}','<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">','<tr>','<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">','{%this.renderBody(out,values)%}','<div id="{ownerId}-clearEl" class="','x-','clear"','role="presentation"></div>','</td>','</tr>','</table>','{% } else { %}','<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">','{%this.renderBody(out,values)%}','<div id="{ownerId}-clearEl" class="','x-','clear"','role="presentation"></div>','</div>','</div>','{% values.$layout.isShrinkWrapTpl = false %}','{% } %}'],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">','<tr>','<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">','</td>','</tr>','</table>'],isShrinkWrapTpl:!0,beginLayout:function(b){var a=this,e,d,c,f;Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);a.initContextItems(b);if(!a.isShrinkWrapTpl){if(b.widthModel.shrinkWrap){f=!0}if(Ext.isStrict&&Ext.isIE7){c=a.getOverflowXStyle(b);if((c==='auto'||c==='scroll')&&b.paddingContext.getPaddingInfo().right){f=!0}}if(f){a.insertTableCt(b)}}if(!a.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!a.clearElHasPadding){e=b.paddingContext.getPaddingInfo().bottom;d=a.getOverflowYStyle(b);if(e&&(d==='auto'||d==='scroll')){a.clearEl.setStyle('height',e);a.clearElHasPadding=!0}}},beforeLayoutCycle:function(d){var a=this.owner,c=a.hierarchyState,b=a.hierarchyStateInner;if(!c||c.invalid){c=a.getHierarchyState();b=a.hierarchyStateInner}if(d.widthModel.shrinkWrap&&this.isShrinkWrapTpl){b.inShrinkWrapTable=!0}else {delete b.inShrinkWrapTable}},beginLayoutCycle:function(e){var a=this,h=a.outerCt,n=a.lastOuterCtWidth||'',m=a.lastOuterCtHeight||'',l=a.lastOuterCtTableLayout||'',k=e.state,f,g,d,c,b,j,i;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);d=c=b='';if(!e.widthModel.shrinkWrap&&a.isShrinkWrapTpl){if(Ext.isIE7m&&Ext.isStrict){g=a.getOverflowYStyle(e);if(g==='auto'||g==='scroll'){j=!0}}if(!j){d='100%'}i=a.owner.hierarchyStateInner;f=a.getOverflowXStyle(e);b=i.inShrinkWrapTable||f==='auto'||f==='scroll'?'':'fixed'}if(!e.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){c='100%'}if(d!==n||a.hasOuterCtPxWidth){h.setStyle('width',d);a.lastOuterCtWidth=d;a.hasOuterCtPxWidth=!1}if(b!==l){h.setStyle('table-layout',b);a.lastOuterCtTableLayout=b}if(c!==m||a.hasOuterCtPxHeight){h.setStyle('height',c);a.lastOuterCtHeight=c;a.hasOuterCtPxHeight=!1}if(a.hasInnerCtPxHeight){a.innerCt.setStyle('height','');a.hasInnerCtPxHeight=!1}k.overflowAdjust=k.overflowAdjust||a.lastOverflowAdjust},calculate:function(b){var a=this,d=b.state,c=a.getContainerSize(b,!0),e=d.calculatedItems||(d.calculatedItems=a.calculateItems?a.calculateItems(b,c):!0);a.setCtSizeIfNeeded(b,c);if(e&&b.hasDomProp('containerChildrenSizeDone')){a.calculateContentSize(b);if(c.gotAll){if(a.manageOverflow&&!b.state.secondPass&&!a.reserveScrollbar){a.calculateOverflow(b,c)}return}}a.done=!1},calculateContentSize:function(a){var b=this,f=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=f&1||undefined,c=f&2||undefined,e=0,g=a.props;if(d){if(isNaN(g.contentWidth)){++e}else {d=undefined}}if(c){if(isNaN(g.contentHeight)){++e}else {c=undefined}}if(e){if(d&&!a.setContentWidth(b.measureContentWidth(a))){b.done=!1}if(c&&!a.setContentHeight(b.measureContentHeight(a))){b.done=!1}}},calculateOverflow:function(d){var c=this,g,f,e,a,h,i,b;h=c.getOverflowXStyle(d)==='auto';i=c.getOverflowYStyle(d)==='auto';if(h||i){e=Ext.getScrollbarSize();b=d.overflowContext.el.dom;a=0;if(b.scrollWidth>b.clientWidth){a|=1}if(b.scrollHeight>b.clientHeight){a|=2}g=i&&a&2?e.width:0;f=h&&a&1?e.height:0;if(g!==c.lastOverflowAdjust.width||f!==c.lastOverflowAdjust.height){c.done=!1;d.invalidate({state:{overflowAdjust:{width:g,height:f},overflowState:a,secondPass:!0}})}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadding:function(d,b){var e=b.$layout,a=b.$layout.owner,c=a[a.contentPaddingProperty];if(e.managePadding&&c){d.push('padding:',a.unitizeBox(c))}},finishedLayout:function(b){var a=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);if(Ext.isIEQuirks||Ext.isIE8m){a.repaint()}if(Ext.isOpera){a.setStyle('position','relative');a.dom.scrollWidth;a.setStyle('position','')}},getContainerSize:function(c,d){var b=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),a=c.state.overflowAdjust;if(a){b.width-=a.width;b.height-=a.height}return b},getRenderData:function(){var a=this.owner,b=Ext.layout.container.Container.prototype.getRenderData.call(this);if((Ext.isIEQuirks||Ext.isIE7m)&&(a.shrinkWrap&1||a.floating&&!a.width)){b.shrinkWrapWidth=!0}return b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle('overflow-x'))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle('overflow-y'))},initContextItems:function(a){var b=this,d=a.target,c=b.owner.customOverflowEl;a.outerCtContext=a.getEl('outerCt',b);a.innerCtContext=a.getEl('innerCt',b);if(c){a.overflowContext=a.getEl(c)}else {a.overflowContext=a.targetContext}if(d[d.contentPaddingProperty]!==undefined){a.paddingContext=b.isShrinkWrapTpl?a.innerCtContext:a.outerCtContext}},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width,c=a.owner;Ext.layout.container.Container.prototype.initLayout.call(this);if(b&&a.manageOverflow&&!a.hasOwnProperty('lastOverflowAdjust')){if(c.autoScroll||a.reserveScrollbar){a.lastOverflowAdjust={width:b,height:0}}}},insertTableCt:function(b){var a=this,h=a.owner,i=0,d,e,c,g,f;d=Ext.XTemplate.getTpl(this,'tableTpl');d.renderPadding=a.doRenderPadding;a.outerCt.dom.removeChild(a.innerCt.dom);e=document.createDocumentFragment();c=a.innerCt.dom.childNodes;g=c.length;for(;i<g;i++){e.appendChild(c[0])}f=a.getTarget();f.dom.innerHTML=d.apply({$layout:a,ownerId:a.owner.id});f.down('td').dom.appendChild(e);a.applyChildEls(h.el,h.id);a.isShrinkWrapTpl=!0;b.removeEl(a.outerCt);b.removeEl(a.innerCt);a.initContextItems(b)},measureContentHeight:function(b){var a=this.outerCt.getHeight(),c=b.target;if(this.managePadding&&c[c.contentPaddingProperty]===undefined){a+=b.targetContext.getPaddingInfo().height}return a},measureContentWidth:function(f){var d,a,e,b,c;if(this.chromeCellMeasureBug){d=this.innerCt.dom;a=d.style;e=a.display;if(e=='table-cell'){a.display='';d.offsetWidth;a.display=e}}b=this.outerCt.getWidth();c=f.target;if(this.managePadding&&c[c.contentPaddingProperty]===undefined){b+=f.targetContext.getPaddingInfo().width}return b},setCtSizeIfNeeded:function(a,n){var b=this,l=n.width,d=n.height,k=a.paddingContext.getPaddingInfo(),c=b.getTarget(),i=b.getOverflowXStyle(a),j=b.getOverflowYStyle(a),p=i==='auto'||i==='scroll',q=j==='auto'||j==='scroll',o=Ext.getScrollbarSize(),e=b.isShrinkWrapTpl,r=b.manageOverflow,f,h,g,m;if(l&&!a.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&e&&q||Ext.isIEQuirks&&!e&&!p)){if(!r){if(q&&c.dom.scrollHeight>c.dom.clientHeight){l-=o.width}}a.outerCtContext.setProp('width',l+k.width);b.hasOuterCtPxWidth=!0}if(d&&!a.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){h=!0}if(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&e){g=!0;m=!Ext.isIE8}if((h||g)&&p&&c.dom.scrollWidth>c.dom.clientWidth){d=Math.max(d-o.height,0)}if(h){a.outerCtContext.setProp('height',d+k.height);b.hasOuterCtPxHeight=!0}if(g){if(m){d+=k.height}a.innerCtContext.setProp('height',d);b.hasInnerCtPxHeight=!0}}if(Ext.isIE7&&Ext.isStrict&&!e&&j==='auto'){f=i==='auto'?'overflow-x':'overflow-y';c.setStyle(f,'hidden');c.setStyle(f,'auto')}},setupRenderTpl:function(a){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,['layout.auto','layout.autocontainer'],0,[Ext.layout.container,'Auto'],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.cmd.derive('Ext.ZIndexManager',Ext.Base,{alternateClassName:'Ext.WindowGroup',statics:{zBase:9000},constructor:function(b){var a=this;a.list={};a.zIndexStack=[];a.front=null;if(b){if(b.isContainer){b.on('resize',a._onContainerResize,a);a.zseed=Ext.Number.from(a.rendered?b.getEl().getStyle('zIndex'):undefined,a.getNextZSeed());a.targetEl=b.getTargetEl();a.container=b}else {Ext.EventManager.onWindowResize(a._onContainerResize,a);a.zseed=a.getNextZSeed();a.targetEl=Ext.get(b)}}else {Ext.EventManager.onWindowResize(a._onContainerResize,a);a.zseed=a.getNextZSeed();Ext.onDocumentReady(function(){a.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=10000},setBase:function(a){this.zseed=a;var b=this.assignZIndices();this._activateLast();return b},assignZIndices:function(){var e=this.zIndexStack,f=e.length,d=0,c=this.zseed,a,b;for(;d<f;d++){a=e[d];if(a&&!a.hidden){c=a.setZIndex(c);if(a.modal){b=a}}}if(b){this._showModalMask(b)}return c},_setActiveChild:function(a,b){var c=this.front,d=a.preventFocusOnActivate;if(a!==c){if(c&&!c.destroying){c.setActive(!1,a)}this.front=a;if(a&&a!=b){a.preventFocusOnActivate=a.preventFocusOnActivate||b&&(b.preventFocusOnActivate||!b.focusOnToFront);a.setActive(!0);if(a.modal){this._showModalMask(a)}a.preventFocusOnActivate=d}}},onComponentHide:function(a){this._activateLast()},_activateLast:function(){var a=this,d=a.zIndexStack,c=d.length-1,b;for(;c>=0&&d[c].hidden;--c){}if(b=d[c]){a._setActiveChild(b,a.front);if(b.modal){return}}else {if(a.front&&!a.front.destroying){a.front.setActive(!1)}a.front=null}for(;c>=0;--c){b=d[c];if(b.isVisible()&&b.modal){a._showModalMask(b);return}}a._hideModalMask()},_showModalMask:function(d){var b=this,f=d.el.getStyle('zIndex')-4,g=d.floatParent?d.floatParent.getTargetEl():d.container,a=b.mask,c=b.maskShim,e;if(!a){if(Ext.isIE6){c=b.maskShim=Ext.getBody().createChild({tag:'iframe',cls:'x-shim x-mask-shim'});c.setVisibilityMode(Ext.Element.DISPLAY)}a=b.mask=Ext.getBody().createChild({cls:'x-mask',style:'height:0;width:0'});a.setVisibilityMode(Ext.Element.DISPLAY);a.on('click',b._onMaskClick,b)}a.maskTarget=g;e=b.getMaskBox();if(c){c.setStyle('zIndex',f);c.show();c.setBox(e)}a.setStyle('zIndex',f);a.show();a.setBox(e)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;if(a&&a.isVisible()){a.maskTarget=undefined;a.hide();if(b){b.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},getMaskBox:function(){var a=this.mask.maskTarget;if(a.dom===document.body){return {height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else {return a.getBox()}},_onContainerResize:function(){var d=this,b=d.mask,a=d.maskShim,c;if(b&&b.isVisible()){b.hide();if(a){a.hide()}c=d.getMaskBox();if(a){a.setSize(c);a.show()}b.setSize(c);b.show()}},register:function(a){var b=this,c=a.afterHide;if(a.zIndexManager){a.zIndexManager.unregister(a)}a.zIndexManager=b;b.list[a.id]=a;b.zIndexStack.push(a);a.afterHide=function(){c.apply(a,arguments);b.onComponentHide(a)}},unregister:function(a){var c=this,b=c.list;delete a.zIndexManager;if(b&&b[a.id]){delete b[a.id];delete a.afterHide;Ext.Array.remove(c.zIndexStack,a);c._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a,e){var b=this,d=!1,c=b.zIndexStack;a=b.get(a);if(a!==b.front){Ext.Array.remove(c,a);if(a.preventBringToFront){c.unshift(a)}else {c.push(a)}b.assignZIndices();if(!e){b._activateLast()}d=!0;b.front=a;if(a.modal){b._showModalMask(a)}}return d},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var b=this.list,a,c;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a.isComponent&&a.isVisible()){a.hide()}}}},hide:function(){var b=0,c=this.zIndexStack,d=c.length,a;this.tempHidden=[];for(;b<d;b++){a=c[b];if(a.isVisible()){this.tempHidden.push(a);a.el.hide();a.hidden=!0}}},show:function(){var c=0,b=this.tempHidden,d=b?b.length:0,a;for(;c<d;c++){a=b[c];a.el.show();a.hidden=!1;a.setPosition(a.x,a.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(g,e){var d=[],b=0,c=this.zIndexStack,f=c.length,a;for(;b<f;b++){a=c[b];if(g.call(e||a,a)!==!1){d.push(a)}}return d},each:function(e,d){var b=this.list,c,a;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a.isComponent&&e.call(d||a,a)===!1){return}}}},eachBottomUp:function(f,d){var c=this.zIndexStack,b=0,e=c.length,a;for(;b<e;b++){a=c[b];if(a.isComponent&&f.call(d||a,a)===!1){return}}},eachTopDown:function(e,d){var b=this.zIndexStack,c=b.length,a;for(;c-->0;){a=b[c];if(a.isComponent&&e.call(d||a,a)===!1){return}}},destroy:function(){var a=this,c=a.list,b,d;for(d in c){if(c.hasOwnProperty(d)){b=c[d];if(b.isComponent){b.destroy()}}}delete a.zIndexStack;delete a.list;delete a.container;delete a.targetEl}},1,0,0,0,0,0,[Ext,'ZIndexManager',Ext,'WindowGroup'],function(){Ext.WindowManager=Ext.WindowMgr=new this()});Ext.cmd.derive('Ext.Queryable',Ext.Base,{isQueryable:!0,query:function(a){a=a||'*';return Ext.ComponentQuery.query(a,this)},queryBy:function(g,e){var d=[],c=this.getRefItems(!0),b=0,f=c.length,a;for(;b<f;++b){a=c[b];if(g.call(e||a,a)!==!1){d.push(a)}}return d},queryById:function(a){return this.down('#'+a)},child:function(a){if(a&&a.isComponent){a='#'+Ext.escapeId(a.getItemId())}a=a||'';return this.query('> '+a)[0]||null},down:function(a){if(a&&a.isComponent){a='#'+Ext.escapeId(a.getItemId())}a=a||'';return this.query(a)[0]||null},getRefItems:function(){return []}},0,0,0,0,0,0,[Ext,'Queryable'],0);Ext.cmd.derive('Ext.container.AbstractContainer',Ext.Component,{renderTpl:'{%this.renderContainer(out,values)%}',suspendLayout:!1,autoDestroy:!0,defaultType:'panel',detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:'x-container',defaultLayoutType:'auto',initComponent:function(){var a=this;a.addEvents('afterlayout','beforeadd','beforeremove','add','remove');Ext.Component.prototype.initComponent.call(this);a.getLayout();a.initItems()},initItems:function(){var a=this,b=a.items;a.items=new Ext.util.AbstractMixedCollection(!1,a.getComponentId);a.floatingItems=new Ext.util.MixedCollection(!1,a.getComponentId);if(b){if(!Ext.isArray(b)){b=[b]}a.add(b)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var a=this.getLayout();if(a){a.finishRender()}},beforeRender:function(){var c=this,b=c.getLayout(),a;Ext.Component.prototype.beforeRender.call(this);if(!b.initialized){b.initLayout()}a=b.targetCls;if(a){c.applyTargetCls(a)}},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var c=this.floatingItems.items,d=c.length,b,a;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);for(b=0;b<d;b++){a=c[b];if(!a.rendered&&a.autoShow){a.show()}}},onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},repositionFloatingItems:function(){var c=this.floatingItems.items,d=c.length,b,a;for(b=0;b<d;b++){a=c[b];if(a.el&&!a.hidden){a.setPosition(a.x,a.y)}}},setupRenderTpl:function(a){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.layout=b;b.setOwner(this)},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||a.defaultLayoutType))}return a.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(b){var a=this;++a.layoutCounter;if(a.hasListeners.afterlayout){a.fireEvent('afterlayout',a,b)}},prepareItems:function(a,f){if(Ext.isArray(a)){a=a.slice()}else {a=[a]}var e=this,c=0,d=a.length,b;for(;c<d;c++){b=a[c];if(b==null){Ext.Array.erase(a,c,1);--c;--d}else {if(f){b=this.applyDefaults(b)}b.isContained=e;a[c]=e.lookupComponent(b);delete b.isContained;delete a[c].isContained}}return a},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},lookupComponent:function(a){return typeof a=='string'?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var a=this,e=Ext.Array.slice(arguments),j=typeof e[0]=='number'?e.shift():-1,k=a.getLayout(),i,d,f,g,b,c,h;if(e.length==1&&Ext.isArray(e[0])){d=e[0];i=!0}else {d=e}if(a.rendered){Ext.suspendLayouts()}h=d=a.prepareItems(d,!0);g=d.length;if(!i&&g==1){h=d[0]}for(f=0;f<g;f++){b=d[f];c=j<0?a.items.length:j+f;if(b.floating){a.floatingItems.add(b);b.onAdded(a,c);if(a.hasListeners.add){a.fireEvent('add',a,b,c)}}else {if((!a.hasListeners.beforeadd||a.fireEvent('beforeadd',a,b,c)!==!1)&&a.onBeforeAdd(b)!==!1){a.items.insert(c,b);b.onAdded(a,c);a.onAdd(b,c);k.onAdd(b,c);if(a.hasListeners.add){a.fireEvent('add',a,b,c)}}}}a.updateLayout();if(a.rendered){Ext.resumeLayouts(!0)}return h},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(c,a){var b;if(a&&a.isComponent){b=this.items.indexOf(a);if(b!==-1){return this.move(b,c)}}return this.add(c,a)},move:function(a,d){var c=this.items,b;if(a.isComponent){a=c.indexOf(a)}b=c.removeAt(a);if(b===!1){return !1}c.insert(d,b);this.onMove(b,a,d);this.updateLayout();return b},onMove:Ext.emptyFn,onBeforeAdd:function(a){if(a.ownerCt&&a.ownerCt!==this){a.ownerCt.remove(a,!1)}},remove:function(d,c){var a=this,b=a.getComponent(d);if(b&&(!a.hasListeners.beforeremove||a.fireEvent('beforeremove',a,b)!==!1)){a.doRemove(b,c);if(a.hasListeners.remove){a.fireEvent('remove',a,b)}if(!a.destroying&&!b.floating){a.updateLayout()}}return b},doRemove:function(a,c){c=c===!0||c!==!1&&this.autoDestroy;var b=this,e=b.layout,g=e&&b.rendered,d=a.destroying||c,f=a.floating;if(f){b.floatingItems.remove(a)}else {b.items.remove(a)}if(g&&!f){if(e.running){Ext.AbstractComponent.cancelLayout(a,d)}e.onRemove(a,d)}a.onRemoved(d);b.onRemove(a,d);if(c){a.destroy()}else {if(g&&!f){e.afterRemove(a)}if(b.detachOnRemove&&a.rendered){b.detachComponent(a)}}},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},removeAll:function(g){var a=this,d=a.items.items.slice().concat(a.floatingItems.items),e=[],c=0,f=d.length,b;a.suspendLayouts();for(;c<f;c++){b=d[c];a.remove(b,g);if(b.ownerCt!==a){e.push(b)}}a.resumeLayouts(!!f);return e},getRefItems:function(f){var g=this,d=g.items.items,e=d.length,c=0,b,a=[];for(;c<e;c++){b=d[c];a[a.length]=b;if(f&&b.getRefItems){a.push.apply(a,b.getRefItems(!0))}}d=g.floatingItems.items;e=d.length;for(c=0;c<e;c++){b=d[c];a[a.length]=b;if(f&&b.getRefItems){a.push.apply(a,b.getRefItems(!0))}}return a},cascade:function(g,e,d){var a=this,f=a.items?a.items.items:[],j=f.length,h=0,c,b=d?d.concat(a):[a],i=b.length-1;if(g.apply(e||a,b)!==!1){for(;h<j;h++){c=f[h];if(c.cascade){c.cascade(g,e,d)}else {b[i]=c;g.apply(e||f,b)}}}return this},isAncestor:function(a){while(a){if(a.ownerCt===this){return !0}a=a.ownerCt}},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var b=this.items.get(a);if(!b&&typeof a!='number'){b=this.floatingItems.get(a)}return b},contains:function(a,c){var b=!1;if(c){this.cascade(function(d){if(d.contains&&d.contains(a)){b=!0;return !1}});return b}else {return this.items.contains(a)||this.floatingItems.contains(a)}},nextChild:function(e,d){var a=this,b,c=a.items.indexOf(e);if(c!==-1){b=d?Ext.ComponentQuery(d,a.items.items.slice(c+1)):a.items.getAt(c+1);if(!b&&a.ownerCt){b=a.ownerCt.nextChild(a,d)}}return b},prevChild:function(e,d){var a=this,b,c=a.items.indexOf(e);if(c!==-1){b=d?Ext.ComponentQuery(d,a.items.items.slice(c+1)):a.items.getAt(c+1);if(!b&&a.ownerCt){b=a.ownerCt.nextChild(a,d)}}return b},enable:function(){Ext.Component.prototype.enable.apply(this,arguments);var c=this.getChildItemsToDisable(),d=c.length,b,a;for(a=0;a<d;a++){b=c[a];if(b.resetDisable){b.enable()}}return this},disable:function(){Ext.Component.prototype.disable.apply(this,arguments);var c=this.getChildItemsToDisable(),d=c.length,a,b;for(b=0;b<d;b++){a=c[b];if(a.resetDisable!==!1&&!a.disabled){a.disable();a.resetDisable=!0}}return this},getChildItemsToDisable:function(){return this.query('[isFormField],button')},beforeDestroy:function(){var a=this,d=a.items,c=a.floatingItems,b;if(d){while(b=d.first()){a.doRemove(b,!0)}}if(c){while(b=c.first()){a.doRemove(b,!0)}}Ext.destroy(a.layout);Ext.Component.prototype.beforeDestroy.call(this)}},0,0,['component','box'],{'component':!0,'box':!0},0,[['queryable',Ext.Queryable]],[Ext.container,'AbstractContainer'],0);Ext.cmd.derive('Ext.container.Container',Ext.container.AbstractContainer,{alternateClassName:'Ext.Container',getChildByElement:function(b,e){var a,c,d=0,f=this.getRefItems(),g=f.length;b=Ext.getDom(b);for(;d<g;d++){a=f[d];c=a.getEl();if(c&&(c.dom===b||c.contains(b))){return e&&a.getChildByElement?a.getChildByElement(b,e):a}}return null}},0,['container'],['component','box','container'],{'component':!0,'box':!0,'container':!0},['widget.container'],0,[Ext.container,'Container',Ext,'Container'],0);Ext.cmd.derive('Ext.util.KeyMap',Ext.Base,{alternateClassName:'Ext.KeyMap',eventName:'keydown',constructor:function(b){var a=this;if(arguments.length!==1||typeof b==='string'||b.dom||b.tagName||b===document||b.isComponent){a.legacyConstructor.apply(a,arguments);return}Ext.apply(a,b);a.bindings=[];if(!a.target.isComponent){a.target=Ext.get(a.target)}if(a.binding){a.addBinding(a.binding)}else {if(b.key){a.addBinding(b)}}a.enable()},legacyConstructor:function(d,b,c){var a=this;Ext.apply(a,{target:Ext.get(d),eventName:c||a.eventName,bindings:[]});if(b){a.addBinding(b)}a.enable()},addBinding:function(a){var b=this,e=a.key,c,d;if(b.processing){b.bindings=bindings.slice(0)}if(Ext.isArray(a)){for(c=0,d=a.length;c<d;c++){b.addBinding(a[c])}return}b.bindings.push(Ext.apply({keyCode:b.processKeys(e)},a))},removeBinding:function(b){var c=this,e=c.bindings,g=e.length,d,a,f;if(c.processing){c.bindings=e.slice(0)}f=c.processKeys(b.key);for(d=0;d<g;++d){a=e[d];if(a.fn===b.fn&&a.scope===b.scope){if(b.alt==a.alt&&b.crtl==a.crtl&&b.shift==a.shift){if(Ext.Array.equals(a.keyCode,f)){Ext.Array.erase(c.bindings,d,1);return}}}}},processKeys:function(a){var g=!1,f,e,d,c,b;if(Ext.isString(a)){e=[];d=a.toUpperCase();for(b=0,c=d.length;b<c;++b){e.push(d.charCodeAt(b))}a=e;g=!0}if(!Ext.isArray(a)){a=[a]}if(!g){for(b=0,c=a.length;b<c;++b){f=a[b];if(Ext.isString(f)){a[b]=f.toUpperCase().charCodeAt(0)}}}return a},handleTargetEvent:function(){var a=/input|textarea/i;return function(c){var b=this,f,d,h,g,e;if(b.enabled){f=b.bindings;d=0;h=f.length;c=b.processEvent.apply(b||b.processEventScope,arguments);if(b.ignoreInputFields){g=c.target;e=g.contentEditable;if(a.test(g.tagName)||(e===''||e==='true')){return}}if(!c.getKey){return c}b.processing=!0;for(;d<h;++d){b.processBinding(f[d],c)}b.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var f=b.getKey(),i=a.fn||a.handler,j=a.scope||this,e=a.keyCode,d=a.defaultEventAction,c,g,h=new Ext.EventObjectImpl(b);for(c=0,g=e.length;c<g;++c){if(f===e[c]){if(i.call(j,f,b)!==!0&&d){h[d]()}break}}}},checkModifiers:function(e,g){var d=['shift','ctrl','alt'],c=0,f=d.length,b,a;for(;c<f;++c){a=d[c];b=e[a];if(!(b===undefined||b===g[a+'Key'])){return !1}}return !0},on:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else {b=a}this.addBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},un:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else {b=a}this.removeBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=!0}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=!1}},setDisabled:function(a){if(a){this.disable()}else {this.enable()}},destroy:function(c){var a=this,b=a.target;a.bindings=[];a.disable();if(c===!0){if(b.isComponent){b.destroy()}else {b.remove()}}delete a.target}},1,0,0,0,0,0,[Ext.util,'KeyMap',Ext,'KeyMap'],0);Ext.cmd.derive('Ext.util.KeyNav',Ext.Base,{alternateClassName:'Ext.KeyNav',statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(b){var a=this;if(arguments.length===2){a.legacyConstructor.apply(a,arguments);return}a.setConfig(b)},legacyConstructor:function(b,a){this.setConfig(Ext.apply({target:b},a))},setConfig:function(a){var b=this,g={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:b.getKeyEvent('forceKeyDown' in a?a.forceKeyDown:b.forceKeyDown,a.eventName)},d,e,h,f,c;if(b.map){b.map.destroy()}if(a.processEvent){g.processEvent=a.processEvent;g.processEventScope=a.processEventScope||b}if(a.keyMap){d=b.map=a.keyMap}else {d=b.map=new Ext.util.KeyMap(g);b.destroyKeyMap=!0}e=Ext.util.KeyNav.keyOptions;h=a.scope||b;for(f in e){if(e.hasOwnProperty(f)){if(c=a[f]){if(typeof c==='function'){c={handler:c,defaultEventAction:a.defaultEventAction!==undefined?a.defaultEventAction:b.defaultEventAction}}d.addBinding({key:e[f],handler:Ext.Function.bind(b.handleEvent,c.scope||h,c.handler||c.fn,!0),defaultEventAction:c.defaultEventAction!==undefined?c.defaultEventAction:b.defaultEventAction})}}}d.disable();if(!a.disabled){d.enable()}},handleEvent:function(c,b,a){return a.call(this,b)},disabled:!1,defaultEventAction:'stopEvent',forceKeyDown:!1,eventName:'keypress',destroy:function(a){if(this.destroyKeyMap){this.map.destroy(a)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=!1}},disable:function(){if(this.map){this.map.disable()}this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(b,a){if(b||Ext.EventManager.useKeyDown&&!a){return 'keydown'}else {return a||this.eventName}}},1,0,0,0,0,0,[Ext.util,'KeyNav',Ext,'KeyNav'],0);Ext.cmd.derive('Ext.FocusManager',Ext.Base,{singleton:!0,alternateClassName:['Ext.FocusMgr'],enabled:!1,focusElementCls:'x-focus-element',focusFrameCls:'x-focus-frame',whitelist:['textfield'],constructor:function(b){var a=this,c=Ext.ComponentQuery;a.mixins.observable.constructor.call(a,b);a.addEvents('beforecomponentfocus','componentfocus','disable','enable');a.focusTask=new Ext.util.DelayedTask(a.handleComponentFocus,a);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(a.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);a.onComponentFocus.apply(a,arguments)}},onBlur:function(){this.callParent(arguments);if(a.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);a.onComponentBlur.apply(a,arguments)}},onDestroy:function(){this.callParent(arguments);if(a.enabled){Array.prototype.unshift.call(arguments,this);a.onComponentDestroy.apply(a,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(a.enabled){Array.prototype.unshift.call(arguments,this);a.onComponentHide.apply(a,arguments)}}});a.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:a,backspace:a.focusLast,enter:a.navigateIn,esc:a.navigateOut,tab:a.navigateSiblings,space:a.navigateIn,del:a.focusLast,left:a.navigateSiblings,right:a.navigateSiblings,down:a.navigateSiblings,up:a.navigateSiblings});a.focusData={};a.subscribers=new Ext.util.HashMap();a.focusChain={};Ext.apply(c.pseudos,{nextFocus:function(e,c,d){d=d||1;c=parseInt(c,10);var f=e.length,a=c,g;for(;;){if((a+=d)>=f){a=0}else {if(a<0){a=f-1}}if(a===c){return []}if((g=e[a]).isFocusable()){return [g]}}return []},prevFocus:function(a,c){return this.nextFocus(a,c,-1)},root:function(e){var f=e.length,d=[],c=0,a;for(;c<f;c++){a=e[c];if(!a.ownerCt){d.push(a)}}return d}})},addXTypeToWhitelist:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.forEach(a,b.addXTypeToWhitelist,b);return}if(!Ext.Array.contains(b.whitelist,a)){b.whitelist.push(a)}},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);if(!a.isDestroyed){a.blur()}},disable:function(){var a=this;if(!a.enabled){return}delete a.options;a.enabled=!1;a.removeDOM();a.keyNav.disable();a.fireEvent('disable',a)},enable:function(b){var a=this;if(b===!0){b={focusFrame:!0}}a.options=b=b||{};if(a.enabled){return}a.enabled=!0;a.initDOM(b);a.keyNav.enable();a.focusEl.focus();delete a.focusedCmp;a.fireEvent('enable',a)},focusLast:function(b){var a=this;if(a.isWhitelisted(a.focusedCmp)){return !0}if(a.previousFocusedCmp){a.previousFocusedCmp.focus()}},getRootComponents:function(){var b=Ext.ComponentQuery,c=b.query(':focusable:root:not([floating])'),a=b.query(':focusable:root[floating]');a.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return a.concat(c)},initDOM:function(e){var a=this,b=a.focusFrameCls,d=Ext.ComponentQuery.query('{getFocusEl()}:not([focusListenerAdded])'),c=0,f=d.length;if(!Ext.isReady){return Ext.onReady(a.initDOM,a)}for(;c<f;c++){d[c].addFocusListener()}if(!a.focusEl){a.focusEl=Ext.getBody();a.focusEl.dom.tabIndex=-1}if(!a.focusFrame&&e.focusFrame){a.focusFrame=Ext.getBody().createChild({cls:b,children:[{cls:b+'-top'},{cls:b+'-bottom'},{cls:b+'-left'},{cls:b+'-right'}],style:'top: -100px; left: -100px;'});a.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);a.focusFrame.hide().setLocalXY(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(e){var b=this,a=b.focusedCmp,c,d;if(b.isWhitelisted(a)){return !0}if(!a){c=b.getRootComponents()[0];if(c){if(c.getFocusEl()===b.focusEl){b.focusEl.blur()}c.focus()}}else {d=a.hasFocus?Ext.ComponentQuery.query('>:focusable',a)[0]:a;if(d){d.focus()}else {if(Ext.isFunction(a.onClick)){e.button=0;a.onClick(e);if(a.isVisible(!0)){a.focus()}else {b.navigateOut()}}}}},navigateOut:function(c){var a=this,b;if(!a.focusedCmp||!(b=a.focusedCmp.up(':focusable'))){a.focusEl.focus()}else {b.focus()}return !0},navigateSiblings:function(j,n,e){var h=this,g=n||h,b=j.getKey(),c=Ext.EventObject,m=j.shiftKey||b==c.LEFT||b==c.UP,k=b==c.LEFT||b==c.RIGHT||b==c.UP||b==c.DOWN,l=m?'prev':'next',i,f,a,d;a=g.focusedCmp&&g.focusedCmp.comp||g.focusedCmp;if(!a&&!e){return !0}if(k&&h.isWhitelisted(a)){return !0}if(!a||a.is(':root')){d=h.getRootComponents()}else {e=e||a.up();if(e){d=e.getRefItems()}}if(d){i=a?Ext.Array.indexOf(d,a):-1;f=Ext.ComponentQuery.query(':'+l+'Focus('+i+')',d)[0];if(f&&a!==f){f.focus();return f}}},onComponentBlur:function(b,c){var a=this;if(a.focusedCmp===b){a.previousFocusedCmp=b;delete a.focusedCmp}if(a.focusFrame){a.focusFrame.hide()}},onComponentFocus:function(a,e){var b=this,d=b.focusChain,c;if(!a.isFocusable()){b.clearComponent(a);if(d[a.id]){return}c=a.up();if(c){d[a.id]=!0;c.focus()}return}b.focusChain={};b.focusTask.delay(10,null,null,[a,a.getFocusEl()])},handleComponentFocus:function(e,j){var a=this,d,b,c,g,f,i,h,n,k,l,m;if(a.fireEvent('beforecomponentfocus',a,e,a.previousFocusedCmp)===!1){a.clearComponent(e);return}a.focusedCmp=e;if(a.shouldShowFocusFrame(e)){d='.'+a.focusFrameCls+'-';b=a.focusFrame;c=(j.dom?j:j.el).getBox();g=c.top;f=c.left;i=c.width;h=c.height;n=b.child(d+'top');k=b.child(d+'bottom');l=b.child(d+'left');m=b.child(d+'right');n.setWidth(i).setLocalXY(f,g);k.setWidth(i).setLocalXY(f,g+h-2);l.setHeight(h-2).setLocalXY(f,g+2);m.setHeight(h-2).setLocalXY(f+i-2,g+2);b.show()}a.fireEvent('componentfocus',a,e,a.previousFocusedCmp)},onComponentHide:function(a){var b=this,c=!1,e=b.focusedCmp,d;if(e){c=a.hasFocus||a.isContainer&&a.isAncestor(b.focusedCmp)}b.clearComponent(a);if(c&&(d=a.up(':focusable'))){d.focus()}else {b.focusEl.focus()}},onComponentDestroy:function(){},removeDOM:function(){var a=this;if(a.enabled||a.subscribers.length){return}Ext.destroy(a.focusFrame);delete a.focusEl;delete a.focusFrame},removeXTypeFromWhitelist:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.forEach(a,b.removeXTypeFromWhitelist,b);return}Ext.Array.remove(b.whitelist,a)},setupSubscriberKeys:function(b,d){var a=this,g=b.getFocusEl(),f=d.scope,c={backspace:a.focusLast,enter:a.navigateIn,esc:a.navigateOut,scope:a},e=function(c){if(a.focusedCmp===b){return a.navigateSiblings(c,a,b)}else {return a.navigateSiblings(c)}};Ext.iterate(d,function(g,a){c[g]=function(h){var c=e(h);if(Ext.isFunction(a)&&a.call(f||b,h,c)===!0){return !0}return c}},a);return new Ext.util.KeyNav(g,c)},shouldShowFocusFrame:function(b){var a=this,c=a.options||{};if(!a.focusFrame||!b){return !1}if(c.focusFrame){return !0}if(a.focusData[b.id].focusFrame){return !0}return !1}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext,'FocusManager',Ext,'FocusMgr'],0);Ext.cmd.derive('Ext.Img',Ext.Component,{autoEl:'img',baseCls:'x-img',src:'',alt:'',title:'',imgCls:'',initComponent:function(){if(this.glyph){this.autoEl='div'}Ext.Component.prototype.initComponent.call(this)},getElConfig:function(){var a=this,c=Ext.Component.prototype.getElConfig.call(this),e=Ext._glyphFontFamily,d=a.glyph,b,f;if(a.autoEl=='img'){b=c}else {if(a.glyph){if(typeof d==='string'){f=d.split('@');d=f[0];e=f[1]}c.html='&#'+d+';';if(e){c.style='font-family:'+e}}else {c.cn=[b={tag:'img',id:a.id+'-img'}]}}if(b){if(a.imgCls){b.cls=(b.cls?b.cls+' ':'')+a.imgCls}b.src=a.src||Ext.BLANK_IMAGE_URL}if(a.alt){(b||c).alt=a.alt}if(a.title){(b||c).title=a.title}return c},onRender:function(){var a=this,b;Ext.Component.prototype.onRender.apply(this,arguments);b=a.el;a.imgEl=a.autoEl=='img'?b:b.getById(a.id+'-img')},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;Ext.Component.prototype.onDestroy.call(this)},setSrc:function(b){var c=this,a=c.imgEl;c.src=b;if(a){a.dom.src=b||Ext.BLANK_IMAGE_URL}},setGlyph:function(a){var e=this,b=Ext._glyphFontFamily,c,d;if(a!=e.glyph){if(typeof a==='string'){c=a.split('@');a=c[0];b=c[1]}d=e.el.dom;d.innerHTML='&#'+a+';';if(b){d.style='font-family:'+b}}}},0,['image','imagecomponent'],['component','box','image','imagecomponent'],{'component':!0,'box':!0,'image':!0,'imagecomponent':!0},['widget.image','widget.imagecomponent'],0,[Ext,'Img'],0);Ext.cmd.derive('Ext.util.Bindable',Ext.Base,{bindStore:function(a,e,c){c=c||'store';var b=this,d=b[c];if(!e&&d){b.onUnbindStore(d,e,c);if(a!==d&&d.autoDestroy){d.destroyStore()}else {b.unbindStoreListeners(d)}}if(a){a=Ext.data.StoreManager.lookup(a);b.bindStoreListeners(a);b.onBindStore(a,e,c)}b[c]=a||null;return b},getStore:function(){return this.store},unbindStoreListeners:function(b){var a=this.storeListeners;if(a){b.un(a)}},bindStoreListeners:function(c){var b=this,a=Ext.apply({},b.getStoreListeners(c));if(!a.scope){a.scope=b}b.storeListeners=a;c.on(a)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,'Bindable'],0);Ext.cmd.derive('Ext.LoadMask',Ext.Component,{msg:'Loading...',msgCls:'x-mask-loading',maskCls:'x-mask',useMsg:!0,useTargetEl:!1,baseCls:'x-mask-msg',childEls:['msgEl','msgTextEl'],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ','x-','mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="','x-','mask-msg-text','{childElCls}"></div>','</div>'],floating:{shadow:'frame'},focusOnToFront:!1,bringParentToFront:!1,constructor:function(c){var b=this,a;if(arguments.length===2){a=c;c=arguments[1]}else {a=c.target}if(!a.isComponent){a=Ext.get(a);this.isElement=!0}b.ownerCt=a;if(!this.isElement){b.bindComponent(a)}Ext.Component.prototype.constructor.call(this,c);if(b.store){b.bindStore(b.store,!0)}},bindComponent:function(b){var a=this,c={scope:this,resize:a.sizeMask,added:a.onComponentAdded,removed:a.onComponentRemoved};if(b.floating){c.move=a.sizeMask;a.activeOwner=b}else {if(b.ownerCt){a.onComponentAdded(b.ownerCt)}else {a.preventBringToFront=!0}}a.mon(b,c);a.mon(a.hierarchyEventSource,{show:a.onContainerShow,hide:a.onContainerHide,expand:a.onContainerExpand,collapse:a.onContainerCollapse,scope:a})},onComponentAdded:function(b){var a=this;delete a.activeOwner;a.floatParent=b;if(!b.floating){b=b.up('[floating]')}if(b){a.activeOwner=b;a.mon(b,'move',a.sizeMask,a)}else {a.preventBringToFront=!0}b=a.floatParent.ownerCt;if(a.rendered&&a.isVisible()&&b){a.floatOwner=b;a.mon(b,'afterlayout',a.sizeMask,a,{single:!0})}},onComponentRemoved:function(d){var a=this,b=a.activeOwner,c=a.floatOwner;if(b){a.mun(b,'move',a.sizeMask,a)}if(c){a.mun(c,'afterlayout',a.sizeMask,a)}delete a.activeOwner;delete a.floatOwner},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerHide:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},onContainerExpand:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerCollapse:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=!0}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var a=this,b;if(a.rendered&&a.isVisible()){a.center();b=a.getMaskTarget();a.getMaskEl().show().setSize(b.getSize()).alignTo(b,'tl-tl')}},bindStore:function(b,c){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);b=a.store;if(b&&b.isLoading()){a.onBeforeLoad()}},getStoreListeners:function(d){var c=this.onLoad,b=this.onBeforeLoad,a={cachemiss:b,cachefilled:c};if(!d.proxy.isSynchronous){a.beforeLoad=b;a.load=c}return a},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var b=this,a=b.getOwner(),c;if(!b.disabled){b.loading=!0;if(a.componentLayoutCounter){b.maybeShow()}else {c=a.afterComponentLayout;a.afterComponentLayout=function(){a.afterComponentLayout=c;c.apply(a,arguments);b.maybeShow()}}}},maybeShow:function(){var a=this,b=a.getOwner();if(!b.isVisible(!0)){a.showNext=!0}else {if(a.loading&&b.rendered){a.show()}}},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle('zIndex')-2}},'before'))},onShow:function(){var a=this,b=a.msgEl;Ext.Component.prototype.onShow.apply(this,arguments);a.loading=!0;if(a.useMsg){b.show();a.msgTextEl.update(a.msg)}else {b.parent().hide()}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent('hide',this);return}delete this.showNext;return Ext.Component.prototype.hide.apply(this,arguments)},onHide:function(){Ext.Component.prototype.onHide.call(this);this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:'',this.msgCls);this.fireEvent('show',this);return}return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){Ext.Component.prototype.afterShow.apply(this,arguments);this.sizeMask()},setZIndex:function(b){var a=this,c=a.activeOwner;if(c){b=parseInt(c.el.getStyle('zIndex'),10)+1}a.getMaskEl().setStyle('zIndex',b-1);return a.mixins.floating.setZIndex.apply(a,arguments)},onLoad:function(){this.loading=!1;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);Ext.Component.prototype.onDestroy.call(this)}},1,['loadmask'],['component','box','loadmask'],{'component':!0,'box':!0,'loadmask':!0},['widget.loadmask'],[['floating',Ext.util.Floating],['bindable',Ext.util.Bindable]],[Ext,'LoadMask'],0);Ext.cmd.derive('Ext.data.association.Association',Ext.Base,{alternateClassName:'Ext.data.Association',primaryKey:'id',associationKeyFunction:null,defaultReaderType:'json',isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1000,create:function(a){if(Ext.isString(a)){a={type:a}}switch(a.type){case 'belongsTo':return new Ext.data.association.BelongsTo(a);case 'hasMany':return new Ext.data.association.HasMany(a);case 'hasOne':return new Ext.data.association.HasOne(a);default:}return a}},constructor:function(b){Ext.apply(this,b);var a=this,g=Ext.ModelManager.types,f=b.ownerModel,e=b.associatedModel,i=g[f],h=g[e],c=b.associationKey,d;if(c){d=String(c).search(/[\[\.]/);if(d>=0){a.associationKeyFunction=Ext.functionFactory('obj','return obj'+(d>0?'.':'')+c)}}a.initialConfig=b;a.ownerModel=i;a.associatedModel=h;Ext.applyIf(a,{ownerName:f,associatedName:e});a.associationId='association'+ ++a.statics().AUTO_ID},getReader:function(){var b=this,a=b.reader,c=b.associatedModel;if(a){if(Ext.isString(a)){a={type:a}}if(a.isReader){a.setModel(c)}else {Ext.applyIf(a,{model:c,type:b.defaultReaderType})}b.reader=Ext.createByAlias('reader.'+a.type,a)}return b.reader||null}},1,0,0,0,0,0,[Ext.data.association,'Association',Ext.data,'Association'],0);Ext.cmd.derive('Ext.ModelManager',Ext.AbstractManager,{alternateClassName:'Ext.ModelMgr',singleton:!0,typeName:'mtype',associationStack:[],registerType:function(d,a){var c=a.prototype,b;if(c&&c.isModel){b=a}else {if(!a.extend){a.extend='Ext.data.Model'}b=Ext.define(d,a)}this.types[d]=b;return b},unregisterType:function(a){delete this.types[a]},onModelDefined:function(g){var f=this.associationStack,e=f.length,d=[],c,a,b;for(a=0;a<e;a++){c=f[a];if(c.associatedModel==g.modelName){d.push(c)}}for(a=0,e=d.length;a<e;a++){b=d[a];this.types[b.ownerModel].prototype.associations.add(Ext.data.association.Association.create(b));Ext.Array.remove(f,b)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(b){var a=b;if(typeof a=='string'){a=this.types[a]}return a},create:function(b,a,d){var c=typeof a=='function'?a:this.types[a||b.name];return new c(b,d)}},0,0,0,0,0,0,[Ext,'ModelManager',Ext,'ModelMgr'],function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.cmd.derive('Ext.layout.component.Component',Ext.layout.Layout,{type:'component',isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(a,k){var d=this,c=d.owner,o=a.ownerCtContext,f=a.heightModel,g=a.widthModel,n=c.el.dom===document.body,h=c.lastBox||d.nullBox,e=c.el.lastBox||d.nullBox,i=!n,j,b,m,l;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(k){if(d.usesContentWidth){++a.consumersContentWidth}if(d.usesContentHeight){++a.consumersContentHeight}if(d.usesWidth){++a.consumersWidth}if(d.usesHeight){++a.consumersHeight}if(o&&!o.hasRawContent){j=c.ownerLayout;if(j.usesWidth){++a.consumersWidth}if(j.usesHeight){++a.consumersHeight}}}if(g.configured){m=g.names.width;if(!n){i=k?c[m]!==e.width:g.constrained}a.setWidth(c[m],i)}else {if(a.isTopLevel){if(g.calculated){b=h.width;a.setWidth(b,b!=e.width)}b=h.x;a.setProp('x',b,b!=e.x)}}if(f.configured){l=f.names.height;if(!n){i=k?c[l]!==e.height:f.constrained}a.setHeight(c[l],i)}else {if(a.isTopLevel){if(f.calculated){b=h.height;a.setHeight(b,b!=e.height)}b=h.y;a.setProp('y',b,b!=e.y)}}},finishedLayout:function(e){var h=this,d=e.children,g=h.owner,i,c,f,a,b;if(d){i=d.length;for(c=0;c<i;c++){f=d[c];f.el.lastBox=f.props}}e.previousSize=h.lastComponentSize;h.lastComponentSize=g.el.lastBox=b=e.props;a=g.lastBox||(g.lastBox={});a.x=b.x;a.y=b.y;a.width=b.width;a.height=b.height;a.invalid=!1;Ext.layout.Layout.prototype.finishedLayout.apply(this,arguments)},notifyOwner:function(e){var b=this,c=b.lastComponentSize,a=e.previousSize,d=[c.width,c.height];if(a){d.push(a.width,a.height)}b.owner.afterComponentLayout.apply(b.owner,d)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(d){var c=this,a=c.targetInfo,b;if(!a){b=d.getEl('getTarget',c);c.targetInfo=a={padding:b.getPaddingInfo(),border:b.getBorderInfo()}}return a},measureAutoDimensions:function(b,t){var j=this,r=j.owner,h=r.layout,q=b.heightModel,p=b.widthModel,f=b.boxParent,k=b.isBoxParent,n=b.props,o,a={gotWidth:!1,gotHeight:!1,isContainer:o=!b.hasRawContent},s=t||3,m,l,i=0,d=0,c,e,g;if(p.shrinkWrap&&b.consumersContentWidth){++i;m=!(s&1);if(o){if(m){a.contentWidth=0;a.gotWidth=!0;++d}else {if((a.contentWidth=b.getProp('contentWidth'))!==undefined){a.gotWidth=!0;++d}}}else {e=n.contentWidth;if(typeof e=='number'){a.contentWidth=e;a.gotWidth=!0;++d}else {if(m){c=!0}else {if(!b.hasDomProp('containerChildrenSizeDone')){c=!1}else {if(k||!f||f.widthModel.shrinkWrap){c=!0}else {c=f.hasDomProp('width')}}}if(c){if(m){g=0}else {if(h&&h.measureContentWidth){g=h.measureContentWidth(b)}else {g=j.measureContentWidth(b)}}if(!isNaN(a.contentWidth=g)){b.setContentWidth(g,!0);a.gotWidth=!0;++d}}}}}else {if(p.natural&&b.consumersWidth){++i;e=n.width;if(typeof e=='number'){a.width=e;a.gotWidth=!0;++d}else {if(k||!f){c=!0}else {c=f.hasDomProp('width')}if(c){if(!isNaN(a.width=j.measureOwnerWidth(b))){b.setWidth(a.width,!1);a.gotWidth=!0;++d}}}}}if(q.shrinkWrap&&b.consumersContentHeight){++i;l=!(s&2);if(o){if(l){a.contentHeight=0;a.gotHeight=!0;++d}else {if((a.contentHeight=b.getProp('contentHeight'))!==undefined){a.gotHeight=!0;++d}}}else {e=n.contentHeight;if(typeof e=='number'){a.contentHeight=e;a.gotHeight=!0;++d}else {if(l){c=!0}else {if(!b.hasDomProp('containerChildrenSizeDone')){c=!1}else {if(r.noWrap){c=!0}else {if(!p.shrinkWrap){c=(b.bodyContext||b).hasDomProp('width')}else {if(k||!f||f.widthModel.shrinkWrap){c=!0}else {c=f.hasDomProp('width')}}}}}if(c){if(l){g=0}else {if(h&&h.measureContentHeight){g=h.measureContentHeight(b)}else {g=j.measureContentHeight(b)}}if(!isNaN(a.contentHeight=g)){b.setContentHeight(g,!0);a.gotHeight=!0;++d}}}}}else {if(q.natural&&b.consumersHeight){++i;e=n.height;if(typeof e=='number'){a.height=e;a.gotHeight=!0;++d}else {if(k||!f){c=!0}else {c=f.hasDomProp('width')}if(c){if(!isNaN(a.height=j.measureOwnerHeight(b))){b.setHeight(a.height,!1);a.gotHeight=!0;++d}}}}}if(f){b.onBoxMeasured()}a.gotAll=d==i;return a},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,'Component'],0);Ext.cmd.derive('Ext.layout.component.Auto',Ext.layout.component.Component,{type:'autocomponent',setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(d,f){var a=this,c=a.lastWidthModel,b=a.lastHeightModel,e=a.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(c&&c.fixed&&d.widthModel.shrinkWrap){e.setWidth(null)}if(b&&b.fixed&&d.heightModel.shrinkWrap){e.setHeight(null)}},calculate:function(b){var a=this,c=a.measureAutoDimensions(b),f=b.heightModel,g=b.widthModel,e,d;if(c.gotWidth){if(g.shrinkWrap){a.publishOwnerWidth(b,c.contentWidth)}else {if(a.publishInnerWidth){a.publishInnerWidth(b,c.width)}}}else {if(!g.auto&&a.publishInnerWidth){e=a.waitForOuterWidthInDom?b.getDomProp('width'):b.getProp('width');if(e===undefined){a.done=!1}else {a.publishInnerWidth(b,e)}}}if(c.gotHeight){if(f.shrinkWrap){a.publishOwnerHeight(b,c.contentHeight)}else {if(a.publishInnerHeight){a.publishInnerHeight(b,c.height)}}}else {if(!f.auto&&a.publishInnerHeight){d=a.waitForOuterHeightInDom?b.getDomProp('height'):b.getProp('height');if(d===undefined){a.done=!1}else {a.publishInnerHeight(b,d)}}}if(!c.gotAll){a.done=!1}},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},publishOwnerHeight:function(b,h){var c=this,g=c.owner,a=c.calculateOwnerHeightFromContentHeight(b,h),d,f,e;if(isNaN(a)){c.done=!1}else {d=Ext.Number.constrain(a,g.minHeight,g.maxHeight);if(d==a){f=c.setHeightInDom}else {e=c.sizeModels[d<a?'constrainedMax':'constrainedMin'];a=d;if(b.heightModel.calculatedFromShrinkWrap){b.heightModel=e}else {b.invalidate({heightModel:e})}}b.setHeight(a,f)}},publishOwnerWidth:function(b,h){var c=this,g=c.owner,a=c.calculateOwnerWidthFromContentWidth(b,h),d,f,e;if(isNaN(a)){c.done=!1}else {d=Ext.Number.constrain(a,g.minWidth,g.maxWidth);if(d==a){f=c.setWidthInDom}else {e=c.sizeModels[d<a?'constrainedMax':'constrainedMin'];a=d;if(b.widthModel.calculatedFromShrinkWrap){b.widthModel=e}else {b.invalidate({widthModel:e})}}b.setWidth(a,f)}}},0,0,0,0,['layout.autocomponent'],0,[Ext.layout.component,'Auto'],0);Ext.cmd.derive('Ext.layout.component.ProgressBar',Ext.layout.component.Auto,{type:'progressbar',beginLayout:function(a){var d=this,c,b;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!a.textEls){b=d.owner.textEl;if(b.isComposite){a.textEls=[];b=b.elements;for(c=b.length;c--;){a.textEls[c]=a.getEl(Ext.get(b[c]))}}else {a.textEls=[a.getEl('textEl')]}}},calculate:function(a){var e=this,d,b,c;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(c=a.getProp('width'))){c-=a.getBorderInfo().width;b=a.textEls;for(d=b.length;d--;){b[d].setWidth(c)}}else {e.done=!1}}},0,0,0,0,['layout.progressbar'],0,[Ext.layout.component,'ProgressBar'],0);Ext.cmd.derive('Ext.ProgressBar',Ext.Component,{baseCls:'x-progress',animate:!1,text:'',waitTimer:null,childEls:['bar'],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>','</tpl>','<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">','<div>{text}</div>','</div>','</tpl>','</div>'],componentLayout:'progressbar',initComponent:function(){Ext.Component.prototype.initComponent.call(this);this.addEvents('update')},initRenderData:function(){var a=this;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{internalText:!a.hasOwnProperty('textEl'),text:a.text||'&#160;',percentage:a.value?a.value*100:0})},onRender:function(){var a=this;Ext.Component.prototype.onRender.apply(this,arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else {a.textEl=a.el.select('.'+a.baseCls+'-text')}},updateProgress:function(e,b,c){var a=this,d=a.value;a.value=e||0;if(b){a.updateText(b)}if(a.rendered&&!a.isDestroyed){if(c===!0||c!==!1&&a.animate){a.bar.stopAnimation();a.bar.animate(Ext.apply({from:{width:d*100+'%'},to:{width:a.value*100+'%'}},a.animate))}else {a.bar.setStyle('width',a.value*100+'%')}}a.fireEvent('update',a,a.value,b);return a},updateText:function(b){var a=this;a.text=b;if(a.rendered){a.textEl.update(a.text)}return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this,c;if(!b.waitTimer){c=b;a=a||{};b.updateText(a.text);b.waitTimer=Ext.TaskManager.start({run:function(d){var c=a.increment||10;d-=1;b.updateProgress(((d+c)%c+1)*(100/c)*0.01,null,a.animate)},interval:a.interval||1000,duration:a.duration,onStop:function(){if(a.fn){a.fn.apply(a.scope||b)}b.reset()},scope:c})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(b){var a=this;a.updateProgress(0);a.clearTimer();if(b===!0){a.hide()}return a},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var a=this,b=a.bar;a.clearTimer();if(a.rendered){if(a.textEl.isComposite){a.textEl.clear()}Ext.destroyMembers(a,'textEl','progressBar');if(b&&a.animate){b.stopAnimation()}}Ext.Component.prototype.onDestroy.call(this)}},0,['progressbar'],['component','box','progressbar'],{'component':!0,'box':!0,'progressbar':!0},['widget.progressbar'],0,[Ext,'ProgressBar'],0);Ext.cmd.derive('Ext.ShadowPool',Ext.Base,{singleton:!0,markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>','x-',Ext.isIE&&!Ext.supports.CSS3BoxShadow?'ie':'css')}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml('beforeBegin',document.body.firstChild,this.markup));a.autoBoxAdjust=!1}return a},push:function(a){this.shadows.push(a)},reset:function(){var b=[].concat(this.shadows),a,c=b.length;for(a=0;a<c;a++){b[a].remove()}this.shadows=[]}},0,0,0,0,0,0,[Ext,'ShadowPool'],0);Ext.cmd.derive('Ext.Shadow',Ext.Base,{localXYNames:{get:'getLocalXY',set:'setLocalXY'},constructor:function(e){var d=this,c,a,b;Ext.apply(d,e);if(!Ext.isString(d.mode)){d.mode=d.defaultMode}a=d.offset;b=Math.floor(a/2);d.opacity=50;switch(d.mode.toLowerCase()){case 'drop':if(Ext.supports.CSS3BoxShadow){c={t:a,l:a,h:-a,w:-a}}else {c={t:-b,l:-b,h:-b,w:-b}};break;case 'sides':if(Ext.supports.CSS3BoxShadow){c={t:a,l:0,h:-a,w:0}}else {c={t:-(1+b),l:1+b-2*a,h:-1,w:b-1}};break;case 'frame':if(Ext.supports.CSS3BoxShadow){c={t:0,l:0,h:0,w:0}}else {c={t:1+b-2*a,l:1+b-2*a,h:a-b-1,w:a-b-1}};break;case 'bottom':if(Ext.supports.CSS3BoxShadow){c={t:a,l:0,h:-a,w:0}}else {c={t:a,l:0,h:0,w:0}};break;}d.adjusts=c},getShadowSize:function(){var b=this,a=b.el?b.offset:0,c=[a,a,a,a],d=b.mode.toLowerCase();if(b.el&&d!=='frame'){c[0]=0;if(d=='drop'){c[3]=0}}return c},offset:4,defaultMode:'drop',boxShadowProperty:function(){var a='boxShadow',b=document.documentElement.style;if(!('boxShadow' in b)){if('WebkitBoxShadow' in b){a='WebkitBoxShadow'}else {if('MozBoxShadow' in b){a='MozBoxShadow'}}}return a}(),show:function(b){var a=this,d,c;b=Ext.get(b);d=parseInt(b.getStyle('z-index'),10)-1||0;c=b[a.localXYNames.get]();if(!a.el){a.el=Ext.ShadowPool.pull();if(a.fixed){a.el.dom.style.position='fixed'}else {a.el.dom.style.position=''}if(a.el.dom.nextSibling!=b.dom){a.el.insertBefore(b)}}a.el.setStyle('z-index',a.zIndex||d);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a.el.dom.style.filter='progid:DXImageTransform.Microsoft.alpha(opacity='+a.opacity+') progid:DXImageTransform.Microsoft.Blur(pixelradius='+a.offset+')'}a.realign(c[0],c[1],b.dom.offsetWidth,b.dom.offsetHeight);a.el.dom.style.display='block'},isVisible:function(){return this.el?!0:!1},realign:function(j,k,i,h){if(!this.el){return}var b=this.adjusts,g=this.el,a=g.dom.style,f,e,d,c;g[this.localXYNames.set](j+b.l,k+b.t);f=Math.max(i+b.w,0);e=Math.max(h+b.h,0);d=f+'px';c=e+'px';if(a.width!=d||a.height!=c){a.width=d;a.height=c;if(Ext.supports.CSS3BoxShadow){a[this.boxShadowProperty]='0 0 '+(this.offset+2)+'px #888'}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display='none';Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle('z-index',a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}},1,0,0,0,0,0,[Ext,'Shadow'],0);Ext.cmd.derive('Ext.app.EventDomain',Ext.Base,{statics:{instances:{}},isEventDomain:!0,constructor:function(){var a=this;Ext.app.EventDomain.instances[a.type]=a;a.bus={};a.monitoredClasses=[]},dispatch:function(j,m,k){var i=this,l=i.bus,b=l[m],c,a,g,e,f,d,h;if(!b){return !0}for(c in b){if(b.hasOwnProperty(c)&&i.match(j,c)){a=b[c];for(g in a){if(a.hasOwnProperty(g)){e=a[g];for(d=0,h=e.length;d<h;d++){f=e[d];if(f.fire.apply(f,k)===!1){return !1}}}}}}return !0},listen:function(i,f){var k=this,o=k.bus,q=k.idProperty,m=k.monitoredClasses,p=m.length,l,e,n,a,c,b,h,j,g,d;for(a in i){if(i.hasOwnProperty(a)&&(g=i[a])){if(q){a=a==='*'?a:a.substring(1)}for(d in g){if(g.hasOwnProperty(d)){c=null;b=g[d];h=f;j=new Ext.util.Event(f,d);if(Ext.isObject(b)){c=b;b=c.fn;h=c.scope||f;delete c.fn;delete c.scope}if(typeof b==='string'){b=h[b]}j.addListener(b,h,c);for(l=p;l-->0;){m[l].hasListeners._incr_(d)}e=o[d]||(o[d]={});e=e[a]||(e[a]={});n=e[f.id]||(e[f.id]=[]);n.push(j)}}}}},match:function(c,b){var a=this.idProperty;if(a){return b==='*'||c[a]===b}return !1},monitor:function(a){var c=this,b=a.isInstance?a:a.prototype,d=b.fireEventArgs;c.monitoredClasses.push(a);b.fireEventArgs=function(f,e){var b=d.apply(this,arguments);if(b!==!1){b=c.dispatch(this,f,e)}return b}},unlisten:function(f){var b=this.bus,d,c,e,a;for(c in b){if(b.hasOwnProperty(c)&&(a=b[c])){for(e in a){d=a[e];delete d[f]}}}}},1,0,0,0,0,0,[Ext.app,'EventDomain'],0);Ext.cmd.derive('Ext.app.domain.Component',Ext.app.EventDomain,{singleton:!0,type:'component',constructor:function(){var a=this;a.callParent();a.monitor(Ext.Component)},match:function(b,a){return b.is(a)}},1,0,0,0,0,0,[Ext.app.domain,'Component'],0);Ext.cmd.derive('Ext.app.EventBus',Ext.Base,{singleton:!0,constructor:function(){var a=this,b=Ext.app.EventDomain.instances;a.callParent();a.domains=b;a.bus=b.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(b,c){var d=this.domains,a;for(a in b){if(b.hasOwnProperty(a)){d[a].listen(b[a],c)}}},unlisten:function(c){var a=Ext.app.EventDomain.instances,b;for(b in a){a[b].unlisten(c)}}},1,0,0,0,0,0,[Ext.app,'EventBus'],0);Ext.cmd.derive('Ext.data.StoreManager',Ext.util.MixedCollection,{alternateClassName:['Ext.StoreMgr','Ext.data.StoreMgr','Ext.StoreManager'],singleton:!0,register:function(){for(var a=0,b;b=arguments[a];a++){this.add(b)}},unregister:function(){for(var a=0,b;b=arguments[a];a++){this.remove(this.lookup(b))}},lookup:function(a){if(Ext.isArray(a)){var f=['field1'],e=!Ext.isArray(a[0]),d=a,b,c;if(e){d=[];for(b=0,c=a.length;b<c;++b){d.push([a[b]])}}else {for(b=2,c=a[0].length;b<=c;++b){f.push('field'+b)}}return new Ext.data.ArrayStore({data:d,fields:f,autoDestroy:!0,autoCreated:!0,expanded:e})}if(Ext.isString(a)){return this.get(a)}else {return Ext.data.AbstractStore.create(a)}},getKey:function(a){return a.storeId}},0,0,0,0,0,0,[Ext.data,'StoreManager',Ext,'StoreMgr',Ext.data,'StoreMgr',Ext,'StoreManager'],function(){Ext.regStore=function(c,a){var b;if(Ext.isObject(c)){a=c}else {a.storeId=c}if(a instanceof Ext.data.Store){b=a}else {b=new Ext.data.Store(a)}return Ext.data.StoreManager.register(b)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.cmd.derive('Ext.app.domain.Global',Ext.app.EventDomain,{singleton:!0,type:'global',constructor:function(){var a=this;a.callParent();a.monitor(Ext.globalEvents)},listen:function(b,a){this.callParent([{global:b},a])},match:function(){return !0}},1,0,0,0,0,0,[Ext.app.domain,'Global'],0);Ext.cmd.derive('Ext.data.ResultSet',Ext.Base,{loaded:!0,count:0,total:0,success:!1,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===undefined){this.count=this.records.length}}},1,0,0,0,0,0,[Ext.data,'ResultSet'],0);Ext.cmd.derive('Ext.data.reader.Reader',Ext.Base,{alternateClassName:['Ext.data.Reader','Ext.data.DataReader'],totalProperty:'total',successProperty:'success',root:'',implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.fieldCount=0;a.model=Ext.ModelManager.getModel(a.model);if(a.model&&a.model.prototype.fields){a.buildExtractors()}this.addEvents('exception')},setModel:function(b,c){var a=this;a.model=Ext.ModelManager.getModel(b);if(b){a.buildExtractors(!0)}if(c&&a.proxy){a.proxy.setModel(a.model,!0)}},read:function(a){var b;if(a){b=a.responseText?this.getResponseData(a):this.readRecords(a)}return b||this.nullResultSet},readRecords:function(b){var a=this,g,e,f,d,h,c,i;if(a.lastFieldGeneration!==a.model.prototype.fields.generation){a.buildExtractors(!0)}a.rawData=b;b=a.getData(b);g=!0;e=0;f=[];if(a.successProperty){c=a.getSuccess(b);if(c===!1||c==='false'){g=!1}}if(a.messageProperty){i=a.getMessage(b)}if(a.readRecordsOnFailure||g){d=Ext.isArray(b)?b:a.getRoot(b);if(d){h=d.length}if(a.totalProperty){c=parseInt(a.getTotal(b),10);if(!isNaN(c)){h=c}}if(d){f=a.extractData(d);e=f.length}}return new Ext.data.ResultSet({total:h||e,count:e,records:f,success:g,message:i})},extractData:function(b){var e=this,i=e.model,g=b.length,f=new Array(g),h,a,d,c;if(!b.length&&Ext.isObject(b)){b=[b];g=1}for(c=0;c<g;c++){a=b[c];if(a.isModel){f[c]=a}else {f[c]=d=new i(undefined,e.getId(a),a,h={});d.phantom=!1;e.convertRecordData(h,a,d);if(e.implicitIncludes&&d.associations.length){e.readAssociated(d,a)}}}return f},readAssociated:function(g,i){var f=g.associations.items,e=0,h=f.length,a,c,d,b;for(;e<h;e++){a=f[e];c=this.getAssociatedDataRoot(i,a.associationKeyFunction||a.associationKey||a.name);if(c){b=a.getReader();if(!b){d=a.associatedModel.getProxy();if(d){b=d.getReader()}else {b=new this.constructor({model:a.associatedName})}}a.read(g,b,c)}}},getAssociatedDataRoot:function(b,a){if(Ext.isFunction(a)){return a(b)}return b[a]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(b){var a=this,e=b.fields||a.getFields(),d,c;a.metaData=b;a.root=b.root||a.root;a.idProperty=b.idProperty||a.idProperty;a.totalProperty=b.totalProperty||a.totalProperty;a.successProperty=b.successProperty||a.successProperty;a.messageProperty=b.messageProperty||a.messageProperty;c=b.clientIdProperty;if(a.model){a.model.setFields(e,a.idProperty,c);a.setModel(a.model,!0)}else {d=Ext.define('Ext.data.reader.Json-Model'+Ext.id(),{extend:'Ext.data.Model',fields:e,clientIdProperty:c});if(a.idProperty){d.idProperty=a.idProperty}a.setModel(d,!0)}},getIdProperty:function(){var b=this.model.prototype.idField,a=this.idProperty;if(!a&&b&&(a=b.mapping)==null){a=b.name}return a},buildExtractors:function(g){var a=this,f=a.getIdProperty(),d=a.totalProperty,c=a.successProperty,b=a.messageProperty,e;if(g===!0){delete a.convertRecordData}if(a.convertRecordData){return}if(d){a.getTotal=a.createAccessor(d)}if(c){a.getSuccess=a.createAccessor(c)}if(b){a.getMessage=a.createAccessor(b)}if(f){e=a.createAccessor(f);a.getId=function(c){var b=e.call(a,c);return b===undefined||b===''?null:b}}else {a.getId=function(){return null}}a.convertRecordData=a.buildRecordDataExtractor();a.lastFieldGeneration=a.model.prototype.fields.generation},recordDataExtractorTemplate:['var me = this\n','    ,fields = me.model.prototype.fields\n','    ,value\n','    ,internalId\n','<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n','</tpl>',';\n','return function(dest, source, record) {\n','<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");','   if (fieldAccessExpression) { %}','    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">','    if (value === undefined) {\n','        if (me.applyDefaults) {\n','<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n','<tpl else>','            dest["{name}"] = __field{#}.defaultValue\n','</tpl>','        };\n','    } else {\n','<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n','<tpl else>','        dest["{name}"] = value;\n','</tpl>','    };\n','<tpl else>','    if (value !== undefined) {\n','<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n','<tpl else>','        dest["{name}"] = value;\n','</tpl>','    }\n','</tpl>','{% } else { %}','<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n','<tpl else>','    dest["{name}"] = __field{#}.defaultValue\n','</tpl>','</tpl>','{% } %}','</tpl>','<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n','    }\n','</tpl>','};'],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,c={clientIdProp:b.clientIdProperty,fields:b.fields.items};a.recordDataExtractorTemplate.createFieldAccessExpression=function(){return a.createFieldAccessExpression.apply(a,arguments)};return Ext.functionFactory(a.recordDataExtractorTemplate.apply(c)).call(a)},destroyReader:function(){var a=this;delete a.proxy;delete a.model;delete a.convertRecordData;delete a.getId;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.data.reader,'Reader',Ext.data,'Reader',Ext.data,'DataReader'],function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:''}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})});Ext.cmd.derive('Ext.data.reader.Json',Ext.data.reader.Reader,{alternateClassName:'Ext.data.JsonReader',root:'',metaProperty:'metaData',useSimpleAccessors:!1,readRecords:function(a){var b=this,c;if(b.getMeta){c=b.getMeta(a);if(c){b.onMetaChange(c)}}else {if(a.metaData){b.onMetaChange(a.metaData)}}b.jsonData=a;return Ext.data.reader.Reader.prototype.readRecords.call(this,a)},getResponseData:function(b){var c,a;try{c=Ext.decode(b.responseText);return this.readRecords(c)}catch(d){a=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:d.message});this.fireEvent('exception',this,b,a);Ext.Logger.warn('Unable to parse the JSON returned by the server');return a}},buildExtractors:function(){var a=this,b=a.metaProperty;Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments);if(a.root){a.getRoot=a.createAccessor(a.root)}else {a.getRoot=Ext.identityFn}if(b){a.getMeta=a.createAccessor(b)}},extractData:function(a){var e=this.record,d=[],c,b;if(e){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++){d[b]=a[b][e]}}else {d=a}return Ext.data.reader.Reader.prototype.extractData.call(this,d)},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b)){return Ext.emptyFn}if(Ext.isFunction(b)){return b}if(this.useSimpleAccessors!==!0){var c=String(b).search(a);if(c>=0){return Ext.functionFactory('obj','return obj'+(c>0?'.':'')+b)}}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(l,m,d){var e=l.mapping,k=e||e===0,b=k?e:l.name,c,i;if(e===!1){return}if(typeof b==='function'){c=m+'.mapping('+d+', this)'}else {if(this.useSimpleAccessors===!0||(i=String(b).search(a))<0){if(!k||isNaN(b)){b='"'+b+'"'}c=d+'['+b+']'}else {if(i===0){c=d+b}else {var g=b.split('.'),n=g.length,h=1,f=d+'.'+g[0],j=[f];for(;h<n;h++){f+='.'+g[h];j.push(f)}c=j.join(' && ')}}}return c}}()},0,0,0,0,['reader.json'],0,[Ext.data.reader,'Json',Ext.data,'JsonReader'],0);Ext.cmd.derive('Ext.data.writer.Writer',Ext.Base,{alternateClassName:['Ext.data.DataWriter','Ext.data.Writer'],writeAllFields:!0,nameProperty:'name',writeRecordId:!0,isWriter:!0,constructor:function(a){Ext.apply(this,a)},write:function(d){var b=d.operation,c=b.records||[],f=c.length,a=0,e=[];for(;a<f;a++){e.push(this.getRecordData(c[a],b))}return this.writeRecords(d,e)},getRecordData:function(a,l){var k=a.phantom===!0,n=this.writeAllFields||k,f=a.fields,j=f.items,c={},h=a.clientIdProperty,e,b,g,i,d,m;if(n){m=j.length;for(d=0;d<m;d++){b=j[d];if(b.persist){this.writeValue(c,b,a)}}}else {e=a.getChanges();for(g in e){if(e.hasOwnProperty(g)){b=f.get(g);if(b.persist){this.writeValue(c,b,a)}}}}if(k){if(h&&l&&l.records.length>1){c[h]=a.internalId}}else {if(this.writeRecordId){i=f.get(a.idProperty)[this.nameProperty]||a.idProperty;c[i]=a.getId()}}return c},writeValue:function(d,a,f){var b=a[this.nameProperty],e=this.dateFormat||a.dateWriteFormat||a.dateFormat,c=f.get(a.name);if(b==null){b=a.name}if(a.serialize){d[b]=a.serialize(c,f)}else {if(a.type===Ext.data.Types.DATE&&e&&Ext.isDate(c)){d[b]=Ext.Date.format(c,e)}else {d[b]=c}}}},1,0,0,0,['writer.base'],0,[Ext.data.writer,'Writer',Ext.data,'DataWriter',Ext.data,'Writer'],0);Ext.cmd.derive('Ext.data.writer.Json',Ext.data.writer.Writer,{alternateClassName:'Ext.data.JsonWriter',root:undefined,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(f){var h=f.length,g=0,a,c,b,d,e,i=function(c,b){var a={};a[c]=b;return a};for(;g<h;g++){a=f[g];for(c in a){if(a.hasOwnProperty(c)){b=c.split('.');d=b.length-1;if(d>0){e=a[c];for(;d>0;d--){e=i(b[d],e)}a[b[0]]=a[b[0]]||{};Ext.Object.merge(a[b[0]],e);delete a[c]}}}}return f},writeRecords:function(b,a){var c=this.root;if(this.expandData){a=this.getExpandedData(a)}if(this.allowSingle&&a.length===1){a=a[0]}if(this.encode){if(c){b.params[c]=Ext.encode(a)}else {}}else {b.jsonData=b.jsonData||{};if(c){b.jsonData[c]=a}else {b.jsonData=a}}return b}},0,0,0,0,['writer.json'],0,[Ext.data.writer,'Json',Ext.data,'JsonWriter'],0);Ext.cmd.derive('Ext.data.proxy.Proxy',Ext.Base,{alternateClassName:['Ext.data.DataProxy','Ext.data.Proxy'],batchOrder:'create,update,destroy',batchActions:!0,defaultReaderType:'json',defaultWriterType:'json',isProxy:!0,isSynchronous:!1,constructor:function(b){var a=this;b=b||{};a.proxyConfig=b;a.mixins.observable.constructor.call(a,b);if(a.model!==undefined&&!(a.model instanceof Ext.data.Model)){a.setModel(a.model)}else {if(a.reader){a.setReader(a.reader)}if(a.writer){a.setWriter(a.writer)}}},setModel:function(c,b){var a=this;a.model=Ext.ModelManager.getModel(c);a.setReader(this.reader);a.setWriter(this.writer);if(b&&a.store){a.store.setModel(a.model)}},getModel:function(){return this.model},setReader:function(a){var b=this,c=!0,d=b.reader;if(a===undefined||typeof a=='string'){a={type:a};c=!1}if(a.isReader){a.setModel(b.model)}else {if(c){a=Ext.apply({},a)}Ext.applyIf(a,{proxy:b,model:b.model,type:b.defaultReaderType});a=Ext.createByAlias('reader.'+a.type,a)}if(a!==d&&a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}b.reader=a;return b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent('metachange',this,a)},setWriter:function(a){var b=this,c=!0;if(a===undefined||typeof a=='string'){a={type:a};c=!1}if(!a.isWriter){if(c){a=Ext.apply({},a)}Ext.applyIf(a,{model:b.model,type:b.defaultWriterType});a=Ext.createByAlias('writer.'+a.type,a)}b.writer=a;return b.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,l){var c=this,m=c.batchActions,b,d,h,j,e,f,g,k,i;if(a.operations===undefined){a={operations:a,listeners:l}}if(a.batch){if(Ext.isDefined(a.batch.runOperation)){b=Ext.applyIf(a.batch,{proxy:c,listeners:{}})}}else {a.batch={proxy:c,listeners:a.listeners||{}}}if(!b){b=new Ext.data.Batch(a.batch)}b.on('complete',Ext.bind(c.onBatchComplete,c,[a],0));h=c.batchOrder.split(',');j=h.length;for(f=0;f<j;f++){e=h[f];d=a.operations[e];if(d){if(m){b.add(new Ext.data.Operation({action:e,records:d}))}else {k=d.length;for(g=0;g<k;g++){i=d[g];b.add(new Ext.data.Operation({action:e,records:[i]}))}}}}b.start();return b},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else {if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}},clone:function(){return new this.self(this.proxyConfig)}},1,0,0,0,['proxy.proxy'],[['observable',Ext.util.Observable]],[Ext.data.proxy,'Proxy',Ext.data,'DataProxy',Ext.data,'Proxy'],0);Ext.cmd.derive('Ext.data.Operation',Ext.Base,{synchronous:!0,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(j){var b=this,g=b.actionCommitRecordsRe.test(b.action),k,c,a,h,e,i,l,d,f;if(!b.actionSkipSyncRe.test(b.action)){a=b.records;if(a&&a.length){if(g){f=[]}if(a.length>1){if(b.action=='update'||a[0].clientIdProperty){k=new Ext.util.MixedCollection();k.addAll(j);for(c=a.length;c--;){e=a[c];h=k.findBy(b.matchClientRec,e);d=e.copyFrom(h);if(g){f.push(d)}}}else {for(i=0,l=a.length;i<l;++i){e=a[i];h=j[i];if(e&&h){d=b.updateRecord(e,h);if(g){f.push(d)}}}}}else {d=b.updateRecord(a[0],j[0]);if(g){f[0]=d}}if(g){for(c=a.length;c--;){a[c].commit(!1,f[c])}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){return a.copyFrom(b)}return []},matchClientRec:function(c){var b=this,a=b.getId();if(a&&c.getId()===a){return !0}return c.internalId===b.internalId},setStarted:function(){this.started=!0;this.running=!0},setCompleted:function(){this.complete=!0;this.running=!1},setSuccessful:function(){this.success=!0},setException:function(a){this.exception=!0;this.success=!1;this.running=!1;this.error=a},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!='read'}},1,0,0,0,0,0,[Ext.data,'Operation'],0);Ext.cmd.derive('Ext.data.AbstractStore',Ext.Base,{statics:{create:function(a){if(!a.isStore){if(!a.type){a.type='store'}a=Ext.createByAlias('store.'+a.type,a)}return a}},onClassExtended:function(e,d,b){var c=d.model,a;if(typeof c=='string'){a=b.onBeforeCreated;b.onBeforeCreated=function(){var g=this,f=arguments;Ext.require(c,function(){a.apply(g,f)})}}},remoteSort:!1,remoteFilter:!1,autoLoad:undefined,autoSync:!1,batchUpdateMode:'operation',filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:'memory',isDestroyed:!1,isStore:!0,sortRoot:'data',constructor:function(c){var a=this,b;Ext.apply(a,c);a.removed=[];a.mixins.observable.constructor.apply(a,arguments);a.model=Ext.ModelManager.getModel(a.model);Ext.applyIf(a,{modelDefaults:null});if(!a.model&&a.fields){a.model=Ext.define('Ext.data.Store.ImplicitModel-'+(a.storeId||Ext.id()),{extend:'Ext.data.Model',fields:a.fields,proxy:a.proxy||a.defaultProxyType});delete a.fields;a.implicitModel=!0}a.setProxy(a.proxy||a.model.getProxy());if(!a.disableMetaChangeEvent){a.proxy.on('metachange',a.onMetaChange,a)}if(a.id&&!a.storeId){a.storeId=a.id;delete a.id}if(a.storeId){Ext.data.StoreManager.register(a)}a.mixins.sortable.initSortable.call(a);b=a.decodeFilters(a.filters);a.filters=new Ext.util.MixedCollection();a.filters.addAll(b)},setProxy:function(a){var b=this;if(a instanceof Ext.data.proxy.Proxy){a.setModel(b.model)}else {if(Ext.isString(a)){a={type:a}}Ext.applyIf(a,{model:b.model});a=Ext.createByAlias('proxy.'+a.type,a)}b.proxy=a;return b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(b,a){this.fireEvent('metachange',this,a)},create:function(e,b){var a=this,d=Ext.ModelManager.create(Ext.applyIf(e,a.modelDefaults),a.model.modelName),c;b=b||{};Ext.applyIf(b,{action:'create',records:[d]});c=new Ext.data.Operation(b);a.proxy.create(c,a.onProxyWrite,a);return d},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:'update',records:b.getUpdatedRecords()});c=new Ext.data.Operation(a);return b.proxy.update(c,b.onProxyWrite,b)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.action){case 'create':b.onCreateRecords(d,a,c);break;case 'update':b.onUpdateRecords(d,a,c);break;case 'destroy':b.onDestroyRecords(d,a,c);break;}if(c){b.fireEvent('write',b,a);b.fireEvent('datachanged',b);b.fireEvent('refresh',b)}Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(c,b,a){if(a){this.removed=[]}},destroy:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:'destroy',records:b.getRemovedRecords()});c=new Ext.data.Operation(a);return b.proxy.destroy(c,b.onProxyWrite,b)},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(e,f){var a=this,c=e.operations,d=c.length,b;a.suspendEvents();for(b=0;b<d;b++){a.onProxyWrite(c[b])}a.resumeEvents();a.fireEvent('datachanged',a);a.fireEvent('refresh',a)},onBatchException:function(b,a){},filterNew:function(a){return a.phantom===!0&&a.isValid()},getNewRecords:function(){return []},getUpdatedRecords:function(){return []},getModifiedRecords:function(){return [].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(a,b){},decodeFilters:function(b){if(!Ext.isArray(b)){if(b===undefined){b=[]}else {b=[b]}}var e=b.length,d=Ext.util.Filter,a,c;for(c=0;c<e;c++){a=b[c];if(!(a instanceof d)){Ext.apply(a,{root:'data'});if(a.fn){a.filterFn=a.fn}if(typeof a=='function'){a={filterFn:a}}b[c]=new d(a)}}return b},clearFilter:function(a){},isFiltered:function(){},filterBy:function(b,a){},sync:function(d){var a=this,b={},f=a.getNewRecords(),g=a.getUpdatedRecords(),e=a.getRemovedRecords(),c=!1;if(f.length>0){b.create=f;c=!0}if(g.length>0){b.update=g;c=!0}if(e.length>0){b.destroy=e;c=!0}if(c&&a.fireEvent('beforesync',b)!==!1){d=d||{};a.proxy.batch(Ext.apply(d,{operations:b,listeners:a.getBatchListeners()}))}return a},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException};if(a.batchUpdateMode=='operation'){b.operationcomplete=a.onBatchOperationComplete}else {b.complete=a.onBatchComplete}return b},save:function(){return this.sync.apply(this,arguments)},load:function(b){var a=this,c;b=Ext.apply({action:'read',filters:a.filters.items,sorters:a.getSorters()},b);a.lastOptions=b;c=new Ext.data.Operation(b);if(a.fireEvent('beforeload',a,c)!==!1){a.loading=!0;a.proxy.read(c,a.onProxyLoad,a)}return a},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(c,b){var a=this,d,e;if(a.autoSync&&!a.autoSyncSuspended){for(d=b.length;d--;){if(c.fields.get(b[d]).persist){e=!0;break}}if(e){a.sync()}}a.onUpdate(c,Ext.data.Model.EDIT,b);a.fireEvent('update',a,c,Ext.data.Model.EDIT,b)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null);this.fireEvent('update',this,a,Ext.data.Model.REJECT,null)},afterCommit:function(b,a){if(!a){a=null}this.onUpdate(b,Ext.data.Model.COMMIT,a);this.fireEvent('update',this,b,Ext.data.Model.COMMIT,a)},onUpdate:Ext.emptyFn,onIdChanged:function(b,d,c,a){this.fireEvent('idchanged',this,b,d,c,a)},destroyStore:function(){var b,a=this;if(!a.isDestroyed){a.clearListeners();if(a.storeId){Ext.data.StoreManager.unregister(a)}a.clearData();a.data=a.tree=a.sorters=a.filters=a.groupers=null;if(a.reader){a.reader.destroyReader()}a.proxy=a.reader=a.writer=null;a.isDestroyed=!0;if(a.implicitModel){b=Ext.getClassName(a.model);Ext.undefine(b);Ext.ModelManager.unregisterType(b)}else {a.model=null}}},getState:function(){var a=this,d,b,g=!!a.groupers,c=[],f=[],e=[];if(g){a.groupers.each(function(a){c[c.length]=a.serialize();d=!0})}if(a.sorters){a.sorters.each(function(b){if(g&&!a.groupers.contains(b)){f[f.length]=b.serialize();d=!0}})}if(a.filters&&a.statefulFilters){a.filters.each(function(a){e[e.length]=a.serialize();d=!0})}if(d){b={};if(c.length){b.groupers=c}if(f.length){b.sorters=f}if(e.length){b.filters=e}return b}},applyState:function(b){var a=this,c=!!a.sorters,e=!!a.groupers,f=!!a.filters,d;if(e&&b.groupers){a.groupers.clear();a.groupers.addAll(a.decodeGroupers(b.groupers))}if(c&&b.sorters){a.sorters.clear();a.sorters.addAll(a.decodeSorters(b.sorters))}if(f&&b.filters){a.filters.clear();a.filters.addAll(a.decodeFilters(b.filters))}if(c&&e){a.sorters.insert(0,a.groupers.getRange())}if(a.autoLoad&&(a.remoteSort||a.remoteGroup||a.remoteFilter)){if(a.autoLoad===!0){a.reload()}else {a.reload(a.autoLoad)}}if(f&&a.filters.length&&!a.remoteFilter){a.filter();d=a.sortOnFilter}if(c&&a.sorters.length&&!a.remoteSort&&!d){a.sort()}},doSort:function(b){var a=this;if(a.remoteSort){a.load()}else {a.data.sortBy(b);a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}a.fireEvent('sort',a,a.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return !!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}},1,0,0,0,0,[['observable',Ext.util.Observable],['sortable',Ext.util.Sortable]],[Ext.data,'AbstractStore'],0);Ext.cmd.derive('Ext.app.domain.Store',Ext.app.EventDomain,{singleton:!0,type:'store',idProperty:'storeId',constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)}},1,0,0,0,0,0,[Ext.app.domain,'Store'],0);Ext.cmd.derive('Ext.app.Controller',Ext.Base,{statics:{strings:{model:{getter:'getModel',upper:'Model'},view:{getter:'getView',upper:'View'},controller:{getter:'getController',upper:'Controller'},store:{getter:'getStore',upper:'Store'}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(f,d){var b='get',c=f.split('.'),e=c.length,a;for(a=0;a<e;a++){b+=Ext.String.capitalize(c[a])}b+=d;return b},processDependencies:function(o,n,m,d,a){if(!a||!a.length){return}var b=this,j=b.strings[d],f,g,i,e,c,l,h,k;if(!Ext.isArray(a)){a=[a]}for(c=0,l=a.length;c<l;c++){e=a[c];f=b.getFullName(e,d,m);g=f.absoluteName;i=f.shortName;n.push(g);h=b.getGetterName(i,j.upper);o[h]=k=b.createGetter(j.getter,e);if(d!=='controller'){k['Ext.app.getter']=!0}}},getFullName:function(a,f,e){var c=a,d,b;if((d=a.indexOf('@'))>0){c=a.substring(0,d);b=a.substring(d+1)+'.'+c}else {if(a.indexOf('.')>0&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a))){b=a}else {if(e){b=e+'.'+f+'.'+a;c=a}else {b=a}}}return {absoluteName:b,shortName:c}}},application:null,onClassExtended:function(d,c,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(l,i){var h=Ext.app.Controller,m=h.controllerRegex,f=[],j,e,f,g,k;g=l.prototype;j=Ext.getClassName(l);e=i.$namespace||Ext.app.getNamespace(j)||(k=m.exec(j))&&k[1];if(e){g.$namespace=e}h.processDependencies(g,f,e,'model',i.models);h.processDependencies(g,f,e,'view',i.views);h.processDependencies(g,f,e,'store',i.stores);h.processDependencies(g,f,e,'controller',i.controllers);Ext.require(f,Ext.Function.pass(b,arguments,this))}},constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);if(a.refs){a.ref(a.refs)}a.eventbus=Ext.app.EventBus;a.initAutoGetters()},initAutoGetters:function(){var b=this.self.prototype,c,a;for(c in b){a=b[c];if(a&&a['Ext.app.getter']){a.call(this)}}},doInit:function(b){var a=this;if(!a._initialized){a.init(b);a._initialized=!0}},finishInit:function(f){var c=this,a=c.controllers,d,b,e;if(c._initialized&&a&&a.length){for(b=0,e=a.length;b<e;b++){d=c.getController(a[b]);d.finishInit(f)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(b){var a=this,f=0,g=b.length,d,c,e;b=Ext.Array.from(b);a.references=a.references||[];for(;f<g;f++){d=b[f];c=d.ref;e='get'+Ext.String.capitalize(c);if(!a[e]){a[e]=Ext.Function.pass(a.getRef,[c,d],a)}a.references.push(c.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(d,a,e){var f=this,c=f.refCache||(f.refCache={}),b=c[d];a=a||{};e=e||{};Ext.apply(a,e);if(a.forceCreate){return Ext.ComponentManager.create(a,'component')}if(!b){if(a.selector){c[d]=b=Ext.ComponentQuery.query(a.selector)[0]}if(!b&&a.autoCreate){c[d]=b=Ext.ComponentManager.create(a,'component')}if(b){b.on('beforedestroy',function(){c[d]=null})}}return b},hasRef:function(b){var a=this.references;return a&&Ext.Array.indexOf(a,b.toLowerCase())!==-1},control:function(b,c,f){var e=this,d=f,a;if(Ext.isString(b)){a={};a[b]=c}else {a=b;d=c}e.eventbus.control(a,d||e)},listen:function(b,a){this.eventbus.listen(b,a||this)},getController:function(c){var a=this,b=a.application;if(c===a.id){return a}return b&&b.getController(c)},getStore:function(a){var c,b;c=a.indexOf('@')==-1?a:a.split('@')[0];b=Ext.StoreManager.get(c);if(!b){a=Ext.app.Controller.getFullName(a,'store',this.$namespace);if(a){b=Ext.create(a.absoluteName,{storeId:c})}}return b},getModel:function(b){var a=Ext.app.Controller.getFullName(b,'model',this.$namespace);return a&&Ext.ModelManager.getModel(a.absoluteName)},getView:function(b){var a=Ext.app.Controller.getFullName(b,'view',this.$namespace);return a&&Ext.ClassManager.get(a.absoluteName)},getApplication:function(){return this.application}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.app,'Controller'],0);Ext.cmd.derive('Ext.container.DockingContainer',Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(d,f){var a=this,c=0,b,e;d=a.prepareItems(d);e=d.length;for(;c<e;c++){b=d[c];b.dock=b.dock||'top';if(b.dock==='left'||b.dock==='right'){a.horizontalDocks++}if(f!==undefined){c+=f;a.dockedItems.insert(c,b)}else {a.dockedItems.add(b)}b.onAdded(a,c);if(a.hasListeners.dockedadd){a.fireEvent('dockedadd',a,b,c)}if(a.onDockedAdd!==Ext.emptyFn){a.onDockedAdd(b)}}if(a.rendered&&!a.suspendLayout){a.updateLayout()}return d},destroyDockedItems:function(){var a=this.dockedItems,b;if(a){while(b=a.first()){this.removeDocked(b,!0)}}},doRenderDockedItems:function(f,d,e){var g=d.$comp,a=g.componentLayout,b,c;if(a.getDockedItems&&!d.$skipDockedItems){b=a.getDockedItems('render',!e);c=b&&a.getItemsRenderTree(b);if(c){Ext.DomHelper.generateMarkup(c,f)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(b,c){var a=this.getComponentLayout().getDockedItems('render',c);if(b&&a.length){a=Ext.ComponentQuery.query(b,a)}return a},getDockingRefItems:function(e,d){var b=e&&'*,* *',a=this.getDockedItems(b,!0),c;a.push.apply(a,d);c=this.getDockedItems(b,!1);a.push.apply(a,c);return a},initDockingItems:function(){var a=this,b=a.dockedItems;a.dockedItems=new Ext.util.AbstractMixedCollection(!1,a.getComponentId);if(b){a.addDocked(b)}},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,c){var b=this,d,e;c=c===!0||c!==!1&&b.autoDestroy;if(!b.dockedItems.contains(a)){return a}if(a.dock==='left'||a.dock==='right'){b.horizontalDocks--}d=b.componentLayout;e=d&&b.rendered;if(e){d.onRemove(a)}b.dockedItems.remove(a);a.onRemoved(a.destroying||c);b.onDockedRemove(a);if(c){a.destroy()}else {if(e){d.afterRemove(a)}}if(b.hasListeners.dockedremove){b.fireEvent('dockedremove',b,a)}if(!b.destroying&&!b.suspendLayout){b.updateLayout()}return a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,'DockingContainer'],0);Ext.define('Ext.toolbar.Fill',{extend:Ext.Component,alias:'widget.tbfill',alternateClassName:'Ext.Toolbar.Fill',isFill:!0,flex:1});Ext.cmd.derive('Ext.layout.container.boxOverflow.None',Ext.Base,{alternateClassName:'Ext.layout.boxOverflow.None',constructor:function(b,a){this.layout=b;Ext.apply(this,a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(b){var c=this,d=b.state.boxPlan,a;if(d&&d.tooNarrow){a=c.handleOverflow(b);if(a){if(a.reservedSpace){c.layout.publishInnerCtSize(b,a.reservedSpace)}}}else {c.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(e){var b=this,d=b.layout.owner,c,a;if(d.hasListeners.overflowchange){c=d.query('>[hidden]');a=c.length;if(a!==b.lastHiddenCount){d.fireEvent('overflowchange',b.lastHiddenCount,a,c);b.lastHiddenCount=a}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(b){var a;if(b.isToolbar){a='toolbar'}else {if(b.isTabBar){a='tabbar'}else {if(b.isMenu){a='menu'}else {a=b.getXType()}}}return a},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return ''}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,'None',Ext.layout.boxOverflow,'None'],0);Ext.define('Ext.toolbar.Item',{extend:Ext.Component,alias:'widget.tbitem',alternateClassName:'Ext.Toolbar.Item',enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define('Ext.toolbar.Separator',{extend:Ext.toolbar.Item,alias:'widget.tbseparator',alternateClassName:'Ext.Toolbar.Separator',baseCls:'x-toolbar-separator',focusable:!1});Ext.cmd.derive('Ext.button.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.ButtonToggleManager',groups:{},pressedButton:null,buttonSelector:'.x-btn',init:function(){var a=this;if(!a.initialized){Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a});a.initialized=!0}},onDocumentKeyDown:function(a){var c=a.getKey(),b;if(c===a.SPACE||c===a.ENTER){b=a.getTarget(this.buttonSelector);if(b){Ext.getCmp(b.id).onClick(a)}}},onButtonMousedown:function(b,c){var a=this.pressedButton;if(a){a.onMouseUp(c)}this.pressedButton=b},onDocumentMouseUp:function(b){var a=this.pressedButton;if(a){a.onMouseUp(b);this.pressedButton=null}},toggleGroup:function(c,e){if(e){var b=this.groups[c.toggleGroup],d=b.length,a;for(a=0;a<d;a++){if(b[a]!==c){b[a].toggle(!1)}}}},register:function(a){var c=this,d=this.groups,b=d[a.toggleGroup];c.init();if(!a.toggleGroup){return}if(!b){b=d[a.toggleGroup]=[]}b.push(a);a.on('toggle',c.toggleGroup,c)},unregister:function(a){if(!a.toggleGroup){return}var b=this,c=b.groups[a.toggleGroup];if(c){Ext.Array.remove(c,a);a.un('toggle',b.toggleGroup,b)}},getPressed:function(d){var a=this.groups[d],b=0,c;if(a){for(c=a.length;b<c;b++){if(a[b].pressed===!0){return a[b]}}}return null}},0,0,0,0,0,0,[Ext.button,'Manager',Ext,'ButtonToggleManager'],0);Ext.cmd.derive('Ext.menu.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.menu.MenuMgr',menuSelector:'.x-menu',menus:{},groups:{},attached:!1,lastShow:new Date(),init:function(){var a=this;a.active=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var b=this.active,c,a,d;if(b&&b.length>0){c=Ext.Array.slice(b.items);d=c.length;for(a=0;a<d;a++){c[a].hide()}return !0}return !1},onHide:function(c){var a=this,b=a.active;b.remove(c);if(b.length<1){Ext.getDoc().un('mousedown',a.onMouseDown,a);a.attached=!1}},onShow:function(b){var a=this,d=a.active,c=a.attached;a.lastShow=new Date();d.add(b);if(!c){Ext.getDoc().on('mousedown',a.onMouseDown,a,{buffer:Ext.isIE9m?10:undefined});a.attached=!0}b.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(b){var c=this.active,a=b.parentMenu;c.remove(b);if(!a&&!b.allowOtherMenus){this.hideAll()}else {if(a&&a.activeChild&&b!=a.activeChild){a.activeChild.hide()}}},onMouseDown:function(c){var a=this,e=a.active,d=a.lastShow,b=!0;if(Ext.Date.getElapsed(d)>50&&e.length>0&&!c.getTarget(a.menuSelector)){if(Ext.isIE9m&&!Ext.getDoc().contains(c.target)){b=!1}if(b){a.hideAll()}}},register:function(b){var a=this;if(!a.active){a.init()}if(b.floating){a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})}},get:function(a){var b=this.menus;if(typeof a=='string'){if(!b){return null}return b[a]}else {if(a.isMenu){return a}else {if(Ext.isArray(a)){return new Ext.menu.Menu({items:a})}else {return Ext.ComponentManager.create(a,'menu')}}}},unregister:function(b){var a=this,d=a.menus,c=a.active;delete d[b.id];c.remove(b);b.un({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})},registerCheckable:function(c){var b=this.groups,a=c.group;if(a){if(!b[a]){b[a]=[]}b[a].push(c)}},unregisterCheckable:function(a){var c=this.groups,b=a.group;if(b){Ext.Array.remove(c[b],a)}},onCheckChange:function(d,h){var g=this.groups,e=d.group,c=0,a,f,b;if(e&&h){a=g[e];f=a.length;for(;c<f;c++){b=a[c];if(b!=d){b.setChecked(!1)}}}}},0,0,0,0,0,0,[Ext.menu,'Manager',Ext.menu,'MenuMgr'],0);Ext.cmd.derive('Ext.util.ClickRepeater',Ext.util.Observable,{constructor:function(c,b){var a=this;a.el=Ext.get(c);a.el.unselectable();Ext.apply(a,b);Ext.util.Observable.prototype.constructor.call(this);a.addEvents('mousedown','click','mouseup');if(!a.disabled){a.disabled=!0;a.enable()}if(a.handler){a.on('click',a.handler,a.scope||a)}},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on('mousedown',this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)){this.el.on('dblclick',this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on('click',this.eventOptions,this)}}this.disabled=!1},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un('mouseup',this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=!0},setDisabled:function(a){this[a?'disable':'enable']()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(!0);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent('mousedown',this,a);this.fireEvent('click',this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on('mouseup',this.handleMouseUp,this);this.el.on('mouseout',this.handleMouseOut,this);this.fireEvent('mousedown',this,a);this.fireEvent('click',this,a);if(this.accelerate){this.delay=400}a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent('click',this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(d,a,b,c){return d==c?a+b:b*(-Math.pow(2,-10*d/c)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on('mouseover',this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un('mouseover',this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un('mouseover',this.handleMouseReturn,this);this.el.un('mouseout',this.handleMouseOut,this);Ext.getDoc().un('mouseup',this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent('mouseup',this,a)}},1,0,0,0,0,0,[Ext.util,'ClickRepeater'],0);Ext.cmd.derive('Ext.layout.component.Button',Ext.layout.component.Auto,{type:'button',htmlRE:/<.*>/,beginLayout:function(a){var d=this,b=d.owner,c=b.text;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.btnWrapContext=a.getEl('btnWrap');a.btnElContext=a.getEl('btnEl');a.btnInnerElContext=a.getEl('btnInnerEl');a.btnIconElContext=a.getEl('btnIconEl');if(c&&d.htmlRE.test(c)){a.isHtmlText=!0;b.btnInnerEl.setStyle('line-height','normal');b.btnInnerEl.setStyle('padding-top','')}},beginLayoutCycle:function(c){var a=this.owner,b=this.lastWidthModel;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(b&&!this.lastWidthModel.shrinkWrap&&c.widthModel.shrinkWrap){a.btnWrap.setStyle('height','');a.btnEl.setStyle('height','');a.btnInnerEl.setStyle('line-height','')}},calculate:function(a){var d=this,c=d.owner,k=a.btnElContext,i=a.btnInnerElContext,j=a.btnWrapContext,h=Math.max,e,f,b,g;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(a.heightModel.shrinkWrap){b=c.btnEl.getHeight();if(a.isHtmlText){d.centerInnerEl(a,b);d.ieCenterIcon(a,b)}}else {e=a.getProp('height');if(e){f=e-a.getFrameInfo().height-a.getPaddingInfo().height;b=f;if((c.menu||c.split)&&c.arrowAlign==='bottom'){b-=j.getPaddingInfo().bottom}g=b;if((c.icon||c.iconCls||c.glyph)&&(c.iconAlign==='top'||c.iconAlign==='bottom')){g-=i.getPaddingInfo().height}j.setProp('height',h(0,f));k.setProp('height',h(0,b));if(a.isHtmlText){d.centerInnerEl(a,b)}else {i.setProp('line-height',h(0,g)+'px')}d.ieCenterIcon(a,b)}else {if(e!==0){d.done=!1}}}},centerInnerEl:function(b,c){var e=this,d=b.btnInnerElContext,a=e.owner.btnInnerEl.getHeight();if(b.heightModel.shrinkWrap&&c<a){b.btnElContext.setHeight(a)}else {if(c>a){d.setProp('padding-top',Math.round((c-a)/2)+d.getPaddingInfo().top)}}},ieCenterIcon:function(b,c){var a=this.owner.iconAlign;if((Ext.isIEQuirks||Ext.isIE6)&&(a==='left'||a==='right')){b.btnIconElContext.setHeight(c)}},publishInnerWidth:function(a,b){if(this.owner.getFrameInfo().table){a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)}}},0,0,0,0,['layout.button'],0,[Ext.layout.component,'Button'],0);Ext.cmd.derive('Ext.util.TextMetrics',Ext.Base,{statics:{shared:null,measure:function(d,e,c){var b=this,a=b.shared;if(!a){a=b.shared=new b(d,c)}a.bind(d);a.setFixedWidth(c||'auto');return a.getSize(e)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(c,b){var d=this,a=Ext.getBody().createChild({cls:'x-textmetrics'});d.measure=a;if(c){d.bind(c)}a.position('absolute');a.setLocalXY(-1000,-1000);a.hide();if(b){a.setWidth(b)}},getSize:function(c){var a=this.measure,b;a.update(c);b=a.getSize();a.update('');return b},bind:function(b){var a=this;a.el=Ext.get(b);a.measure.setStyle(a.el.getStyles('font-size','font-style','font-weight','font-family','line-height','text-transform','letter-spacing'))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width='auto';return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove();delete a.el;delete a.measure}},1,0,0,0,0,0,[Ext.util,'TextMetrics'],function(){Ext.Element.addMethods({getTextWidth:function(a,c,b){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,!0)).width,c||0,b||1000000)}})});Ext.cmd.derive('Ext.button.Button',Ext.Component,{alternateClassName:'Ext.Button',isButton:!0,componentLayout:'button',hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:'tl-bl?',showEmptyMenu:!1,textAlign:'center',clickEvent:'click',preventDefault:!0,handleMouseEvents:!0,tooltipType:'qtip',baseCls:'x-btn',pressedCls:'pressed',overCls:'over',focusCls:'focus',menuActiveCls:'menu-active',hrefTarget:'_blank',childEls:['btnEl','btnWrap','btnInnerEl','btnIconEl'],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">','{text}','</span>','<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>','</span>','</span>','</span>','<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>','</tpl>'],scale:'small',allowedScales:['small','medium','large'],iconAlign:'left',arrowAlign:'right',arrowCls:'arrow',maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){var a=this;a.autoEl={tag:'a',role:'button',hidefocus:'on',unselectable:'on'};a.addCls('x-unselectable');Ext.Component.prototype.initComponent.apply(this,arguments);a.addEvents('click','toggle','mouseover','mouseout','menushow','menuhide','menutriggerover','menutriggerout','textchange','iconchange','glyphchange');if(a.menu){a.split=!0;a.menu=Ext.menu.Manager.get(a.menu);a.menu.ownerButton=a}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty('preventDefault')){a.preventDefault=!1}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==''){a.enableToggle=!0}if(a.html&&!a.text){a.text=a.html;delete a.html}a.glyphCls=a.baseCls+'-glyph'},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments)},setComponentCls:function(){var a=this,b=a.getComponentCls();if(!Ext.isEmpty(a.oldCls)){a.removeClsWithUI(a.oldCls);a.removeClsWithUI(a.pressedCls)}a.oldCls=b;a.addClsWithUI(b)},getComponentCls:function(){var a=this,b;if(a.iconCls||a.icon||a.glyph){b=[a.text?'icon-text-'+a.iconAlign:'icon']}else {if(a.text){b=['noicon']}else {b=[]}}if(a.pressed){b[b.length]=a.pressedCls}return b},beforeRender:function(){var a=this,b=a.autoEl,d=a.getHref(),c=a.hrefTarget;if(!a.disabled){b.tabIndex=a.tabIndex}if(d){b.href=d;if(c){b.target=c}}Ext.Component.prototype.beforeRender.call(this);a.oldCls=a.getComponentCls();a.addClsWithUI(a.oldCls);Ext.applyIf(a.renderData,a.getTemplateArgs())},onRender:function(){var a=this,d,c,b;a.doc=Ext.getDoc();Ext.Component.prototype.onRender.apply(this,arguments);c=a.el;if(a.tooltip){a.setTooltip(a.tooltip,!0)}if(a.handleMouseEvents){b={scope:a,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousedown:a.onMouseDown};if(a.split){b.mousemove=a.onMouseMove}}else {b={scope:a}}if(a.menu){a.mon(a.menu,{scope:a,show:a.onMenuShow,hide:a.onMenuHide});a.keyMap=new Ext.util.KeyMap({target:a.el,key:Ext.EventObject.DOWN,handler:a.onDownKey,scope:a})}if(a.repeat){a.mon(new Ext.util.ClickRepeater(c,Ext.isObject(a.repeat)?a.repeat:{}),'click',a.onRepeatClick,a)}else {if(b[a.clickEvent]){d=!0}else {b[a.clickEvent]=a.onClick}}a.mon(c,b);if(d){a.mon(c,a.clickEvent,a.onClick,a)}Ext.button.Manager.register(a)},getTemplateArgs:function(){var a=this,b=a.glyph,d=Ext._glyphFontFamily,c;if(typeof b==='string'){c=b.split('@');b=c[0];d=c[1]}return {innerCls:a.getInnerCls(),splitCls:a.getSplitCls(),iconUrl:a.icon,iconCls:a.iconCls,glyph:b,glyphCls:b?a.glyphCls:'',glyphFontFamily:d,text:a.text||'&#160;'}},setHref:function(a){this.href=a;this.el.dom.href=this.getHref()},getHref:function(){var a=this,b=a.href;return b?Ext.urlAppend(b,Ext.Object.toQueryString(Ext.apply({},a.params,a.baseParams))):!1},setParams:function(a){this.params=a;this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+'-'+a.arrowCls+' '+(a.baseCls+'-'+a.arrowCls+'-'+a.arrowAlign):''},getInnerCls:function(){return this.textAlign?this.baseCls+'-inner-'+this.textAlign:''},setIcon:function(b){b=b||'';var a=this,d=a.btnIconEl,c=a.icon||'';a.icon=b;if(b!=c){if(d){d.setStyle('background-image',b?'url('+b+')':'');a.setComponentCls();if(a.didIconStateChange(c,b)){a.updateLayout()}}a.fireEvent('iconchange',a,c,b)}return a},setIconCls:function(b){b=b||'';var a=this,d=a.btnIconEl,c=a.iconCls||'';a.iconCls=b;if(c!=b){if(d){d.removeCls(c);d.addCls(b);a.setComponentCls();if(a.didIconStateChange(c,b)){a.updateLayout()}}a.fireEvent('iconchange',a,c,b)}return a},setGlyph:function(a){a=a||0;var b=this,c=b.btnIconEl,f=b.glyph,d,e;b.glyph=a;if(c){if(typeof a==='string'){e=a.split('@');a=e[0];d=e[1]||Ext._glyphFontFamily}if(!a){c.dom.innerHTML=''}else {if(f!=a){c.dom.innerHTML='&#'+a+';'}}if(d){c.setStyle('font-family',d)}}b.fireEvent('glyphchange',b,b.glyph,f);return b},setTooltip:function(b,c){var a=this;if(a.rendered){if(!c||!b){a.clearTip()}if(b){if(Ext.quickTipsActive&&Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.el.id},b));a.tooltip=b}else {a.el.dom.setAttribute(a.getTipAttr(),b)}}}else {a.tooltip=b}return a},setTextAlign:function(c){var a=this,b=a.btnEl;if(b){b.removeCls(a.baseCls+'-inner-'+a.textAlign);b.addCls(a.baseCls+'-inner-'+c)}a.textAlign=c;return a},getTipAttr:function(){return this.tooltipType=='qtip'?'data-qtip':'title'},getRefItems:function(c){var b=this.menu,a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},clearTip:function(){var a=this,b=a.el;if(Ext.quickTipsActive&&Ext.isObject(a.tooltip)){Ext.tip.QuickTipManager.unregister(b)}else {b.dom.removeAttribute(a.getTipAttr())}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu!==!1){Ext.destroy(a.menu)}Ext.destroy(a.btnInnerEl,a.repeater);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var a=this;if(a.rendered){a.doc.un('mouseover',a.monitorMouseOver,a);delete a.doc;Ext.destroy(a.keyMap);delete a.keyMap}Ext.button.Manager.unregister(a);Ext.Component.prototype.onDestroy.call(this)},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(b){b=b||'';var a=this,c=a.text||'';if(b!=c){a.text=b;if(a.rendered){a.btnInnerEl.update(b||'&#160;');a.setComponentCls();if(Ext.isStrict&&Ext.isIE8){a.el.repaint()}a.updateLayout()}a.fireEvent('textchange',a,c,b)}return a},didIconStateChange:function(c,b){var a=Ext.isEmpty(b);return Ext.isEmpty(c)?!a:a},getText:function(){return this.text},toggle:function(b,c){var a=this;b=b===undefined?!a.pressed:!!b;if(b!==a.pressed){if(a.rendered){a[b?'addClsWithUI':'removeClsWithUI'](a.pressedCls)}a.pressed=b;if(!c){a.fireEvent('toggle',a,b);Ext.callback(a.toggleHandler,a.scope||a,[a,b])}}return a},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu(!0)}},showMenu:function(c){var a=this,b=a.menu;if(a.rendered){if(a.tooltip&&Ext.quickTipsActive&&a.getTipAttr()!='title'){Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.el)}if(b.isVisible()){b.hide()}if(!c||a.showEmptyMenu||b.items.getCount()>0){b.showBy(a.el,a.menuAlign)}}return a},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(b,a){this.onClick(a)},onClick:function(b){var a=this;if(a.preventDefault||a.disabled&&a.getHref()&&b){b.preventDefault()}if(b.type!=='keydown'&&b.button!==0){return}if(!a.disabled){a.doToggle();a.maybeShowMenu();a.fireHandler(b)}},fireHandler:function(c){var a=this,b=a.handler;if(a.fireEvent('click',a,c)!==!1){if(b){b.call(a.scope||a,a,c)}}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==!1||!a.pressed)){a.toggle()}},onMouseOver:function(b){var a=this;if(!a.disabled&&!b.within(a.el,!0,!0)){a.onMouseEnter(b)}},onMouseOut:function(b){var a=this;if(!b.within(a.el,!0,!0)){if(a.overMenuTrigger){a.onMenuTriggerOut(b)}a.onMouseLeave(b)}},onMouseMove:function(b){var a=this,f=a.el,e=a.overMenuTrigger,d,c;if(a.split){d=a.arrowAlign==='right'?b.getX()-a.getX():b.getY()-f.getY();c=a.getTriggerRegion();if(d>c.begin&&d<c.end){if(!e){a.onMenuTriggerOver(b)}}else {if(e){a.onMenuTriggerOut(b)}}}},getTriggerRegion:function(){var a=this,b=a._triggerRegion,d=a.getTriggerSize(),c=a.arrowAlign==='right'?a.getWidth():a.getHeight();b.begin=c-d;b.end=c;return b},getTriggerSize:function(){var a=this,b=a.triggerSize,d,c;if(b==null){d=a.arrowAlign;c=d.charAt(0);b=a.triggerSize=a.el.getFrameWidth(c)+a.getBtnWrapFrameWidth(c);if(a.frameSize){b=a.triggerSize+=a.frameSize[d]}}return b},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){if(!this.disabled){this.addClsWithUI(this.overCls)}},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent('mouseover',this,a)},onMouseLeave:function(a){this.fireEvent('mouseout',this,a)},onMenuTriggerOver:function(c){var a=this,b=a.arrowTooltip;a.overMenuTrigger=!0;if(a.split&&b){a.btnWrap.dom.setAttribute(a.getTipAttr(),b)}a.fireEvent('menutriggerover',a,a.menu,c)},onMenuTriggerOut:function(b){var a=this;delete a.overMenuTrigger;if(a.split&&a.arrowTooltip){a.btnWrap.dom.setAttribute(a.getTipAttr(),'')}a.fireEvent('menutriggerout',a,a.menu,b)},enable:function(b){var a=this;Ext.Component.prototype.enable.apply(this,arguments);a.removeClsWithUI('disabled');if(a.rendered){a.el.dom.setAttribute('tabIndex',a.tabIndex)}return a},disable:function(b){var a=this;Ext.Component.prototype.disable.apply(this,arguments);a.addClsWithUI('disabled');a.removeClsWithUI(a.overCls);if(a.rendered){a.el.dom.removeAttribute('tabIndex')}if(a.btnInnerEl&&Ext.isIE7m){a.btnInnerEl.repaint()}return a},setScale:function(b){var a=this,c=a.ui.replace('-'+a.scale,'');if(!Ext.Array.contains(a.allowedScales,b)){throw '#setScale: scale must be an allowed scale ('+a.allowedScales.join(', ')+')'}a.scale=b;a.setUI(c)},setUI:function(a){var b=this;if(b.scale&&!a.match(b.scale)){a=a+'-'+b.scale}Ext.Component.prototype.setUI.call(this,a)},onMouseDown:function(b){var a=this;if(Ext.isIE){a.getFocusEl().focus()}if(!a.disabled&&b.button===0){Ext.button.Manager.onButtonMousedown(a,b);a.addClsWithUI(a.pressedCls)}},onMouseUp:function(b){var a=this;if(b.button===0){if(!a.pressed){a.removeClsWithUI(a.pressedCls)}}},onMenuShow:function(b){var a=this;a.ignoreNextClick=0;a.addClsWithUI(a.menuActiveCls);a.fireEvent('menushow',a,a.menu)},onMenuHide:function(b){var a=this;a.removeClsWithUI(a.menuActiveCls);a.ignoreNextClick=Ext.defer(a.restoreClick,250,a);a.fireEvent('menuhide',a,a.menu);a.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(c,b){var a=this;if(a.menu&&!a.disabled){a.showMenu();b.stopEvent();return !1}}},0,['button'],['component','box','button'],{'component':!0,'box':!0,'button':!0},['widget.button'],[['queryable',Ext.Queryable]],[Ext.button,'Button',Ext,'Button'],0);Ext.cmd.derive('Ext.layout.container.boxOverflow.Menu',Ext.layout.container.boxOverflow.None,{alternateClassName:'Ext.layout.boxOverflow.Menu',noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',constructor:function(b){var a=this;Ext.layout.container.boxOverflow.None.prototype.constructor.apply(this,arguments);a.triggerButtonCls=a.triggerButtonCls||'x-box-menu-after';a.menuItems=[]},beginLayout:function(a){Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,b){Ext.layout.container.boxOverflow.None.prototype.beginLayoutCycle.apply(this,arguments);if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,c=a.layout,b=c.owner,d=b.id;a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}});a.menuTrigger=new Ext.button.Button({id:d+'-menu-trigger',cls:Ext.layout.container.Box.prototype.innerCls+' '+a.triggerButtonCls+' x-toolbar-item',plain:b.usePlainButtons,ownerCt:b,ownerLayout:c,iconCls:'x-'+a.getOwnerType(b)+'-more-icon',ui:b instanceof Ext.toolbar.Toolbar?'default-toolbar':'default',menu:a.menu,showEmptyMenu:!0,getSplitCls:function(){return ''}});return a.menuTrigger.getRenderTree()},getOverflowCls:function(){return 'x-'+this.layout.direction+'-box-overflow-body'},handleOverflow:function(b){var a=this,e=a.layout,d=e.names,f=b.state.boxPlan,c=[null,null];a.showTrigger(b);if(a.layout.direction!=='vertical'){c[d.heightIndex]=(f.maxSize-a.menuTrigger[d.getHeight]())/2;a.menuTrigger.setPosition.apply(a.menuTrigger,c)}return {reservedSpace:a.triggerTotalWidth}},captureChildElements:function(){var b=this,a=b.menuTrigger,c=b.layout.names;if(a.rendering){a.finishRender();b.triggerTotalWidth=a[c.getWidth]()+a.el.getMargin(c.parallelMargins)}},_asLayoutRoot:{isRoot:!0},clearOverflow:function(h){var a=this,c=a.menuItems,b,d=0,g=c.length,e=a.layout.owner,f=a._asLayoutRoot;e.suspendLayouts();a.captureChildElements();a.hideTrigger();e.resumeLayouts();for(;d<g;d++){b=c[d];b.suspendLayouts();b.show();b.resumeLayouts(f)}c.length=0},showTrigger:function(g){var a=this,k=a.layout,m=k.owner,l=k.names,n=l.x,j=l.width,o=g.state.boxPlan,i=o.targetSize[j],h=g.childItems,p=h.length,d=a.menuTrigger,c,f,b,e;d.suspendLayouts();d.show();d.resumeLayouts(a._asLayoutRoot);i-=a.triggerTotalWidth;m.suspendLayouts();a.menuItems.length=0;for(b=0;b<p;b++){c=h[b];e=c.props;if(e[n]+e[j]>i){f=c.target;a.menuItems.push(f);f.hide()}}m.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(a){var d=this,g=d.menuItems,e=0,h=g.length,b,c,f=function(b,c){return b.isXType('buttongroup')&&!(c instanceof Ext.toolbar.Separator)};a.suspendLayouts();d.clearMenu();a.removeAll();for(;e<h;e++){b=g[e];if(!e&&b instanceof Ext.toolbar.Separator){continue}if(c&&(f(b,c)||f(c,b))){a.add('-')}d.addComponentToMenu(a,b);c=b}if(a.items.length<1){a.add(d.noItemsMenuText)}a.resumeLayouts()},createMenuConfig:function(a,e){var c=this,b=Ext.apply({},a.initialConfig),d=a.toggleGroup;Ext.copyTo(b,a,['iconCls','icon','itemId','disabled','handler','scope','menu','tabIndex']);Ext.apply(b,{text:a.overflowText||a.text,hideOnClick:e,destroyMenu:!1,listeners:{}});if(a.isFormField){b.value=a.getValue();b.listeners.change=function(d,b,c){a.setValue(b)}}else {if(d||a.enableToggle){Ext.apply(b,{hideOnClick:!1,group:d,checked:a.pressed,handler:function(c,b){a.onClick(b)}})}}if(a.isButton&&!a.changeListenersAdded){a.on({textchange:c.onButtonAttrChange,iconchange:c.onButtonAttrChange,toggle:c.onButtonToggle});a.changeListenersAdded=!0}delete b.margin;delete b.ownerCt;delete b.xtype;delete b.id;delete b.itemId;return b},onButtonAttrChange:function(b){var a=b.overflowClone;a.suspendLayouts();a.setText(b.text);a.setIcon(b.icon);a.setIconCls(b.iconCls);a.resumeLayouts(!0)},onButtonToggle:function(b,a){if(b.overflowClone.checked!==a){b.overflowClone.setChecked(a)}},addComponentToMenu:function(b,a){var c=this,d,e,f;if(a instanceof Ext.toolbar.Separator){b.add('-')}else {if(a.isComponent){if(a.isXType('splitbutton')){a.overflowClone=b.add(c.createMenuConfig(a,!0))}else {if(a.isXType('button')){a.overflowClone=b.add(c.createMenuConfig(a,!a.menu))}else {if(a.isXType('buttongroup')){e=a.items.items;f=e.length;for(d=0;d<f;d++){c.addComponentToMenu(b,e[d])}}else {a.overflowClone=b.add(Ext.create(Ext.getClassName(a),c.createMenuConfig(a)))}}}}}},clearMenu:function(){var d=this.menu,b,a,e,c;if(d&&d.items){b=d.items.items;e=b.length;for(a=0;a<e;a++){c=b[a];if(c.setMenu){c.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,'Menu',Ext.layout.boxOverflow,'Menu'],0);Ext.cmd.derive('Ext.layout.container.boxOverflow.Scroller',Ext.layout.container.boxOverflow.None,{alternateClassName:'Ext.layout.boxOverflow.Scroller',animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:'x-box-scroller',constructor:function(c,b){var a=this;a.layout=c;Ext.apply(a,b||{});a.mixins.observable.constructor.call(a);a.addEvents('scroll');a.scrollPosition=0;a.scrollSize=0},getPrefixConfig:function(){var a=this,c=a.layout,d=c.owner,b;a.initCSSClasses();b=Ext.layout.container.Box.prototype.innerCls+' '+a.beforeCtCls;if(d.plain){b+=' '+a.scrollerCls+'-plain'}return {cls:b,cn:{id:d.id+c.names.beforeScrollerSuffix,cls:a.scrollerCls+' '+a.beforeScrollerCls,style:'display:none'}}},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=Ext.layout.container.Box.prototype.innerCls+' '+a.afterCtCls;if(c.plain){d+=' '+a.scrollerCls+'-plain'}return {cls:d,cn:{id:c.id+b.names.afterScrollerSuffix,cls:a.scrollerCls+' '+a.afterScrollerCls,style:'display:none'}}},getOverflowCls:function(){return 'x-'+this.layout.direction+'-box-overflow-body'},initCSSClasses:function(){var a=this,b='x-',e=a.layout,f=e.names,c=f.beforeX,d=f.afterX,g=a.getOwnerType(e.owner);a.beforeCtCls=a.beforeCtCls||b+'box-scroller-'+c;a.afterCtCls=a.afterCtCls||b+'box-scroller-'+d;a.beforeScrollerCls=a.beforeScrollerCls||b+g+'-scroll-'+c;a.afterScrollerCls=a.afterScrollerCls||b+g+'-scroll-'+d},beginLayout:function(a){var b=this.layout;a.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},completeLayout:function(a){var c=this,e=a.state.boxPlan,d=c.layout.names,b;if(e&&e.tooNarrow){b=a.childItems[a.childItems.length-1];c.scrollSize=b.props[d.x]+b.props[d.width];c.updateScrollButtons()}Ext.layout.container.boxOverflow.None.prototype.completeLayout.apply(this,arguments)},finishedLayout:function(c){var b=this,a=b.layout,d=Math.min(b.getMaxScrollPosition(),c.innerCtScrollPos);a.innerCt[a.names.setScrollLeft](d)},handleOverflow:function(c){var a=this,b=a.layout.names.getWidth;a.showScrollers();return {reservedSpace:a.beforeCt[b]()+a.afterCt[b]()}},captureChildElements:function(){var a=this,h=a.layout.owner.el,b,c,g,d,f,e;if(!a.beforeCt){e='-hover';d='-pressed';g=a.scrollerCls+e;f=a.scrollerCls+d;b=a.beforeScroller=h.getById(a.layout.owner.id+'-before-scroller');c=a.afterScroller=h.getById(a.layout.owner.id+'-after-scroller');a.beforeCt=b.up('');a.afterCt=c.up('');a.createWheelListener();b.addClsOnOver(g);b.addClsOnOver(a.beforeScrollerCls+e);b.addClsOnClick(f);b.addClsOnClick(a.beforeScrollerCls+d);c.addClsOnOver(g);c.addClsOnOver(a.afterScrollerCls+e);c.addClsOnClick(f);c.addClsOnClick(a.afterScrollerCls+d);b.setVisibilityMode(Ext.Element.DISPLAY);c.setVisibilityMode(Ext.Element.DISPLAY);a.beforeRepeater=new Ext.util.ClickRepeater(b,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a});a.afterRepeater=new Ext.util.ClickRepeater(c,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a})}},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,!1)},stopEvent:!0})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.layout.owner.addClsWithUI(a.layout.direction==='vertical'?'vertical-scroller':'scroller')},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI(a.layout.direction==='vertical'?'vertical-scroller':'scroller')}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return {duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this,d,e,f,g,b,c='-disabled';if(a.beforeScroller==null||a.afterScroller==null){return}d=a.atExtremeBefore()?'addCls':'removeCls';e=a.atExtremeAfter()?'addCls':'removeCls';b=a.scrollerCls+c;f=[b,a.beforeScrollerCls+c];g=[b,a.afterScrollerCls+c];a.beforeScroller[d](f);a.afterScroller[e](g);a.scrolling=!1},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var b=this,c=b.layout,a;if(isNaN(b.scrollPosition)){a=c.innerCt[c.names.getScrollLeft]()}else {a=b.scrollPosition}return a},getMaxScrollPosition:function(){var c=this,b=c.layout,a=c.scrollSize-b.innerCt[b.names.getWidth]();return a<0?0:a},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(g,b){var a=this,d=a.layout,e=d.names,f=a.getScrollPosition(),c=Ext.Number.constrain(g,0,a.getMaxScrollPosition());if(c!=f&&!a.scrolling){a.scrollPosition=NaN;if(b===undefined){b=a.animateScroll}d.innerCt[e.scrollTo](e.beforeScrollX,c,b?a.getScrollAnim():!1);if(b){a.scrolling=!0}else {a.updateScrollButtons()}a.fireEvent('scroll',a,c,b?a.getScrollAnim():!1)}},scrollToItem:function(a,i){var c=this,g=c.layout,h=g.owner,e=g.names,d,f,b;a=c.getItem(a);if(a!==undefined){if(a==h.items.first()){b=0}else {if(a===h.items.last()){b=c.getMaxScrollPosition()}else {d=c.getItemVisibility(a);if(!d.fullyVisible){f=a.getBox(!1,!0);b=f[e.x];if(d.hiddenEnd){b-=c.layout.innerCt[e.getWidth]()-f[e.width]}}}}if(b!==undefined){c.scrollTo(b,i)}}},getItemVisibility:function(i){var d=this,h=d.getItem(i).getBox(!0,!0),g=d.layout,c=g.names,b=h[c.x],f=b+h[c.width],a=d.getScrollPosition(),e=a+g.innerCt[c.getWidth]();return {hiddenStart:b<a,hiddenEnd:f>e,fullyVisible:b>a&&f<e}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.layout.container.boxOverflow,'Scroller',Ext.layout.boxOverflow,'Scroller'],0);Ext.cmd.derive('Ext.util.Offset',Ext.Base,{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return 'Offset['+this.x+','+this.y+']'},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else {this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}},3,0,0,0,0,0,[Ext.util,'Offset'],0);Ext.cmd.derive('Ext.util.Region',Ext.Base,{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(e,d,b,c){var a=this;a.y=a.top=a[1]=e;a.right=d;a.bottom=b;a.x=a.left=a[0]=c},contains:function(a){var b=this;return a.x>=b.x&&a.right<=b.right&&a.y>=b.y&&a.bottom<=b.bottom},intersect:function(a){var b=this,f=Math.max(b.y,a.y),e=Math.min(b.right,a.right),c=Math.min(b.bottom,a.bottom),d=Math.max(b.x,a.x);if(c>f&&e>d){return new this.self(f,e,c,d)}else {return !1}},union:function(a){var b=this,f=Math.min(b.y,a.y),e=Math.max(b.right,a.right),c=Math.max(b.bottom,a.bottom),d=Math.min(b.x,a.x);return new this.self(f,e,c,d)},constrainTo:function(b){var a=this,c=Ext.Number.constrain;a.top=a.y=c(a.top,b.y,b.bottom);a.bottom=c(a.bottom,b.y,b.bottom);a.left=a.x=c(a.left,b.x,b.right);a.right=c(a.right,b.x,b.right);return a},adjust:function(e,d,b,c){var a=this;a.top=a.y+=e;a.left=a.x+=c;a.right+=d;a.bottom+=b;return a},getOutOfBoundOffset:function(b,a){if(!Ext.isObject(b)){if(b=='x'){return this.getOutOfBoundOffsetX(a)}else {return this.getOutOfBoundOffsetY(a)}}else {a=b;var c=new Ext.util.Offset();c.x=this.getOutOfBoundOffsetX(a.x);c.y=this.getOutOfBoundOffsetY(a.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else {if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else {if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(b,a){if(!Ext.isObject(b)){if(b=='x'){return this.isOutOfBoundX(a)}else {return this.isOutOfBoundY(a)}}else {a=b;return this.isOutOfBoundX(a.x)||this.isOutOfBoundY(a.y)}},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(d,a,b){if(Ext.isObject(d)){var c;b=a;a=d;if(a.copy){c=a.copy()}else {c={x:a.x,y:a.y}}c.x=this.restrictX(a.x,b);c.y=this.restrictY(a.y,b);return c}else {if(d=='x'){return this.restrictX(a,b)}else {return this.restrictY(a,b)}}},restrictX:function(a,b){if(!b){b=1}if(a<=this.x){a-=(a-this.x)*b}else {if(a>=this.right){a-=(a-this.right)*b}}return a},restrictY:function(a,b){if(!b){b=1}if(a<=this.y){a-=(a-this.y)*b}else {if(a>=this.bottom){a-=(a-this.bottom)*b}}return a},getSize:function(){return {width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return 'Region['+this.top+','+this.right+','+this.bottom+','+this.left+']'},translateBy:function(b,c){if(arguments.length==1){c=b.y;b=b.x}var a=this;a.top=a.y+=c;a.right+=b;a.bottom+=c;a.left=a.x+=b;return a},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}},3,0,0,0,0,0,[Ext.util,'Region'],0);Ext.cmd.derive('Ext.dd.DragDropManager',Ext.Base,{singleton:!0,alternateClassName:['Ext.dd.DragDropMgr','Ext.dd.DDM'],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:'x-dd-drag-current',_execOnAll:function(d,e){var b,c,a;for(b in this.ids){for(c in this.ids[b]){a=this.ids[b][c];if(!this.isTypeOfDD(a)){continue}a[d].apply(a,e)}}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,'mouseup',this.handleMouseUp,this,!0);a.on(document,'mousemove',this.handleMouseMove,this,!0);a.on(window,'unload',this._onUnload,this,!0);a.on(window,'resize',this._onResize,this,!0)},_onResize:function(a){this._execOnAll('resetConstraints',[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][b.id]=b},removeDDFromGroup:function(c,a){if(!this.ids[a]){this.ids[a]={}}var b=this.ids[a];if(b&&b[c.id]){delete b[c.id]}},_remove:function(a){for(var b in a.groups){if(b&&this.ids[b]&&this.ids[b][a.id]){delete this.ids[b][a.id]}}delete this.handleIds[a.id]},regHandle:function(a,b){if(!this.handleIds[a]){this.handleIds[a]={}}this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(f,e){var b=[],c,d,a;for(c in f.groups){for(d in this.ids[c]){a=this.ids[c][d];if(!this.isTypeOfDD(a)){continue}if(!e||a.isTarget){b[b.length]=a}}}return b},isLegalTarget:function(e,d){var b=this.getRelated(e,!0),a,c;for(a=0,c=b.length;a<c;++a){if(b[a].id==d.id){return !0}}return !1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(c){var b,a;for(b in this.ids){a=this.ids[b][c];if(a instanceof Ext.dd.DDTarget){return a}}return null},handleMouseDown:function(c,d){var a=this,b;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}if(a.dragCurrent){a.handleMouseUp(c)}a.currentTarget=c.getTarget();a.dragCurrent=d;b=d.getEl();if(Ext.isIE9m&&b.setCapture){b.setCapture()}a.startX=c.getPageX();a.startY=c.getPageY();a.deltaX=a.startX-b.offsetLeft;a.deltaY=a.startY-b.offsetTop;a.dragThreshMet=!1;a.clickTimeout=setTimeout(function(){a.startDrag(a.startX,a.startY)},a.clickTimeThresh)},startDrag:function(d,e){var b=this,a=b.dragCurrent,c;clearTimeout(b.clickTimeout);if(a){a.b4StartDrag(d,e);a.startDrag(d,e);c=a.getDragEl();if(c){Ext.fly(c).addCls(b.dragCls)}}b.dragThreshMet=!0},handleMouseUp:function(b){var a=this;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!a.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(a.clickTimeout);if(a.dragThreshMet){a.fireEvents(b,!0)}a.stopDrag(b);a.stopEvent(b)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(d){var a=this,b=a.dragCurrent,c;if(b){if(a.dragThreshMet){c=b.getDragEl();if(c){Ext.fly(c).removeCls(a.dragCls)}b.b4EndDrag(d);b.endDrag(d)}a.dragCurrent.onMouseUp(d)}a.dragCurrent=null;a.dragOvers={}},handleMouseMove:function(b){var a=this,c=a.dragCurrent,d,e;if(!c){return !0}if(!a.dragThreshMet){d=Math.abs(a.startX-b.getPageX());e=Math.abs(a.startY-b.getPageY());if(d>a.clickPixelThresh||e>a.clickPixelThresh){a.startDrag(a.startX,a.startY)}}if(a.dragThreshMet){c.b4Drag(b);c.onDrag(b);if(!c.moveOnly){a.fireEvents(b,!1)}}a.stopEvent(b);return !0},fireEvents:function(d,t){var e=this,c=e.dragCurrent,l,p,q=d.getPoint(),b,n,j=[],s=[],h=[],i=[],g=[],k=[],o,r,a,f,m;if(!c||c.isLocked()){return}if(!e.notifyOccluded&&(!Ext.supports.PointerEvents||Ext.isIE10m||Ext.isOpera)&&!(c.deltaX<0||c.deltaY<0)){l=c.getDragEl();p=l.style.top;l.style.top='-10000px';o=d.getXY();d.target=document.elementFromPoint(o[0],o[1]);l.style.top=p}for(a in e.dragOvers){b=e.dragOvers[a];if(!e.isTypeOfDD(b)){continue}if(e.notifyOccluded){if(!this.isOverTarget(q,b,e.mode)){h.push(b)}}else {if(!d.within(b.getEl())){h.push(b)}}s[a]=!0;delete e.dragOvers[a]}for(m in c.groups){if('string'!=typeof m){continue}for(a in e.ids[m]){b=e.ids[m][a];if(e.isTypeOfDD(b)&&(n=b.getEl())&&b.isTarget&&!b.isLocked()&&Ext.fly(n).isVisible(!0)&&(b!=c||c.ignoreSelf===!1)){if(e.notifyOccluded){if((b.zIndex=e.getZIndex(n))!==-1){r=!0}j.push(b)}else {if(d.within(b.getEl())){j.push(b);break}}}}}if(r){Ext.Array.sort(j,e.byZIndex)}for(a=0,f=j.length;a<f;a++){b=j[a];if(e.isOverTarget(q,b,e.mode)){if(t){g.push(b)}else {if(!s[b.id]){k.push(b)}else {i.push(b)}e.dragOvers[b.id]=b}if(!e.notifyOccluded){break}}}if(e.mode){if(h.length){c.b4DragOut(d,h);c.onDragOut(d,h)}if(k.length){c.onDragEnter(d,k)}if(i.length){c.b4DragOver(d,i);c.onDragOver(d,i)}if(g.length){c.b4DragDrop(d,g);c.onDragDrop(d,g)}}else {for(a=0,f=h.length;a<f;++a){c.b4DragOut(d,h[a].id);c.onDragOut(d,h[a].id)}for(a=0,f=k.length;a<f;++a){c.onDragEnter(d,k[a].id)}for(a=0,f=i.length;a<f;++a){c.b4DragOver(d,i[a].id);c.onDragOver(d,i[a].id)}for(a=0,f=g.length;a<f;++a){c.b4DragDrop(d,g[a].id);c.onDragDrop(d,g[a].id)}}if(t&&!g.length){c.onInvalidDrop(d)}},getZIndex:function(a){var d=document.body,c,b=-1;a=Ext.getDom(a);while(a!==d){if(!isNaN(c=Number(Ext.fly(a).getStyle('zIndex')))){b=c}a=a.parentNode}return b},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(d){var a=null,e=d.length,c,b;if(e==1){a=d[0]}else {for(c=0;c<e;++c){b=d[c];if(b.cursorIsOver){a=b;break}else {if(!a||a.overlap.getArea()<b.overlap.getArea()){a=b}}}}return a},refreshCache:function(e){var b,d,a,c;for(b in e){if('string'!=typeof b){continue}for(d in this.ids[b]){a=this.ids[b][d];if(this.isTypeOfDD(a)){c=this.getLocation(a);if(c){this.locationCache[a.id]=c}else {delete this.locationCache[a.id]}}}}},verifyEl:function(b){if(b){var a;if(Ext.isIE){try{a=b.offsetParent}catch(c){}}else {a=b.offsetParent}if(a){return !0}}return !1},getLocation:function(a){if(!this.isTypeOfDD(a)){return null}if(a.getRegion){return a.getRegion()}var c=a.getEl(),b,d,f,e,g,k,j,h,i;try{b=Ext.Element.getXY(c)}catch(l){}if(!b){return null}d=b[0];f=d+c.offsetWidth;e=b[1];g=e+c.offsetHeight;k=e-a.padding[0];j=f+a.padding[1];h=g+a.padding[2];i=d-a.padding[3];return new Ext.util.Region(k,j,h,i)},isOverTarget:function(g,a,i){var c=this.locationCache[a.id],b,d,f,h,e;if(!c||!this.useCache){c=this.getLocation(a);this.locationCache[a.id]=c}if(!c){return !1}a.cursorIsOver=c.contains(g);b=this.dragCurrent;if(!b||!b.getTargetCoord||!i&&!b.constrainX&&!b.constrainY){return a.cursorIsOver}a.overlap=null;d=b.getTargetCoord(g.x,g.y);f=b.getDragEl();h=new Ext.util.Region(d.y,d.x+f.offsetWidth,d.y+f.offsetHeight,d.x);e=h.intersect(c);if(e){a.overlap=e;return i?!0:a.cursorIsOver}else {return !1}},_onUnload:function(b,a){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll('unreg',[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];if(!a||!a.el){a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return a?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode){a.swapNode(b)}else {var c=b.parentNode,d=b.nextSibling;if(d==a){c.insertBefore(a,b)}else {if(b==a.nextSibling){c.insertBefore(b,a)}else {a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}}},getScroll:function(){var e=window.document,a=e.documentElement,d=e.body,c=0,b=0;if(Ext.isGecko4){c=window.scrollYOffset;b=window.scrollXOffset}else {if(a&&(a.scrollTop||a.scrollLeft)){c=a.scrollTop;b=a.scrollLeft}else {if(d){c=d.scrollTop;b=d.scrollLeft}}}return {top:c,left:b}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(c,a){var b=Ext.Element.getXY(a);Ext.Element.setXY(c,b)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else {if(this._timeoutCount<=2000){setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(b,c){if(this.isHandle(c,b.id)){return !0}else {var a=b.parentNode;while(a){if(this.isHandle(c,a.id)){return !0}else {a=a.parentNode}}}return !1}},0,0,0,0,0,0,[Ext.dd,'DragDropManager',Ext.dd,'DragDropMgr',Ext.dd,'DDM'],function(){this._addListeners()});Ext.cmd.derive('Ext.layout.container.Box',Ext.layout.container.Container,{alternateClassName:'Ext.layout.BoxLayout',defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:'start',flex:undefined,stretchMaxPartner:undefined,alignRoundingMethod:'round',type:'box',scrollOffset:0,itemCls:'x-box-item',targetCls:'x-box-layout-ct',targetElCls:'x-box-target',innerCls:'x-box-inner',availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:['innerCt','targetEl'],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;','if (oh.getPrefixConfig!==Ext.emptyFn) {','if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)','}%}','<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">','{%this.renderBody(out, values)%}','</div>','</div>','{%if (oh.getSuffixConfig!==Ext.emptyFn) {','if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)','}%}',{disableFormats:!0,definitions:'var dh=Ext.DomHelper;'}],constructor:function(c){var a=this,b;Ext.layout.container.Container.prototype.constructor.apply(this,arguments);a.flexSortFn=Ext.Function.bind(a.flexSort,a);a.initOverflowHandler();b=typeof a.padding;if(b=='string'||b=='number'){a.padding=Ext.util.Format.parseBox(a.padding);a.padding.height=a.padding.top+a.padding.bottom;a.padding.width=a.padding.left+a.padding.right}},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(h,b){var a=this,f=a.sizePolicy,g=a.align,n=h.flex,d=g,c=a.names,o=h[c.width],m=h[c.height],e=a._percentageRe,i=e.test(o),l=g=='stretch',j=g=='stretchmax',k=a.constrainAlign;if(!b&&(l||n||i||k&&!j)){b=a.owner.getSizeModel()}if(l){if(!e.test(m)&&b[c.height].shrinkWrap){d='stretchmax'}}else {if(!j){if(e.test(m)){d='stretch'}else {if(k&&!b[c.height].shrinkWrap){d='stretchmax'}else {d=''}}}}if(n||i){if(!b[c.width].shrinkWrap){f=f.flex}}return f[d]},flexSort:function(m,n){var i=this.names.maxWidth,j=this.names.minWidth,h=Infinity,k=m.target,l=n.target,a=0,e,g,d,f,c,b;d=k[i]||h;f=l[i]||h;e=k[j]||0;g=l[j]||0;c=isFinite(e)||isFinite(g);b=isFinite(d)||isFinite(f);if(c||b){if(b){a=d-f}if(a===0&&c){a=g-e}}return a},isItemBoxParent:function(a){return !0},isItemShrinkWrap:function(a){return !0},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;if(b.direction==='vertical'&&a.collapsedVertical()){a.collapseMemento.capture(['flex']);delete a.flex}else {if(b.direction==='horizontal'&&a.collapsedHorizontal()){a.collapseMemento.capture(['flex']);delete a.flex}}},beginExpand:function(a){a.collapseMemento.restore(['flex'])},beginLayout:function(b){var a=this,d=a.owner,c=d.stretchMaxPartner,f=a.innerCt.dom.style,e=a.names;b.boxNames=e;a.overflowHandler.beginLayout(b);if(typeof c==='string'){c=Ext.getCmp(c)||d.query(c)[0]}b.stretchMaxPartner=c&&b.context.getCmp(c);Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);b.innerCtContext=b.getEl('innerCt',a);a.scrollParallel=d.scrollFlags[e.x];a.scrollPerpendicular=d.scrollFlags[e.y];if(a.scrollParallel){a.scrollPos=d.getTargetEl().dom[e.scrollLeft]}f.width='';f.height=''},beginLayoutCycle:function(b,g){var d=this,a=d.align,e=b.boxNames,c=d.pack,f=e.heightModel;d.overflowHandler.beginLayoutCycle(b,g);Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);b.parallelSizeModel=b[e.widthModel];b.perpendicularSizeModel=b[f];b.boxOptions={align:a={stretch:a=='stretch',stretchmax:a=='stretchmax',center:a==e.center,bottom:a==e.afterY},pack:c={center:c=='center',end:c=='end'}};if(a.stretch&&b.perpendicularSizeModel.shrinkWrap){a.stretchmax=!0;a.stretch=!1}a.nostretch=!(a.stretch||a.stretchmax);if(b.parallelSizeModel.shrinkWrap){c.center=c.end=!1}d.cacheFlexes(b);d.targetEl.setWidth(20000)},cacheFlexes:function(b){var n=this,d=b.boxNames,q=d.widthModel,p=d.heightModel,s=b.boxOptions.align.nostretch,l=0,k=b.childItems,o=k.length,f=[],m=0,r=d.minWidth,j=n._percentageRe,i=0,h=0,c,a,g,e;while(o--){a=k[o];c=a.target;if(a[q].calculated){a.flex=g=c.flex;if(g){l+=g;f.push(a);m+=c[r]||0}else {e=j.exec(c[d.width]);a.percentageParallel=parseFloat(e[1])/100;++i}}if(s&&a[p].calculated){e=j.exec(c[d.height]);a.percentagePerpendicular=parseFloat(e[1])/100;++h}}b.flexedItems=f;b.flexedMinSize=m;b.totalFlex=l;b.percentageWidths=i;b.percentageHeights=h;Ext.Array.sort(f,n.flexSortFn)},calculate:function(a){var b=this,g=b.getContainerSize(a),e=a.boxNames,c=a.state,d=c.boxPlan||(c.boxPlan={}),f=a.targetContext;d.targetSize=g;if(!a.parallelSizeModel.shrinkWrap&&!g[e.gotWidth]){b.done=!1;return}if(!c.parallelDone){c.parallelDone=b.calculateParallel(a,e,d)}if(!c.perpendicularDone){c.perpendicularDone=b.calculatePerpendicular(a,e,d)}if(c.parallelDone&&c.perpendicularDone){if(b.owner.dock&&(Ext.isIE7m||Ext.isIEQuirks)&&!b.owner.width&&!b.horizontal){d.isIEVerticalDock=!0;d.calculatedWidth=d.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width;if(f!==a){d.calculatedWidth+=f.getPaddingInfo().width}}b.publishInnerCtSize(a,b.reserveOffset?b.availableSpaceOffset:0);if(b.done&&(a.childItems.length>1||a.stretchMaxPartner)&&a.boxOptions.align.stretchmax&&!c.stretchMaxDone){b.calculateStretchMax(a,e,d);c.stretchMaxDone=!0}b.overflowHandler.calculate(a)}else {b.done=!1}},calculateParallel:function(a,d,e){var g=this,o=d.width,n=a.childItems,x=d.beforeX,z=d.afterX,D=d.setWidth,p=n.length,y=a.flexedItems,C=y.length,B=a.boxOptions.pack,A=g.padding,v=e.targetSize[o],s=0,f=A[x],j=f+A[z]+g.scrollOffset+(g.reserveOffset?g.availableSpaceOffset:0),w=Ext.getScrollbarSize()[d.width],b,l,h,r,c,t,m,i,u,k,q;if(w&&g.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone){return !1}u=!0}for(b=0;b<p;++b){c=n[b];l=c.marginInfo||c.getMarginInfo();s+=l[o];if(!c[d.widthModel].calculated){k=c.getProp(o);j+=k;if(isNaN(j)){return !1}}}j+=s;if(a.percentageWidths){q=v-s;if(isNaN(q)){return !1}for(b=0;b<p;++b){c=n[b];if(c.percentageParallel){k=Math.ceil(q*c.percentageParallel);k=c.setWidth(k);j+=k}}}if(a.parallelSizeModel.shrinkWrap){e.availableSpace=0;e.tooNarrow=!1}else {e.availableSpace=v-j;e.tooNarrow=e.availableSpace<a.flexedMinSize;if(e.tooNarrow&&Ext.getScrollbarSize()[d.height]&&g.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=!1;for(b=0;b<p;++b){n[b].invalidate()}}}i=j;h=e.availableSpace;r=a.totalFlex;for(b=0;b<C;b++){c=y[b];t=c.flex;m=g.roundFlex(t/r*h);m=c[D](m);i+=m;h=Math.max(0,h-m);r-=t}if(B.center){f+=h/2;if(f<0){f=0}}else {if(B.end){f+=h}}for(b=0;b<p;++b){c=n[b];l=c.marginInfo;f+=l[x];c.setProp(d.x,f);f+=l[z]+c.props[o]}i+=a.targetContext.getPaddingInfo()[o];a.state.contentWidth=i;if(u&&a.peek(d.contentHeight)>e.targetSize[d.height]){i+=w;a[d.hasOverflowY]=!0;a.target.componentLayout[d.setWidthInDom]=!0;a[d.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}a[d.setContentWidth](i);return !0},calculatePerpendicular:function(d,c,s){var j=this,l=d.perpendicularSizeModel.shrinkWrap,L=s.targetSize,v=d.childItems,C=v.length,r=Math.max,e=c.height,J=c.setHeight,D=c.beforeY,I=c.y,F=j.padding,A=F[D],i=L[e]-A-F[c.afterY],q=d.boxOptions.align,w=q.stretch,K=q.stretchmax,y=q.center,x=q.bottom,E=j.constrainAlign,b=0,B=0,G=j.onBeforeConstrainInvalidateChild,H=j.onAfterConstrainInvalidateChild,p=Ext.getScrollbarSize().height,n,k,f,h,z,g,a,o,u,t,m;if(w||(y||x)&&!l){if(isNaN(i)){return !1}}if(j.scrollParallel&&s.tooNarrow){if(l){t=!0}else {i-=p;s.targetSize[e]-=p}}if(w){g=i}else {for(k=0;k<C;k++){a=v[k];h=(a.marginInfo||a.getMarginInfo())[e];if(!(m=a.percentagePerpendicular)){f=a.getProp(e)}else {++B;if(l){continue}else {f=m*i-h;f=a[c.setHeight](f)}}if(!l&&E&&a[c.heightModel].shrinkWrap&&f>i){a.invalidate({before:G,after:H,layout:j,childHeight:i,names:c});d.state.parallelDone=!1}if(isNaN(b=r(b,f+h,a.target[c.minHeight]||0))){return !1}}if(t){b+=p;d[c.hasOverflowX]=!0;d.target.componentLayout[c.setHeightInDom]=!0;d[c.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}o=d.stretchMaxPartner;if(o){d.setProp('maxChildHeight',b);u=o.childItems;if(u&&u.length){b=r(b,o.getProp('maxChildHeight'));if(isNaN(b)){return !1}}}d[c.setContentHeight](b+j.padding[e]+d.targetContext.getPaddingInfo()[e]);if(t){b-=p}s.maxSize=b;if(K){g=b}else {if(y||x||B){if(E){g=l?b:i}else {g=l?b:r(i,b)}g-=d.innerCtContext.getBorderInfo()[e]}}}for(k=0;k<C;k++){a=v[k];h=a.marginInfo||a.getMarginInfo();n=A+h[D];if(w){a[J](g-h[e])}else {m=a.percentagePerpendicular;if(l&&m){h=a.marginInfo||a.getMarginInfo();f=m*g-h[e];f=a.setHeight(f)}if(y){z=g-a.props[e];if(z>0){n=A+Math[j.alignRoundingMethod](z/2)}}else {if(x){n=r(0,g-n-a.props[e])}}}a.setProp(I,n)}return !0},onBeforeConstrainInvalidateChild:function(b,c){var a=c.names.heightModel;if(!b[a].constrainedMin){b[a]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(a,c){var b=c.names;a.setProp(b.beforeY,0);if(a[b.heightModel].calculated){a[b.setHeight](c.childHeight)}},calculateStretchMax:function(k,c,o){var f=this,h=c.height,l=c.width,g=k.childItems,n=g.length,m=o.maxSize,i=f.onBeforeStretchMaxInvalidateChild,j=f.onAfterStretchMaxInvalidateChild,a,b,d,e;for(d=0;d<n;++d){a=g[d];b=a.props;e=m-a.getMarginInfo()[h];if(e!=b[h]||a[c.heightModel].constrained){a.invalidate({before:i,after:j,layout:f,childWidth:b[l],childHeight:e,childX:b.x,childY:b.y,names:c})}}},onBeforeStretchMaxInvalidateChild:function(b,c){var a=c.names.heightModel;if(!b[a].constrainedMax){b[a]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp('x',b.childX);a.setProp('y',b.childY);if(a[c.heightModel].calculated){a[c.setHeight](d)}if(a[c.widthModel].calculated){a[c.setWidth](e)}},completeLayout:function(e){var d=this,j=e.boxNames,b=e.invalidateScrollX,c=e.invalidateScrollY,i,h,f,g,a;d.overflowHandler.completeLayout(e);if(b||c){h=d.getTarget();i=h.dom;a=i.style;if(b){f=h.getStyle('overflowX');if(f=='auto'){f=a.overflowX;a.overflowX='scroll'}else {b=!1}}if(c){g=h.getStyle('overflowY');if(g=='auto'){g=a.overflowY;a.overflowY='scroll'}else {c=!1}}if(b||c){i.scrollWidth;if(b){a.overflowX=f}if(c){a.overflowY=g}}}if(d.scrollParallel){d.owner.getTargetEl().dom[j.scrollLeft]=d.scrollPos}},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(a,o){var e=this,c=a.boxNames,i=c.height,k=c.width,g=a.boxOptions.align,n=e.owner.dock,l=e.padding,d=a.state.boxPlan,j=d.targetSize,m=j[i],f=a.innerCtContext,h=(a.parallelSizeModel.shrinkWrap||d.tooNarrow&&e.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[k]:j[k])-(o||0),b;if(g.stretch){b=m}else {b=d.maxSize+l[c.beforeY]+l[c.afterY]+f.getBorderInfo()[i];if(!a.perpendicularSizeModel.shrinkWrap&&(g.center||g.bottom)){b=Math.max(m,b)}}f[c.setWidth](h);f[c.setHeight](b);if(isNaN(h+b)){e.done=!1}if(d.calculatedWidth&&(n=='left'||n=='right')){a.setWidth(d.calculatedWidth,!0,!0)}},onRemove:function(a){var b=this;Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(b.overflowHandler){b.overflowHandler.onRemove(a)}if(a.layoutMarginCap==b.id){delete a.layoutMarginCap}},initOverflowHandler:function(){var b=this,a=b.overflowHandler,d,c;if(typeof a=='string'){a={type:a}}d='None';if(a&&a.type!==undefined){d=a.type}c=Ext.layout.container.boxOverflow[d];if(c[b.type]){c=c[b.type]}b.overflowHandler=Ext.create('Ext.layout.container.boxOverflow.'+d,b,a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);Ext.layout.container.Container.prototype.destroy.apply(this,arguments)},getRenderData:function(){var a=Ext.layout.container.Container.prototype.getRenderData.call(this);a.targetElCls=this.targetElCls;return a}},1,0,0,0,['layout.box'],0,[Ext.layout.container,'Box',Ext.layout,'BoxLayout'],0);Ext.cmd.derive('Ext.layout.container.HBox',Ext.layout.container.Box,{alternateClassName:'Ext.layout.HBoxLayout',align:'top',constrainAlign:!1,type:'hbox',direction:'horizontal',horizontal:!0,names:{beforeX:'left',beforeScrollX:'left',beforeScrollerSuffix:'-before-scroller',afterScrollerSuffix:'-after-scroller',leftCap:'Left',afterX:'right',width:'width',contentWidth:'contentWidth',minWidth:'minWidth',maxWidth:'maxWidth',widthCap:'Width',widthModel:'widthModel',widthIndex:0,x:'x',scrollLeft:'scrollLeft',overflowX:'overflowX',hasOverflowX:'hasOverflowX',invalidateScrollX:'invalidateScrollX',parallelMargins:'lr',center:'middle',beforeY:'top',afterY:'bottom',height:'height',contentHeight:'contentHeight',minHeight:'minHeight',maxHeight:'maxHeight',heightCap:'Height',heightModel:'heightModel',heightIndex:1,y:'y',overflowY:'overflowY',hasOverflowY:'hasOverflowY',invalidateScrollY:'invalidateScrollY',perpendicularMargins:'tb',getWidth:'getWidth',getHeight:'getHeight',setWidth:'setWidth',setHeight:'setHeight',gotWidth:'gotWidth',gotHeight:'gotHeight',setContentWidth:'setContentWidth',setContentHeight:'setContentHeight',setWidthInDom:'setWidthInDom',setHeightInDom:'setHeightInDom',getScrollLeft:'getScrollLeft',setScrollLeft:'setScrollLeft',scrollTo:'scrollTo'},sizePolicy:{flex:{'':{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},'':{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},0,0,0,0,['layout.hbox'],0,[Ext.layout.container,'HBox',Ext.layout,'HBoxLayout'],0);Ext.cmd.derive('Ext.layout.container.VBox',Ext.layout.container.Box,{alternateClassName:'Ext.layout.VBoxLayout',align:'left',constrainAlign:!1,type:'vbox',direction:'vertical',horizontal:!1,names:{beforeX:'top',beforeScrollX:'top',beforeScrollerSuffix:'-before-scroller',afterScrollerSuffix:'-after-scroller',leftCap:'Top',afterX:'bottom',width:'height',contentWidth:'contentHeight',minWidth:'minHeight',maxWidth:'maxHeight',widthCap:'Height',widthModel:'heightModel',widthIndex:1,x:'y',scrollLeft:'scrollTop',overflowX:'overflowY',hasOverflowX:'hasOverflowY',invalidateScrollX:'invalidateScrollY',parallelMargins:'tb',center:'center',beforeY:'left',afterY:'right',height:'width',contentHeight:'contentWidth',minHeight:'minWidth',maxHeight:'maxWidth',heightCap:'Width',heightModel:'widthModel',heightIndex:0,y:'x',overflowY:'overflowX',hasOverflowY:'hasOverflowX',invalidateScrollY:'invalidateScrollX',perpendicularMargins:'lr',getWidth:'getHeight',getHeight:'getWidth',setWidth:'setHeight',setHeight:'setWidth',gotWidth:'gotHeight',gotHeight:'gotWidth',setContentWidth:'setContentHeight',setContentHeight:'setContentWidth',setWidthInDom:'setHeightInDom',setHeightInDom:'setWidthInDom',getScrollLeft:'getScrollTop',setScrollLeft:'setScrollTop',scrollTo:'scrollTo'},sizePolicy:{flex:{'':{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},'':{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}},0,0,0,0,['layout.vbox'],0,[Ext.layout.container,'VBox',Ext.layout,'VBoxLayout'],0);Ext.define('Ext.toolbar.Toolbar',{extend:Ext.container.Container,alias:'widget.toolbar',alternateClassName:'Ext.Toolbar',isToolbar:!0,baseCls:'x-toolbar',ariaRole:'toolbar',defaultType:'button',vertical:!1,enableOverflow:!1,menuTriggerCls:'x-toolbar-more-icon',trackMenus:!0,itemCls:'x-toolbar-item',statics:{shortcuts:{'-':'tbseparator',' ':'tbspacer'},shortcutsHV:{0:{'->':{xtype:'tbfill',height:0}},1:{'->':{xtype:'tbfill',width:0}}}},initComponent:function(){var a=this;if(!a.layout&&a.enableOverflow){a.layout={overflowHandler:'Menu'}}if(a.dock==='right'||a.dock==='left'){a.vertical=!0}a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?'vbox':'hbox',align:a.vertical?'stretchmax':'middle'});if(a.vertical){a.addClsWithUI('vertical')}if(a.ui==='footer'){a.ignoreBorderManagement=!0}Ext.container.Container.prototype.initComponent.call(this);a.addEvents('overflowchange')},getRefItems:function(c){var d=this,b=Ext.container.Container.prototype.getRefItems.apply(this,arguments),e=d.layout,a;if(c&&d.enableOverflow){a=e.overflowHandler;if(a&&a.menu){b=b.concat(a.menu.getRefItems(c))}}return b},lookupComponent:function(a){var c=arguments;if(typeof a=='string'){var d=Ext.toolbar.Toolbar,b=d.shortcutsHV[this.vertical?1:0][a]||d.shortcuts[a];if(typeof b=='string'){a={xtype:b}}else {if(b){a=Ext.apply({},b)}else {a={xtype:'tbtext',text:a}}}this.applyDefaults(a);c=[a]}return Ext.container.Container.prototype.lookupComponent.apply(this,c)},applyDefaults:function(a){if(!Ext.isString(a)){a=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)}return a},trackMenu:function(b,d){if(this.trackMenus&&b.menu){var c=d?'mun':'mon',a=this;a[c](b,'mouseover',a.onButtonOver,a);a[c](b,'menushow',a.onButtonMenuShow,a);a[c](b,'menuhide',a.onButtonMenuHide,a)}},onBeforeAdd:function(a){var b=this,c=a.isButton;if(c&&b.defaultButtonUI&&a.ui==='default'&&!a.hasOwnProperty('ui')){a.ui=b.defaultButtonUI}else {if((c||a.isFormField)&&b.ui!=='footer'){a.ui=a.ui+'-toolbar';a.addCls(a.baseCls+'-toolbar')}}if(a instanceof Ext.toolbar.Separator){a.setUI(b.vertical?'vertical':'horizontal')}Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(a){Ext.container.Container.prototype.onAdd.apply(this,arguments);this.trackMenu(a)},onRemove:function(a){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(a,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.cmd.derive('Ext.panel.AbstractPanel',Ext.container.Container,{baseCls:'x-panel',isPanel:!0,contentPaddingProperty:'bodyPadding',shrinkWrapDock:!1,componentLayout:'dock',childEls:['body'],renderTpl:['{% this.renderDockedItems(out,values,0); %}',Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':'','<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{%this.renderContainer(out,values);%}','</div>','{% this.renderDockedItems(out,values,1); %}'],bodyPosProps:{x:'x',y:'y'},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps();Ext.container.Container.prototype.initComponent.call(this)},initBorderProps:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=!1}if(a.frame&&a.border&&(a.bodyBorder===!1||a.bodyBorder===0)){a.manageBodyBorders=!0}},beforeDestroy:function(){this.destroyDockedItems();Ext.container.Container.prototype.beforeDestroy.call(this)},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var a=this,b=Ext.container.Container.prototype.initRenderData.call(this);a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},getComponent:function(b){var a=Ext.container.Container.prototype.getComponent.apply(this,arguments);if(a===undefined&&!Ext.isNumber(b)){a=this.getDockedComponent(b)}return a},getProtoBody:function(){var a=this,b=a.protoBody;if(!b){a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:'bodyCls',styleProp:'bodyStyle',styleIsText:!0})}return b},initBodyStyles:function(){var a=this,b=a.getProtoBody();if(a.bodyPadding!==undefined){if(a.layout.managePadding){b.setStyle('padding',0)}else {b.setStyle('padding',this.unitizeBox(a.bodyPadding===!0?5:a.bodyPadding))}}a.initBodyBorder()},initBodyBorder:function(){var a=this;if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}a.getProtoBody().setStyle('border-width',this.unitizeBox(a.bodyBorder))}},getCollapsedDockedItems:function(){var a=this;return a.header===!1||a.collapseMode=='placeholder'?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(a,d){var b=this,c=b.rendered?b.body:b.getProtoBody();if(Ext.isFunction(a)){a=a()}if(arguments.length==1){if(Ext.isString(a)){a=Ext.Element.parseStyles(a)}c.setStyle(a)}else {c.setStyle(a,d)}return b},addBodyCls:function(c){var a=this,b=a.rendered?a.body:a.getProtoBody();b.addCls(c);return a},removeBodyCls:function(c){var a=this,b=a.rendered?a.body:a.getProtoBody();b.removeCls(c);return a},addUIClsToElement:function(b){var a=this,c=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);a.addBodyCls(['x-'+b,a.baseCls+'-body-'+b,a.baseCls+'-body-'+a.ui+'-'+b]);return c},removeUIClsFromElement:function(b){var a=this,c=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);a.removeBodyCls(['x-'+b,a.baseCls+'-body-'+b,a.baseCls+'-body-'+a.ui+'-'+b]);return c},addUIToElement:function(){var a=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);a.addBodyCls(a.baseCls+'-body-'+a.ui)},removeUIFromElement:function(){var a=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);a.removeBodyCls(a.baseCls+'-body-'+a.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(b){var a=Ext.container.Container.prototype.getRefItems.apply(this,arguments);return this.getDockingRefItems(b,a)},setupRenderTpl:function(a){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(a)}},0,0,['component','box','container'],{'component':!0,'box':!0,'container':!0},0,[['docking',Ext.container.DockingContainer]],[Ext.panel,'AbstractPanel'],0);Ext.cmd.derive('Ext.panel.Header',Ext.container.Container,{isHeader:!0,defaultType:'tool',indicateDrag:!1,weight:-1,componentLayout:'body',childEls:['body'],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{%this.renderContainer(out,values)%}','</div>'],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:'x-header',initComponent:function(){var a=this,e=a.hasOwnProperty('titlePosition'),b=a.items,c=e?a.titlePosition:b?b.length:0,f=[a.orientation,a.getDockName()],d=a.ownerCt;a.addEvents('click','dblclick');a.indicateDragCls=a.headerCls+'-draggable';a.title=a.title||'&#160;';a.tools=a.tools||[];b=a.items=b?Ext.Array.slice(b):[];a.orientation=a.orientation||'horizontal';a.dock=a.dock?a.dock:a.orientation=='horizontal'?'top':'left';if(d?!d.border&&!d.frame:!a.border){f.push(a.orientation+'-noborder')}a.addClsWithUI(f);a.addCls([a.headerCls,a.headerCls+'-'+a.orientation]);if(a.indicateDrag){a.addCls(a.indicateDragCls)}if(a.iconCls||a.icon||a.glyph){a.initIconCmp();if(!e&&!b.length){++c}b.push(a.iconCmp)}a.titleCmp=new Ext.Component({ariaRole:'heading',focusable:!1,noWrap:!0,flex:1,rtl:a.rtl,id:a.id+'_hd',style:a.titleAlign?'text-align:'+a.titleAlign:'',cls:a.headerCls+'-text-container '+a.baseCls+'-text-container '+a.baseCls+'-text-container-'+a.ui,renderTpl:a.getTpl('headingTpl'),renderData:{title:a.title,cls:a.baseCls,headerCls:a.headerCls,ui:a.ui},childEls:['textEl'],autoEl:{unselectable:'on'},listeners:{render:a.onTitleRender,scope:a}});a.layout=a.orientation=='vertical'?{type:'vbox',align:'center',alignRoundingMethod:'ceil'}:{type:'hbox',align:'middle',alignRoundingMethod:'floor'};Ext.Array.push(b,a.tools);a.tools.length=0;Ext.container.Container.prototype.initComponent.call(this);if(b.length<c){c=b.length}a.titlePosition=c;a.insert(c,a.titleCmp);a.on({dblclick:a.onDblClick,click:a.onClick,element:'el',scope:a})},initIconCmp:function(){var a=this,c=[a.headerCls+'-icon',a.baseCls+'-icon',a.iconCls],b;if(a.glyph){c.push(a.baseCls+'-glyph')}b={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:c,baseCls:a.baseCls+'-icon',id:a.id+'-iconEl',iconCls:a.iconCls,glyph:a.glyph};if(!Ext.isEmpty(a.icon)){delete b.iconCls;b.src=a.icon}a.iconCmp=new Ext.Img(b)},beforeRender:function(){this.protoEl.unselectable();Ext.container.Container.prototype.beforeRender.call(this)},afterLayout:function(){var a=this,e,b,c,d;if(a.orientation==='vertical'){a.adjustTitlePosition();b=a.frameTR;if(b){e=a.frameBR;c=a.frameTL;d=a.getWidth()-b.getPadding('r')-(c?c.getPadding('l'):a.el.getBorderWidth('l'))+'px';e.setStyle('background-position-x',d);b.setStyle('background-position-x',d)}if(Ext.isIE7&&Ext.isStrict&&a.frame){a.el.repaint()}}},beforeLayout:function(){Ext.container.Container.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var b=this.titleCmp,a;if(!Ext.isIE9m&&b){a=b.el;a.setStyle('left',a.getWidth()+'px')}},onTitleRender:function(){if(this.orientation==='vertical'){this.titleCmp.el.setVertical(90)}},addUIClsToElement:function(e){var a=this,f=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments),c=[a.baseCls+'-body-'+e,a.baseCls+'-body-'+a.ui+'-'+e],d,b;if(a.bodyCls){d=a.bodyCls.split(' ');for(b=0;b<c.length;b++){if(!Ext.Array.contains(d,c[b])){d.push(c[b])}}a.bodyCls=d.join(' ')}else {a.bodyCls=c.join(' ')}return f},removeUIClsFromElement:function(e){var a=this,f=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments),d=[a.baseCls+'-body-'+e,a.baseCls+'-body-'+a.ui+'-'+e],c,b;if(a.bodyCls){c=a.bodyCls.split(' ');for(b=0;b<d.length;b++){Ext.Array.remove(c,d[b])}a.bodyCls=c.join(' ')}return f},addUIToElement:function(){var a=this,c,b;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);b=a.baseCls+'-body-'+a.ui;if(a.rendered){if(a.bodyCls){a.body.addCls(a.bodyCls)}else {a.body.addCls(b)}}else {if(a.bodyCls){c=a.bodyCls.split(' ');if(!Ext.Array.contains(c,b)){c.push(b)}a.bodyCls=c.join(' ')}else {a.bodyCls=b}}if(a.titleCmp&&a.titleCmp.rendered){a.titleCmp.addCls(a.baseCls+'-text-container-'+a.ui)}},removeUIFromElement:function(){var a=this,c,b;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);b=a.baseCls+'-body-'+a.ui;if(a.rendered){if(a.bodyCls){a.body.removeCls(a.bodyCls)}else {a.body.removeCls(b)}}else {if(a.bodyCls){c=a.bodyCls.split(' ');Ext.Array.remove(c,b);a.bodyCls=c.join(' ')}else {a.bodyCls=b}}if(a.titleCmp&&a.titleCmp.rendered){a.titleCmp.removeCls(a.baseCls+'-text-container-'+a.ui)}},onClick:function(a){this.fireClickEvent('click',a)},onDblClick:function(a){this.fireClickEvent('dblclick',a)},fireClickEvent:function(c,a){var b='.'+Ext.panel.Tool.prototype.baseCls;if(!a.getTarget(b)){this.fireEvent(c,this,a)}},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(c){var a=this,b=a.titleCmp;a.title=c;if(b.rendered){b.textEl.update(a.title||'&#160;');b.updateLayout()}else {a.titleCmp.on({render:function(){a.setTitle(c)},single:!0})}},getMinWidth:function(){var d=this,e=d.titleCmp.textEl.dom,b,c=d.tools,f,a;e.style.display='inline';b=e.offsetWidth;e.style.display='';if(c&&(f=c.length)){for(a=0;a<f;a++){if(c[a].el){b+=c[a].el.dom.offsetWidth}}}if(d.iconCmp){b+=d.iconCmp.el.dom.offsetWidth}return b+10},setIconCls:function(c){var a=this,d=!c||!c.length,b=a.iconCmp;a.iconCls=c;if(!a.iconCmp&&!d){a.initIconCmp();a.insert(0,a.iconCmp)}else {if(b){if(d){a.iconCmp.destroy();delete a.iconCmp}else {b.removeCls(b.iconCls);b.addCls(c);b.iconCls=c}}}},setIcon:function(b){var a=this,d=!b||!b.length,c=a.iconCmp;a.icon=b;if(!a.iconCmp&&!d){a.initIconCmp();a.insert(0,a.iconCmp)}else {if(c){if(d){a.iconCmp.destroy();delete a.iconCmp}else {c.setSrc(a.icon)}}}},setGlyph:function(b){var a=this,c=a.iconCmp;if(!a.iconCmp){a.initIconCmp();a.insert(0,a.iconCmp)}else {if(c){if(b){a.iconCmp.setGlyph(b)}else {a.iconCmp.destroy();delete a.iconCmp}}}},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,'tool'))},syncBeforeAfterTitleClasses:function(){var c=this,j=c.items,i=j.items,h=c.titlePosition,k=i.length,g=j.generation,f=c.syncBeforeAfterGen,e,d,b,a;if(f===g){return}c.syncBeforeAfterGen=g;for(b=0;b<k;++b){a=i[b];e=a.afterTitleCls||(a.afterTitleCls=a.baseCls+'-after-title');d=a.beforeTitleCls||(a.beforeTitleCls=a.baseCls+'-before-title');if(!c.title||b<h){if(f){a.removeCls(e)}a.addCls(d)}else {if(b>h){if(f){a.removeCls(d)}a.addCls(e)}}}},onAdd:function(a,c){var b=this.tools;Ext.container.Container.prototype.onAdd.apply(this,arguments);if(a.isTool){b.push(a);b[a.type]=a}},initRenderData:function(){return Ext.applyIf(Ext.container.Container.prototype.initRenderData.call(this),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var a=this,c=Ext.container.Container.prototype.getFramingInfoCls.call(this),b=a.ownerCt;if(!a.expanding&&(b&&b.collapsed)||a.isCollapsedExpander){c+='-'+b.collapsedCls}return c+'-'+a.dock}},0,['header'],['component','box','container','header'],{'component':!0,'box':!0,'container':!0,'header':!0},['widget.header'],0,[Ext.panel,'Header'],0);Ext.cmd.derive('Ext.dd.DragDrop',Ext.Base,{constructor:function(a,c,b){if(a){this.init(a,c,b)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(j,a,k){if(Ext.isNumber(a)){a={left:a,right:a,top:a,bottom:a}}a=a||this.defaultPadding;var c=Ext.get(this.getEl()).getBox(),g=Ext.get(j),i=g.getScroll(),b,f=g.dom,h,e,d;if(f==document.body){b={x:i.left,y:i.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}}else {h=g.getXY();b={x:h[0],y:h[1],width:f.clientWidth,height:f.clientHeight}}e=c.y-b.y;d=c.x-b.x;this.resetConstraints();this.setXConstraint(d-(a.left||0),b.width-d-c.width-(a.right||0),this.xTickSize);this.setYConstraint(e-(a.top||0),b.height-e-c.height-(a.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(c,b,a){this.initTarget(c,b,a);Ext.EventManager.on(this.id,'mousedown',this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof a!=='string'){a=Ext.id(a)}this.id=a;this.addToGroup(b?b:'default');this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:'A'};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==!1;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){if(!b&&0!==b){this.padding=[a,a,a,a]}else {if(!c&&0!==c){this.padding=[a,b,a,b]}else {this.padding=[a,b,c,d]}}},setInitPosition:function(e,f){var d=this.getEl(),b,c,a;if(!this.DDMInstance.verifyEl(d)){return}b=e||0;c=f||0;a=Ext.Element.getXY(d);this.initPageX=a[0]-b;this.initPageY=a[1]-c;this.lastPageX=a[0];this.lastPageY=a[1];this.setStartPosition(a)},setStartPosition:function(b){var a=b||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=!0;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=='string'){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=='string'){a=Ext.id(a)}Ext.EventManager.on(a,'mousedown',this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,'mousedown',this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(b,c){var a=this;if(a.primaryButtonOnly&&b.button!=0||a.isLocked()){return}a.DDMInstance.refreshCache(a.groups);if(a.hasOuterHandles||a.DDMInstance.isOverTarget(b.getPoint(),a)){if(a.clickValidator(b)){a.setStartPosition();a.b4MouseDown(b);a.onMouseDown(b);a.DDMInstance.handleMouseDown(b,a);a.DDMInstance.stopEvent(b)}}},clickValidator:function(b){var a=b.getTarget();return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){if(typeof a!=='string'){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=='string'){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var a=0,c=this.invalidHandleClasses.length;a<c;++a){if(this.invalidHandleClasses[a]==b){delete this.invalidHandleClasses[a]}}},isValidHandleChild:function(b){var a=!0,d,c,e;try{d=b.nodeName.toUpperCase()}catch(f){d=b.nodeName}a=a&&!this.invalidHandleTypes[d];a=a&&!this.invalidHandleIds[b.id];for(c=0,e=this.invalidHandleClasses.length;a&&c<e;++c){a=!Ext.fly(b).hasCls(this.invalidHandleClasses[c])}return a},setXTicks:function(d,c){this.xTicks=[];this.xTickSize=c;var b={},a;for(a=this.initPageX;a>=this.minX;a=a-c){if(!b[a]){this.xTicks[this.xTicks.length]=a;b[a]=!0}}for(a=this.initPageX;a<=this.maxX;a=a+c){if(!b[a]){this.xTicks[this.xTicks.length]=a;b[a]=!0}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(d,c){this.yTicks=[];this.yTickSize=c;var b={},a;for(a=this.initPageY;a>=this.minY;a=a-c){if(!b[a]){this.yTicks[this.yTicks.length]=a;b[a]=!0}}for(a=this.initPageY;a<=this.maxY;a=a+c){if(!b[a]){this.yTicks[this.yTicks.length]=a;b[a]=!0}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=this.initPageX-c;this.maxX=this.initPageX+b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=!0},clearConstraints:function(){this.constrainX=!1;this.constrainY=!1;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(c,b,a){this.topConstraint=c;this.bottomConstraint=b;this.minY=this.initPageY-c;this.maxY=this.initPageY+b;if(a){this.setYTicks(this.initPageY,a)}this.constrainY=!0},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else {this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(d,a){if(!a){return d}else {if(a[0]>=d){return a[0]}else {var b,g,c,e,f;for(b=0,g=a.length;b<g;++b){c=b+1;if(a[c]&&a[c]>=d){e=d-a[b];f=a[c]-d;return f>e?a[b]:a[c]}}return a[a.length-1]}}},toString:function(){return 'DragDrop '+this.id}},3,0,0,0,0,0,[Ext.dd,'DragDrop'],0);Ext.cmd.derive('Ext.dd.DD',Ext.dd.DragDrop,{constructor:function(a,c,b){if(a){this.init(a,c,b)}},scroll:!0,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(d,j,k){var a=this.getTargetCoord(j,k),c=d.dom?d:Ext.fly(d,'_dd'),e=c.getSize(),i=Ext.Element,b,g,f,h;if(!this.deltaSetXY){b=this.cachedViewportSize={width:i.getDocumentWidth(),height:i.getDocumentHeight()};g=[Math.max(0,Math.min(a.x,b.width-e.width)),Math.max(0,Math.min(a.y,b.height-e.height))];c.setXY(g);f=this.getLocalX(c);h=c.getLocalY();this.deltaSetXY=[f-a.x,h-a.y]}else {b=this.cachedViewportSize;this.setLocalXY(c,Math.max(0,Math.min(a.x+this.deltaSetXY[0],b.width-e.width)),Math.max(0,Math.min(a.y+this.deltaSetXY[1],b.height-e.height)))}this.cachePosition(a.x,a.y);this.autoScroll(a.x,a.y,d.offsetHeight,d.offsetWidth);return a},cachePosition:function(b,c){if(b){this.lastPageX=b;this.lastPageY=c}else {var a=Ext.Element.getXY(this.getEl());this.lastPageX=a[0];this.lastPageY=a[1]}},autoScroll:function(e,f,m,n){if(this.scroll){var g=Ext.Element.getViewHeight(),h=Ext.Element.getViewWidth(),b=this.DDMInstance.getScrollTop(),a=this.DDMInstance.getScrollLeft(),l=m+f,j=n+e,k=g+b-f-this.deltaY,i=h+a-e-this.deltaX,d=40,c=document.all?80:30;if(l>g&&k<d){window.scrollTo(a,b+c)}if(f<b&&b>0&&f-b<d){window.scrollTo(a,b-c)}if(j>h&&i<d){window.scrollTo(a+c,b)}if(e<a&&a>0&&e-a<d){window.scrollTo(a-c,b)}}},getTargetCoord:function(c,d){var a=c-this.deltaX,b=d-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(b<this.minY){b=this.minY}if(b>this.maxY){b=this.maxY}}a=this.getTick(a,this.xTicks);b=this.getTick(b,this.yTicks);return {x:a,y:b}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=this.config.scroll!==!1},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return 'DD '+this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}},3,0,0,0,0,0,[Ext.dd,'DD'],0);Ext.cmd.derive('Ext.dd.DDProxy',Ext.dd.DD,{statics:{dragElId:'ygddfdiv'},constructor:function(a,c,b){if(a){this.init(a,c,b);this.initFrame()}},resizeFrame:!0,centerFrame:!1,createFrame:function(){var d=this,c=document.body,a,b;if(!c||!c.firstChild){setTimeout(function(){d.createFrame()},50);return}a=this.getDragEl();if(!a){a=document.createElement('div');a.id=this.dragElId;b=a.style;b.position='absolute';b.visibility='hidden';b.cursor='move';b.border='2px solid #aaa';b.zIndex=999;c.insertBefore(a,c.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=this.config.resizeFrame!==!1;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(c,d){var e=this.getEl(),a=this.getDragEl(),b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(c,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c);this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl(),a=this.getDragEl();a.style.visibility='';this.beforeMove();b.style.visibility='hidden';Ext.dd.DDM.moveToEl(b,a);a.style.visibility='hidden';b.style.visibility='';this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return 'DDProxy '+this.id}},3,0,0,0,0,0,[Ext.dd,'DDProxy'],0);Ext.cmd.derive('Ext.dd.StatusProxy',Ext.Component,{animRepair:!1,childEls:['ghost'],renderTpl:['<div class="x-dd-drop-icon"></div><div id="{id}-ghost" class="x-dd-drag-ghost"></div>'],repairCls:'x-dd-drag-repair',constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:'visibility',hidden:!0,floating:!0,id:b.id||Ext.id(),cls:'x-dd-drag-proxy '+this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(c){var a=this,b='x-dd-drag-proxy ';a.el.replaceCls(b+a.dropAllowed,b+a.dropNotAllowed);a.dropStatus=a.dropNotAllowed;if(c){a.ghost.update('')}},update:function(a){if(typeof a=='string'){this.ghost.update(a)}else {this.ghost.update('');a.style.margin='0';this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle('float','none')}},getGhost:function(){return this.ghost},hide:function(a){Ext.Component.prototype.hide.call(this);if(a){this.reset(!0)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(b,c,d){var a=this;a.callback=c;a.scope=d;if(b&&a.animRepair!==!1){a.el.addCls(a.repairCls);a.el.hideUnders(!0);a.anim=a.el.animate({duration:a.repairDuration||500,easing:'ease-out',to:{x:b[0],y:b[1]},stopAnimation:!0,callback:a.afterRepair,scope:a})}else {a.afterRepair()}},afterRepair:function(){var a=this;a.hide(!0);a.el.removeCls(a.repairCls);if(typeof a.callback=='function'){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}},1,0,['component','box'],{'component':!0,'box':!0},0,0,[Ext.dd,'StatusProxy'],0);Ext.cmd.derive('Ext.dd.DragSource',Ext.dd.DDProxy,{dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',animRepair:!0,repairHighlightColor:'c3daf9',constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+'-drag-status-proxy',animRepair:this.animRepair})}Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0});this.dragging=!1},getDragData:function(a){return this.dragData},onDragEnter:function(c,b){var a=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=a;if(this.beforeDragEnter(a,c,b)!==!1){if(a.isNotifyTarget){d=a.notifyEnter(this,c,this.dragData);this.proxy.setStatus(d)}else {this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(a,c,b)}}},beforeDragEnter:function(a,c,b){return !0},onDragOver:function(c,b){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),d;if(this.beforeDragOver(a,c,b)!==!1){if(a.isNotifyTarget){d=a.notifyOver(this,c,this.dragData);this.proxy.setStatus(d)}if(this.afterDragOver){this.afterDragOver(a,c,b)}}},beforeDragOver:function(a,c,b){return !0},onDragOut:function(c,b){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(a,c,b)!==!1){if(a.isNotifyTarget){a.notifyOut(this,c,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,c,b)}}this.cachedTarget=null},beforeDragOut:function(a,c,b){return !0},onDragDrop:function(c,b){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(a,c,b)!==!1){if(a.isNotifyTarget){if(a.notifyDrop(this,c,this.dragData)!==!1){this.onValidDrop(a,c,b)}else {this.onInvalidDrop(a,c,b)}}else {this.onValidDrop(a,c,b)}if(this.afterDragDrop){this.afterDragDrop(a,c,b)}}delete this.cachedTarget},beforeDragDrop:function(a,c,b){return !0},onValidDrop:function(a,c,b){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(a,c,b)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(c,b,d){var a=this;if(!b){b=c;c=null;d=b.getTarget().id}if(a.beforeInvalidDrop(c,b,d)!==!1){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}a.proxy.repair(a.getRepairXY(b,a.dragData),a.afterRepair,a);if(a.afterInvalidDrop){a.afterInvalidDrop(b,d)}}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=!1},beforeInvalidDrop:function(a,c,b){return !0},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==!1){this.dragData=a;this.proxy.stop();Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(a,b){return !0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(!0);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=!1;this.dragging=!0;this.proxy.update('');this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(b,c){var a=this.el.dom.cloneNode(!0);a.id=Ext.id();this.proxy.update(a);this.onStartDrag(b,c);return !0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DDProxy.prototype.destroy.call(this);Ext.destroy(this.proxy)}},1,0,0,0,0,0,[Ext.dd,'DragSource'],0);Ext.cmd.derive('Ext.panel.Proxy',Ext.Base,{alternateClassName:'Ext.dd.PanelProxy',moveOnDrag:!0,constructor:function(c,b){var a=this;a.panel=c;a.id=a.panel.id+'-ddproxy';Ext.apply(a,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.remove();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var a=this,b;if(!a.ghost){b=a.panel.getSize();a.panel.el.setVisibilityMode(Ext.Element.DISPLAY);a.ghost=a.panel.ghost();if(a.insertProxy){a.proxy=a.panel.el.insertSibling({cls:'x-panel-dd-spacer'});a.proxy.setSize(b)}}},repair:function(c,a,b){this.hide();Ext.callback(a,b||this)},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}},1,0,0,0,0,0,[Ext.panel,'Proxy',Ext.dd,'PanelProxy'],0);Ext.cmd.derive('Ext.panel.DD',Ext.dd.DragSource,{constructor:function(b,c){var a=this;a.panel=b;a.dragData={panel:b};a.panelProxy=new Ext.panel.Proxy(b,c);a.proxy=a.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,b.el,c);a.setupEl(b)},setupEl:function(c){var a=this,b=c.header,d=c.body;if(b){a.setHandleElId(b.id);d=b.el}if(d){d.setStyle('cursor','move');a.scroll=!1}else {c.on('boxready',a.setupEl,a,{single:!0})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return !0},createFrame:Ext.emptyFn,getDragEl:function(b){var a=this.panelProxy.ghost;if(a){return a.el.dom}},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(d,b,c){var a=this;if(a.beforeInvalidDrop(d,b,c)!==!1){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}if(a.afterInvalidDrop){a.afterInvalidDrop(b,c)}}}},1,0,0,0,0,0,[Ext.panel,'DD'],0);Ext.cmd.derive('Ext.layout.component.Dock',Ext.layout.component.Component,{alternateClassName:'Ext.layout.component.AbstractDock',type:'dock',horzAxisProps:{name:'horz',oppositeName:'vert',dockBegin:'left',dockEnd:'right',horizontal:!0,marginBegin:'margin-left',maxSize:'maxWidth',minSize:'minWidth',pos:'x',setSize:'setWidth',shrinkWrapDock:'shrinkWrapDockWidth',size:'width',sizeModel:'widthModel'},vertAxisProps:{name:'vert',oppositeName:'horz',dockBegin:'top',dockEnd:'bottom',horizontal:!1,marginBegin:'margin-top',maxSize:'maxHeight',minSize:'minHeight',pos:'y',setSize:'setHeight',shrinkWrapDock:'shrinkWrapDockHeight',size:'height',sizeModel:'heightModel'},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a=this,b,c;Ext.layout.component.Component.prototype.finishRender.call(this);b=a.getRenderTarget();c=a.getDockedItems();a.finishRenderItems(b,c)},isItemBoxParent:function(a){return !0},isItemShrinkWrap:function(a){return !0},noBorderClasses:['x-docked-noborder-top','x-docked-noborder-right','x-docked-noborder-bottom','x-docked-noborder-left'],noBorderClassesSides:{top:'x-docked-noborder-top',right:'x-docked-noborder-right',bottom:'x-docked-noborder-bottom',left:'x-docked-noborder-left'},borderWidthProps:{top:'border-top-width',right:'border-right-width',bottom:'border-bottom-width',left:'border-left-width'},handleItemBorders:function(){var b=this,e=b.owner,a,k,j=b.lastDockedItems,i=b.borders,m=e.dockedItems.generation,l=b.noBorderClassesSides,n=b.borderWidthProps,d,h,c,g,f,o=b.collapsed;if(b.initializedBorders==m||e.border&&!e.manageBodyBorders){return}b.initializedBorders=m;b.collapsed=!1;b.lastDockedItems=k=b.getLayoutItems();b.collapsed=o;a={top:[],right:[],bottom:[],left:[]};for(d=0,h=k.length;d<h;d++){c=k[d];g=c.dock;if(c.ignoreBorderManagement){continue}if(!a[g].satisfied){a[g].push(c);a[g].satisfied=!0}if(!a.top.satisfied&&g!=='bottom'){a.top.push(c)}if(!a.right.satisfied&&g!=='left'){a.right.push(c)}if(!a.bottom.satisfied&&g!=='top'){a.bottom.push(c)}if(!a.left.satisfied&&g!=='right'){a.left.push(c)}}if(j){for(d=0,h=j.length;d<h;d++){c=j[d];if(!c.isDestroyed&&!c.ignoreBorderManagement&&!e.manageBodyBorders){c.removeCls(b.noBorderClasses)}}}if(i){for(f in i){if(e.manageBodyBorders&&i[f].satisfied){e.setBodyStyle(n[f],'')}}}for(f in a){h=a[f].length;if(!e.manageBodyBorders){for(d=0;d<h;d++){a[f][d].addCls(l[f])}if(!a[f].satisfied&&!e.bodyBorder||e.bodyBorder===!1){e.addBodyCls(l[f])}}else {if(a[f].satisfied){e.setBodyStyle(n[f],'1px')}}}b.borders=a},beforeLayoutCycle:function(a){var g=this,e=g.owner,f=g.sizeModels.shrinkWrap,b=e.shrinkWrapDock,c,d;if(e.collapsed){if(e.collapsedVertical()){d=!0;a.measureDimensions=1}else {c=!0;a.measureDimensions=2}}a.collapsedVert=d;a.collapsedHorz=c;if(d){a.heightModel=f}else {if(c){a.widthModel=f}}b=b===!0?3:b||0;a.shrinkWrapDockHeight=b&1&&a.heightModel.shrinkWrap;a.shrinkWrapDockWidth=b&2&&a.widthModel.shrinkWrap},beginLayout:function(a){var c=this,e=c.owner,k=c.getLayoutItems(),m=a.context,l=k.length,j,g,f,d,b,h,i;Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments);h=e.getCollapsed();if(h!==c.lastCollapsedState&&Ext.isDefined(c.lastCollapsedState)){if(c.owner.collapsed){a.isCollapsingOrExpanding=1;e.addClsWithUI(e.collapsedCls)}else {a.isCollapsingOrExpanding=2;e.removeClsWithUI(e.collapsedCls);a.lastCollapsedState=c.lastCollapsedState}}c.lastCollapsedState=h;a.dockedItems=j=[];for(g=0;g<l;g++){f=k[g];if(f.rendered){i=f.dock;d=m.getCmp(f);d.dockedAt={x:0,y:0};d.offsets=b=Ext.Element.parseBox(f.offsets||0);d.horizontal=i=='top'||i=='bottom';b.width=b.left+b.right;b.height=b.top+b.bottom;j.push(d)}}a.bodyContext=a.getEl('body')},beginLayoutCycle:function(a){var c=this,i=a.dockedItems,j=i.length,b=c.owner,d=b.frameBody,h=c.lastHeightModel,e,g,f;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(c.owner.manageHeight){if(c.lastBodyDisplay){b.body.dom.style.display=c.lastBodyDisplay=''}}else {if(c.lastBodyDisplay!=='inline-block'){b.body.dom.style.display=c.lastBodyDisplay='inline-block'}if(h&&h.shrinkWrap&&!a.heightModel.shrinkWrap){b.body.dom.style.marginBottom=''}}if(a.widthModel.auto){if(a.widthModel.shrinkWrap){b.el.setWidth(null)}b.body.setWidth(null);if(d){d.setWidth(null)}}if(a.heightModel.auto){b.body.setHeight(null);if(d){d.setHeight(null)}}if(a.collapsedVert){a.setContentHeight(0)}else {if(a.collapsedHorz){a.setContentWidth(0)}}for(e=0;e<j;e++){g=i[e].target;f=g.dock;if(f=='right'){g.setLocalX(0)}else {if(f!='left'){continue}}}},calculate:function(a){var b=this,l=b.measureAutoDimensions(a,a.measureDimensions),j=a.state,e=j.horzDone,f=j.vertDone,g=a.bodyContext,k,c,d,i,h;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.frameInfo||a.getFrameInfo();g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();if(!a.frameBorder){if(!(k=a.framing)){a.frameBorder=a.borderInfo;a.framePadding=a.paddingInfo}else {a.frameBorder=k.border;a.framePadding=k.padding}}c=!e&&b.createAxis(a,l.contentWidth,a.widthModel,b.horzAxisProps,a.collapsedHorz);d=!f&&b.createAxis(a,l.contentHeight,a.heightModel,b.vertAxisProps,a.collapsedVert);for(i=0,h=a.dockedItems.length;h--;++i){if(c){b.dockChild(a,c,h,i)}if(d){b.dockChild(a,d,h,i)}}if(c&&b.finishAxis(a,c)){j.horzDone=e=c}if(d&&b.finishAxis(a,d)){j.vertDone=f=d}if(e&&f&&b.finishConstraints(a,e,f)){b.finishPositions(a,e,f)}else {b.done=!1}},createAxis:function(b,s,d,a,k){var r=this,e=0,q=r.owner,n=q[a.maxSize],o=q[a.minSize]||0,f=a.dockBegin,h=a.dockEnd,p=a.pos,g=a.size,m=n!=null,t=d.shrinkWrap,l,i,j,c;if(t){if(k){c=0}else {l=b.bodyContext;c=s+l.borderInfo[g]}}else {i=b.frameBorder;j=b.framePadding;e=i[f]+j[f];c=b.getProp(g)-(i[h]+j[h])}return {shrinkWrap:d.shrinkWrap,sizeModel:d,initialBegin:e,begin:e,end:c,collapsed:k,horizontal:a.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:c-e,maxChildSize:0,hasMinMaxConstraints:(o||m)&&d.shrinkWrap,minSize:o,maxSize:m?n:1000000000,bodyPosProp:r.owner.manageHeight?p:a.marginBegin,dockBegin:f,dockEnd:h,posProp:p,sizeProp:g,setSize:a.setSize,shrinkWrapDock:b[a.shrinkWrapDock],sizeModelName:a.sizeModel,dockedPixelsEnd:0}},dockChild:function(c,a,j,k){var f=this,b=c.dockedItems[a.shrinkWrap?j:k],d=b.target,h=d.dock,g=a.sizeProp,e,i;if(d.ignoreParentFrame&&c.isCollapsingOrExpanding){b.clearMarginCache()}b.marginInfo||b.getMarginInfo();if(h==a.dockBegin){if(a.shrinkWrap){e=f.dockOutwardBegin(c,b,d,a)}else {e=f.dockInwardBegin(c,b,d,a)}}else {if(h==a.dockEnd){if(a.shrinkWrap){e=f.dockOutwardEnd(c,b,d,a)}else {e=f.dockInwardEnd(c,b,d,a)}}else {if(a.shrinkWrapDock){i=b.getProp(g)+b.marginInfo[g];a.maxChildSize=Math.max(a.maxChildSize,i);e=0}else {e=f.dockStretch(c,b,d,a)}}}b.dockedAt[a.posProp]=e},dockInwardBegin:function(g,b,e,a){var j=a.begin,h=a.sizeProp,f=e.ignoreParentFrame,c,i,d;if(f){a.ignoreFrameBegin=b;d=e.dock;c=g.frameBorder[d];j-=c+g.framePadding[d]}if(!e.overlay){i=b.getProp(h)+b.marginInfo[h];a.begin+=i;if(f){a.begin-=c}}return j},dockInwardEnd:function(f,c,b,a){var g=a.sizeProp,h=c.getProp(g)+c.marginInfo[g],e=a.end-h,d;if(!b.overlay){a.end=e}if(b.ignoreParentFrame){a.ignoreFrameEnd=c;d=f.frameBorder[b.dock];e+=d+f.framePadding[b.dock];a.end+=d}return e},dockOutwardBegin:function(g,b,e,a){var c=a.begin,d=a.sizeProp,f;if(a.collapsed){a.ignoreFrameBegin=a.ignoreFrameEnd=b}else {if(e.ignoreParentFrame){a.ignoreFrameBegin=b}}if(!e.overlay){f=b.getProp(d)+b.marginInfo[d];c-=f;a.begin=c}return c},dockOutwardEnd:function(g,b,e,a){var f=a.end,d=a.sizeProp,c;c=b.getProp(d)+b.marginInfo[d];if(a.collapsed){a.ignoreFrameBegin=a.ignoreFrameEnd=b}else {if(e.ignoreParentFrame){a.ignoreFrameEnd=b}}if(!e.overlay){a.end=f+c;a.dockedPixelsEnd+=c}return f},dockStretch:function(h,c,f,a){var n=f.dock,e=a.sizeProp,i=n=='top'||n=='bottom',l=h.frameBorder,j=c.offsets,k=h.framePadding,o=i?'right':'bottom',d=i?'left':'top',g=a.begin+j[d],m,b;if(f.stretch!==!1){b=a.end-g-j[o];if(f.ignoreParentFrame){g-=k[d]+l[d];b+=k[e]+l[e]}m=c.marginInfo;b-=m[e];c[a.setSize](b)}return g},finishAxis:function(h,a){if(isNaN(a.maxChildSize)){return !1}var g=a.begin,e=a.end-g,l=a.collapsed,v=a.setSize,k=a.dockBegin,s=a.dockEnd,n=h.framePadding,t=h.frameBorder,b=t[k],i=h.framing,j=i&&i[k],f=l?0:n[k],w=a.sizeProp,p=a.ignoreFrameBegin,q=a.ignoreFrameEnd,r=h.bodyContext,o=Math.max(b+f-j,0),c,m,d,u;if(a.shrinkWrap){m=a.initialSize;if(i){d=-g+b+f;c=d-j-o}else {c=-g;d=c+f}if(!l){e+=n[w]}if(p){d-=b;c-=b;p.dockedAt[a.posProp]-=f}else {e+=b}if(l){}else {if(q){q.dockedAt[a.posProp]+=n[s]}else {e+=t[s]}}a.size=e;if(!a.horizontal&&!this.owner.manageHeight){u=!1}}else {if(i){d=0;c=g-j-o}else {d=-b;c=g-f-b}m=e}a.delta=d;r[v](m,u);r.setProp(a.bodyPosProp,c);return !isNaN(e)},beforeInvalidateShrinkWrapDock:function(b,c){var a=c.axis.sizeModelName;if(!b[a].constrainedMin){b[a]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(a,c){var b=c.axis,e=c.layout,d;if(a[b.sizeModelName].calculated){d=e.dockStretch(c.ownerContext,a,a.target,b);a.setProp(b.posProp,b.delta+d)}},finishConstraints:function(a,g,e){var o=this,i=o.sizeModels,q=g.shrinkWrap,p=e.shrinkWrap,n=o.owner,r,l,m,c,b,d,k,j,f,h;if(q){d=g.size;k=g.collapsed?0:g.minSize;j=g.maxSize;f=g.maxChildSize;h=Math.max(d,f);if(h>j){b=i.constrainedMax;m=j}else {if(h<k){b=i.constrainedMin;m=k}else {if(d<f){b=i.constrainedDock;n.dockConstrainedWidth=m=f}else {m=d}}}}if(p){d=e.size;k=e.collapsed?0:e.minSize;j=e.maxSize;f=e.maxChildSize;h=Math.max(d,f+d-e.initialSize);if(h>j){c=i.constrainedMax;l=j}else {if(h<k){c=i.constrainedMin;l=k}else {if(d<f){c=i.constrainedDock;n.dockConstrainedHeight=l=f}else {if(!a.collapsedVert&&!n.manageHeight){r=!1;a.bodyContext.setProp('margin-bottom',e.dockedPixelsEnd)}l=d}}}}if(b||c){if(b&&c&&b.constrainedMax&&c.constrainedByMin){a.invalidate({widthModel:b});return !1}if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap){a.invalidate({widthModel:b,heightModel:c});return !1}}else {o.invalidateAxes(a,g,e)}if(q){a.setWidth(m);if(b){a.widthModel=b}}if(p){a.setHeight(l,r);if(c){a.heightModel=c}}return !0},invalidateAxes:function(l,b,a){var p=this.beforeInvalidateShrinkWrapDock,q=this.afterInvalidateShrinkWrapDock,m=b.end-b.begin,n=a.initialSize,k=b.shrinkWrapDock&&b.maxChildSize<m,h=a.shrinkWrapDock&&a.maxChildSize<n,i,o,g,c,e,j,d,f;if(k||h){if(h){a.begin=a.initialBegin;a.end=a.begin+a.initialSize}i=l.dockedItems;for(g=0,o=i.length;g<o;++g){c=i[g];j=c.horizontal;d=null;if(k&&j){f=b.sizeProp;e=m;d=b}else {if(h&&!j){f=a.sizeProp;e=n;d=a}}if(d){e-=c.getMarginInfo()[f];if(e!==c.props[f]){c.invalidate({before:p,after:q,axis:d,ownerContext:l,layout:this})}}}}},finishPositions:function(d,h,i){var c=d.dockedItems,g=c.length,e=h.delta,f=i.delta,b,a;for(b=0;b<g;++b){a=c[b];a.setProp('x',e+a.dockedAt.x);a.setProp('y',f+a.dockedAt.y)}},finishedLayout:function(a){var c=this,b=a.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);if(!a.animatePolicy){if(a.isCollapsingOrExpanding===1){b.afterCollapse(!1)}else {if(a.isCollapsingOrExpanding===2){b.afterExpand(!1)}}}},getAnimatePolicy:function(b){var d=this,a,c;if(b.isCollapsingOrExpanding==1){a=d.lastCollapsedState}else {if(b.isCollapsingOrExpanding==2){a=b.lastCollapsedState}}if(a=='left'||a=='right'){c=d.horizontalCollapsePolicy}else {if(a=='top'||a=='bottom'){c=d.verticalCollapsePolicy}}return c},getDockedItems:function(c,k){var d=this,i=c==='visual',a=i?Ext.ComponentQuery.query('[rendered]',d.owner.dockedItems.items):d.owner.dockedItems.items,f=a&&a.length&&c!==!1,j,h,b,e,g,l;if(k==null){b=f&&!i?a.slice():a}else {b=[];for(e=0,l=a.length;e<l;++e){h=a[e].dock;g=h=='top'||h=='left';if(k?g:!g){b.push(a[e])}}f=f&&b.length}if(f){j=(c=c||'render')=='render';Ext.Array.sort(b,function(e,f){var a,b;if(j&&(a=d.owner.dockOrder[e.dock])!==(b=d.owner.dockOrder[f.dock])){if(!(a+b)){return a-b}}a=d.getItemWeight(e,c);b=d.getItemWeight(f,c);if(a!==undefined&&b!==undefined){return a-b}return 0})}return b||[]},getItemWeight:function(b,c){var a=b.weight||this.owner.defaultDockWeights[b.dock];return a[c]||a},getLayoutItems:function(){var e=this,c,f,d,b,a;if(e.owner.collapsed){a=e.owner.getCollapsedDockedItems()}else {c=e.getDockedItems('visual');f=c.length;a=[];for(b=0;b<f;b++){d=c[b];if(!d.hidden){a.push(d)}}}return a},measureContentWidth:function(b){var a=b.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(b){var a=b.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(b){var c=this,a=c.owner;if(b.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.show()}a.addClsWithUI(a.collapsedCls);b.redo(!0)}else {if(b.isCollapsingOrExpanding==2){a.removeClsWithUI(a.collapsedCls);b.bodyContext.redo()}}},renderChildren:function(){var a=this,c=a.getDockedItems(),b=a.getRenderTarget();a.handleItemBorders();a.renderItems(c,b)},renderItems:function(j,i){var e=this,g=j.length,d=0,b=0,k=0,l=e.getRenderTarget().dom.childNodes,m=l.length,f,c,h,a;for(f=0,c=0;f<m;f++){h=l[f];if(Ext.fly(h).hasCls('x-resizable-handle')){break}for(c=0;c<g;c++){a=j[c];if(a.rendered&&a.el.dom===h){break}}if(c===g){k++}}for(;d<g;d++,b++){a=j[d];if(d===b&&(a.dock==='right'||a.dock==='bottom')){b+=k}if(a&&!a.rendered){e.renderItem(a,i,b)}else {if(!e.isValidParent(a,i,b)){e.moveItem(a,i,b)}}}},undoLayout:function(b){var c=this,a=c.owner;if(b.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.hide()}a.removeClsWithUI(a.collapsedCls);b.undo(!0)}else {if(b.isCollapsingOrExpanding==2){a.addClsWithUI(a.collapsedCls);b.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(g,c){var f=this,b=f.sizePolicy,a=f.owner.shrinkWrapDock,e,d;if(g.stretch===!1){return b.nostretch}e=g.dock;d=e=='left'||e=='right';a=a===!0?3:a||0;if(d){b=b.vert;a=a&1}else {b=b.horz;a=a&2}if(a){if(!c){c=f.owner.getSizeModel()}if(c[d?'height':'width'].shrinkWrap){return b.shrinkWrap}}return b.stretch},configureItem:function(a,b){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);a.addCls('x-docked');a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return 'docked-'+a},afterRemove:function(a){Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);if(this.itemCls){a.el.removeCls(this.itemCls+'-'+a.dock)}var b=a.el.dom;if(!a.destroying&&b){b.parentNode.removeChild(b)}this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var f=this,b=f.borderCollapseMap,e=f.owner,a=e.baseCls,d=e.ui,c;b=b[a]||(b[a]={});c=b[d];if(!c){a+='-'+d+'-outer-border-';b[d]=c=[0,a+'l',a+'b',a+'bl',a+'r',a+'rl',a+'rb',a+'rbl',a+'t',a+'tl',a+'tb',a+'tbl',a+'tr',a+'trl',a+'trb',a+'trbl']}return c}},0,0,0,0,['layout.dock'],0,[Ext.layout.component,'Dock',Ext.layout.component,'AbstractDock'],0);Ext.cmd.derive('Ext.util.Memento',Ext.Base,function(){function captureOne(d,c,a,b){d[b?b+a:a]=c[a]}function removeOne(b,c,a){delete b[a]}function restoreOne(e,f,a,b){var d=b?b+a:a,c=e[d];if(c||e.hasOwnProperty(d)){restoreValue(f,a,c)}}function restoreValue(a,c,b){if(Ext.isDefined(b)){a[c]=b}else {delete a[c]}}function doMany(f,c,e,a,d){if(c){if(Ext.isArray(a)){var b,g=a.length;for(b=0;b<g;b++){f(c,e,a[b],d)}}else {f(c,e,a,d)}}}return {data:null,target:null,constructor:function(a,b){if(a){this.target=a;if(b){this.capture(b)}}},capture:function(d,c,b){var a=this;doMany(captureOne,a.data||(a.data={}),c||a.target,d,b)},remove:function(a){doMany(removeOne,this.data,null,a)},restore:function(a,d,c,b){doMany(restoreOne,this.data,c||this.target,a,b);if(d!==!1){this.remove(a)}},restoreAll:function(e,d){var c=this,f=d||this.target,b=c.data,a;for(a in b){if(b.hasOwnProperty(a)){restoreValue(f,a,b[a])}}if(e!==!1){delete c.data}}}}(),1,0,0,0,0,0,[Ext.util,'Memento'],0);Ext.cmd.derive('Ext.panel.Panel',Ext.panel.AbstractPanel,{alternateClassName:'Ext.Panel',collapsedCls:'collapsed',animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:undefined,floatable:!0,collapsible:undefined,closable:!1,closeAction:'destroy',placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:undefined,headerPosition:'top',frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var a=this;a.addEvents('beforeclose','close','beforeexpand','beforecollapse','expand','collapse','titlechange','iconchange','iconclschange','glyphchange','float','unfloat');if(a.collapsible){this.addStateEvents(['expand','collapse'])}if(a.unstyled){a.setUI('plain')}if(a.frame){a.setUI(a.ui+'-framed')}a.bridgeToolbars();Ext.panel.AbstractPanel.prototype.initComponent.call(this);a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement()},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);Ext.panel.AbstractPanel.prototype.beforeDestroy.call(this)},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var c=this,b=c.el,a=c.header;if(b&&a){b.dom.setAttribute('aria-labelledby',a.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(b){var a=this,f=a.title,c=a.header,e=a.reExpander,d=a.placeholder;a.title=b;if(c){if(c.isHeader){c.setTitle(b)}else {c.title=b}}else {if(a.rendered){a.updateHeader()}}if(e){e.setTitle(b)}if(d&&d.setTitle){d.setTitle(b)}a.fireEvent('titlechange',a,b,f)},setIconCls:function(b){var a=this,e=a.iconCls,c=a.header,d=a.placeholder;a.iconCls=b;if(c){if(c.isHeader){c.setIconCls(b)}else {c.iconCls=b}}else {a.updateHeader()}if(d&&d.setIconCls){d.setIconCls(b)}a.fireEvent('iconclschange',a,b,e)},setIcon:function(b){var a=this,e=a.icon,c=a.header,d=a.placeholder;a.icon=b;if(c){if(c.isHeader){c.setIcon(b)}else {c.icon=b}}else {a.updateHeader()}if(d&&d.setIcon){d.setIcon(b)}a.fireEvent('iconchange',a,b,e)},setGlyph:function(b){var a=this,e=a.glyph,c=a.header,d=a.placeholder;a.glyph=b;if(c){if(c.isHeader){c.setGlyph(b)}else {c.glyph=b}}else {a.updateHeader()}if(d&&d.setGlyph){d.setIcon(b)}a.fireEvent('glyphchange',a,b,e)},bridgeToolbars:function(){var a=this,b=[],c,e,d=a.minButtonWidth;function initToolbar(b,c,d){if(Ext.isArray(b)){b={xtype:'toolbar',items:b}}else {if(!b.xtype){b.xtype='toolbar'}}b.dock=c;if(c=='left'||c=='right'){b.vertical=!0}if(d){b.layout=Ext.applyIf(b.layout||{},{pack:{left:'start',center:'center'}[a.buttonAlign]||'end'})}return b}if(a.tbar){b.push(initToolbar(a.tbar,'top'));a.tbar=null}if(a.bbar){b.push(initToolbar(a.bbar,'bottom'));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){c=initToolbar(a.fbar,'bottom',!0);c.ui='footer';if(d){e=c.defaults;c.defaults=function(b){var a=e||{};if((!b.xtype||b.xtype==='button'||b.isComponent&&b.isXType('button'))&&!('minWidth' in a)){a=Ext.apply({minWidth:d},a)}return a}}b.push(c);a.fbar=null}if(a.lbar){b.push(initToolbar(a.lbar,'left'));a.lbar=null}if(a.rbar){b.push(initToolbar(a.rbar,'right'));a.rbar=null}if(a.dockedItems){if(!Ext.isArray(a.dockedItems)){a.dockedItems=[a.dockedItems]}a.dockedItems=a.dockedItems.concat(b)}else {a.dockedItems=b}},isPlaceHolderCollapse:function(){return this.collapseMode=='placeholder'},onBoxReady:function(){Ext.panel.AbstractPanel.prototype.onBoxReady.call(this);if(this.collapsed){this.setHiddenDocked()}},beforeRender:function(){var a=this,b;Ext.panel.AbstractPanel.prototype.beforeRender.call(this);a.initTools();if(!(a.preventHeader||a.header===!1)){a.updateHeader()}if(a.collapsed){if(a.isPlaceHolderCollapse()){if(!a.hidden){a.setHiddenState(!0);a.preventCollapseFire=!0;a.placeholderCollapse();delete a.preventCollapseFire;b=a.collapsed;a.collapsed=!1}}else {a.beginCollapse();a.addClsWithUI(a.collapsedCls)}}if(b){a.collapsed=b}},initTools:function(){var a=this,c=a.tools,b,d;a.tools=[];for(b=c&&c.length;b;){--b;a.tools[b]=d=c[b];d.toolOwner=a}if(a.collapsible&&!(a.hideCollapseTool||a.header===!1||a.preventHeader)){a.collapseDirection=a.collapseDirection||a.headerPosition||'top';a.collapseTool=a.expandTool=Ext.widget({xtype:'tool',handler:a.toggleCollapse,scope:a});a.updateCollapseTool();if(a.collapseFirst){a.tools.unshift(a.collapseTool)}}a.addTools();if(a.closable){a.addClsWithUI('closable');a.addTool(Ext.widget({xtype:'tool',type:'close',handler:Ext.Function.bind(a.close,a,[])}))}if(a.collapseTool&&!a.collapseFirst){a.addTool(a.collapseTool)}},addTools:Ext.emptyFn,updateCollapseTool:function(){var a=this,b=a.collapseTool;if(b){if(a.collapsed&&!a.isPlaceHolderCollapse()){b.setType('expand-'+a.getOppositeDirection(a.collapseDirection))}else {b.setType('collapse-'+a.collapseDirection)}}},close:function(){if(this.fireEvent('beforeclose',this)!==!1){this.doClose()}},doClose:function(){this.fireEvent('close',this);this[this.closeAction]()},updateHeader:function(f){var a=this,b=a.header,d=a.title,c=a.tools,g=a.icon||a.iconCls,e=a.headerPosition==='left'||a.headerPosition==='right';if(Ext.isObject(b)||b!==!1&&(f||(d||g)||c&&c.length||a.collapsible&&!a.titleCollapse)){if(b&&b.isHeader){b.show()}else {b=a.header=Ext.widget(Ext.apply({xtype:'header',title:d,titleAlign:a.titleAlign,orientation:e?'vertical':'horizontal',dock:a.headerPosition||'top',textCls:a.headerTextCls,iconCls:a.iconCls,icon:a.icon,glyph:a.glyph,baseCls:a.baseCls+'-header',tools:c,ui:a.ui,id:a.id+'_header',overCls:a.headerOverCls,indicateDrag:a.draggable,frame:(a.frame||a.alwaysFramed)&&a.frameHeader,ignoreParentFrame:a.frame||a.overlapHeader,ignoreBorderManagement:a.frame||a.ignoreHeaderBorderManagement,ownerCt:a,listeners:a.collapsible&&a.titleCollapse?{click:a.toggleCollapse,scope:a}:null},a.header));a.addDocked(b,0)}a.initHeaderAria()}else {if(b){b.hide()}}},setUI:function(b){var a=this;Ext.panel.AbstractPanel.prototype.setUI.apply(this,arguments);if(a.header&&a.header.rendered){a.header.setUI(b)}},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(b){var a=this;if(a.collapsed&&a.placeholder){return a.placeholder.isVisible(b)}return Ext.panel.AbstractPanel.prototype.isVisible.apply(this,arguments)},onHide:function(){var a=this;if(a.collapsed&&a.placeholder){a.placeholder.hide()}else {Ext.panel.AbstractPanel.prototype.onHide.apply(this,arguments)}},onShow:function(){var a=this;if(a.collapsed&&a.isPlaceHolderCollapse()){a.setHiddenState(!0);a.placeholderCollapse()}else {Ext.panel.AbstractPanel.prototype.onShow.apply(this,arguments)}},onRemoved:function(b){var a=this;if(a.placeholder&&!b){a.ownerCt.remove(a.placeholder,!1)}Ext.panel.AbstractPanel.prototype.onRemoved.apply(this,arguments)},addTool:function(a){if(!Ext.isArray(a)){a=[a]}var c=this,e=c.header,d,f=a.length,b;for(d=0;d<f;d++){b=a[d];b.toolOwner=c;if(e&&e.isHeader){e.addTool(b)}else {c.tools.push(b)}}c.updateHeader()},getOppositeDirection:function(b){var a=Ext.Component;switch(b){case a.DIRECTION_TOP:return a.DIRECTION_BOTTOM;case a.DIRECTION_RIGHT:return a.DIRECTION_LEFT;case a.DIRECTION_BOTTOM:return a.DIRECTION_TOP;case a.DIRECTION_LEFT:return a.DIRECTION_RIGHT;}},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a==='left'||a==='right'},collapsedVertical:function(){var a=this.getCollapsed();return a==='top'||a==='bottom'},restoreDimension:function(){var a=this.collapseDirection;return a==='top'||a==='bottom'?'height':'width'},getCollapsed:function(){var a=this;if(a.collapsed===!0){return a.collapseDirection}return a.collapsed},getState:function(){var c=this,a=Ext.panel.AbstractPanel.prototype.getState.call(this),b;a=c.addPropertyToState(a,'collapsed');if(c.collapsed){b=c.collapseMemento;b=b&&b.data;if(c.collapsedVertical()){if(a){delete a.height}if(b){a=c.addPropertyToState(a,'height',b.height)}}else {if(a){delete a.width}if(b){a=c.addPropertyToState(a,'width',b.width)}}}return a},findReExpander:function(g){var f=this,c=Ext.Component,d=f.dockedItems.items,e=d.length,a,b;if(f.collapseMode==='mini'){return}switch(g){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(b=0;b<e;b++){a=d[b];if(!a.hidden){if(a.isHeader&&(!a.dock||a.dock==='top'||a.dock==='bottom')){return a}}};break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(b=0;b<e;b++){a=d[b];if(!a.hidden){if(a.isHeader&&(a.dock==='left'||a.dock==='right')){return a}}};break;default:throw 'Panel#findReExpander must be passed a valid collapseDirection';}},getReExpander:function(d){var a=this,b=d||a.collapseDirection,c=a.reExpander||a.findReExpander(b);a.expandDirection=a.getOppositeDirection(b);if(!c){a.reExpander=c=a.createReExpander(b,{dock:b,cls:'x-docked '+a.baseCls+'-'+a.ui+'-collapsed',isCollapsedExpander:!0});a.dockedItems.insert(0,c)}return c},createReExpander:function(c,g){var a=this,f=c==='left',e=c==='right',d=f||e,b=Ext.apply({hideMode:'offsets',title:a.title||'&#160;',titleAlign:a.titleAlign,orientation:d?'vertical':'horizontal',textCls:a.headerTextCls,icon:a.icon,iconCls:a.iconCls,glyph:a.glyph,baseCls:a.self.prototype.baseCls+'-header',ui:a.ui,frame:a.frame&&a.frameHeader,ignoreParentFrame:a.frame||a.overlapHeader,indicateDrag:a.draggable,collapseImmune:!0,ownerCt:a.ownerCt,ownerLayout:a.componentLayout,margin:a.margin},g);if(a.collapseMode==='mini'){if(d){b.width=1}else {b.height=1}}if(!a.hideCollapseTool){if(f||e&&a.isPlaceHolderCollapse()){b.titlePosition=1}b.tools=[{xtype:'tool',type:'expand-'+a.getOppositeDirection(c),uiCls:['top'],handler:a.toggleCollapse,scope:a}]}b=new Ext.panel.Header(b);b.addClsWithUI(a.getHeaderCollapsedClasses(b));return b},getHeaderCollapsedClasses:function(d){var a=this,c=a.collapsedCls,b;b=[c,c+'-'+d.getDockName()];if(a.border&&(!a.frame||a.frame&&Ext.supports.CSS3BorderRadius)){b.push(c+'-border-'+d.getDockName())}return b},beginCollapse:function(){var a=this,g=a.lastBox,f=a.rendered,d=a.collapseMemento||(a.collapseMemento=new Ext.util.Memento(a)),e=a.getSizeModel(),b=a.header,c;d.capture(['height','minHeight','width','minWidth']);if(g){d.capture(a.restoreDimension(),g,'last.')}if(a.collapsedVertical()){if(e.width.shrinkWrap){a.width=f?a.getWidth():a.width||a.minWidth||100}delete a.height;a.minHeight=0}else {if(a.collapsedHorizontal()){if(e.height.shrinkWrap){a.height=f?a.getHeight():a.height||a.minHeight||100}delete a.width;a.minWidth=0}}if(a.ownerCt){a.ownerCt.getLayout().beginCollapse(a)}if(!a.isPlaceHolderCollapse()&&b!==!1){if(b===(c=a.getReExpander())){b.collapseImmune=!0;b.getHierarchyState().collapseImmune=!0;b.addClsWithUI(a.getHeaderCollapsedClasses(b));if(b.rendered){b.updateFrame()}}else {if(c.el){c.el.show();c.hidden=!1}}}if(a.resizer){a.resizer.disable()}},beginExpand:function(){var a=this,f=a.lastBox,c=a.collapseMemento,e=this.restoreDimension(),b=a.header,d;if(c){c.restore(['minHeight','minWidth',e]);if(f){c.restore(e,!0,f,'last.')}}if(a.ownerCt){a.ownerCt.getLayout().beginExpand(a)}if(!a.isPlaceHolderCollapse()&&b!==!1){if(b===(d=a.getReExpander())){delete b.collapseImmune;delete b.getHierarchyState().collapseImmune;b.removeClsWithUI(a.getHeaderCollapsedClasses(b));if(b.rendered){b.expanding=!0;b.updateFrame();delete b.expanding}}else {d.hidden=!0;d.el.hide()}}if(a.resizer){a.resizer.enable()}},collapse:function(c,b){var a=this,d=c||a.collapseDirection,e=a.ownerCt;if(a.isCollapsingOrExpanding){return a}if(arguments.length<2){b=a.animCollapse}if(a.collapsed||a.fireEvent('beforecollapse',a,c,b)===!1){return a}if(e&&a.isPlaceHolderCollapse()){return a.placeholderCollapse(c,b)}a.collapsed=d;a.beginCollapse();a.getHierarchyState().collapsed=!0;a.fireHierarchyEvent('collapse');return a.doCollapseExpand(1,b)},doCollapseExpand:function(e,b){var a=this,d=a.animCollapse,c=a.ownerLayout;a.animCollapse=b;a.isCollapsingOrExpanding=e;if(b){a.addCls('x-animating-size')}if(c&&!b){c.onContentChange(a)}else {a.updateLayout({isRoot:!0})}a.animCollapse=d;return a},afterCollapse:function(c){var a=this,b=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(c){a.removeCls('x-animating-size')}if(b&&c){b.onContentChange(a)}a.setHiddenDocked();a.fireEvent('collapse',a)},setHiddenDocked:function(){var b=this,c=b.hiddenOnCollapse,f=b.getDockedItems(),g=f.length,d=0,a,e;if(b.header!==!1){e=b.getReExpander()}c.add(b.body);for(;d<g;d++){a=f[d];if(a&&a!==e&&a.el){c.add(a.el)}}c.setStyle('visibility','hidden')},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle('visibility','');a.clear()},getPlaceholder:function(g){var a=this,d=g||a.collapseDirection,f=null,b=a.placeholder,e=a.floatable,c=a.titleCollapse;if(!b){if(e||a.collapsible&&c){f={click:{fn:!c&&e?a.floatCollapsedPanel:a.toggleCollapse,element:'el',scope:a}}}a.placeholder=b=Ext.widget(a.createReExpander(d,{id:a.id+'-placeholder',listeners:f}))}if(!b.placeholderFor){if(!b.isComponent){a.placeholder=b=a.lookupComponent(b)}Ext.applyIf(b,{margins:a.margins,placeholderFor:a});b.addCls(['x-region-collapsed-placeholder','x-region-collapsed-'+d+'-placeholder',a.collapsedCls])}return b},placeholderCollapse:function(h,g){var a=this,e=a.ownerCt,d=h||a.collapseDirection,f='x-border-region-slide-in',b=a.getPlaceholder(d),c;a.isCollapsingOrExpanding=1;a.setHiddenState(!0);a.collapsed=d;if(b.rendered){if(b.el.dom.parentNode!==a.el.dom.parentNode){a.el.dom.parentNode.insertBefore(b.el.dom,a.el.dom)}b.hidden=!1;b.el.show();e.updateLayout()}else {e.insert(e.items.indexOf(a),b)}if(a.rendered){a.el.setVisibilityMode(a.placeholderCollapseHideMode);if(g){a.el.addCls(f);b.el.hide();c=a.convertCollapseDir(d);a.el.slideOut(c,{preserveScroll:!0,duration:Ext.Number.from(g,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(f);b.el.show().setStyle('display','none').slideIn(c,{easing:'linear',duration:100,listeners:{afteranimate:function(){b.focus();a.isCollapsingOrExpanding=0;a.fireEvent('collapse',a)}}})}}})}else {a.el.hide();a.isCollapsingOrExpanding=0;a.fireEvent('collapse',a)}}else {a.isCollapsingOrExpanding=0;if(!a.preventCollapseFire){a.fireEvent('collapse',a)}}return a},floatCollapsedPanel:function(){var a=this,c=a.placeholder,d=c.getSize(),b,g='x-border-region-slide-in',h=a.collapsed,f=a.ownerCt||a,e;if(a.isSliding){return}if(a.el.hasCls(g)){a.slideOutFloatedPanel();return}a.isSliding=!0;c.el.hide();c.hidden=!0;a.el.show();a.setHiddenState(!1);a.collapsed=!1;f.updateLayout();b=a.getBox(!1,!0);c.el.show();c.hidden=!1;a.el.hide();a.setHiddenState(!0);a.collapsed=h;f.updateLayout();a.slideOutTask=a.slideOutTask||new Ext.util.DelayedTask(a.slideOutFloatedPanel,a);c.el.on('mouseleave',a.onMouseLeaveFloated,a);a.el.on('mouseleave',a.onMouseLeaveFloated,a);c.el.on('mouseenter',a.onMouseEnterFloated,a);a.el.on('mouseenter',a.onMouseEnterFloated,a);a.el.addCls(g);a.floated=!0;if(a.collapseTool){a.collapseTool.el.hide()}switch(a.collapsed){case 'top':a.setLocalXY(b.x,b.y+d.height-1);break;case 'right':a.setLocalXY(b.x-d.width+1,b.y);break;case 'bottom':a.setLocalXY(b.x,b.y-d.height+1);break;case 'left':a.setLocalXY(b.x+d.width-1,b.y);break;}e=a.convertCollapseDir(a.collapsed);a.floatedFromCollapse=a.collapsed;a.collapsed=!1;a.setHiddenState(!1);a.el.slideIn(e,{preserveScroll:!0,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.isSliding=!1;a.fireEvent('float',a)}}})},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},isLayoutRoot:function(){if(this.floatedFromCollapse){return !0}return Ext.panel.AbstractPanel.prototype.isLayoutRoot.call(this)},slideOutFloatedPanel:function(){var a=this,c=this.el,b;if(a.isSliding||a.isDestroyed){return}a.isSliding=!0;a.floated=!1;a.slideOutFloatedPanelBegin();if(typeof a.collapsed=='string'){b=a.convertCollapseDir(a.collapsed)}c.slideOut(b,{preserveScroll:!0,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls('x-border-region-slide-in')}}})},slideOutFloatedPanelBegin:function(){var a=this,b=a.placeholder.el,c=a.el;a.collapsed=a.floatedFromCollapse;a.setHiddenState(!0);a.floatedFromCollapse=null;b.un('mouseleave',a.onMouseLeaveFloated,a);c.un('mouseleave',a.onMouseLeaveFloated,a);b.un('mouseenter',a.onMouseEnterFloated,a);c.un('mouseenter',a.onMouseEnterFloated,a)},slideOutFloatedPanelEnd:function(){var a=this;if(a.collapseTool){a.collapseTool.el.show()}a.slideOutTask.cancel();a.isSliding=!1;a.fireEvent('unfloat',a)},expand:function(b){var a=this;if(a.isCollapsingOrExpanding){return a}if(!arguments.length){b=a.animCollapse}if(!a.collapsed&&!a.floatedFromCollapse){return a}if(a.fireEvent('beforeexpand',a,b)===!1){return a}delete this.getHierarchyState().collapsed;if(a.isPlaceHolderCollapse()){return a.placeholderExpand(b)}a.restoreHiddenDocked();a.beginExpand();a.collapsed=!1;return a.doCollapseExpand(2,b)},placeholderExpand:function(d){var a=this,g=a.collapsed,c='x-border-region-slide-in',e,b,f=a.ownerLayout?a.ownerLayout.centerRegion:null;if(Ext.AbstractComponent.layoutSuspendCount){d=!1}if(a.floatedFromCollapse){b=a.getPosition(!0);a.slideOutFloatedPanelBegin();a.slideOutFloatedPanelEnd();a.floated=!1}if(d){Ext.suspendLayouts();a.placeholder.hide();a.el.show();a.collapsed=!1;a.setHiddenState(!1);if(f&&!b){f.hidden=!0}Ext.resumeLayouts(!0);f.hidden=!1;a.el.addCls(c);a.isCollapsingOrExpanding=2;if(b){e=a.getXY();a.setLocalXY(b[0],b[1]);a.setXY([e[0],e[1]],{duration:Ext.Number.from(d,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(c);a.isCollapsingOrExpanding=0;a.fireEvent('expand',a)}}})}else {a.el.hide();a.placeholder.el.show();a.placeholder.hidden=!1;a.setHiddenState(!1);a.el.slideIn(a.convertCollapseDir(g),{preserveScroll:!0,duration:Ext.Number.from(d,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(c);a.placeholder.hide();a.updateLayout();a.isCollapsingOrExpanding=0;a.fireEvent('expand',a)}}})}}else {a.floated=a.collapsed=!1;a.el.removeCls(c);Ext.suspendLayouts();a.placeholder.hide();a.show();Ext.resumeLayouts(!0);a.fireEvent('expand',a)}return a},afterExpand:function(c){var a=this,b=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(c){a.removeCls('x-animating-size')}if(b&&c){b.onContentChange(a)}a.fireEvent('expand',a);a.fireHierarchyEvent('expand')},setBorder:function(a,d){if(d){return}var b=this,c=b.header;if(!a){a=0}else {if(a===!0){a='1px'}else {a=b.unitizeBox(a)}}if(c){if(c.isHeader){c.setBorder(a)}else {c.border=a}}if(b.rendered&&b.bodyBorder!==!1){b.body.setStyle('border-width',a)}b.updateLayout();b.border=a},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){if(this.simpleDrag){this.initSimpleDraggable()}else {this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)}},initSimpleDraggable:function(){var a=this,b,c;if(!a.header){a.updateHeader(!0)}if(a.header){b=Ext.applyIf({el:a.el,delegate:'#'+Ext.escapeId(a.header.id)},a.draggable);if(a.constrain||a.constrainHeader){b.constrain=a.constrain;b.constrainDelegate=a.constrainHeader;b.constrainTo=a.constrainTo||a.container}c=a.dd=new Ext.util.ComponentDragger(this,b);a.relayEvents(c,['dragstart','drag','dragend']);if(a.maximized){c.disable()}}},ghostTools:function(){var c=[],d=this.header,b=d?d.query('tool[hidden=false]'):[],a,e,f;if(b.length){a=0;e=b.length;for(;a<e;a++){f=b[a];c.push({type:f.type})}}else {c=[{type:'placeholder'}]}return c},ghost:function(e){var a=this,b=a.ghostPanel,d=a.getBox(),c;if(!b){b=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:a.frame&&!a.alwaysFramed,alwaysFramed:a.alwaysFramed,overlapHeader:a.overlapHeader,headerPosition:a.headerPosition,baseCls:a.baseCls,cls:a.baseCls+'-ghost '+(e||'')});a.ghostPanel=b}else {b.el.show()}a.ghostPanel.hidden=!1;b.floatParent=a.floatParent;if(a.floating){b.zIndexManager.assignZIndices()}else {b.toFront()}if(!(a.preventHeader||a.header===!1)){c=b.header;if(c){c.suspendLayouts();Ext.Array.forEach(c.query('tool'),c.remove,c);c.resumeLayouts()}b.addTool(a.ghostTools());b.setTitle(a.title);if(a.iconCls){b.setIconCls(a.iconCls)}else {if(a.icon){b.setIcon(a.icon)}else {if(a.glyph){b.setGlyph(a.glyph)}}}b.header.addCls('x-header-ghost')}b.setPagePosition(d.x,d.y);b.setSize(d.width,d.height);a.el.hide();return b},unghost:function(c,b){var a=this;if(!a.ghostPanel){return}if(c!==!1){a.el.show();if(b!==!1){a.setPagePosition(a.ghostPanel.getXY());if(a.hideMode=='offsets'){delete a.el.hideModeStyles}}Ext.defer(a.focus,10,a)}a.ghostPanel.el.hide();a.ghostPanel.hidden=!0},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},initResizable:function(){Ext.panel.AbstractPanel.prototype.initResizable.apply(this,arguments);if(this.collapsed){this.resizer.disable()}},convertCollapseDir:function(a){return a.substr(0,1)}},0,['panel'],['component','box','container','panel'],{'component':!0,'box':!0,'container':!0,'panel':!0},['widget.panel'],0,[Ext.panel,'Panel',Ext,'Panel'],function(){this.prototype.animCollapse=Ext.enableFx});Ext.cmd.derive('Ext.tip.Tip',Ext.panel.Panel,{alternateClassName:'Ext.Tip',minWidth:40,maxWidth:500,shadow:'sides',defaultAlign:'tl-bl?',constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:'x-tip',floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:'hide',ariaRole:'tooltip',alwaysFramed:!0,frameHeader:!1,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;Ext.panel.Panel.prototype.showAt.apply(this,arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(!0)}},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined},0,0,['component','box','container','panel'],{'component':!0,'box':!0,'container':!0,'panel':!0},0,0,[Ext.tip,'Tip',Ext,'Tip'],0);Ext.cmd.derive('Ext.tip.ToolTip',Ext.tip.Tip,{alternateClassName:'Ext.ToolTip',autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;Ext.tip.Tip.prototype.initComponent.apply(this,arguments);a.lastActive=new Date();a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(c,b){var a=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);a.anchorCls='x-tip-anchor-'+a.getAnchorPosition();a.anchorEl=a.el.createChild({cls:'x-tip-anchor '+a.anchorCls})},setTarget:function(d){var a=this,c=Ext.get(d),b;if(a.target){b=Ext.get(a.target);a.mun(b,'mouseover',a.onTargetOver,a);a.mun(b,'mouseout',a.onTargetOut,a);a.mun(b,'mousemove',a.onMouseMove,a)}a.target=c;if(c){a.mon(c,{freezeEvent:!0,mouseover:a.onTargetOver,mouseout:a.onTargetOut,mousemove:a.onMouseMove,scope:a})}if(a.anchor){a.anchorTarget=a.target}},onMouseMove:function(c){var a=this,d=a.delegate?c.getTarget(a.delegate):a.triggerElement=!0,b;if(d){a.targetXY=c.getXY();if(d===a.triggerElement){if(!a.hidden&&a.trackMouse){b=a.getTargetXY();if(a.constrainPosition){b=a.el.adjustForConstraints(b,a.el.parent())}a.setPagePosition(b)}}else {a.hide();a.lastActive=new Date(0);a.onTargetOver(c)}}else {if(!a.closable&&a.isVisible()&&a.autoHide!==!1){a.hide()}}},getTargetXY:function(){var a=this,c,d,h,m,l,f,e,j,k,b,g,i;if(a.delegate){a.anchorTarget=a.triggerElement}if(a.anchor){a.targetCounter++;d=a.getOffsets();h=a.anchorToTarget&&!a.trackMouse?a.getAlignToXY(a.anchorTarget,a.getAnchorAlign()):a.targetXY;m=Ext.Element.getViewWidth()-5;l=Ext.Element.getViewHeight()-5;f=document.documentElement;e=document.body;j=(f.scrollLeft||e.scrollLeft||0)+5;k=(f.scrollTop||e.scrollTop||0)+5;b=[h[0]+d[0],h[1]+d[1]];g=a.getSize();i=a.constrainPosition;a.anchorEl.removeCls(a.anchorCls);if(a.targetCounter<2&&i){if(b[0]<j){if(a.anchorToTarget){a.defaultAlign='l-r';if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor='left';return a.getTargetXY()}if(b[0]+g.width>m){if(a.anchorToTarget){a.defaultAlign='r-l';if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor='right';return a.getTargetXY()}if(b[1]<k){if(a.anchorToTarget){a.defaultAlign='t-b';if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor='top';return a.getTargetXY()}if(b[1]+g.height>l){if(a.anchorToTarget){a.defaultAlign='b-t';if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor='bottom';return a.getTargetXY()}}a.anchorCls='x-tip-anchor-'+a.getAnchorPosition();a.anchorEl.addCls(a.anchorCls);a.targetCounter=0;return b}else {c=a.getMouseOffset();return a.targetXY?[a.targetXY[0]+c[0],a.targetXY[1]+c[1]]:c}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var a=this,b;if(a.anchor){a.tipAnchor=a.anchor.charAt(0)}else {b=a.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);a.tipAnchor=b[1].charAt(0)}switch(a.tipAnchor){case 't':return 'top';case 'b':return 'bottom';case 'r':return 'right';}return 'left'},getAnchorAlign:function(){switch(this.anchor){case 'top':return 'tl-bl';case 'left':return 'tl-tr';case 'right':return 'tr-tl';default:return 'bl-tl';}},getOffsets:function(){var b=this,c,a,d=b.getAnchorPosition().charAt(0);if(b.anchorToTarget&&!b.trackMouse){switch(d){case 't':a=[0,9];break;case 'b':a=[0,-13];break;case 'r':a=[-13,0];break;default:a=[9,0];break;}}else {switch(d){case 't':a=[-15-b.anchorOffset,30];break;case 'b':a=[-19-b.anchorOffset,-13-b.el.dom.offsetHeight];break;case 'r':a=[-15-b.el.dom.offsetWidth,-13-b.anchorOffset];break;default:a=[25,-13-b.anchorOffset];break;}}c=b.getMouseOffset();a[0]+=c[0];a[1]+=c[1];return a},onTargetOver:function(b){var a=this,d=a.delegate,c;if(a.disabled||b.within(a.target.dom,!0)){return}c=d?b.getTarget(d):!0;if(c){a.triggerElement=c;a.triggerEvent=b;a.clearTimer('hide');a.targetXY=b.getXY();a.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else {a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a)}}else {if(!a.hidden&&a.autoHide!==!1){a.show()}}},showFromDelay:function(){this.fromDelayShow=!0;this.show();delete this.fromDelayShow},onShowVeto:function(){Ext.tip.Tip.prototype.onShowVeto.call(this);delete this.triggerElement;this.clearTimer('show')},onTargetOut:function(d){var a=this,b=a.triggerElement,c=b===!0?a.target:b;if(a.disabled||!b||d.within(c,!0)){return}if(a.showTimer){a.clearTimer('show');a.triggerElement=null}if(a.autoHide!==!1){a.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer('dismiss');a.lastActive=new Date();if(a.anchorEl){a.anchorEl.hide()}Ext.tip.Tip.prototype.hide.apply(this,arguments);delete a.triggerElement},show:function(){var a=this;Ext.tip.Tip.prototype.show.call(this);if(this.hidden===!1){a.setPagePosition(-10000,-10000);if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else {a.anchorEl.hide()}}},showAt:function(b){var a=this;a.lastActive=new Date();a.clearTimers();a.calledFromShowAt=!0;if(!a.isVisible()){Ext.tip.Tip.prototype.showAt.apply(this,arguments)}if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(!0);a.el.sync(!0);if(a.dismissDelay&&a.autoHide!==!1){a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a)}if(a.anchor){a.syncAnchor();if(!a.anchorEl.isVisible()){a.anchorEl.show()}}else {a.anchorEl.hide()}}delete a.calledFromShowAt},syncAnchor:function(){var a=this,b,c,d;switch(a.tipAnchor.charAt(0)){case 't':b='b';c='tl';d=[20+a.anchorOffset,1];break;case 'r':b='l';c='tr';d=[-1,12+a.anchorOffset];break;case 'b':b='t';c='bl';d=[20+a.anchorOffset,-1];break;default:b='r';c='tl';d=[1,12+a.anchorOffset];break;}a.anchorEl.alignTo(a.el,b+'-'+c,d);a.anchorEl.setStyle('z-index',parseInt(a.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(b,c){var a=this;Ext.tip.Tip.prototype.setPagePosition.apply(this,arguments);if(a.anchor){a.syncAnchor()}},_timerNames:{},clearTimer:function(a){var b=this,d=b._timerNames,c=d[a]||(d[a]=a+'Timer'),e=b[c];if(e){clearTimeout(e);b[c]=null}},clearTimers:function(){var a=this;a.clearTimer('show');a.clearTimer('dismiss');a.clearTimer('hide')},onShow:function(){var a=this;Ext.tip.Tip.prototype.onShow.call(this);a.mon(Ext.getDoc(),'mousedown',a.onDocMouseDown,a)},onHide:function(){var a=this;Ext.tip.Tip.prototype.onHide.call(this);a.mun(Ext.getDoc(),'mousedown',a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;if(!a.closable&&!b.within(a.el.dom)){a.disable();Ext.defer(a.doEnable,100,a)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;Ext.tip.Tip.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un('mousedown',this.onDocMouseDown,this);Ext.tip.Tip.prototype.onDestroy.call(this)}},0,['tooltip'],['component','box','container','panel','tooltip'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tooltip':!0},['widget.tooltip'],0,[Ext.tip,'ToolTip',Ext,'ToolTip'],0);Ext.cmd.derive('Ext.tip.QuickTip',Ext.tip.ToolTip,{alternateClassName:'Ext.QuickTip',interceptTitles:!1,title:'&#160;',tagConfig:{namespace:'data-',attribute:'qtip',width:'qwidth',target:'target',title:'qtitle',hide:'hide',cls:'qclass',align:'qalign',anchor:'anchor',showDelay:'qshowDelay'},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},register:function(a){var f=Ext.isArray(a)?a:arguments,d=0,g=f.length,b,c,e;for(;d<g;d++){a=f[d];b=a.target;if(b){if(Ext.isArray(b)){for(c=0,e=b.length;c<e;c++){this.targets[Ext.id(b[c])]=a}}else {this.targets[Ext.id(b)]=a}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(b){var c=this,a=c.activeTarget;b=Ext.get(b).dom;if(c.isVisible()){if(a&&a.el==b){c.hide()}}else {if(a&&a.el==b){c.clearTimer('show')}}},getTipCfg:function(d){var a=d.getTarget(),c=a.title,b;if(this.interceptTitles&&c&&Ext.isString(c)){a.qtip=c;a.removeAttribute('title');d.preventDefault();return {text:c}}else {b=this.tagConfig;a=d.getTarget('['+b.namespace+b.attribute+']');if(a){return {target:a,text:a.getAttribute(b.namespace+b.attribute)}}}},onTargetOver:function(m){var a=this,b=m.getTarget(a.delegate),e,j,c,d,f,g,k,i,h,n,l;if(a.disabled){return}a.targetXY=m.getXY();if(!b||b.nodeType!==1||b==document.documentElement||b==document.body){return}if(a.activeTarget&&(b==a.activeTarget.el||Ext.fly(a.activeTarget.el).contains(b))){if(a.targetTextEmpty()){a.onShowVeto();delete a.activeTarget}else {a.clearTimer('hide');a.show()}return}if(b){i=a.targets;for(l in i){if(i.hasOwnProperty(l)){n=i[l];h=Ext.fly(n.target);if(h&&(h.dom===b||h.contains(b))){c=h.dom;break}}}if(c){a.activeTarget=a.targets[c.id];a.activeTarget.el=b;a.anchor=a.activeTarget.anchor;if(a.anchor){a.anchorTarget=b}e=parseInt(a.activeTarget.showDelay,10);if(e){j=a.showDelay;a.showDelay=e}a.delayShow();if(e){a.showDelay=j}return}}c=Ext.fly(b,'_quicktip-target');d=a.tagConfig;f=d.namespace;g=a.getTipCfg(m);if(g){if(g.target){b=g.target;c=Ext.fly(b,'_quicktip-target')}k=c.getAttribute(f+d.hide);a.activeTarget={el:b,text:g.text,width:+c.getAttribute(f+d.width)||null,autoHide:k!='user'&&k!=='false',title:c.getAttribute(f+d.title),cls:c.getAttribute(f+d.cls),align:c.getAttribute(f+d.align),showDelay:parseInt(c.getAttribute(f+d.showDelay),10)};a.anchor=c.getAttribute(f+d.anchor);if(a.anchor){a.anchorTarget=b}e=parseInt(a.activeTarget.showDelay,10);if(e){j=a.showDelay;a.showDelay=e}a.delayShow();if(e){a.showDelay=j}}},onTargetOut:function(e){var a=this,c=a.activeTarget,b,d;if(c&&e.within(a.activeTarget.el)&&!a.getTipCfg(e)){return}a.clearTimer('show');delete a.activeTarget;if(a.autoHide!==!1){b=c&&parseInt(c.hideDelay,10);if(b){d=a.hideDelay;a.hideDelay=b}a.delayHide();if(b){a.hideDelay=d}}},targetTextEmpty:function(){var c=this,a=c.activeTarget,e=c.tagConfig,b,d;if(a){b=a.el;if(b){d=b.getAttribute(e.namespace+e.attribute);if(!d&&!c.targets[a.target]){return !0}}}return !1},show:function(){var a=this,b=a.fromDelayShow;if(b&&a.targetTextEmpty()){a.onShowVeto();delete a.activeTarget;return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},showAt:function(d){var a=this,b=a.activeTarget,e=a.header,c;if(b){if(!a.rendered){a.render(Ext.getBody());a.activeTarget=b}a.suspendLayouts();if(b.title){a.setTitle(b.title);e.show()}else {if(e){e.hide()}}a.update(b.text);a.autoHide=b.autoHide;a.dismissDelay=b.dismissDelay||a.dismissDelay;if(b.mouseOffset){d[0]+=b.mouseOffset[0];d[1]+=b.mouseOffset[1]}c=a.lastCls;if(c){a.removeCls(c);delete a.lastCls}c=b.cls;if(c){a.addCls(c);a.lastCls=c}a.setWidth(b.width);if(a.anchor){a.constrainPosition=!1}else {if(b.align){d=a.getAlignToXY(b.el,b.align);a.constrainPosition=!1}else {a.constrainPosition=!0}}a.resumeLayouts(!0)}Ext.tip.ToolTip.prototype.showAt.call(this,d)},hide:function(){delete this.activeTarget;Ext.tip.ToolTip.prototype.hide.call(this)}},0,['quicktip'],['component','box','container','panel','tooltip','quicktip'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tooltip':!0,'quicktip':!0},['widget.quicktip'],0,[Ext.tip,'QuickTip',Ext,'QuickTip'],0);Ext.cmd.derive('Ext.tip.QuickTipManager',Ext.Base,{singleton:!0,alternateClassName:'Ext.QuickTips',disabled:!1,init:function(d,e){var c=this;if(!c.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(d,e)});return}var a=Ext.apply({disabled:c.disabled,id:'ext-quicktips-tip'},e),b=a.className,f=a.xtype;if(b){delete a.className}else {if(f){b='widget.'+f;delete a.xtype}}if(d!==!1){a.renderTo=document.body}c.tip=Ext.create(b||'Ext.tip.QuickTip',a);Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var b=this,a=b.tip;if(a&&!b.disabled){a.disable()}},ddEnable:function(){var b=this,a=b.tip;if(a&&!b.disabled){a.enable()}},enable:function(){var b=this,a=b.tip;if(a){a.enable()}b.disabled=!1},disable:function(){var b=this,a=b.tip;if(a){a.disable()}b.disabled=!0},isEnabled:function(){var a=this.tip;return a!==undefined&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}},0,0,0,0,0,0,[Ext.tip,'QuickTipManager',Ext,'QuickTips'],0);Ext.cmd.derive('Ext.app.Application',Ext.app.Controller,{scope:undefined,enableQuickTips:!0,appFolder:'app',appProperty:'app',namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(g,a,i){var j=Ext.app.Controller,k=g.prototype,f=[],h,c,b,d,e;b=a.name||g.superclass.name;e=a.appFolder||g.superclass.appFolder;if(b){a.$namespace=b;Ext.app.addNamespaces(b)}if(a.namespaces){Ext.app.addNamespaces(a.namespaces)}if(!a['paths processed']){if(b&&e){Ext.Loader.setPath(b,e)}c=a.paths;if(c){for(d in c){if(c.hasOwnProperty(d)){Ext.Loader.setPath(d,c[d])}}}}else {delete a['paths processed']}if(a.autoCreateViewport){j.processDependencies(k,f,b,'view',['Viewport'])}if(f.length){h=i.onBeforeCreated;i.onBeforeCreated=function(d,c){var b=Ext.Array.clone(arguments);Ext.require(f,function(){return h.apply(this,b)})}}},constructor:function(b){var a=this;Ext.app.Controller.prototype.constructor.apply(this,arguments);a.doInit(a);a.initNamespace();a.initControllers();a.onBeforeLaunch();a.finishInitControllers()},initNamespace:function(){var b=this,c=b.appProperty,a;a=Ext.namespace(b.name);if(a){a.getApplication=function(){return b};if(c){if(!a[c]){a[c]=b}}}},initControllers:function(){var a=this,c=Ext.Array.from(a.controllers);a.controllers=new Ext.util.MixedCollection();for(var b=0,d=c.length;b<d;b++){a.getController(c[b])}},finishInitControllers:function(){var c=this,b,a,d;b=c.controllers.getRange();for(a=0,d=b.length;a<d;a++){b[a].finishInit(c)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var a=this,c,b,e,d;if(a.enableQuickTips){a.initQuickTips()}if(a.autoCreateViewport){a.initViewport()}a.launch.call(a.scope||a);a.launched=!0;a.fireEvent('launch',a);c=a.controllers.items;e=c.length;for(b=0;b<e;b++){d=c[b];d.onLaunch(a)}},getModuleClassName:function(b,a){return Ext.app.Controller.getFullName(b,a,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView('Viewport');if(a){a.create()}},getController:function(c){var b=this,d=b.controllers,e,a;a=d.get(c);if(!a){e=b.getModuleClassName(c,'controller');a=Ext.create(e,{application:b,id:c});d.add(a);if(b._initialized){a.doInit(b)}}return a},getApplication:function(){return this}},1,0,0,0,0,0,[Ext.app,'Application'],0);Ext.cmd.derive('Ext.app.domain.Controller',Ext.app.EventDomain,{singleton:!0,type:'controller',idProperty:'id',constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.Controller)}},1,0,0,0,0,0,[Ext.app.domain,'Controller'],0);Ext.cmd.derive('Ext.container.Monitor',Ext.Base,{target:null,selector:'',scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(b){var a=this;a.target=b;b.on('beforedestroy',a.disable,a);a.onContainerAdd(b)},unbind:function(){var a=this,b=a.target;if(b){b.un('beforedestroy',a.disable,a)}a.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(b,a){if(!this.disabled){if(a.is(this.selector)){this.onItemAdd(a.ownerCt,a)}if(a.isQueryable){this.onContainerAdd(a)}}},onItemAdd:function(e,b){var a=this,d=a.items,c=a.addHandler;if(!a.disabled){if(c){c.call(a.scope||b,b)}if(d){d.add(b)}}},onItemRemove:function(e,b){var a=this,d=a.items,c=a.removeHandler;if(!a.disabled){if(c){c.call(a.scope||b,b)}if(d){d.remove(b)}}},onContainerAdd:function(c,i){var a=this,d,e,h=a.handleAdd,g=a.handleRemove,b,f;if(c.isContainer){c.on('add',h,a);c.on('dockedadd',h,a);c.on('remove',g,a);c.on('dockedremove',g,a)}if(i!==!0){d=c.query(a.selector);for(b=0,e=d.length;b<e;++b){f=d[b];a.onItemAdd(f.ownerCt,f)}}d=c.query('container');for(b=0,e=d.length;b<e;++b){a.onContainerAdd(d[b],!0)}},handleRemove:function(c,a){var b=this;if(!b.disabled){if(a.is(b.selector)){b.onItemRemove(c,a)}if(a.isQueryable){b.onContainerRemove(c,a)}}},onContainerRemove:function(g,c){var d=this,b,a,e,f;if(!c.isDestroyed&&!c.destroying&&c.isContainer){d.removeCtListeners(c);b=c.query(d.selector);for(a=0,e=b.length;a<e;++a){f=b[a];d.onItemRemove(f.ownerCt,f)}b=c.query('container');for(a=0,e=b.length;a<e;++a){d.removeCtListeners(b[a])}}else {d.invalidateItems()}},removeCtListeners:function(b){var a=this;b.un('add',a.handleAdd,a);b.un('dockedadd',a.handleAdd,a);b.un('remove',a.handleRemove,a);b.un('dockedremove',a.handleRemove,a)},getItems:function(){var b=this,a=b.items;if(!a){a=b.items=new Ext.util.MixedCollection();a.addAll(b.target.query(b.selector))}return a},invalidateItems:function(){this.items=null}},1,0,0,0,0,0,[Ext.container,'Monitor'],0);Ext.cmd.derive('Ext.container.Viewport',Ext.container.Container,{alternateClassName:'Ext.Viewport',isViewport:!0,ariaRole:'application',preserveElOnDestroy:!0,viewportCls:'x-viewport',initComponent:function(){var a=this,c=document.body.parentNode,b=a.el=Ext.getBody();Ext.getScrollbarSize();a.width=a.height=undefined;Ext.container.Container.prototype.initComponent.apply(this,arguments);Ext.fly(c).addCls(a.viewportCls);if(a.autoScroll){Ext.fly(c).setStyle(a.getOverflowStyle());delete a.autoScroll}b.setHeight=b.setWidth=Ext.emptyFn;b.dom.scroll='no';a.allowDomMove=!1;a.renderTo=a.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){var a=this;Ext.container.Container.prototype.onRender.apply(this,arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;Ext.container.Container.prototype.afterFirstLayout.apply(this,arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(b,a){if(b!=this.width||a!=this.height){this.setSize(b,a)}},initHierarchyState:function(a){Ext.container.Container.prototype.initHierarchyState.call(this,this.hierarchyState=Ext.rootHierarchyState)},beforeDestroy:function(){var a=this;a.removeUIFromElement();a.el.removeCls(a.baseCls);Ext.fly(document.body.parentNode).removeCls(a.viewportCls);Ext.container.Container.prototype.beforeDestroy.call(this)}},0,['viewport'],['component','box','container','viewport'],{'component':!0,'box':!0,'container':!0,'viewport':!0},['widget.viewport'],0,[Ext.container,'Viewport',Ext,'Viewport'],0);Ext.cmd.derive('Ext.data.IdGenerator',Ext.Base,{isGenerator:!0,constructor:function(b){var a=this;Ext.apply(a,b);if(a.id){Ext.data.IdGenerator.all[a.id]=a}},getRecId:function(a){return a.modelName+'-'+a.internalId},statics:{all:{},get:function(a){var b,d,c;if(typeof a=='string'){d=c=a;a=null}else {if(a.isGenerator){return a}else {d=a.id||a.type;c=a.type}}b=this.all[d];if(!b){b=Ext.create('idgen.'+c,a)}return b}}},1,0,0,0,0,0,[Ext.data,'IdGenerator'],0);Ext.cmd.derive('Ext.data.SortTypes',Ext.Base,{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,'')},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,'')},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(b){var a=parseFloat(String(b).replace(/,/g,''));return isNaN(a)?0:a},asInt:function(b){var a=parseInt(String(b).replace(/,/g,''),10);return isNaN(a)?0:a}},0,0,0,0,0,0,[Ext.data,'SortTypes'],0);Ext.cmd.derive('Ext.data.Types',Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext.data,'Types'],function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:'auto'},STRING:{convert:function(a){var b=this.useNull?null:'';return a===undefined||a===null?b:String(a)},sortType:a.asUCString,type:'string'},INT:{convert:function(a){if(typeof a=='number'){return parseInt(a)}return a!==undefined&&a!==null&&a!==''?parseInt(String(a).replace(Ext.data.Types.stripRe,''),10):this.useNull?null:0},sortType:a.none,type:'int'},FLOAT:{convert:function(a){if(typeof a==='number'){return a}return a!==undefined&&a!==null&&a!==''?parseFloat(String(a).replace(Ext.data.Types.stripRe,''),10):this.useNull?null:0},sortType:a.none,type:'float'},BOOL:{convert:function(a){if(typeof a==='boolean'){return a}if(this.useNull&&(a===undefined||a===null||a==='')){return null}return a==='true'||a==1},sortType:a.none,type:'bool'},DATE:{convert:function(a){var c=this.dateReadFormat||this.dateFormat,b;if(!a){return null}if(a instanceof Date){return a}if(c){return Ext.Date.parse(a,c)}b=Date.parse(a);return b?new Date(b):null},sortType:a.asDate,type:'date'}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.cmd.derive('Ext.data.Field',Ext.Base,{isField:!0,constructor:function(b){var a=this,d=Ext.data.Types,c;if(Ext.isString(b)){b={name:b}}Ext.apply(a,b);c=a.sortType;if(a.type){if(Ext.isString(a.type)){a.type=d[a.type.toUpperCase()]||d.AUTO}}else {a.type=d.AUTO}if(Ext.isString(c)){a.sortType=Ext.data.SortTypes[c]}else {if(Ext.isEmpty(c)){a.sortType=a.type.sortType}}if(!b.hasOwnProperty('convert')){a.convert=a.type.convert}else {if(!a.convert&&a.type.convert&&!b.hasOwnProperty('defaultValue')){a.defaultValue=a.type.convert(a.defaultValue)}}if(b.convert){a.hasCustomConvert=!0}},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:'',mapping:null,sortType:null,sortDir:'ASC',allowBlank:!0,persist:!0},1,0,0,0,['data.field'],0,[Ext.data,'Field'],0);Ext.cmd.derive('Ext.data.Errors',Ext.util.MixedCollection,{isValid:function(){return this.length===0},getByField:function(d){var c=[],b,a;for(a=0;a<this.length;a++){b=this.items[a];if(b.field==d){c.push(b)}}return c}},0,0,0,0,0,0,[Ext.data,'Errors'],0);Ext.cmd.derive('Ext.data.validations',Ext.Base,{singleton:!0,presenceMessage:'must be present',lengthMessage:'is the wrong length',formatMessage:'is the wrong format',inclusionMessage:'is not included in the list of acceptable values',exclusionMessage:'is not an acceptable value',emailMessage:'is not a valid email address',emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(b,a){if(arguments.length===1){a=b}return !!a||a===0||a===!1},length:function(b,a){if(a===undefined||a===null){return !1}var c=a.length,e=b.min,d=b.max;if(e&&c<e||d&&c>d){return !1}else {return !0}},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}},0,0,0,0,0,0,[Ext.data,'validations'],0);Ext.cmd.derive('Ext.data.Model',Ext.Base,{alternateClassName:'Ext.data.Record',compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;if(c&&!d){return 1}if(!c&&d){return -1}return 0},itemNameFn:function(a){return a.name},onClassExtended:function(d,c,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(f,e){var E=this,o=Ext.getClassName(f),k=f.prototype,w=f.prototype.superclass,v=e.validations||[],r=e.fields||[],s,j=e.associations||[],u=function(g,k){var h=0,i,b;if(g){g=Ext.Array.from(g);for(i=g.length;h<i;++h){b=g[h];if(!Ext.isObject(b)){b={model:b}}b.type=k;j.push(b)}}},D=e.idgen,i=new Ext.util.MixedCollection(!1,k.itemNameFn),x=new Ext.util.MixedCollection(!1,k.itemNameFn),A=w.validations,C=w.fields,z=w.associations,h,g,n,p=[],q='idProperty' in e?e.idProperty:k.idProperty,m=q?q.isField?q:new Ext.data.Field(q):null,B=!1,y=function(j,h,l){var b,g;if(i.events.add.firing){g=j;b=h}else {b=l;g=h.originalIndex}b.originalIndex=g;if(m&&(b.mapping&&b.mapping===m.mapping||b.name===m.name)){k.idField=b;B=!0;b.defaultValue=undefined}},l=e.proxy,t=function(){i.sortBy(k.compareConvertFields)};f.modelName=o;k.modelName=o;if(A){v=A.concat(v)}e.validations=v;if(C){r=C.items.concat(r)}i.on({add:y,replace:y});for(g=0,n=r.length;g<n;++g){s=r[g];i.add(s.isField?s:new Ext.data.Field(s))}if(m&&!B){k.idField=m;m.defaultValue=undefined;i.add(m)}t();i.on({add:t,replace:t});e.fields=i;if(D){e.idgen=Ext.data.IdGenerator.get(D)}u(e.belongsTo,'belongsTo');delete e.belongsTo;u(e.hasMany,'hasMany');delete e.hasMany;u(e.hasOne,'hasOne');delete e.hasOne;if(z){j=z.items.concat(j)}for(g=0,n=j.length;g<n;++g){p.push('association.'+j[g].type.toLowerCase())}if(l){if(!l.isProxy){p.push('proxy.'+(l.type||l))}}else {if(!f.prototype.proxy){f.prototype.proxy=f.prototype.defaultProxyType;p.push('proxy.'+f.prototype.defaultProxyType)}}Ext.require(p,function(){Ext.ModelManager.registerType(o,f);for(g=0,n=j.length;g<n;++g){h=j[g];if(h.isAssociation){h=Ext.applyIf({ownerModel:o,associatedModel:h.model},h.initialConfig)}else {Ext.apply(h,{ownerModel:o,associatedModel:h.model})}if(Ext.ModelManager.getModel(h.model)===undefined){Ext.ModelManager.registerDeferredAssociation(h)}else {x.add(Ext.data.association.Association.create(h))}}e.associations=x;b.call(E,f,e,a);if(l&&l.isProxy){f.setProxy(l)}Ext.ModelManager.onModelDefined(f)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){if(typeof a=='string'){a={type:a}}a=Ext.createByAlias('proxy.'+a.type,a)}a.setModel(this);this.proxy=this.prototype.proxy=a;return a},getProxy:function(){var a=this.proxy;if(!a){a=this.prototype.proxy;if(a.isProxy){a=a.clone()}return this.setProxy(a)}return a},setFields:function(e,d,i){var h=this,c,b,j=!1,f=h.prototype,a=f.fields,k=f.superclass.fields,l,g;if(d){f.idProperty=d;b=d.isField?d:new Ext.data.Field(d)}if(i){f.clientIdProperty=i}if(a){a.clear()}else {a=h.prototype.fields=new Ext.util.MixedCollection(!1,function(a){return a.name})}if(k){e=k.items.concat(e)}for(g=0,l=e.length;g<l;g++){c=new Ext.data.Field(e[g]);if(b&&(c.mapping&&c.mapping===b.mapping||c.name===b.name)){j=!0;c.defaultValue=undefined}a.add(c)}if(b&&!j){b.defaultValue=undefined;a.add(b)}h.fields=a;return a},getFields:function(){return this.prototype.fields.items},load:function(d,a){a=Ext.apply({},a);a=Ext.applyIf(a,{action:'read',id:d});var e=new Ext.data.Operation(a),b=a.scope||this,c;c=function(e){var c=null,f=e.wasSuccessful();if(f){c=e.getRecords()[0];if(!c.hasId()){c.setId(d)}Ext.callback(a.success,b,[c,e])}else {Ext.callback(a.failure,b,[c,e])}Ext.callback(a.callback,b,[c,e,f])};this.getProxy().read(e,c,this)}},statics:{PREFIX:'ext-record',AUTO_ID:1,EDIT:'edit',REJECT:'reject',COMMIT:'commit',id:function(a){var b=[this.PREFIX,'-',this.AUTO_ID++].join('');a.phantom=!0;a.internalId=b;return b}},idgen:{isGenerator:!0,type:'default',generate:function(){return null},getRecId:function(a){return a.modelName+'-'+a.internalId}},editing:!1,dirty:!1,persistenceProperty:'data',evented:!1,isModel:!0,phantom:!1,idProperty:'id',clientIdProperty:null,defaultProxyType:'ajax',emptyData:[],constructor:function(e,d,q,o){var a=this,p=d||d===0,j,i,m,c,g,b,n,h,k=a.idProperty,l=a.idField,f;a.raw=q||e;a.modified={};h=a[a.persistenceProperty]=o||{};a.data=a[a.persistenceProperty];a.mixins.observable.constructor.call(a);if(!o){if(e){if(!p&&k){d=e[k];j=d||d===0}}else {e=a.emptyData}i=a.fields.items;m=i.length;f=0;if(Ext.isArray(e)){for(;f<m;f++){c=i[f];g=c.name;b=e[c.originalIndex];if(b===undefined){b=c.defaultValue}if(c.convert){b=c.convert(b,a)}if(b!==undefined){h[g]=b}}}else {for(;f<m;f++){c=i[f];g=c.name;b=e[g];if(b===undefined){b=c.defaultValue}if(c.convert){b=c.convert(b,a)}if(b!==undefined){h[g]=b}}}}a.stores=[];if(p){j=!0;h[k]=l&&l.convert?l.convert(d):d}else {if(!j){n=a.idgen.generate();if(n!=null){a.preventInternalUpdate=!0;a.setId(n);delete a.preventInternalUpdate}}}a.internalId=j?d:Ext.data.Model.id(a);if(typeof a.init=='function'){a.init()}a.id=a.idgen.getRecId(a)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(i,q){var a=this,o=a[a.persistenceProperty],k=a.fields,e=a.modified,l=typeof i=='string',h,g,j,p,f,b,n,m,d,c;if(l){c=a._singleProp;c[i]=q}else {c=i}for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(k&&(g=k.get(b))&&g.convert){d=g.convert(d,a)}h=o[b];if(a.isEqual(h,d)){continue}o[b]=d;(f||(f=[])).push(b);if(g&&g.persist){if(e.hasOwnProperty(b)){if(a.isEqual(e[b],d)){delete e[b];a.dirty=!1;for(p in e){if(e.hasOwnProperty(p)){a.dirty=!0;break}}}}else {a.dirty=!0;e[b]=h}}if(b==a.idProperty){j=!0;n=h;m=d}}}if(l){delete c[i]}if(j){a.changeId(n,m)}if(!a.editing&&f){a.afterEdit(f)}return f||null},copyFrom:function(c){var a=this,i=a.fields.items,k=i.length,g=[],j,f=0,e,h,l=a.idProperty,b,d;if(c){e=a[a.persistenceProperty];h=c[c.persistenceProperty];for(;f<k;f++){j=i[f];b=j.name;if(b!=l){d=h[b];if(d!==undefined&&!a.isEqual(e[b],d)){e[b]=d;g.push(b)}}}if(a.phantom&&!c.phantom){a.beginEdit();a.setId(c.getId());a.endEdit(!0);a.commit(!0)}}return g},isEqual:function(a,b){if(a instanceof Date&&b instanceof Date){return a.getTime()===b.getTime()}return a===b},beginEdit:function(){var a=this,b,d,c;if(!a.editing){a.editing=!0;a.dirtySave=a.dirty;c=a[a.persistenceProperty];d=a.dataSave={};for(b in c){if(c.hasOwnProperty(b)){d[b]=c[b]}}c=a.modified;d=a.modifiedSave={};for(b in c){if(c.hasOwnProperty(b)){d[b]=c[b]}}}},cancelEdit:function(){var a=this;if(a.editing){a.editing=!1;a.modified=a.modifiedSave;a[a.persistenceProperty]=a.dataSave;a.dirty=a.dirtySave;a.modifiedSave=a.dataSave=a.dirtySave=null}},endEdit:function(c,b){var a=this,d,e;c=c===!0;if(a.editing){a.editing=!1;d=a.dataSave;a.modifiedSave=a.dataSave=a.dirtySave=null;if(!c){if(!b){b=a.getModifiedFieldNames(d)}e=a.dirty||b.length>0;if(e){a.afterEdit(b)}}}},getModifiedFieldNames:function(c){var b=this,d=b[b.persistenceProperty],e=[],a;c=c||b.dataSave;for(a in d){if(d.hasOwnProperty(a)){if(!b.isEqual(d[a],c[a])){e.push(a)}}}return e},getChanges:function(){var b=this.modified,c={},a;for(a in b){if(b.hasOwnProperty(a)){c[a]=this.get(a)}}return c},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a=this,e=a.fields.items,f=e.length,c,d,b;a.dirty=!0;for(b=0;b<f;b++){c=e[b];if(c.persist){d=c.name;a.modified[d]=a.get(d)}}},reject:function(d){var a=this,c=a.modified,b;for(b in c){if(c.hasOwnProperty(b)){if(typeof c[b]!='function'){a[a.persistenceProperty][b]=c[b]}}}a.dirty=!1;a.editing=!1;a.modified={};if(d!==!0){a.afterReject()}},commit:function(c,b){var a=this;a.phantom=a.dirty=a.editing=!1;a.modified={};if(c!==!0){a.afterCommit(b)}},copy:function(b){var a=this;return new a.self(a.raw,b,null,Ext.apply({},a[a.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){if(typeof a==='string'){a={type:a}}a=Ext.createByAlias('proxy.'+a.type,a)}a.setModel(this.self);this.proxy=a;return a},getProxy:function(){return this.hasOwnProperty('proxy')?this.proxy:this.self.getProxy()},validate:function(){var g=new Ext.data.Errors(),c=this.validations,f=Ext.data.validations,h,a,d,i,e,b;if(c){h=c.length;for(b=0;b<h;b++){a=c[b];d=a.field||a.name;e=a.type;i=f[e](a,this.get(d));if(!i){g.add({field:d,message:a.message||f[e+'Message']})}}}return g},isValid:function(){return this.validate().isValid()},save:function(b){b=Ext.apply({},b);var a=this,i=a.phantom?'create':'update',d=b.scope||a,j=a.stores,e=0,f,c,g,h;Ext.apply(b,{records:[a],action:i});g=new Ext.data.Operation(b);h=function(g){var h=g.wasSuccessful();if(h){for(f=j.length;e<f;e++){c=j[e];c.fireEvent('write',c,g);c.fireEvent('datachanged',c)}Ext.callback(b.success,d,[a,g])}else {Ext.callback(b.failure,d,[a,g])}Ext.callback(b.callback,d,[a,g,h])};a.getProxy()[i](g,h,a);return a},destroy:function(c){c=Ext.apply({records:[this],action:'destroy'},c);var a=this,j=a.phantom!==!0,h=c.scope||a,g,i=0,k,b,e,d,f;d=new Ext.data.Operation(c);f=function(d){e=[a,d];g=Ext.Array.clone(a.stores);if(d.wasSuccessful()){for(k=g.length;i<k;i++){b=g[i];if(b.remove){b.remove(a,!0)}b.fireEvent('bulkremove',b,[a],[b.indexOf(a)],!1);if(j){b.fireEvent('write',b,d)}}a.clearListeners();Ext.callback(c.success,h,e)}else {Ext.callback(c.failure,h,e)}Ext.callback(c.callback,h,e)};if(j){a.getProxy().destroy(d,f,a)}else {d.complete=d.success=!0;d.resultSet=a.getProxy().reader.nullResultSet;f(d)}return a},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(f,c){var a=this,e,b,d;if(!a.preventInternalUpdate){e=a.hasId(f);b=a.hasId(c);d=a.internalId;a.phantom=!b;if(b!==e||b&&e){a.internalId=b?c:Ext.data.Model.id(a)}a.fireEvent('idchanged',a,f,c,d);a.callStore('onIdChanged',f,c,d)}},hasId:function(a){if(arguments.length===0){a=this.getId()}return !!(a||a===0)},join:function(a){var b=this;if(!b.stores.length){b.stores[0]=a}else {Ext.Array.include(this.stores,a)}this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore('afterEdit',a)},afterReject:function(){this.callStore('afterReject')},afterCommit:function(a){this.callStore('afterCommit',a)},callStore:function(e){var d=Ext.Array.clone(arguments),c=this.stores,b=0,f=c.length,a;d[0]=this;for(;b<f;++b){a=c[b];if(a&&Ext.isFunction(a[e])){a[e].apply(a,d)}}},getData:function(f){var d=this,e=d.fields.items,g=e.length,b={},c,a;for(a=0;a<g;a++){c=e[a].name;b[c]=d.get(c)}if(f===!0){Ext.apply(b,d.getAssociatedData())}return b},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(p,r){var t=this,v=t.associations.items,w=v.length,f={},i=[],o=[],m=[],h,k,b,u,s,q,n,l,g,c,a,e,j,d;for(a=0;a<w;a++){c=v[a];l=c.associationId;n=p[l];if(n&&n!==r){continue}p[l]=r;j=c.type;d=c.name;if(j=='hasMany'){h=t[c.storeName];f[d]=[];if(h&&h.getCount()>0){k=h.data.items;g=k.length;for(e=0;e<g;e++){b=k[e];f[d][e]=b.getData();i.push(b);o.push(d);m.push(e)}}}else {if(j=='belongsTo'||j=='hasOne'){b=t[c.instanceName];if(b!==undefined){f[d]=b.getData();i.push(b);o.push(d);m.push(-1)}}}}for(a=0,g=i.length;a<g;++a){b=i[a];u=f[o[a]];s=m[a];q=b.prepareAssociatedData(p,r+1);if(s===-1){Ext.apply(u,q)}else {Ext.apply(u[s],q)}}return f}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.data,'Model',Ext.data,'Record'],0);Ext.cmd.derive('Ext.data.proxy.Server',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ServerProxy',pageParam:'page',startParam:'start',limitParam:'limit',groupParam:'group',groupDirectionParam:'groupDir',sortParam:'sort',filterParam:'filter',directionParam:'dir',idParam:'id',simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:'_dc',timeout:30000,constructor:function(a){var b=this;a=a||{};Ext.data.proxy.Proxy.prototype.constructor.call(this,a);b.extraParams=a.extraParams||{};b.api=Ext.apply({},a.api||b.api);b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(b,a){this.extraParams[b]=a},buildRequest:function(a){var b=this,d=a.params=Ext.apply({},a.params,b.extraParams),c;Ext.applyIf(d,b.getParams(a));if(a.id!==undefined&&d[b.idParam]===undefined){d[b.idParam]=a.id}c=new Ext.data.Request({params:d,action:a.action,records:a.records,operation:a,url:a.url,proxy:b});c.url=b.buildUrl(c);a.request=c;return c},processResponse:function(g,a,h,c,f,i){var b=this,e,d;if(g===!0){e=b.getReader();e.applyDefaults=a.action==='read';d=e.read(b.extractResponseData(c));if(d.success!==!1){Ext.apply(a,{response:c,resultSet:d});a.commitRecords(d.records);a.setCompleted();a.setSuccessful()}else {a.setException(d.message);b.fireEvent('exception',this,c,a)}}else {b.setException(a,c);b.fireEvent('exception',this,c,a)}if(typeof f=='function'){f.call(i||b,a)}b.afterRequest(h,g)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(b){var c=[],d=b.length,a=0;for(;a<d;a++){c[a]={property:b[a].property,direction:b[a].direction}}return this.applyEncoding(c)},encodeFilters:function(b){var c=[],d=b.length,a=0;for(;a<d;a++){c[a]={property:b[a].property,value:b[a].value}}return this.applyEncoding(c)},getParams:function(c){var a=this,b={},k=Ext.isDefined,e=c.groupers,d=c.sorters,j=c.filters,r=c.page,q=c.start,p=c.limit,v=a.simpleSortMode,t=a.simpleGroupMode,o=a.pageParam,n=a.startParam,m=a.limitParam,g=a.groupParam,s=a.groupDirectionParam,i=a.sortParam,l=a.filterParam,u=a.directionParam,h,f;if(o&&k(r)){b[o]=r}if(n&&k(q)){b[n]=q}if(m&&k(p)){b[m]=p}h=g&&e&&e.length>0;if(h){if(t){b[g]=e[0].property;b[s]=e[0].direction||'ASC'}else {b[g]=a.encodeSorters(e)}}if(i&&d&&d.length>0){if(v){f=0;if(d.length>1&&h){f=1}b[i]=d[f].property;b[u]=d[f].direction}else {b[i]=a.encodeSorters(d)}}if(l&&j&&j.length>0){b[l]=a.encodeFilters(j)}return b},buildUrl:function(c){var b=this,a=b.getUrl(c);if(b.noCache){a=Ext.urlAppend(a,Ext.String.format('{0}={1}',b.cacheString,Ext.Date.now()))}return a},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(a,b,c){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}},1,0,0,0,['proxy.server'],0,[Ext.data.proxy,'Server',Ext.data,'ServerProxy'],0);Ext.cmd.derive('Ext.data.proxy.Ajax',Ext.data.proxy.Server,{alternateClassName:['Ext.data.HttpProxy','Ext.data.AjaxProxy'],actionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'},binary:!1,doRequest:function(b,c,e){var d=this.getWriter(),a=this.buildRequest(b);if(b.allowWrite()){a=d.write(a)}Ext.apply(a,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(a,b,c,e),method:this.getMethod(a),disableCaching:!1});Ext.Ajax.request(a);return a},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(c,a,b,d){var e=this;return function(h,g,f){e.processResponse(g,a,c,f,b,d)}}},0,0,0,0,['proxy.ajax'],0,[Ext.data.proxy,'Ajax',Ext.data,'HttpProxy',Ext.data,'AjaxProxy'],function(){Ext.data.HttpProxy=this});Ext.cmd.derive('Ext.data.proxy.Client',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ClientProxy',isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,'Client',Ext.data,'ClientProxy'],0);Ext.cmd.derive('Ext.data.proxy.Memory',Ext.data.proxy.Client,{alternateClassName:'Ext.data.MemoryProxy',constructor:function(a){Ext.data.proxy.Client.prototype.constructor.call(this,a);this.setReader(this.reader)},updateOperation:function(a,d,e){var b=0,c=a.getRecords(),f=c.length;for(b;b<f;b++){c[b].commit()}a.setCompleted();a.setSuccessful();Ext.callback(d,e||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(a,h,i){var d=this,b=a.resultSet=d.getReader().read(d.data),g=b.records,c=a.sorters,e=a.groupers,f=a.filters;a.setCompleted();if(b.success){if(f&&f.length){g=b.records=Ext.Array.filter(g,Ext.util.Filter.createFilterFn(f))}if(e&&e.length){c=c?c.concat(e):c}if(c&&c.length){b.records=Ext.Array.sort(g,Ext.util.Sortable.createComparator(c))}if(d.enablePaging&&a.start!==undefined&&a.limit!==undefined){if(a.start>=b.total){b.success=!1;b.count=0;b.records=[]}else {b.records=Ext.Array.slice(b.records,a.start,a.start+a.limit);b.count=b.records.length}}}if(b.success){a.setSuccessful()}else {d.fireEvent('exception',d,null,a)}Ext.callback(h,i||d,[a])},clear:Ext.emptyFn},1,0,0,0,['proxy.memory'],0,[Ext.data.proxy,'Memory',Ext.data,'MemoryProxy'],0);Ext.cmd.derive('Ext.util.LruCache',Ext.util.HashMap,{constructor:function(a){Ext.apply(this,a);Ext.util.HashMap.prototype.constructor.call(this,a)},add:function(e,c){var a=this,d=a.findKey(c),b;if(d){a.unlinkEntry(b=a.map[d]);b.prev=a.last;b.next=null}else {b={prev:a.last,next:null,key:e,value:c}}if(a.last){a.last.next=b}else {a.first=b}a.last=b;Ext.util.HashMap.prototype.add.call(this,e,b);a.prune();return c},insertBefore:function(f,d,a){var c=this,e,b;if(a=this.map[this.findKey(a)]){e=c.findKey(d);if(e){c.unlinkEntry(b=c.map[e])}else {b={prev:a.prev,next:a,key:f,value:d}}if(a.prev){b.prev.next=b}else {c.first=b}b.next=a;a.prev=b;c.prune();return d}else {return c.add(f,d)}},get:function(b){var a=this.map[b];if(a){if(a.next){this.moveToEnd(a)}return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(a){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.apply(this,arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else {this.last=a.prev}if(a.prev){a.prev.next=a.next}else {this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else {this.first=a}this.last=a},getArray:function(c){var b=[],a=this.first;while(a){b.push(c?a.key:a.value);a=a.next}return b},each:function(f,c,d){var b=this,a=d?b.last:b.first,e=b.length;c=c||b;while(a){if(f.call(c,a.key,a.value,e)===!1){break}a=d?a.prev:a.next}return b},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a].value===c){return a}}return undefined},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b].value)}}a.resumeEvents();return a},prune:function(){var a=this,b=a.maxSize?a.length-a.maxSize:0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}},1,0,0,0,0,0,[Ext.util,'LruCache'],0);Ext.cmd.derive('Ext.data.PageMap',Ext.util.LruCache,{clear:function(b){var a=this;a.pageMapGeneration=(a.pageMapGeneration||0)+1;Ext.util.LruCache.prototype.clear.apply(this,arguments)},forEach:function(j,f){var d=this,b=Ext.Object.getKeys(d.map),h=b.length,a,c,e,g,i;for(a=0;a<h;a++){b[a]=Number(b[a])}Ext.Array.sort(b);f=f||d;for(a=0;a<h;a++){e=b[a];g=d.getPage(e);i=g.length;for(c=0;c<i;c++){if(j.call(f,g[c],(e-1)*d.pageSize+c)===!1){return}}}},findBy:function(d,a){var c=this,b=null;a=a||c;c.forEach(function(c,e){if(d.call(a,c,e)){b=c;return !1}});return b},findIndexBy:function(d,a){var c=this,b=-1;a=a||c;c.forEach(function(e,c){if(d.call(a,e)){b=c;return !1}});return b},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,e){var b=this,f=a+Math.floor((e.length-1)/b.pageSize),c,d;for(c=0;a<=f;a++,c+=b.pageSize){d=Ext.Array.slice(e,c,c+b.pageSize);b.add(a,d);b.fireEvent('pageAdded',a,d)}},getCount:function(){var a=Ext.util.LruCache.prototype.getCount.call(this);if(a){a=(a-1)*this.pageSize+this.last.value.length}return a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(c,d){var a=this.getPageFromRecordIndex(c),b=this.getPageFromRecordIndex(d);for(;a<=b;a++){if(!this.hasPage(a)){return !1}}return !0},hasPage:function(a){return !!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(e,i){if(!this.hasRange(e,i)){Ext.Error.raise('PageMap asked for range which it does not have')}var a=this,f=a.getPageFromRecordIndex(e),g=a.getPageFromRecordIndex(i),m=(f-1)*a.pageSize,n=g*a.pageSize-1,b=f,c=[],h,k,d,j=0,l;for(;b<=g;b++){if(b==f){h=e-m;d=!0}else {h=0;d=!1}if(b==g){k=a.pageSize-(n-i);d=!0}if(d){Ext.Array.push(c,Ext.Array.slice(a.getPage(b),h,k))}else {Ext.Array.push(c,a.getPage(b))}}for(l=c.length;j<l;j++){c[j].index=e++}return c}},0,0,0,0,0,0,[Ext.data,'PageMap'],0);Ext.cmd.derive('Ext.data.Group',Ext.util.Observable,{key:undefined,dirty:!0,constructor:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments);this.records=[]},contains:function(a){return Ext.Array.indexOf(this.records,a)!==-1},add:function(a){Ext.Array.push(this.records,a);this.dirty=!0},remove:function(a){if(!Ext.isArray(a)){a=[a]}var c=a.length,b;for(b=0;b<c;++b){Ext.Array.remove(this.records,a[b])}this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return !!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(c){var a=this,b;if(c===!0||a.dirty||!a.aggregate){b=a.store.model;a.aggregate=new b();a.aggregate.isSummary=!0}return a.aggregate}},1,0,0,0,0,0,[Ext.data,'Group'],0);Ext.cmd.derive('Ext.data.Store',Ext.data.AbstractStore,{remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:undefined,groupDir:'ASC',trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||a.property},groupIdFn:function(a){return a.key}},constructor:function(b){b=Ext.apply({},b);var a=this,d=b.groupers||a.groupers,f=b.groupField||a.groupField,e,c;c=b.data||a.data;if(c){a.inlineData=c;delete b.data}if(!d&&f){d=[{property:f,direction:b.groupDir||a.groupDir}];if(b.getGroupString||a.getGroupString!==Ext.data.Store.prototype.getGroupString){d[0].getGroupString=function(c){return a.getGroupString(c)}}}delete b.groupers;a.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn);a.groupers.addAll(a.decodeGroupers(d));a.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn);Ext.data.AbstractStore.prototype.constructor.call(this,b);if(a.buffered){a.data=new Ext.data.PageMap({store:a,keyFn:Ext.data.Store.recordIdFn,pageSize:a.pageSize,maxSize:a.purgePageCount,listeners:{clear:a.onPageMapClear,scope:a}});a.pageRequests={};a.remoteSort=a.remoteGroup=a.remoteFilter=!0;a.sortOnLoad=!1;a.filterOnLoad=!1}else {a.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0});a.data.pageSize=a.pageSize}if(a.remoteGroup){a.remoteSort=!0}a.sorters.insert(0,a.groupers.getRange());e=a.proxy;c=a.inlineData;if(!a.buffered&&!a.pageSize){a.pageSize=a.defaultPageSize}if(c){if(e instanceof Ext.data.proxy.Memory){e.data=c;a.read()}else {a.add.apply(a,[c])}if(a.sorters.items.length&&!a.remoteSort){a.group(null,null,!0)}delete a.inlineData}else {if(a.autoLoad){Ext.defer(a.load,1,a,[typeof a.autoLoad==='object'?a.autoLoad:undefined])}}},onBeforeSort:function(){var a=this.groupers;if(a.getCount()>0){this.sort(a.items,'prepend',!1)}},decodeGroupers:function(b){if(!Ext.isArray(b)){if(b===undefined){b=[]}else {b=[b]}}var f=b.length,e=Ext.util.Grouper,a,c,d=[];for(c=0;c<f;c++){a=b[c];if(!(a instanceof e)){if(Ext.isString(a)){a={property:a}}a=Ext.apply({root:'data',direction:'ASC'},a);if(a.fn){a.sorterFn=a.fn}if(typeof a=='function'){a={sorterFn:a}}d.push(new e(a))}else {d.push(a)}}return d},group:function(b,e,f){var a=this,d,c;if(b){a.sorters.removeAll(a.groupers.items);if(Ext.isArray(b)){c=b}else {if(Ext.isObject(b)){c=[b]}else {if(Ext.isString(b)){d=a.groupers.get(b);if(!d){d={property:b,direction:e||'ASC'};c=[d]}else {if(e===undefined){d.toggle()}else {d.setDirection(e)}}}}}if(c&&c.length){a.groupers.clear();a.groupers.addAll(a.decodeGroupers(c))}a.sorters.insert(0,a.groupers.items)}if(a.remoteGroup){if(a.buffered){a.data.clear();a.loadPage(1,{groupChange:!0})}else {a.load({scope:a,callback:f?null:a.fireGroupChange})}}else {a.doSort(a.generateComparator());a.constructGroups();if(!f){a.fireGroupChange()}}},getGroupField:function(){var a=this.groupers.first(),b;if(a){b=a.property}return b},constructGroups:function(){var c=this,g=this.data.items,h=g.length,e=c.groups,b,d,a,f;e.clear();if(c.isGrouped()){for(d=0;d<h;++d){f=g[d];b=c.getGroupString(f);a=e.get(b);if(!a){a=new Ext.data.Group({key:b,store:c});e.add(b,a)}a.add(f)}}},clearGrouping:function(){var a=this,c=a.groupers.items,d=c.length,b;for(b=0;b<d;b++){a.sorters.remove(c[b])}a.groupers.clear();if(a.remoteGroup){if(a.buffered){a.data.clear();a.loadPage(1,{groupChange:!0})}else {a.load({scope:a,callback:a.fireGroupChange})}}else {a.groups.clear();if(a.sorters.length){a.sort()}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}a.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent('groupchange',this,this.groupers)},getGroups:function(f){var g=this.data.items,i=g.length,h=[],d={},e,b,a,c;for(c=0;c<i;c++){e=g[c];b=this.getGroupString(e);a=d[b];if(a===undefined){a={name:b,children:[]};h.push(a);d[b]=a}a.children.push(e)}return f?d[f]:h},getGroupsForGrouper:function(g,f){var i=g.length,h=[],e,a,c,d,b;for(b=0;b<i;b++){c=g[b];a=f.getGroupString(c);if(a!==e){d={name:a,grouper:f,records:[]};h.push(d)}d.records.push(c);e=a}return h},getGroupsForGrouperIndex:function(h,c){var d=this,e=d.groupers,g=e.getAt(c),b=d.getGroupsForGrouper(h,g),f=b.length,a;if(c+1<e.length){for(a=0;a<f;a++){b[a].children=d.getGroupsForGrouperIndex(b[a].records,c+1)}}for(a=0;a<f;a++){b[a].depth=c}return b},getGroupData:function(b){var a=this;if(b!==!1){a.sort()}return a.getGroupsForGrouperIndex(a.data.items,0)},getGroupString:function(b){var a=this.groupers.first();if(a){return a.getGroupString(b)}return ''},insert:function(i,d){var a=this,f=!1,e,g,b,h=a.modelDefaults,c;if(!Ext.isIterable(d)){c=d=[d]}else {c=[]}g=d.length;if(g){for(e=0;e<g;e++){b=d[e];if(!b.isModel){b=a.createModel(b)}c[e]=b;if(h){b.set(h)}b.join(a);f=f||b.phantom===!0}a.data.insert(i,c);if(a.snapshot){a.snapshot.addAll(c)}if(a.requireSort){a.suspendEvents();a.sort();a.resumeEvents()}if(a.isGrouped()){a.updateGroupsOnAdd(c)}a.fireEvent('add',a,c,i);a.fireEvent('datachanged',a);if(a.autoSync&&f&&!a.autoSyncSuspended){a.sync()}}return c},updateGroupsOnAdd:function(f){var e=this,g=e.groups,h=f.length,b,c,a,d;for(b=0;b<h;++b){d=f[b];c=e.getGroupString(d);a=g.getByKey(c);if(!a){a=g.add(new Ext.data.Group({key:c,store:e}))}a.add(d)}},updateGroupsOnRemove:function(e){var g=this,f=g.groups,h=e.length,b,d,a,c;for(b=0;b<h;++b){c=e[b];d=g.getGroupString(c);a=f.getByKey(d);if(a){a.remove(c);if(a.records.length===0){f.remove(a)}}}},updateGroupsOnUpdate:function(c,i){var a=this,j=a.getGroupField(),g=a.getGroupString(c),e=a.groups,f,b,h,d;if(i&&Ext.Array.indexOf(i,j)!==-1){if(a.buffered){Ext.Error.raise({msg:'Cannot move records between groups in a buffered store record'})}h=e.items;for(b=0,f=h.length;b<f;++b){d=h[b];if(d.contains(c)){d.remove(c);break}}d=e.getByKey(g);if(!d){d=e.add(new Ext.data.Group({key:g,store:a}))}d.add(c);a.data.remove(c);a.data.insert(a.data.findInsertionIndex(c,a.generateComparator()),c);for(b=0,f=this.getCount();b<f;b++){a.data.items[b].index=b}}else {e.getByKey(g).setDirty()}},add:function(e){var a=this,b,d,c;if(Ext.isArray(e)){b=e}else {b=arguments}d=b.length;c=!a.remoteSort&&a.sorters&&a.sorters.items.length;if(c&&d===1){return [a.addSorted(a.createModel(b[0]))]}if(c){a.requireSort=!0}b=a.insert(a.data.length,b);delete a.requireSort;return b},addSorted:function(a){var b=this,c=b.data.findInsertionIndex(a,b.generateComparator());b.insert(c,a);return a},createModel:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.model)}return a},onUpdate:function(b,c,a){if(this.isGrouped()){this.updateGroupsOnUpdate(b,a)}},each:function(f,e){var d=this.data.items,c=d.length,b,a;for(a=0;a<c;a++){b=d[a];if(f.call(e||b,b,a,c)===!1){break}}},remove:function(e,g,r){g=g===!0;var b=this,m=!1,p=b.snapshot,j=b.data,c=0,f,i=[],o=[],q=[],l,k,d,a,h,n,s=!r&&b.hasListeners.remove;if(e.isModel){e=[e];f=1}else {if(Ext.isIterable(e)){f=e.length}else {if(typeof e==='object'){h=!0;c=e.start;f=e.end+1;n=f-c}}}if(!h){for(c=0;c<f;++c){a=e[c];if(typeof a=='number'){d=a;a=j.getAt(d)}else {d=b.indexOf(a)}if(a&&d>-1){i.push({record:a,index:d})}if(p){p.remove(a)}}i=Ext.Array.sort(i,function(d,b){var a=d.index,c=b.index;return a===b.index2?0:a<c?-1:1});c=0;f=i.length}for(;c<f;c++){if(h){a=j.getAt(c);d=c}else {l=i[c];a=l.record;d=l.index}o.push(a);q.push(d);k=a.phantom!==!0;if(!g&&k){a.removedFrom=d;b.removed.push(a)}a.unjoin(b);d-=c;m=m||k;if(!h){j.removeAt(d);if(s){b.fireEvent('remove',b,a,d,!!g)}}}if(h){j.removeRange(e.start,n)}if(!r){b.fireEvent('bulkremove',b,o,q,!!g);b.fireEvent('datachanged',b)}if(!g&&b.autoSync&&m&&!b.autoSyncSuspended){b.sync()}},removeAt:function(a,d){var b=this,c=b.getCount();if(a<=c){if(arguments.length===1){b.remove([a])}else {if(d){b.remove({start:a,end:Math.min(a+d,c)-1})}}}},removeAll:function(b){var a=this,d=a.snapshot,c=a.data;if(d){d.removeAll(c.getRange())}if(a.buffered){if(c){if(b){a.suspendEvent('clear')}c.clear();if(b){a.resumeEvent('clear')}}}else {a.remove({start:0,end:a.getCount()-1},!1,b);if(b!==!0){a.fireEvent('clear',a)}}},load:function(a){var b=this;a=a||{};if(typeof a=='function'){a={callback:a}}a.groupers=a.groupers||b.groupers.items;a.page=a.page||b.currentPage;a.start=a.start!==undefined?a.start:(a.page-1)*b.pageSize;a.limit=a.limit||b.pageSize;a.addRecords=a.addRecords||!1;if(b.buffered){a.limit=b.viewSize||b.defaultViewSize;return b.loadToPrefetch(a)}return Ext.data.AbstractStore.prototype.load.call(this,a)},reload:function(b){var a=this,c,d,i,j,e,f,g,k,h=a.getCount();if(!b){b={}}if(a.buffered){delete a.totalCount;f=function(){if(a.rangeCached(c,d)){a.loading=!1;a.data.un('pageAdded',f);k=a.data.getRange(c,d);a.fireEvent('load',a,k,!0)}};g=Math.ceil((a.leadingBufferZone+a.trailingBufferZone)/2);c=b.start||(h?a.getAt(0).index:0);d=c+(b.count||(h?h:a.pageSize))-1;i=a.getPageFromRecordIndex(Math.max(c-g,0));j=a.getPageFromRecordIndex(d+g);a.data.clear(!0);if(a.fireEvent('beforeload',a,b)!==!1){a.loading=!0;a.data.on('pageAdded',f);for(e=i;e<=j;e++){a.prefetchPage(e,b)}}}else {return Ext.data.AbstractStore.prototype.reload.apply(this,arguments)}},onProxyLoad:function(b){var a=this,e=b.getResultSet(),d=b.getRecords(),c=b.wasSuccessful();if(a.isDestroyed){return}if(e){a.totalCount=e.total}a.loading=!1;if(c){a.loadRecords(d,b)}if(a.hasListeners.load){a.fireEvent('load',a,d,c)}if(a.hasListeners.read){a.fireEvent('read',a,d,c)}Ext.callback(b.callback,b.scope||a,[d,b,c])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(b,g){if(Ext.isString(b)){b={property:b,value:g}}var a=this,d=a.decodeFilters(b),c,e=a.sorters.length&&a.sortOnFilter&&!a.remoteSort,f=d.length;for(c=0;c<f;c++){a.filters.replace(d[c])}b=a.filters.items;if(b.length){if(a.remoteFilter){delete a.totalCount;if(a.buffered){a.data.clear();a.loadPage(1)}else {a.currentPage=1;a.load()}}else {a.snapshot=a.snapshot||a.data.clone();a.data=a.snapshot.filter(b);a.constructGroups();if(e){a.sort()}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}}a.fireEvent('filterchange',a,b)}},clearFilter:function(b){var a=this;a.filters.clear();if(a.remoteFilter){if(b){return}delete a.totalCount;if(a.buffered){a.data.clear();a.loadPage(1)}else {a.currentPage=1;a.load()}}else {if(a.isFiltered()){a.data=a.snapshot;delete a.snapshot;a.constructGroups();if(b!==!0){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}}}a.fireEvent('filterchange',a,a.filters.items)},removeFilter:function(b,c){var a=this;if(!a.remoteFilter&&a.isFiltered()){if(b instanceof Ext.util.Filter){a.filters.remove(b)}else {a.filters.removeAtKey(b)}if(c!==!1){if(a.filters.length){a.filter()}else {a.clearFilter()}}else {a.fireEvent('filterchange',a,a.filters.items)}}},addFilter:function(f,e){var a=this,c,b,d;c=a.decodeFilters(f);d=c.length;for(b=0;b<d;b++){a.filters.replace(c[b])}if(e!==!1&&a.filters.length){a.filter()}else {a.fireEvent('filterchange',a,a.filters.items)}},isFiltered:function(){var a=this.snapshot;return !!(a&&a!==this.data)},filterBy:function(c,b){var a=this;a.snapshot=a.snapshot||a.data.clone();a.data=a.queryBy(c,b||a);a.fireEvent('datachanged',a);a.fireEvent('refresh',a)},queryBy:function(c,b){var a=this;return (a.snapshot||a.data).filterBy(c,b||a)},query:function(f,h,e,c,d){var b=this,g=b.createFilterFn(f,h,e,c,d),a=b.queryBy(g);if(!a){a=new Ext.util.MixedCollection()}return a},loadData:function(c,d){var e=c.length,b=[],a;for(a=0;a<e;a++){b.push(this.createModel(c[a]))}this.loadRecords(b,d?this.addRecordsOptions:undefined)},loadRawData:function(e,d){var a=this,b=a.proxy.reader.read(e),c=b.records;if(b.success){a.totalCount=b.total;a.loadRecords(c,d?a.addRecordsOptions:undefined)}},loadRecords:function(c,d){var a=this,b=0,h=c.length,e,f,g=a.snapshot;if(d){e=d.start;f=d.addRecords}if(!f){delete a.snapshot;a.clearData(!0)}else {if(g){g.addAll(c)}}a.data.addAll(c);if(e!==undefined){for(;b<h;b++){c[b].index=e+b;c[b].join(a)}}else {for(;b<h;b++){c[b].join(a)}}a.suspendEvents();if(a.filterOnLoad&&!a.remoteFilter){a.filter()}if(a.sortOnLoad&&!a.remoteSort){a.sort(undefined,undefined,undefined,!0)}a.resumeEvents();if(a.isGrouped()){a.constructGroups()}a.fireEvent('datachanged',a);a.fireEvent('refresh',a)},loadPage:function(c,b){var a=this;a.currentPage=c;b=Ext.apply({page:c,start:(c-1)*a.pageSize,limit:a.pageSize,addRecords:!a.clearOnPageLoad},b);if(a.buffered){b.limit=a.viewSize||a.defaultViewSize;return a.loadToPrefetch(b)}a.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(d){var a=this,b,c;if(!a.buffered&&a.data){b=a.data.items;c=b.length;while(c--){b[c].unjoin(a)}}if(a.data){a.data.clear()}if(d!==!0||a.clearRemovedOnLoad){a.removed.length=0}},loadToPrefetch:function(b){var a=this,f,h,g,e=b,d=b.start,i=b.start+b.limit-1,c=Math.min(i,b.start+(a.viewSize||b.limit)-1),k=a.getPageFromRecordIndex(Math.max(d-a.trailingBufferZone,0)),l=a.getPageFromRecordIndex(i+a.leadingBufferZone),j=function(){if(a.rangeCached(d,c)){a.loading=!1;h=a.data.getRange(d,c);a.data.un('pageAdded',j);if(a.hasListeners.guaranteedrange){a.guaranteeRange(d,c,b.callback,b.scope)}if(b.callback){b.callback.call(b.scope||a,h,d,i,b)}a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('load',a,h,!0);if(b.groupChange){a.fireGroupChange()}}};if(a.fireEvent('beforeload',a,b)!==!1){delete a.totalCount;a.loading=!0;if(b.callback){e=Ext.apply({},b);delete e.callback}a.on('prefetch',function(m,d,h,i){if(h){if(g=a.getTotalCount()){a.data.on('pageAdded',j);c=Math.min(c,g-1);l=a.getPageFromRecordIndex(Math.min(c+a.leadingBufferZone,g-1));for(f=k+1;f<=l;++f){a.prefetchPage(f,e)}}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('load',a,d,!0)}}else {a.fireEvent('load',a,d,!1)}},null,{single:!0});a.prefetchPage(k,e)}},prefetch:function(b){var a=this,c=a.pageSize,e,d;if(c){if(a.lastPageSize&&c!=a.lastPageSize){Ext.Error.raise('pageSize cannot be dynamically altered')}if(!a.data.pageSize){a.data.pageSize=c}}else {a.pageSize=a.data.pageSize=c=b.limit}a.lastPageSize=c;if(!b.page){b.page=a.getPageFromRecordIndex(b.start);b.start=(b.page-1)*c;b.limit=Math.ceil(b.limit/c)*c}if(!a.pageRequests[b.page]){b=Ext.apply({action:'read',filters:a.filters.items,sorters:a.sorters.items,groupers:a.groupers.items,pageMapGeneration:a.data.pageMapGeneration},b);d=new Ext.data.Operation(b);if(a.fireEvent('beforeprefetch',a,d)!==!1){e=a.proxy;a.pageRequests[b.page]=e.read(d,a.onProxyPrefetch,a);if(e.isSynchronous){delete a.pageRequests[b.page]}}}return a},onPageMapClear:function(){var a=this,e=a.wasLoading,c=a.pageRequests,d,b;if(a.data.events.pageadded){a.data.events.pageadded.clearListeners()}a.loading=!0;a.totalCount=0;for(b in c){if(c.hasOwnProperty(b)){d=c[b];delete c[b];delete d.callback}}a.fireEvent('clear',a);a.loading=e},prefetchPage:function(c,e){var a=this,d=a.pageSize||a.defaultPageSize,f=(c-1)*a.pageSize,b=a.totalCount;if(b!==undefined&&a.getCount()===b){return}a.prefetch(Ext.applyIf({page:c,start:f,limit:d},e))},onProxyPrefetch:function(a){var b=this,e=a.getResultSet(),d=a.getRecords(),c=a.wasSuccessful(),f=a.page;if(a.pageMapGeneration===b.data.pageMapGeneration){if(e){b.totalCount=e.total;b.fireEvent('totalcountchange',b.totalCount)}if(f!==undefined){delete b.pageRequests[f]}b.loading=!1;b.fireEvent('prefetch',b,d,c,a);if(c){b.cachePage(d,a.page)}Ext.callback(a.callback,a.scope||b,[d,a,c])}},cachePage:function(b,d){var a=this,e=b.length,c;if(!Ext.isDefined(a.totalCount)){a.totalCount=b.length;a.fireEvent('totalcountchange',a.totalCount)}for(c=0;c<e;c++){b[c].join(a)}a.data.addPage(d,b)},rangeCached:function(a,b){return this.data&&this.data.hasRange(a,b)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return !!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var c=this,f=c.getTotalCount(),e=a.prefetchStart,b=a.prefetchEnd>f-1?f-1:a.prefetchEnd,d;b=Math.max(0,b);d=c.data.getRange(e,b);if(a.fireEvent!==!1){c.fireEvent('guaranteedrange',d,e,b,a)}if(a.callback){a.callback.call(a.scope||c,d,e,b,a)}},guaranteeRange:function(d,e,b,c,a){a=Ext.apply({callback:b,scope:c},a);this.getRange(d,e,a)},prefetchRange:function(e,f){var a=this,c,d,b;if(!a.rangeCached(e,f)){c=a.getPageFromRecordIndex(e);d=a.getPageFromRecordIndex(f);a.data.maxSize=a.purgePageCount?d-c+1+a.purgePageCount:0;for(b=c;b<=d;b++){if(!a.pageCached(b)){a.prefetchPage(b)}}}},primeCache:function(b,c,d){var a=this;if(d===-1){b=Math.max(b-a.leadingBufferZone,0);c=Math.min(c+a.trailingBufferZone,a.totalCount-1)}else {if(d===1){b=Math.max(Math.min(b-a.trailingBufferZone,a.totalCount-a.pageSize),0);c=Math.min(c+a.leadingBufferZone,a.totalCount-1)}else {b=Math.min(Math.max(Math.floor(b-(a.leadingBufferZone+a.trailingBufferZone)/2),0),a.totalCount-a.pageSize);c=Math.min(Math.max(Math.ceil(c+(a.leadingBufferZone+a.trailingBufferZone)/2),0),a.totalCount-1)}}a.prefetchRange(b,c)},sort:function(){var a=this;if(a.buffered&&a.remoteSort){a.data.clear()}return Ext.data.AbstractStore.prototype.sort.apply(this,arguments)},doSort:function(e){var a=this,c,d,b;if(a.remoteSort){if(a.buffered){a.data.clear();a.loadPage(1)}else {a.load()}}else {a.data.sortBy(e);if(!a.buffered){c=a.getRange();d=c.length;for(b=0;b<d;b++){c[b].index=b}}a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}},find:function(e,g,f,d,b,c){var a=this.createFilterFn(e,g,d,b,c);return a?this.data.findIndexBy(a,null,f):-1},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},createFilterFn:function(e,a,d,b,c){if(Ext.isEmpty(a)){return !1}a=this.data.createValueMatcher(a,d,b,c);return function(f){return a.test(f.data[e])}},findExact:function(a,c,b){return this.data.findIndexBy(function(d){return d.isEqual(d.get(a),c)},this,b)},findBy:function(c,a,b){return this.data.findIndexBy(c,a,b)},collect:function(d,c,b){var a=this,e=b===!0&&a.snapshot?a.snapshot:a.data;return e.collect(d,'data',c)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(c,b,d){var a=this,g,h,i=a.totalCount-1,j=a.lastRequestStart,f,e;d=Ext.apply({prefetchStart:c,prefetchEnd:b},d);if(a.buffered){b=b>=a.totalCount?i:b;g=c===0?0:c-1;h=b===i?b:b+1;a.lastRequestStart=c;if(a.rangeCached(g,h)){a.onGuaranteedRange(d);e=a.data.getRange(c,b)}else {a.fireEvent('cachemiss',a,c,b);f=function(i,e){if(a.rangeCached(g,h)){a.fireEvent('cachefilled',a,c,b);a.data.un('pageAdded',f);a.onGuaranteedRange(d)}};a.data.on('pageAdded',f);a.prefetchRange(c,b)}a.primeCache(c,b,c<j?-1:1)}else {e=a.data.getRange(c,b);if(d.callback){d.callback.call(d.scope||a,e,c,b,d)}}return e},getById:function(b){var a=(this.snapshot||this.data).findBy(function(a){return a.getId()===b});return a},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(b){var a=b.index;if(a||a===0){return a}return this.indexOf(b)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(b){var a=this;if(b&&a.isGrouped()){return a.aggregate(function(a){return a.length?a[0]:undefined},a,!0)}else {return a.data.first()}},last:function(b){var a=this;if(b&&a.isGrouped()){return a.aggregate(function(a){var c=a.length;return c?a[c-1]:undefined},a,!0)}else {return a.data.last()}},sum:function(b,c){var a=this;if(c&&a.isGrouped()){return a.aggregate(a.getSum,a,!0,[b])}else {return a.getSum(a.data.items,b)}},getSum:function(b,d){var c=0,a=0,e=b.length;for(;a<e;++a){c+=b[a].get(d)}return c},count:function(b){var a=this;if(b&&a.isGrouped()){return a.aggregate(function(a){return a.length},a,!0)}else {return a.getCount()}},min:function(b,c){var a=this;if(c&&a.isGrouped()){return a.aggregate(a.getMin,a,!0,[b])}else {return a.getMin(a.data.items,b)}},getMin:function(b,e){var d=1,f=b.length,c,a;if(f>0){a=b[0].get(e)}for(;d<f;++d){c=b[d].get(e);if(c<a){a=c}}return a},max:function(b,c){var a=this;if(c&&a.isGrouped()){return a.aggregate(a.getMax,a,!0,[b])}else {return a.getMax(a.data.items,b)}},getMax:function(b,e){var d=1,f=b.length,c,a;if(f>0){a=b[0].get(e)}for(;d<f;++d){c=b[d].get(e);if(c>a){a=c}}return a},average:function(b,c){var a=this;if(c&&a.isGrouped()){return a.aggregate(a.getAverage,a,!0,[b])}else {return a.getAverage(a.data.items,b)}},getAverage:function(a,e){var b=0,c=a.length,d=0;if(a.length>0){for(;b<c;++b){d+=a[b].get(e)}return d/c}return 0},aggregate:function(g,e,h,a){a=a||[];if(h&&this.isGrouped()){var d=this.getGroups(),i=d.length,f={},c,b;for(b=0;b<i;++b){c=d[b];f[c.name]=this.getAggregate(g,e||this,c.children,a)}return f}else {return this.getAggregate(g,e,this.data.items,a)}},getAggregate:function(d,c,b,a){a=a||[];return d.apply(c||this,[b].concat(a))},onIdChanged:function(e,d,c,a){var b=this.snapshot;if(b){b.updateKey(a,c)}this.data.updateKey(a,c);Ext.data.AbstractStore.prototype.onIdChanged.apply(this,arguments)},commitChanges:function(){var c=this,b=c.getModifiedRecords(),d=b.length,a=0;for(;a<d;a++){b[a].commit()}c.removed.length=0},filterNewOnly:function(a){return a.phantom===!0},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){var d=this,c=d.getRejectRecords(),e=c.length,b=0,a;for(;b<e;b++){a=c[b];a.reject();if(a.phantom){d.remove(a)}}c=d.removed;e=c.length;for(b=0;b<e;b++){a=c[b];d.insert(a.removedFrom||0,a);a.reject()}d.removed.length=0}},1,0,0,0,['store.store'],0,[Ext.data,'Store'],function(){Ext.regStore('ext-empty-store',{fields:[],proxy:'memory'})});Ext.cmd.derive('Ext.data.reader.Array',Ext.data.reader.Json,{alternateClassName:'Ext.data.ArrayReader',totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(c,e,d){var a=c.mapping==null?c.originalIndex:c.mapping,b;if(typeof a==='function'){b=e+'.mapping('+d+', this)'}else {if(isNaN(a)){a='"'+a+'"'}b=d+'['+a+']'}return b}},0,0,0,0,['reader.array'],0,[Ext.data.reader,'Array',Ext.data,'ArrayReader'],0);Ext.cmd.derive('Ext.data.ArrayStore',Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:'memory',reader:'array'}},a);Ext.data.Store.prototype.constructor.call(this,a)},loadData:function(a,d){if(this.expandData===!0){var c=[],b=0,e=a.length;for(;b<e;b++){c[c.length]=[a[b]]}a=c}Ext.data.Store.prototype.loadData.call(this,a,d)}},1,0,0,0,['store.array'],0,[Ext.data,'ArrayStore'],function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.cmd.derive('Ext.data.Batch',Ext.Base,{autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.operations=[];a.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(b){var a=this;if(a.isRunning){return a}a.exceptions.length=0;a.hasException=!1;a.isRunning=!0;return a.runOperation(Ext.isDefined(b)?b:a.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=!1;return this},runOperation:function(e){var a=this,c=a.operations,b=c[e],d;if(b===undefined){a.isRunning=!1;a.isComplete=!0;a.fireEvent('complete',a,c[c.length-1])}else {a.current=e;d=function(b){var c=b.hasException();if(c){a.hasException=!0;a.exceptions.push(b);a.fireEvent('exception',a,b)}if(c&&a.pauseOnException){a.pause()}else {b.setCompleted();a.fireEvent('operationcomplete',a,b);a.runNextOperation()}};b.setStarted();a.proxy[b.action](b,d,a)}return a}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.data,'Batch'],0);Ext.cmd.derive('Ext.data.NodeInterface',Ext.Base,{statics:{decorate:function(a){var b,c,d;if(typeof a=='string'){a=Ext.ModelManager.getModel(a)}else {if(a.isModel){a=Ext.ModelManager.getModel(a.modelName)}}if(a.prototype.isNode){return}b=a.prototype.idProperty;c=a.prototype.fields.get(b);d=a.prototype.fields.get(b).type.type;a.override(this.getPrototypeBody());this.applyFields(a,[{name:'parentId',type:d,defaultValue:null,useNull:c.useNull},{name:'index',type:'int',defaultValue:0,persist:!1,convert:null},{name:'depth',type:'int',defaultValue:0,persist:!1,convert:null},{name:'expanded',type:'bool',defaultValue:!1,persist:!1,convert:null},{name:'expandable',type:'bool',defaultValue:!0,persist:!1,convert:null},{name:'checked',type:'auto',defaultValue:null,persist:!1,convert:null},{name:'leaf',type:'bool',defaultValue:!1},{name:'cls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'iconCls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'icon',type:'string',defaultValue:'',persist:!1,convert:null},{name:'root',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isLast',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isFirst',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'allowDrop',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'allowDrag',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'loaded',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'loading',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'href',type:'string',defaultValue:'',persist:!1,convert:null},{name:'hrefTarget',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtip',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtitle',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qshowDelay',type:'int',defaultValue:0,persist:!1,convert:null},{name:'children',type:'auto',defaultValue:null,persist:!1,convert:null}])},applyFields:function(f,c){var e=f.prototype,d=e.fields,g=d.keys,h=c.length,b,a;for(a=0;a<h;a++){b=c[a];if(!Ext.Array.contains(g,b.name)){d.add(new Ext.data.Field(b))}}},getPrototypeBody:function(){var a={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0,rootchange:!0};return {isNode:!0,constructor:function(){var a=this;a.callParent(arguments);a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[];return a},createNode:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.modelName)}if(!a.childNodes){a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[]}return a},isLeaf:function(){return this.get('leaf')===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(j,f){var a=this,l=a.data.depth,h={},i=a.childNodes,k=i.length,c,m=a.phantom,g=a[a.persistenceProperty],b,d,e;if(!f){Ext.Error.raise('NodeInterface expects update info to be passed')}for(b in f){e=a.fields.get(b);d=f[b];if(e&&e.persist){a.dirty=a.dirty||!a.isEqual(g[b],d)}g[b]=d}if(j){a.commit();a.phantom=m}if(a.data.depth!==l){h={depth:a.data.depth+1};for(c=0;c<k;c++){i[c].updateInfo(j,h)}}},isLast:function(){return this.get('isLast')},isFirst:function(){return this.get('isFirst')},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;if(a.get('expandable')){return !(a.isLeaf()||a.isLoaded()&&!a.hasChildNodes())}return !1},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,f,g){var b=this,h,j,c,e,d,i={isLast:!0,parentId:b.getId(),depth:(b.data.depth||0)+1};if(Ext.isArray(a)){b.callStore('suspendAutoSync');for(h=0,j=a.length-1;h<j;h++){b.appendChild(a[h],f,g)}b.callStore('resumeAutoSync');b.appendChild(a[j],f,g)}else {a=b.createNode(a);if(f!==!0&&b.fireEventArgs('beforeappend',[b,a])===!1){return !1}c=b.childNodes.length;e=a.parentNode;if(e){if(f!==!0&&a.fireEventArgs('beforemove',[a,e,b,c])===!1){return !1}e.removeChild(a,!1,!1,!0)}Ext.suspendLayouts();c=b.childNodes.length;if(c===0){b.setFirstChild(a)}b.childNodes[c]=a;a.parentNode=b;a.nextSibling=null;b.setLastChild(a);d=b.childNodes[c-1];if(d){a.previousSibling=d;d.nextSibling=a;d.updateInfo(g,{isLast:!1});d.triggerUIUpdate()}else {a.previousSibling=null}i.isFirst=c===0;i.index=c;a.updateInfo(g,i);if(!b.isLoaded()){b.set('loaded',!0)}else {if(b.childNodes.length===1){b.triggerUIUpdate()}}if(c&&b.childNodes[c-1].isExpanded()){b.childNodes[c-1].cascadeBy(b.triggerUIUpdate)}if(!a.isLeaf()&&a.phantom){a.set('loaded',!0)}Ext.resumeLayouts(!0);if(f!==!0){b.fireEventArgs('append',[b,a,c]);if(e){a.fireEventArgs('move',[a,e,b,c])}}return a}},getOwnerTree:function(){var b=this,a;while(b.parentNode){b=b.parentNode}a=b.store;if(a){if(a.treeStore){a=a.treeStore}if(a.tree){return a.ownerTree}}return undefined},removeChild:function(a,i,f,h){var b=this,e=b.indexOf(a),d,g,c;if(e===-1||f!==!0&&b.fireEventArgs('beforeremove',[b,a,!!h])===!1){return !1}Ext.suspendLayouts();Ext.Array.erase(b.childNodes,e,1);if(b.firstChild===a){b.setFirstChild(a.nextSibling)}if(b.lastChild===a){b.setLastChild(a.previousSibling)}if(c=a.previousSibling){a.previousSibling.nextSibling=a.nextSibling}if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling;if(e===0){a.nextSibling.updateInfo(!1,{isFirst:!0})}for(d=e,g=b.childNodes.length;d<g;d++){b.childNodes[d].updateInfo(!1,{index:d})}}else {if(c){c.updateInfo(!1,{isLast:!0});if(c.isExpanded()){c.cascadeBy(b.triggerUIUpdate)}else {c.triggerUIUpdate()}}}if(!b.childNodes.length){b.triggerUIUpdate()}Ext.resumeLayouts(!0);if(f!==!0){a.removeContext={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling};a.previousSibling=a.nextSibling=a.parentNode=null;b.fireEventArgs('remove',[b,a,!!h]);a.removeContext=null}if(i){a.destroy(!0)}else {a.clear()}return a},copy:function(f,d){var a=this,c=a.callParent(arguments),e=a.childNodes?a.childNodes.length:0,b;if(d){for(b=0;b<e;b++){c.appendChild(a.childNodes[b].copy(undefined,!0))}}return c},clear:function(b){var a=this;a.parentNode=a.previousSibling=a.nextSibling=null;if(b){a.firstChild=a.lastChild=null}},destroy:function(c){var a=this,e=a.destroyOptions,d=a.childNodes,f=d.length,b;if(c===!0){a.clear(!0);for(b=0;b<f;b++){d[b].destroy(!0)}a.childNodes=null;delete a.destroyOptions;a.callParent([e])}else {a.destroyOptions=c;a.remove(!0)}},insertBefore:function(a,c,h){var b=this,i=b.indexOf(c),e=a.parentNode,d=i,j,g,f;if(!c){return b.appendChild(a)}if(a===c){return !1}a=b.createNode(a);if(h!==!0&&b.fireEventArgs('beforeinsert',[b,a,c])===!1){return !1}if(e===b&&b.indexOf(a)<i){d--}if(e){if(h!==!0&&a.fireEventArgs('beforemove',[a,e,b,i,c])===!1){return !1}e.removeChild(a,!1,!1,!0)}if(d===0){b.setFirstChild(a)}Ext.Array.splice(b.childNodes,d,0,a);a.parentNode=b;a.nextSibling=c;c.previousSibling=a;g=b.childNodes[d-1];if(g){a.previousSibling=g;g.nextSibling=a}else {a.previousSibling=null}a.updateInfo(!1,{parentId:b.getId(),index:d,isFirst:d===0,isLast:!1,depth:(b.data.depth||0)+1});for(f=d+1,j=b.childNodes.length;f<j;f++){b.childNodes[f].updateInfo(!1,{index:f})}if(!b.isLoaded()){b.set('loaded',!0)}else {if(b.childNodes.length===1){b.triggerUIUpdate()}}if(!a.isLeaf()&&a.phantom){a.set('loaded',!0)}if(h!==!0){b.fireEventArgs('insert',[b,a,c]);if(e){a.fireEventArgs('move',[a,e,b,d,c])}}return a},insertChild:function(c,b){var a=this.childNodes[c];if(a){return this.insertBefore(b,a)}else {return this.appendChild(b)}},remove:function(c,d){var a=this,b=a.parentNode;if(b){b.removeChild(a,c,d)}else {if(c){a.destroy(!0)}}return a},removeAll:function(h,f,g){var b=this,c=b.childNodes,d=0,e=c.length,a;if(!e){return}b.fireEventArgs('bulkremove',[b,c,!1]);for(;d<e;++d){a=c[d];a.removeContext={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling};a.previousSibling=a.nextSibling=a.parentNode=null;b.fireEventArgs('remove',[b,a,!1]);a.removeContext=null;if(h){a.destroy(!0)}else {a.removeAll(!1,f,!0)}}b.firstChild=b.lastChild=null;if(g){b.childNodes=null}else {b.childNodes.length=0;b.triggerUIUpdate()}return b},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(c,a,b){var d=a?a.nextSibling:null;this.removeChild(a,!1,b);this.insertBefore(c,d,b);return a},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(d){var b=this.childNodes,c=b.length,a=0;for(;a<c;++a){if(b[a].getId()===d){return a}}return -1},getPath:function(c,a){c=c||this.idProperty;a=a||'/';var d=[this.get(c)],b=this.parentNode;while(b){d.unshift(b.get(c));b=b.parentNode}return a+d.join(a)},getDepth:function(){return this.get('depth')},bubble:function(d,b,c){var a=this;while(a){if(d.apply(b||a,c||[a])===!1){break}a=a.parentNode}},cascadeBy:function(e,c,d){if(e.apply(c||this,d||[this])!==!1){var b=this.childNodes,f=b.length,a;for(a=0;a<f;a++){b[a].cascadeBy(e,c,d)}}},eachChild:function(f,d,e){var b=this.childNodes,c=b.length,a;for(a=0;a<c;a++){if(f.apply(d||this,e||[b[a]])===!1){break}}},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(g,d,e){var f=this.childNodes,h=f.length,c=0,a,b;for(;c<h;c++){a=f[c];if(g.call(d||a,a)===!0){return a}else {if(e){b=a.findChildBy(g,d,e);if(b!==null){return b}}}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(b){var a=this.parentNode;while(a){if(a===b){return !0}a=a.parentNode}return !1},sort:function(f,h,g){var a=this.childNodes,e=a.length,b,c,d={isFirst:!0};if(e>0){Ext.Array.sort(a,f);this.setFirstChild(a[0]);this.setLastChild(a[e-1]);for(b=0;b<e;b++){c=a[b];c.previousSibling=a[b-1];c.nextSibling=a[b+1];d.isLast=b===e-1;d.index=b;c.updateInfo(!1,d);d.isFirst=!1;if(h&&!c.isLeaf()){c.sort(f,!0,!0)}}if(g!==!0){this.fireEventArgs('sort',[this,a])}}},isExpanded:function(){return this.get('expanded')},isLoaded:function(){return this.get('loaded')},isLoading:function(){return this.get('loading')},isRoot:function(){return !this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded()){return !1}a=a.parentNode}return !0},expand:function(d,b,c){var a=this,e;if(!a.isLeaf()){if(a.isLoading()){a.on('expand',function(){a.expand(d,b,c)},a,{single:!0})}else {if(!a.isExpanded()){a.fireEventArgs('beforeexpand',[a,a.onChildNodesAvailable,a,[d,b,c]])}else {if(d){e=a.getOwnerTree();a.expandChildren(!0,e?e.singleExpand:!1,b,c)}else {Ext.callback(b,c||a,[a.childNodes])}}}}else {Ext.callback(b,c||a)}},onChildNodesAvailable:function(f,e,c,d){var a=this,b;Ext.suspendLayouts();a.set('expanded',!0);a.fireEventArgs('expand',[a,a.childNodes,!1]);if(e){b=a.getOwnerTree();a.expandChildren(!0,b?b.singleExpand:!1,c,d)}else {Ext.callback(c,d||a,[a.childNodes])}Ext.resumeLayouts(!0)},expandChildren:function(i,h,g,j){var f=this,a,c=f.childNodes,b=[],e=h?Math.min(c.length,1):c.length,d;for(a=0;a<e;++a){d=c[a];if(!d.isLeaf()){b[b.length]=d}}e=b.length;for(a=0;a<e;++a){b[a].expand(i)}if(g){Ext.callback(g,j||f,[f.childNodes])}},collapse:function(e,b,f){var a=this,h=a.isExpanded(),g=a.childNodes.length,c,d;if(!a.isLeaf()&&(!h&&e||a.fireEventArgs('beforecollapse',[a])!==!1)){Ext.suspendLayouts();if(a.isExpanded()){if(e){d=function(){for(c=0;c<g;c++){a.childNodes[c].setCollapsed(!0)}};if(b){b=Ext.Function.createSequence(d,b)}else {b=d}}a.set('expanded',!1);a.fireEventArgs('collapse',[a,a.childNodes,!1,b?Ext.Function.bind(b,f,[a.childNodes]):null,null]);b=null}else {if(e){for(c=0;c<g;c++){a.childNodes[c].setCollapsed(!0)}}}Ext.resumeLayouts(!0)}Ext.callback(b,f||a,[a.childNodes])},setCollapsed:function(c){var a=this,d=a.childNodes.length,b;if(!a.isLeaf()&&a.fireEventArgs('beforecollapse',[a,Ext.emptyFn])!==!1){a.data.expanded=!1;a.fireEventArgs('collapse',[a,a.childNodes,!1,null,null]);if(c){for(b=0;b<d;b++){a.childNodes[b].setCollapsed(!0)}}}},collapseChildren:function(e,g,h){var i=this,a,f=i.childNodes,c=f.length,d=[],b;for(a=0;a<c;++a){b=f[a];if(!b.isLeaf()&&b.isLoaded()&&b.isExpanded()){d.push(b)}}c=d.length;for(a=0;a<c;++a){b=d[a];if(a===c-1){b.collapse(e,g,h)}else {b.collapse(e)}}},fireEventArgs:function(b,g){var h=Ext.data.Model.prototype.fireEventArgs,c,d,e,f,i;if(a[b]){for(d=this;c!==!1&&d;d=(i=d).parentNode){if(d.hasListeners[b]){c=h.call(d,b,g)}}e=i.rootOf;if(c!==!1&&e){f=e.treeStore;if(f&&f.hasListeners[b]){c=f.fireEventArgs.call(f,b,g)}if(c!==!1&&e.hasListeners[b]){c=e.fireEventArgs.call(e,b,g)}}return c}else {return h.apply(this,arguments)}},serialize:function(){var d=Ext.data.writer.Json.prototype.getRecordData(this),c=this.childNodes,e=c.length,b,a;if(e>0){b=[];for(a=0;a<e;a++){b.push(c[a].serialize())}d.children=b}return d}}}}},0,0,0,0,0,0,[Ext.data,'NodeInterface'],0);Ext.cmd.derive('Ext.data.NodeStore',Ext.data.Store,{isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);a.proxy={type:'proxy'};Ext.data.Store.prototype.constructor.call(this,a);c=b.node;if(c){b.node=null;b.setNode(c)}},getTotalCount:function(){return this.getCount()},setNode:function(b){var a=this;if(a.node&&a.node!=b){a.mun(a.node,{expand:a.onNodeExpand,collapse:a.onNodeCollapse,append:a.onNodeAppend,insert:a.onNodeInsert,bulkremove:a.onBulkRemove,remove:a.onNodeRemove,sort:a.onNodeSort,scope:a});a.node=null}if(b){Ext.data.NodeInterface.decorate(b.self);a.removeAll();if(a.rootVisible){a.add(b)}else {if(!b.isExpanded()&&a.treeStore.autoLoad!==!1){b.expand()}}a.mon(b,{expand:a.onNodeExpand,collapse:a.onNodeCollapse,append:a.onNodeAppend,insert:a.onNodeInsert,bulkremove:a.onBulkRemove,remove:a.onNodeRemove,sort:a.onNodeSort,scope:a});a.node=b;if(b.isExpanded()&&b.isLoaded()){a.onNodeExpand(b,b.childNodes,!0)}}},onNodeSort:function(a,c){var b=this;if(b.indexOf(a)!==-1||a===b.node&&!b.rootVisible&&a.isExpanded()){Ext.suspendLayouts();b.onNodeCollapse(a,c,!0);b.onNodeExpand(a,c,!0);Ext.resumeLayouts(!0)}},onNodeExpand:function(b,c,d){var a=this,e=a.indexOf(b)+1,f=[];if(!d){a.fireEvent('beforeexpand',b,c,e)}a.handleNodeExpand(b,c,f);a.insert(e,f);if(!d){a.fireEvent('expand',b,c)}},handleNodeExpand:function(e,d,f){var b=this,g=d?d.length:0,c,a;if(!b.recursive&&e!==b.node){return}if(e!==this.node&&!b.isVisible(e)){return}if(g){for(c=0;c<g;c++){a=d[c];f.push(a);if(a.isExpanded()){if(a.isLoaded()){b.handleNodeExpand(a,a.childNodes,f)}else {a.set('expanded',!1);a.expand()}}}}},onBulkRemove:function(b,a,c){this.onNodeCollapse(b,a,!0)},onNodeCollapse:function(b,e,h,j,k){var a=this,d=a.indexOf(b)+1,c,f,g,i;if(!a.recursive&&b!==a.node){return}if(!h){a.fireEvent('beforecollapse',b,e,d,j,k)}if(e.length&&a.data.contains(e[0])){c=b;while(c.parentNode){g=c.nextSibling;if(g){i=!0;f=a.indexOf(g);break}else {c=c.parentNode}}if(!i){f=a.getCount()}a.removeAt(d,f-d)}if(!h){a.fireEvent('collapse',b,e,d)}},onNodeAppend:function(e,a,f){var c=this,d,b;if(c.isVisible(a)){if(f===0){d=e}else {b=a.previousSibling;while(b.isExpanded()&&b.lastChild){b=b.lastChild}d=b}c.insert(c.indexOf(d)+1,a);if(!a.isLeaf()&&a.isExpanded()){if(a.isLoaded()){c.onNodeExpand(a,a.childNodes,!0)}else {if(!c.treeStore.fillCount){a.set('expanded',!1);a.expand()}}}}},onNodeInsert:function(e,a,d){var b=this,c=this.indexOf(d);if(c!=-1&&b.isVisible(a)){b.insert(c,a);if(!a.isLeaf()&&a.isExpanded()){if(a.isLoaded()){b.onNodeExpand(a,a.childNodes,!0)}else {a.set('expanded',!1);a.expand()}}}},onNodeRemove:function(d,a,c){var b=this;if(b.indexOf(a)!=-1){if(!a.isLeaf()&&a.isExpanded()){a.parentNode=a.removeContext.parentNode;a.nextSibling=a.removeContext.nextSibling;b.onNodeCollapse(a,a.childNodes,!0);a.parentNode=a.nextSibling=null}b.remove(a)}},isVisible:function(b){var a=b.parentNode;while(a){if(a===this.node&&a.data.expanded){return !0}if(!a.data.expanded){return !1}a=a.parentNode}return !1}},1,0,0,0,['store.node'],0,[Ext.data,'NodeStore'],0);Ext.cmd.derive('Ext.data.Request',Ext.Base,{action:undefined,params:undefined,method:'GET',url:undefined,constructor:function(a){Ext.apply(this,a)}},1,0,0,0,0,0,[Ext.data,'Request'],0);Ext.cmd.derive('Ext.data.Tree',Ext.Base,{root:null,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a);if(b){a.setRootNode(b)}a.on({scope:a,idchanged:a.onNodeIdChanged,insert:a.onNodeInsert,append:a.onNodeAppend,remove:a.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(a){var b=this;b.root=a;if(a.rootOf){a.rootOf.removeRootNode()}else {if(a.parentNode){a.parentNode.removeChild(a)}}a.rootOf=b;if(a.fireEventArgs('beforeappend',[null,a])!==!1){a.set('root',!0);a.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});b.nodeHash={};a.fireEvent('append',null,a);a.fireEvent('rootchange',a)}return a},removeRootNode:function(){var b=this,a=b.root;a.set('root',!1);a.fireEvent('remove',null,a,!1);a.fireEvent('rootchange',null);a.rootOf=b.root=null;return a},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(b,a){this.registerNode(a,!0)},onNodeAppend:function(b,a){this.registerNode(a,!0)},onNodeRemove:function(b,a){this.unregisterNode(a,!0)},onNodeIdChanged:function(b,e,d,c){var a=this.nodeHash;a[b.internalId]=b;delete a[c]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(c,f){var e=this,b,d,a;e.nodeHash[c.internalId]=c;if(f===!0){b=c.childNodes;d=b.length;for(a=0;a<d;a++){e.registerNode(b[a],!0)}}},unregisterNode:function(d,f){var e=this,b,c,a;delete e.nodeHash[d.internalId];if(f===!0){b=d.childNodes;c=b.length;for(a=0;a<c;a++){e.unregisterNode(b[a],!0)}}},sort:function(b,a){this.getRootNode().sort(b,a)},filter:function(b,a){this.getRootNode().filter(b,a)}},1,0,0,0,['data.tree'],[['observable',Ext.util.Observable]],[Ext.data,'Tree'],0);Ext.cmd.derive('Ext.data.TreeStore',Ext.data.AbstractStore,{clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:'node',defaultRootId:'root',defaultRootText:'Root',defaultRootProperty:'children',rootProperty:'children',fillCount:0,folderSort:!1,constructor:function(b){var a=this,d,e,c;b=Ext.apply({},b);e=b.fields||a.fields;if(!e){b.fields=[{name:'text',type:'string'}];c=b.defaultRootProperty||a.defaultRootProperty;if(c!==a.defaultRootProperty){b.fields.push({name:c,type:'auto',defaultValue:null,persist:!1})}}Ext.data.AbstractStore.prototype.constructor.call(this,b);a.tree=new Ext.data.Tree();a.tree.treeStore=a;a.tree.on({scope:a,remove:a.onNodeRemove,beforeexpand:a.onBeforeNodeExpand,append:a.onNodeAdded,insert:a.onNodeAdded,sort:a.onNodeSort});a.onBeforeSort();d=a.root;if(d){delete a.root;a.setRootNode(d)}},setProxy:function(a){var b,c;if(a instanceof Ext.data.proxy.Proxy){c=Ext.isEmpty(a.getReader().root)}else {if(Ext.isString(a)){c=!0}else {b=a.reader;c=!(b&&!Ext.isEmpty(b.root))}}a=Ext.data.AbstractStore.prototype.setProxy.apply(this,arguments);a.idParam=this.nodeParam;if(c){b=a.getReader();b.root=this.defaultRootProperty;b.buildExtractors(!0)}return a},onBeforeSort:function(){if(this.folderSort){this.sort({property:'leaf',direction:'ASC'},'prepend',!1)}},onBeforeNodeExpand:function(b,e,f,c){var d=this,g,h,i,a;if(b.isLoaded()){a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(e,f||b,a)}else {if(h=i=(b.raw||b[b.persistenceProperty])[(g=d.getProxy().getReader()).root]){d.fillNode(b,g.extractData(h));delete i[g.root];a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(e,f||b,a)}else {if(b.isLoading()){d.on('load',function(){a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(e,f||b,a)},d,{single:!0})}else {d.read({node:b,callback:function(){delete d.lastOptions.callback;a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(e,f||b,a)}})}}}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(d,b,c){var a=this;b.unjoin(a);if(!b.phantom&&!c){Ext.Array.include(a.removed,b)}if(a.autoSync&&!a.autoSyncSuspended&&!c){a.sync()}},onNodeAdded:function(g,a){var b=this,f=b.getProxy(),d=f.getReader(),e=a.raw||a[a.persistenceProperty],c;Ext.Array.remove(b.removed,a);a.join(b);if(!a.isLeaf()&&!b.lazyFill){c=d.getRoot(e);if(c){b.fillNode(a,d.extractData(c));delete e[d.root]}}if(b.autoSync&&!b.autoSyncSuspended&&(a.phantom||a.dirty)){b.sync()}},onNodeSort:function(){if(this.autoSync&&!this.autoSyncSuspended){this.sync()}},setRootNode:function(a,e){var b=this,c=b.model,d=c.prototype.idProperty;a=a||{};if(!a.isModel){a=Ext.apply({},a);Ext.applyIf(a,{id:b.defaultRootId,text:b.defaultRootText,allowDrag:!1});if(a[d]===undefined){a[d]=b.defaultRootId}Ext.data.NodeInterface.decorate(c);a=Ext.ModelManager.create(a,c)}else {if(a.isModel&&!a.isNode){Ext.data.NodeInterface.decorate(c)}}b.getProxy().getReader().buildExtractors(!0);b.tree.setRootNode(a);if(e!==!0&&!a.isLoaded()&&(b.autoLoad===!0||a.isExpanded())){a.data.expanded=!1;a.expand()}return a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(b){b=b||{};b.params=b.params||{};var a=this,c=b.node||a.tree.getRootNode();if(!c){c=a.setRootNode({expanded:!0},!0)}b.id=c.getId();if(a.clearOnLoad){if(a.clearRemovedOnLoad){a.clearRemoved(c)}a.tree.un('remove',a.onNodeRemove,a);c.removeAll(!1);a.tree.on('remove',a.onNodeRemove,a)}Ext.applyIf(b,{node:c});Ext.data.AbstractStore.prototype.load.call(this,b);if(a.loading&&c){c.set('loading',!0)}return a},clearRemoved:function(k){var d=this,e=d.removed,l=k.getId(),f=e.length,b=f,h={},j=[],i={},a,c,g;if(k===d.getRootNode()){d.removed=[];return}for(;b--;){a=e[b];i[a.getId()]=a}for(b=f;b--;){a=e[b];c=a;while(c&&c.getId()!==l){g=c.get('parentId');c=c.parentNode||d.getNodeById(g)||i[g]}if(c){h[a.getId()]=a}}for(b=0;b<f;b++){a=e[b];if(!h[a.getId()]){j.push(a)}}d.removed=j},fillNode:function(f,b){var a=this,k=b?b.length:0,h=a.sorters,c,e,d=!1,l=k&&a.sortOnLoad&&!a.remoteSort&&h&&h.items&&h.items.length,i,j,g;for(c=1;c<k;c++){i=b[c];j=b[c-1];d=i[i.persistenceProperty].index!=j[j.persistenceProperty].index;if(d){break}}if(l){if(d){a.sorters.insert(0,a.indexSorter)}e=new Ext.util.MixedCollection();e.addAll(b);e.sort(a.sorters.items);b=e.items;a.sorters.remove(a.indexSorter)}else {if(d){Ext.Array.sort(b,a.sortByIndex)}}f.set('loaded',!0);g=a.fillCount===0;if(g){a.fireEvent('beforefill',a,f,b)}++a.fillCount;if(b.length){f.appendChild(b,undefined,!0)}if(g){a.fireEvent('fillcomplete',a,f,b)}--a.fillCount;return b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onIdChanged:function(b,d,c,a){this.tree.onNodeIdChanged(b,d,c,a);Ext.data.AbstractStore.prototype.onIdChanged.apply(this,arguments)},onProxyLoad:function(b){var a=this,d=b.wasSuccessful(),c=b.getRecords(),e=b.node;a.loading=!1;e.set('loading',!1);if(d){if(!a.clearOnLoad){c=a.cleanRecords(e,c)}c=a.fillNode(e,c)}a.fireEvent('read',a,b.node,c,d);a.fireEvent('load',a,b.node,c,d);Ext.callback(b.callback,b.scope||a,[c,b,d])},cleanRecords:function(h,f){var e={},d=h.childNodes,a=0,b=d.length,g=[],c;for(;a<b;++a){e[d[a].getId()]=!0}for(a=0,b=f.length;a<b;++a){c=f[a];if(!e[c.getId()]){g.push(c)}}return g},removeAll:function(){var a=this.getRootNode();if(a){a.destroy(!0)}this.fireEvent('clear',this)},doSort:function(b){var a=this;if(a.remoteSort){a.load()}else {a.tree.sort(b,!0);a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}a.fireEvent('sort',a,a.sorters.getRange())}},1,0,0,0,['store.tree'],0,[Ext.data,'TreeStore'],function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});Ext.cmd.derive('Ext.data.UuidGenerator',Ext.data.IdGenerator,function(){var b=Math.pow(2,14),c=Math.pow(2,16),d=Math.pow(2,28),a=Math.pow(2,32);function toHex(c,b){var a=c.toString(16);if(a.length>b){a=a.substring(a.length-b)}else {if(a.length<b){a=Ext.String.leftPad(a,b,'0')}}return a}function rand(a,b){var c=Math.random()*(b-a+1);return Math.floor(c)+a}function split(b){if(typeof b=='number'){var c=Math.floor(b/a);return {lo:Math.floor(b-c*a),hi:c}}return b}return {id:'uuid',version:4,constructor:function(){var a=this;Ext.data.IdGenerator.prototype.constructor.apply(this,arguments);a.parts=[];a.init()},generate:function(){var b=this,d=b.parts,c=b.timestamp;d[0]=toHex(c.lo,8);d[1]=toHex(c.hi&65535,4);d[2]=toHex(c.hi>>>16&4095|b.version<<12,4);d[3]=toHex(128|b.clockSeq>>>8&63,2)+toHex(b.clockSeq&255,2);d[4]=toHex(b.salt.hi,4)+toHex(b.salt.lo,8);if(b.version==4){b.init()}else {++c.lo;if(c.lo>=a){c.lo=0;++c.hi}}return d.join('-').toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var e=this,f,g;if(e.version==4){e.clockSeq=rand(0,b-1);f=e.salt||(e.salt={});g=e.timestamp||(e.timestamp={});f.lo=rand(0,a-1);f.hi=rand(0,c-1);g.lo=rand(0,a-1);g.hi=rand(0,d-1)}else {e.salt=split(e.salt);e.timestamp=split(e.timestamp);e.salt.hi|=256}},reconfigure:function(a){Ext.apply(this,a);this.init()}}}(),1,0,0,0,['idgen.uuid'],0,[Ext.data,'UuidGenerator'],0);Ext.cmd.derive('Ext.data.association.BelongsTo',Ext.data.association.Association,{alternateClassName:'Ext.data.BelongsToAssociation',constructor:function(f){Ext.data.association.Association.prototype.constructor.apply(this,arguments);var a=this,c=a.ownerModel.prototype,b=a.associatedName,d=a.getterName||'get'+b,e=a.setterName||'set'+b;Ext.applyIf(a,{name:b,foreignKey:b.toLowerCase()+'_id',instanceName:b+'BelongsToInstance',associationKey:b.toLowerCase()});c[d]=a.createGetter();c[e]=a.createSetter()},createSetter:function(){var c=this,b=c.foreignKey,a=c.instanceName;return function(d,c,g){var e=d&&d.isModel,f=e?d.getId():d;if(e){this[a]=d}else {if(this[a] instanceof Ext.data.Model&&!this.isEqual(this.get(b),f)){delete this[a]}}this.set(b,f);if(Ext.isFunction(c)){c={callback:c,scope:g||this}}if(Ext.isObject(c)){return this.save(c)}}},createGetter:function(){var a=this,d=a.associatedName,c=a.associatedModel,e=a.foreignKey,f=a.primaryKey,b=a.instanceName;return function(a,i){a=a||{};var h=this,l=h.get(e),k,g,j;if(a.reload===!0||h[b]===undefined){g=Ext.ModelManager.create({},d);g.set(f,l);if(typeof a=='function'){a={callback:a,scope:i||h}}k=a.success;a.success=function(c){h[b]=c;if(k){k.apply(this,arguments)}};c.load(l,a);h[b]=g;return g}else {g=h[b];j=[g];i=i||a.scope||h;Ext.callback(a,i,j);Ext.callback(a.success,i,j);Ext.callback(a.failure,i,j);Ext.callback(a.callback,i,j);return g}}},read:function(c,b,a){c[this.instanceName]=b.read([a]).records[0]}},1,0,0,0,['association.belongsto'],0,[Ext.data.association,'BelongsTo',Ext.data,'BelongsToAssociation'],0);Ext.cmd.derive('Ext.util.Inflector',Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,'$1zes'],[/^(ox)$/i,'$1en'],[/([m|l])ouse$/i,'$1ice'],[/(matr|vert|ind)ix|ex$/i,'$1ices'],[/(x|ch|ss|sh)$/i,'$1es'],[/([^aeiouy]|qu)y$/i,'$1ies'],[/(hive)$/i,'$1s'],[/(?:([^f])fe|([lr])f)$/i,'$1$2ves'],[/sis$/i,'ses'],[/([ti])um$/i,'$1a'],[/(buffal|tomat|potat)o$/i,'$1oes'],[/(bu)s$/i,'$1ses'],[/(alias|status|sex)$/i,'$1es'],[/(octop|vir)us$/i,'$1i'],[/(ax|test)is$/i,'$1es'],[/^person$/,'people'],[/^man$/,'men'],[/^(child)$/,'$1ren'],[/s$/i,'s'],[/$/,'s']],singulars:[[/(quiz)zes$/i,'$1'],[/(matr)ices$/i,'$1ix'],[/(vert|ind)ices$/i,'$1ex'],[/^(ox)en/i,'$1'],[/(alias|status)es$/i,'$1'],[/(octop|vir)i$/i,'$1us'],[/(cris|ax|test)es$/i,'$1is'],[/(shoe)s$/i,'$1'],[/(o)es$/i,'$1'],[/(bus)es$/i,'$1'],[/([m|l])ice$/i,'$1ouse'],[/(x|ch|ss|sh)es$/i,'$1'],[/(m)ovies$/i,'$1ovie'],[/(s)eries$/i,'$1eries'],[/([^aeiouy]|qu)ies$/i,'$1y'],[/([lr])ves$/i,'$1f'],[/(tive)s$/i,'$1'],[/(hive)s$/i,'$1'],[/([^f])ves$/i,'$1fe'],[/(^analy)ses$/i,'$1sis'],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,'$1$2sis'],[/([ti])a$/i,'$1um'],[/(n)ews$/i,'$1ews'],[/people$/i,'person'],[/s$/i,'']],uncountable:['sheep','fish','series','species','money','rice','information','equipment','grass','mud','offspring','deer','means'],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(a){if(this.isTransnumeral(a)){return a}var e=this.plurals,f=e.length,d,b,c;for(c=0;c<f;c++){d=e[c];b=d[0];if(b==a||b.test&&b.test(a)){return a.replace(b,d[1])}}return a},singularize:function(a){if(this.isTransnumeral(a)){return a}var e=this.singulars,f=e.length,d,b,c;for(c=0;c<f;c++){d=e[c];b=d[0];if(b==a||b.test&&b.test(a)){return a.replace(b,d[1])}}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var c=parseInt(a,10),d=c%10,b=c%100;if(11<=b&&b<=13){return a+'th'}else {switch(d){case 1:return a+'st';case 2:return a+'nd';case 3:return a+'rd';default:return a+'th';}}}},0,0,0,0,0,0,[Ext.util,'Inflector'],function(){var b={alumnus:'alumni',cactus:'cacti',focus:'foci',nucleus:'nuclei',radius:'radii',stimulus:'stimuli',ellipsis:'ellipses',paralysis:'paralyses',oasis:'oases',appendix:'appendices',index:'indexes',beau:'beaux',bureau:'bureaux',tableau:'tableaux',woman:'women',child:'children',man:'men',corpus:'corpora',criterion:'criteria',curriculum:'curricula',genus:'genera',memorandum:'memoranda',phenomenon:'phenomena',foot:'feet',goose:'geese',tooth:'teeth',antenna:'antennae',formula:'formulae',nebula:'nebulae',vertebra:'vertebrae',vita:'vitae'},a;for(a in b){this.plural(a,b[a]);this.singular(b[a],a)}});Ext.cmd.derive('Ext.data.association.HasMany',Ext.data.association.Association,{alternateClassName:'Ext.data.HasManyAssociation',constructor:function(d){var a=this,c,b;Ext.data.association.Association.prototype.constructor.apply(this,arguments);a.name=a.name||Ext.util.Inflector.pluralize(a.associatedName.toLowerCase());c=a.ownerModel.prototype;b=a.name;Ext.applyIf(a,{storeName:b+'Store',foreignKey:a.ownerName.toLowerCase()+'_id'});c[b]=a.createStore()},createStore:function(){var a=this,f=a.associatedModel,b=a.storeName,d=a.foreignKey,e=a.primaryKey,c=a.filterProperty,h=a.autoLoad,g=a.storeConfig||{};return function(){var a=this,k,i,j={};if(a[b]===undefined){if(c){i={property:c,value:a.get(c),exactMatch:!0}}else {i={property:d,value:a.get(e),exactMatch:!0}}j[d]=a.get(e);k=Ext.apply({},g,{model:f,filters:[i],remoteFilter:!1,modelDefaults:j,disableMetaChangeEvent:!0});a[b]=Ext.data.AbstractStore.create(k);if(h){a[b].load()}}return a[b]}},read:function(c,h,g){var e=c[this.name](),b,d,f,a;e.add(h.read(g).records);b=this.associatedModel.prototype.associations.findBy(function(a){return a.type==='belongsTo'&&a.associatedName===c.$className});if(b){d=e.data.items;f=d.length;for(a=0;a<f;a++){d[a][b.instanceName]=c}}}},1,0,0,0,['association.hasmany'],0,[Ext.data.association,'HasMany',Ext.data,'HasManyAssociation'],0);Ext.cmd.derive('Ext.data.association.HasOne',Ext.data.association.Association,{alternateClassName:'Ext.data.HasOneAssociation',constructor:function(f){Ext.data.association.Association.prototype.constructor.apply(this,arguments);var a=this,c=a.ownerModel.prototype,b=a.associatedName,d=a.getterName||'get'+b,e=a.setterName||'set'+b;Ext.applyIf(a,{name:b,foreignKey:b.toLowerCase()+'_id',instanceName:b+'HasOneInstance',associationKey:b.toLowerCase()});c[d]=a.createGetter();c[e]=a.createSetter()},createSetter:function(){var c=this,b=c.foreignKey,a=c.instanceName;return function(d,c,g){var e=d&&d.isModel,f=e?d.getId():d;if(e){this[a]=d}else {if(this[a] instanceof Ext.data.Model&&!this.isEqual(this.get(b),f)){delete this[a]}}this.set(b,f);if(Ext.isFunction(c)){c={callback:c,scope:g||this}}if(Ext.isObject(c)){return this.save(c)}}},createGetter:function(){var a=this,g=a.ownerModel,d=a.associatedName,c=a.associatedModel,e=a.foreignKey,f=a.primaryKey,b=a.instanceName;return function(a,i){a=a||{};var h=this,l=h.get(e),k,g,j;if(a.reload===!0||h[b]===undefined){g=Ext.ModelManager.create({},d);g.set(f,l);if(typeof a=='function'){a={callback:a,scope:i||h}}k=a.success;a.success=function(c){h[b]=c;if(k){k.apply(this,arguments)}};c.load(l,a);h[b]=g;return g}else {g=h[b];j=[g];i=i||a.scope||h;Ext.callback(a,i,j);Ext.callback(a.success,i,j);Ext.callback(a.failure,i,j);Ext.callback(a.callback,i,j);return g}}},read:function(a,e,d){var c=this.associatedModel.prototype.associations.findBy(function(b){return b.type==='belongsTo'&&b.associatedName===a.$className}),b=e.read([d]).records[0];a[this.instanceName]=b;if(c){b[c.instanceName]=a}}},1,0,0,0,['association.hasone'],0,[Ext.data.association,'HasOne',Ext.data,'HasOneAssociation'],0);Ext.cmd.derive('Ext.dd.DDTarget',Ext.dd.DragDrop,{constructor:function(a,c,b){if(a){this.initTarget(a,c,b)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return 'DDTarget '+this.id}},3,0,0,0,0,0,[Ext.dd,'DDTarget'],0);Ext.cmd.derive('Ext.dd.DragTracker',Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(b){var a=this;Ext.apply(a,b);a.addEvents('mouseover','mouseout','mousedown','mouseup','mousemove','beforedragstart','dragstart','dragend','drag');a.dragRegion=new Ext.util.Region(0,0,0,0);if(a.el){a.initEl(a.el)}a.mixins.observable.constructor.call(a);if(a.disabled){a.disable()}},initEl:function(b){var a=this;a.el=Ext.get(b);a.handle=Ext.get(a.delegate);a.delegate=a.handle?undefined:a.delegate;if(!a.handle){a.handle=a.el}a.handleListeners={scope:a,delegate:a.delegate,mousedown:a.onMouseDown};if(a.trackOver||a.overCls){Ext.apply(a.handleListeners,{mouseover:a.onMouseOver,mouseout:a.onMouseOut})}a.mon(a.handle,a.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var a=this;if(a.active){a.endDrag({})}a.clearListeners();a.mun(a.handle,a.handleListeners);a.el=a.handle=null},onMouseOver:function(b,c){var a=this;if(!a.disabled){if(Ext.EventManager.contains(b)||a.delegate){a.mouseIsOut=!1;if(a.overCls){a.el.addCls(a.overCls)}a.fireEvent('mouseover',a,b,a.delegate?b.getTarget(a.delegate,c):a.handle)}}},onMouseOut:function(b){var a=this;if(a.mouseIsDown){a.mouseIsOut=!0}else {if(a.overCls){a.el.removeCls(a.overCls)}a.fireEvent('mouseout',a,b)}},onMouseDown:function(b,d){var a=this,c;if(a.disabled||b.dragTracked){return}a.dragTarget=a.delegate?d:a.handle.dom;a.startXY=a.lastXY=b.getXY();a.startRegion=Ext.fly(a.dragTarget).getRegion();if(a.fireEvent('mousedown',a,b)===!1||a.fireEvent('beforedragstart',a,b)===!1||a.onBeforeStart(b)===!1){return}a.mouseIsDown=!0;b.dragTracked=!0;c=a.el.dom;if(Ext.isIE&&c.setCapture){c.setCapture()}if(a.preventDefault!==!1){b.preventDefault()}Ext.getDoc().on({scope:a,mouseup:a.onMouseUp,mousemove:a.onMouseMove,selectstart:a.stopSelect});if(a.autoStart){a.timer=Ext.defer(a.triggerStart,a.autoStart===!0?1000:a.autoStart,a,[b])}},onMouseMove:function(b,e){var a=this,c=b.getXY(),d=a.startXY;b.preventDefault();a.lastXY=c;if(!a.active){if(Math.max(Math.abs(d[0]-c[0]),Math.abs(d[1]-c[1]))>a.tolerance){a.triggerStart(b)}else {return}}if(a.fireEvent('mousemove',a,b)===!1){a.onMouseUp(b)}else {a.onDrag(b);a.fireEvent('drag',a,b)}},onMouseUp:function(b){var a=this;a.mouseIsDown=!1;if(a.mouseIsOut){a.mouseIsOut=!1;a.onMouseOut(b)}b.preventDefault();if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}a.fireEvent('mouseup',a,b);a.endDrag(b)},endDrag:function(b){var a=this,c=a.active;Ext.getDoc().un({mousemove:a.onMouseMove,mouseup:a.onMouseUp,selectstart:a.stopSelect,scope:a});a.clearStart();a.active=!1;if(c){a.onEnd(b);a.fireEvent('dragend',a,b)}a._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(b){var a=this;a.clearStart();a.active=!0;a.onStart(b);a.fireEvent('dragstart',a,b)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return !1},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else {if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(c){var a=this.getXY(c),b=this.startXY;return [a[0]-b[0],a[1]-b[1]]},constrainModes:{point:function(d,b){var a=d.dragRegion,c=d.getConstrainRegion();if(!c){return b}a.x=a.left=a[0]=a.right=b[0];a.y=a.top=a[1]=a.bottom=b[1];a.constrainTo(c);return [a.left,a.top]},dragTarget:function(e,c){var f=e.startXY,a=e.startRegion.copy(),b=e.getConstrainRegion(),d;if(!b){return c}a.translateBy(c[0]-f[0],c[1]-f[1]);if(a.right>b.right){c[0]+=d=b.right-a.right;a.left+=d}if(a.left<b.left){c[0]+=b.left-a.left}if(a.bottom>b.bottom){c[1]+=d=b.bottom-a.bottom;a.top+=d}if(a.top<b.top){c[1]+=b.top-a.top}return c}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.dd,'DragTracker'],0);Ext.cmd.derive('Ext.dd.DragZone',Ext.dd.DragSource,{constructor:function(a,d){var c=this,b=c.containerScroll;Ext.dd.DragSource.prototype.constructor.call(this,a,d);if(b){a=c.scrollEl||a;a=Ext.get(a);if(Ext.isObject(b)){a.ddScrollConfig=b}Ext.dd.ScrollManager.register(a)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(a,b);return !0},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragSource.prototype.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}},1,0,0,0,0,0,[Ext.dd,'DragZone'],0);Ext.cmd.derive('Ext.dd.ScrollManager',Ext.Base,{singleton:!0,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(b){var a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,c=a.el,b=a.el.ddScrollConfig,d=b?b.increment:this.increment;if(!this.animate){if(c.scroll(a.dir,d)){this.triggerRefresh()}}else {c.scroll(a.dir,d,!0,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}a.id=0;a.el=null;a.dir=''},startProc:function(a,d){this.clearProc();this.proc.el=a;this.proc.dir=d;var b=a.ddScrollConfig?a.ddScrollConfig.ddGroup:undefined,c=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(b===undefined||this.ddmInstance.dragCurrent.ddGroup==b){this.proc.id=setInterval(this.doScroll,c)}},onFire:function(h,i){if(i||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var j=h.getXY(),c=h.getPoint(),e=this.proc,f=this.els,g,a,b,d;for(g in f){a=f[g];b=a._region;d=a.ddScrollConfig?a.ddScrollConfig:this;if(b&&b.contains(c)&&a.isScrollable()){if(b.bottom-c.y<=d.vthresh){if(e.el!=a){this.startProc(a,'down')}return}else {if(b.right-c.x<=d.hthresh){if(e.el!=a){this.startProc(a,'left')}return}else {if(c.y-b.top<=d.vthresh){if(e.el!=a){this.startProc(a,'up')}return}else {if(c.x-b.left<=d.hthresh){if(e.el!=a){this.startProc(a,'right')}return}}}}}}this.clearProc()},register:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.register(a[b])}}else {a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.unregister(a[b])}}else {a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=='object'){a[b]._region=a[b].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,'ScrollManager'],0);Ext.cmd.derive('Ext.dd.DropTarget',Ext.dd.DDTarget,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',isTarget:!0,isNotifyTarget:!0,notifyEnter:function(b,c,a){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(b,c,a){return this.dropAllowed},notifyOut:function(b,c,a){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(b,c,a){return !1},destroy:function(){Ext.dd.DDTarget.prototype.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}},1,0,0,0,0,0,[Ext.dd,'DropTarget'],0);Ext.cmd.derive('Ext.dd.Registry',Ext.Base,{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,c){if(typeof a=='string'){return a}var b=a.id;if(!b&&c!==!1){b='extdd-'+ ++this.autoIdSeed;a.id=b}return b},register:function(b,a){a=a||{};if(typeof b=='string'){b=document.getElementById(b)}a.ddel=b;this.elements[this.getId(b)]=a;if(a.isHandle!==!1){this.handles[a.ddel.id]=a}if(a.handles){var e=a.handles,c,d;for(c=0,d=e.length;c<d;c++){this.handles[this.getId(e[c])]=a}}},unregister:function(f){var e=this.getId(f,!1),b=this.elements[e],c,a,d;if(b){delete this.elements[e];if(b.handles){c=b.handles;for(a=0,d=c.length;a<d;a++){delete this.handles[this.getId(c[a],!1)]}}}},getHandle:function(a){if(typeof a!='string'){a=a.id}return this.handles[a]},getHandleFromEvent:function(b){var a=b.getTarget();return a?this.handles[a.id]:null},getTarget:function(a){if(typeof a!='string'){a=a.id}return this.elements[a]},getTargetFromEvent:function(b){var a=b.getTarget();return a?this.elements[a.id]||this.handles[a.id]:null}},1,0,0,0,0,0,[Ext.dd,'Registry'],0);Ext.cmd.derive('Ext.dd.DropZone',Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,b,c,a){},onNodeOver:function(d,b,c,a){return this.dropAllowed},onNodeOut:function(d,b,c,a){},onNodeDrop:function(d,b,c,a){return !1},onContainerOver:function(b,c,a){return this.dropNotAllowed},onContainerDrop:function(b,c,a){return !1},notifyEnter:function(b,c,a){return this.dropNotAllowed},notifyOver:function(c,a,b){var d=this.getTargetFromEvent(a);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,b);this.lastOverNode=null}return this.onContainerOver(c,a,b)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,b)}this.onNodeEnter(d,c,a,b);this.lastOverNode=d}return this.onNodeOver(d,c,a,b)},notifyOut:function(b,c,a){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,c,a);this.lastOverNode=null}},notifyDrop:function(d,b,c){var a=this,e=a.getTargetFromEvent(b),f=e?a.onNodeDrop(e,d,b,c):a.onContainerDrop(d,b,c);if(a.lastOverNode){a.onNodeOut(a.lastOverNode,d,b,c);a.lastOverNode=null}return f},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,'DropZone'],0);Ext.cmd.derive('Ext.dom.Layer',Ext.Element,{alternateClassName:'Ext.Layer',statics:{shims:[]},isLayer:!0,localXYNames:{get:'getLocalXY',set:'setLocalXY'},constructor:function(b,c){b=b||{};var a=this,h=Ext.DomHelper,f=b.parentEl,e=f?Ext.getDom(f):document.body,g=b.hideMode,d='x-'+(b.fixed&&!(Ext.isIE6||Ext.isIEQuirks)?'fixed-layer':'layer');a.el=a;if(c){a.dom=Ext.getDom(c)}if(!a.dom){a.dom=h.append(e,b.dh||{tag:'div',cls:d})}else {a.addCls(d);if(!a.dom.parentNode){e.appendChild(a.dom)}}if(b.preventSync){a.preventSync=!0}if(b.id){a.id=a.dom.id=b.id}else {a.id=Ext.id(a.dom)}Ext.Element.addToCache(a);if(b.cls){a.addCls(b.cls)}a.constrain=b.constrain!==!1;if(g){a.setVisibilityMode(Ext.Element[g.toUpperCase()]);if(a.visibilityMode==Ext.Element.ASCLASS){a.visibilityCls=b.visibilityCls}}else {if(b.useDisplay){a.setVisibilityMode(Ext.Element.DISPLAY)}else {a.setVisibilityMode(Ext.Element.VISIBILITY)}}if(b.shadow){a.shadowOffset=b.shadowOffset||4;a.shadow=new Ext.Shadow({offset:a.shadowOffset,mode:b.shadow,fixed:b.fixed});a.disableShadow()}else {a.shadowOffset=0}a.useShim=b.shim!==!1&&Ext.useShims;if(b.hidden===!0){a.hide()}else {a.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle('z-index'),10)},getShim:function(){var b=this,a,c;if(!b.useShim){return null}if(!b.shim){a=b.self.shims.shift();if(!a){a=b.createShim();a.enableDisplayMode('block');a.hide()}c=b.dom.parentNode;if(a.dom.parentNode!=c){c.insertBefore(a.dom,b.dom)}b.shim=a}return b.shim},hideShim:function(){var a=this;if(a.shim){a.shim.setDisplayed(!1);a.self.shims.push(a.shim);delete a.shim}},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=!0;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(b){var a=this;if(a.shadow&&a.shadowDisabled){a.shadowDisabled=!1;a.shadowOffset=a.lastShadowOffset;delete a.lastShadowOffset;if(b){a.sync(!0)}}},sync:function(m){var a=this,c=a.shadow,e,f,d,b,l,j,k,i,h,g;if(a.preventSync){return}if(!a.updating&&a.isVisible()&&(c||a.useShim)){b=a.getShim();l=a[a.localXYNames.get]();j=l[0];k=l[1];i=a.dom.offsetWidth;h=a.dom.offsetHeight;if(c&&!a.shadowDisabled){if(m&&!c.isVisible()){c.show(a)}else {c.realign(j,k,i,h)}if(b){g=b.getStyle('z-index');if(g>a.zindex){a.shim.setStyle('z-index',a.zindex-2)}b.show();if(c.isVisible()){e=c.el.getXY();f=b.dom.style;d=c.el.getSize();if(Ext.supports.CSS3BoxShadow){d.height+=6;d.width+=4;e[0]-=2;e[1]-=4}f.left=e[0]+'px';f.top=e[1]+'px';f.width=d.width+'px';f.height=d.height+'px'}else {b.setSize(i,h);b[a.localXYNames.set](j,k)}}}else {if(b){g=b.getStyle('z-index');if(g>a.zindex){a.shim.setStyle('z-index',a.zindex-2)}b.show();b.setSize(i,h);b[a.localXYNames.set](j,k)}}}return a},remove:function(){this.hideUnders();Ext.dom.Element.prototype.remove.call(this)},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1;this.sync(!0)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var g=Ext.Element.getViewWidth(),f=Ext.Element.getViewHeight(),a=Ext.getDoc().getScroll(),h=this.getXY(),c=h[0],d=h[1],e=this.shadowOffset,j=this.dom.offsetWidth+e,i=this.dom.offsetHeight+e,b=!1;if(c+j>g+a.left){c=g-j-e;b=!0}if(d+i>f+a.top){d=f-i-e;b=!0}if(c<a.left){c=a.left;b=!0}if(d<a.top){d=a.top;b=!0}if(b){Ext.Layer.superclass.setXY.call(this,[c,d]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(b,d,f,a,g){var c=this,e;e=function(){if(b){c.sync(!0)}if(a){a()}};if(!b){c.hideUnders(!0)}Ext.dom.Element.prototype.setVisible.call(this,b,d,f,a,g);if(!d){e()}return c},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(f,c,d,a,e){var b=this;a=b.createCB(a);b.fixDisplay();b.beforeAction();(arguments.callee.$previous||Ext.dom.Element.prototype.setXY).call(this,f,c,d,a,e);if(!c){a()}return b},createCB:function(b){var a=this,c=a.shadow&&a.shadow.isVisible();return function(){a.constrainXY();a.sync(c);if(b){b()}}},setX:function(e,c,b,a,d){this.setXY([e,this.getY()],c,b,a,d);return this},setY:function(e,c,b,a,d){this.setXY([this.getX(),e],c,b,a,d);return this},setSize:function(g,f,c,d,a,e){var b=this;a=b.createCB(a);b.beforeAction();b.callParent([g,f,c,d,a,e]);if(!c){a()}return b},setWidth:function(f,c,d,a,e){var b=this;a=b.createCB(a);b.beforeAction();b.callParent([f,c,d,a,e]);if(!c){a()}return b},setHeight:function(f,c,d,a,e){var b=this;a=b.createCB(a);b.beforeAction();b.callParent([f,c,d,a,e]);if(!c){a()}return b},setBounds:function(f,g,e,d,c,h,b,i){var a=this;b=a.createCB(b);a.beforeAction();if(!c){Ext.Layer.superclass.setXY.call(a,[f,g]);Ext.Layer.superclass.setSize.call(a,e,d);b()}else {a.callParent([f,g,e,d,c,h,b,i])}return a},setZIndex:function(b){var a=this;a.zindex=b;if(a.getShim()){a.shim.setStyle('z-index',b++)}if(a.shadow){a.shadow.setZIndex(b++)}return a.setStyle('z-index',b)},onOpacitySet:function(b){var a=this.shadow;if(a){a.setOpacity(b)}}},1,0,0,0,0,0,[Ext.dom,'Layer',Ext,'Layer'],0);Ext.cmd.derive('Ext.form.action.Action',Ext.Base,{alternateClassName:'Ext.form.Action',submitEmptyText:!0,constructor:function(a){if(a){Ext.apply(this,a)}var b=a.params;if(Ext.isString(b)){this.params=Ext.Object.fromQueryString(b)}},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,!1)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return !0}return this.result=this.handleResponse(a)},getUrl:function(){return this.url||this.form.url},getMethod:function(){return (this.method||this.form.method||'POST').toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this,c,b=a.form;return {success:a.onSuccess,failure:a.onFailure,scope:a,timeout:this.timeout*1000||b.timeout*1000,upload:b.fileUpload?a.onSuccess:c}},statics:{CLIENT_INVALID:'client',SERVER_INVALID:'server',CONNECT_FAILURE:'connect',LOAD_FAILURE:'load'}},1,0,0,0,0,0,[Ext.form.action,'Action',Ext.form,'Action'],0);Ext.cmd.derive('Ext.form.action.Load',Ext.form.action.Action,{alternateClassName:'Ext.form.Action.Load',type:'load',run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(c){var a=this.processResponse(c),b=this.form;if(a===!0||!a.success||!a.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;b.afterAction(this,!1);return}b.clearInvalid();b.setValues(a.data);b.afterAction(this,!0)},handleResponse:function(b){var c=this.form.reader,a,d;if(c){a=c.read(b);d=a.records&&a.records[0]?a.records[0].data:null;return {success:a.success,data:d}}return Ext.decode(b.responseText)}},0,0,0,0,['formaction.load'],0,[Ext.form.action,'Load',Ext.form.Action,'Load'],0);Ext.cmd.derive('Ext.form.action.Submit',Ext.form.action.Action,{alternateClassName:'Ext.form.Action.Submit',type:'submit',run:function(){var a=this,b=a.form;if(a.clientValidation===!1||b.isValid()){a.doSubmit()}else {a.failureType=Ext.form.action.Action.CLIENT_INVALID;b.afterAction(a,!1)}},doSubmit:function(){var a=this,b=Ext.apply(a.createCallback(),{url:a.getUrl(),method:a.getMethod(),headers:a.headers}),e=a.form,d=a.jsonSubmit||e.jsonSubmit,f=d?'jsonData':'params',g,c;if(e.hasUpload()){c=a.buildForm();b.form=c.formEl;b.isUpload=!0}else {b[f]=a.getParams(d)}Ext.Ajax.request(b);if(c){a.cleanup(c)}},cleanup:function(b){var e=b.formEl,f=b.uploadEls,d=b.uploadFields,g=d.length,a,c;for(a=0;a<g;++a){c=d[a];if(!c.clearOnSubmit){c.restoreInput(f[a])}}if(e){Ext.removeNode(e)}},getParams:function(b){var a=!1,c=Ext.form.action.Action.prototype.getParams.call(this),d=this.form.getValues(a,a,this.submitEmptyText!==a,b);return Ext.apply({},d,c)},buildForm:function(){var b=this,i=[],f,j,q=b.form,k=b.getParams(),c=[],n=[],o=q.getFields().items,a,l=o.length,g,e,d,h,p,m;for(a=0;a<l;++a){g=o[a];if(g.rendered&&g.isFileUpload()){c.push(g)}}for(e in k){if(k.hasOwnProperty(e)){d=k[e];if(Ext.isArray(d)){p=d.length;for(h=0;h<p;h++){i.push(b.getFieldConfig(e,d[h]))}}else {i.push(b.getFieldConfig(e,d))}}}f={tag:'form',action:b.getUrl(),method:b.getMethod(),target:b.target||'_self',style:'display:none',cn:i};if(c.length){f.encoding=f.enctype='multipart/form-data'}j=Ext.DomHelper.append(Ext.getBody(),f);l=c.length;for(a=0;a<l;++a){m=c[a].extractFileInput();j.appendChild(m);n.push(m)}return {formEl:j,uploadFields:c,uploadEls:n}},getFieldConfig:function(b,a){return {tag:'input',type:'hidden',name:b,value:Ext.String.htmlEncode(a)}},onSuccess:function(d){var c=this.form,b=!0,a=this.processResponse(d);if(a!==!0&&!a.success){if(a.errors){c.markInvalid(a.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;b=!1}c.afterAction(this,b)},handleResponse:function(g){var i=this.form,f=i.errorReader,e,a,b,h,c,d;if(f){e=f.read(g);c=e.records;a=[];if(c){for(b=0,h=c.length;b<h;b++){a[b]=c[b].data}}if(a.length<1){a=null}d={success:e.success,errors:a}}else {try{d=Ext.decode(g.responseText)}catch(j){d={success:!1,errors:[]}}}return d}},0,0,0,0,['formaction.submit'],0,[Ext.form.action,'Submit',Ext.form.Action,'Submit'],0);Ext.cmd.derive('Ext.util.ComponentDragger',Ext.dd.DragTracker,{autoStart:500,constructor:function(b,a){this.comp=b;this.initialConstrainTo=a.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,a)},onStart:function(c){var a=this,b=a.comp;a.startPosition=b.getXY();if(b.ghost&&!b.liveDrag){a.proxy=b.ghost();a.dragTarget=a.proxy.header.el}if(a.constrain||a.constrainDelegate){a.constrainTo=a.calculateConstrainRegion()}if(b.beginDrag){b.beginDrag()}},calculateConstrainRegion:function(){var c=this,i=c.comp,a=c.initialConstrainTo,b=i.constraintInsets,h,d,f,g=c.proxy?c.proxy.el:i.el,e=!c.constrainDelegate&&g.shadow&&i.constrainShadow&&!g.shadowDisabled?g.shadow.getShadowSize():0;if(!(a instanceof Ext.util.Region)){h=Ext.fly(a);a=h.getViewRegion();a.right=a.left+h.dom.clientWidth}else {a=a.copy()}if(b){b=Ext.isObject(b)?b:Ext.Element.parseBox(b);a.adjust(b.top,b.right,b.bottom,b.length)}if(e){a.adjust(e[0],-e[1],-e[2],e[3])}if(!c.constrainDelegate){d=Ext.fly(c.dragTarget).getRegion();f=g.getRegion();a.adjust(d.top-f.top,d.right-f.right,d.bottom-f.bottom,d.left-f.left)}return a},onDrag:function(d){var a=this,c=a.proxy&&!a.comp.liveDrag?a.proxy:a.comp,b=a.getOffset(a.constrain||a.constrainDelegate?'dragTarget':null);c.setPagePosition(a.startPosition[0]+b[0],a.startPosition[1]+b[1])},onEnd:function(b){var a=this.comp;if(a.isDestroyed||a.destroying){return}if(this.proxy&&!a.liveDrag){a.unghost()}if(a.endDrag){a.endDrag()}}},1,0,0,0,0,0,[Ext.util,'ComponentDragger'],0);Ext.cmd.derive('Ext.window.Window',Ext.panel.Panel,{alternateClassName:'Ext.Window',baseCls:'x-window',resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:'offsets',floating:!0,itemCls:'x-window-item',initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,initComponent:function(){var a=this;a.frame=!1;Ext.panel.Panel.prototype.initComponent.call(this);a.addEvents('resize','maximize','minimize','restore');if(a.plain){a.addClsWithUI('plain')}if(a.modal){a.ariaRole='dialog'}a.addStateEvents(['maximize','restore','resize','dragend'])},getElConfig:function(){var b=this,a;a=Ext.panel.Panel.prototype.getElConfig.call(this);a.tabIndex=-1;return a},getState:function(){var a=this,e=Ext.panel.Panel.prototype.getState.call(this)||{},c=!!a.maximized,d=a.ghostBox,b;e.maximized=c;if(c){b=a.restorePos}else {if(d){b=[d.x,d.y]}else {b=a.getPosition()}}Ext.apply(e,{size:c?a.restoreSize:a.getSize(),pos:b});return e},applyState:function(a){var b=this;if(a){b.maximized=a.maximized;if(b.maximized){b.hasSavedRestore=!0;b.restoreSize=a.size;b.restorePos=a.pos}else {Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})}}},onRender:function(c,b){var a=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments);a.focusEl=a.el;if(a.maximizable){a.header.on({scope:a,dblclick:a.toggleMaximize})}},afterRender:function(){var a=this,c=a.header,b;Ext.panel.Panel.prototype.afterRender.call(this);if(a.maximized){a.maximized=!1;a.maximize();if(c){c.removeCls(c.indicateDragCls)}}if(a.closable){b=a.getKeyMap();b.on(27,a.onEsc,a)}else {b=a.keyMap}if(b&&a.hidden){b.disable()}},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){Ext.panel.Panel.prototype.initResizable.apply(this,arguments);if(this.maximized){this.resizer.disable()}},onEsc:function(b,a){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){a.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete this.animateTarget;a.hide();Ext.destroy(a.keyMap)}Ext.panel.Panel.prototype.beforeDestroy.call(this)},addTools:function(){var a=this;Ext.panel.Panel.prototype.addTools.call(this);if(a.minimizable){a.addTool({type:'minimize',handler:Ext.Function.bind(a.minimize,a,[])})}if(a.maximizable){a.addTool({type:'maximize',handler:Ext.Function.bind(a.maximize,a,[])});a.addTool({type:'restore',handler:Ext.Function.bind(a.restore,a,[]),hidden:!0})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var b=this,c,a=b.defaultButton||b.defaultFocus,d;if(a!==undefined){if(Ext.isNumber(a)){c=b.query('button')[a]}else {if(Ext.isString(a)){d=a;if(d.match(b.initialAlphaNum)){c=b.down('#'+d)}if(!c){c=b.down(d)}}else {if(a.focus){c=a}}}}return c||b.el},onFocus:function(){var b=this,a;if(Ext.FocusManager&&Ext.FocusManager.enabled||(a=b.getDefaultFocus())===b){Ext.panel.Panel.prototype.onFocus.apply(this,arguments)}else {a.focus()}},onShow:function(){var a=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);if(a.expandOnShow){a.expand(!1)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent('close',a);if(a.closeAction=='destroy'){this.destroy()}}else {a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}Ext.panel.Panel.prototype.afterHide.apply(this,arguments)},onWindowResize:function(){var a=this,b;if(a.maximized){a.fitContainer()}else {b=a.getSizeModel();if(b.width.natural||b.height.natural){a.updateLayout()}a.doConstrain()}},minimize:function(){this.fireEvent('minimize',this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,b=a.header,c=a.tools;if(b&&a.maximizable){b.suspendLayouts();c.maximize.hide();c.restore.hide();this.resumeHeaderLayout(!0)}if(a.resizer){a.resizer.disable()}Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var a=this,c=a.header,d=a.tools,b;if(c){c.suspendLayouts();if(a.maximized){d.restore.show();b=!0}else {if(a.maximizable){d.maximize.show();b=!0}}this.resumeHeaderLayout(b)}if(a.resizer){a.resizer.enable()}Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(e){var a=this,b=a.header,d=a.tools,c;if(!a.maximized){a.expand(!1);if(!a.hasSavedRestore){a.restoreSize=a.getSize();a.restorePos=a.getPosition(!0)}if(b){b.suspendLayouts();if(d.maximize){d.maximize.hide();c=!0}if(d.restore){d.restore.show();c=!0}if(a.collapseTool){a.collapseTool.hide();c=!0}a.resumeHeaderLayout(c)}a.maximized=!0;a.el.disableShadow();if(a.dd){a.dd.disable();if(b){b.removeCls(b.indicateDragCls)}}if(a.resizer){a.resizer.disable()}a.el.addCls('x-window-maximized');a.container.addCls('x-window-maximized-ct');a.syncMonitorWindowResize();a.fitContainer(e=e||!!a.animateTarget?{callback:function(){a.fireEvent('maximize',a)}}:null);if(!e){a.fireEvent('maximize',a)}}return a},restore:function(e){var a=this,d=a.tools,b=a.header,f=a.restoreSize,c;if(a.maximized){a.hasSavedRestore=null;a.removeCls('x-window-maximized');if(b){b.suspendLayouts();if(d.restore){d.restore.hide();c=!0}if(d.maximize){d.maximize.show();c=!0}if(a.collapseTool){a.collapseTool.show();c=!0}a.resumeHeaderLayout(c)}a.maximized=!1;f.x=a.restorePos[0];f.y=a.restorePos[1];a.setBox(f,e=e||!!a.animateTarget?{callback:function(){a.el.enableShadow(!0);a.fireEvent('restore',a)}}:null);a.restorePos=a.restoreSize=null;if(a.dd){a.dd.enable();if(b){b.addCls(b.indicateDragCls)}}if(a.resizer){a.resizer.enable()}a.container.removeCls('x-window-maximized-ct');a.syncMonitorWindowResize();if(!e){a.el.enableShadow(!0);a.fireEvent('restore',a)}}return a},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,d=a.monitorResize||a.constrain||a.constrainHeader||a.maximized,c=a.hidden||a.destroying||a.isDestroyed;if(d&&!c){if(!b){Ext.EventManager.onWindowResize(a.onWindowResize,a,{delay:1});a._monitoringResize=!0}}else {if(b){Ext.EventManager.removeResizeListener(a.onWindowResize,a);a._monitoringResize=!1}}},toggleMaximize:function(){return this[this.maximized?'restore':'maximize']()}},0,['window'],['component','box','container','panel','window'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0},['widget.window'],0,[Ext.window,'Window',Ext,'Window'],0);Ext.cmd.derive('Ext.form.Labelable',Ext.Base,{autoEl:{tag:'table',cellpadding:0},childEls:['labelCell','labelEl','bodyEl','sideErrorCell','errorEl','inputRow'],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>','{beforeLabelTpl}','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"','>','{beforeLabelTextTpl}','<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>','{afterLabelTextTpl}','</label>','{afterLabelTpl}','</td>','</tpl>','<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">','{beforeBodyEl}','<tpl if="labelAlign==\'top\'">','{beforeLabelTpl}','<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"','>','{beforeLabelTextTpl}','<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>','{afterLabelTextTpl}','</label>','</div>','{afterLabelTpl}','</tpl>','{beforeSubTpl}','{[values.$comp.getSubTplMarkup(values)]}','{afterSubTpl}','<tpl if="msgTarget===\'side\'">','{afterBodyEl}','</td>','<td role="presentation" id="{id}-sideErrorCell" vAlign="{[values.labelAlign===\'top\' && !values.hideLabel ? \'bottom\' : \'middle\']}" style="{[values.autoFitErrors ? \'display:none\' : \'\']}" width="{errorIconWidth}">','<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>','</td>','<tpl elseif="msgTarget==\'under\'">','<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>','{afterBodyEl}','</td>','</tpl>','</tr>',{disableFormats:!0}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>','</tpl>'],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>','</tpl>'],isFieldLabelable:!0,formItemCls:'x-form-item',labelCls:'x-form-item-label',errorMsgCls:'x-form-error-msg',baseBodyCls:'x-form-item-body',inputRowCls:'x-form-item-input-row',fieldBodyCls:'',clearCls:'x-clear',invalidCls:'x-form-invalid',fieldLabel:undefined,labelAlign:'left',labelWidth:100,labelPad:5,labelSeparator:':',hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:'qtip',noWrap:!0,labelableInsertions:['beforeBodyEl','afterBodyEl','beforeLabelTpl','afterLabelTpl','beforeSubTpl','afterSubTpl','beforeLabelTextTpl','afterLabelTextTpl','labelAttrTpl'],labelableRenderProps:['allowBlank','id','labelAlign','fieldBodyCls','extraFieldBodyCls','baseBodyCls','clearCls','labelSeparator','msgTarget','inputRowCls'],initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}if(!a.activeErrorsTpl){if(a.msgTarget=='title'){a.activeErrorsTpl=a.plaintextActiveErrorsTpl}else {a.activeErrorsTpl=a.htmlActiveErrorsTpl}}a.addCls(Ext.plainTableCls);a.addCls(a.formItemCls);a.lastActiveError='';a.addEvents('errorchange');a.enableBubble('errorchange')},trimLabelSeparator:function(){var b=this,c=b.labelSeparator,a=b.fieldLabel||'',d=a.substr(a.length-1);return d===c?a.slice(0,-1):a},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(b){b=b||'';var a=this,d=a.labelSeparator,c=a.labelEl;a.fieldLabel=b;if(a.rendered){if(Ext.isEmpty(b)&&a.hideEmptyLabel){c.parent().setDisplayed('none')}else {if(d){b=a.trimLabelSeparator()+d}c.update(b);c.parent().setDisplayed('')}a.updateLayout()}},getInsertionRenderData:function(c,d){var e=d.length,b,a;while(e--){b=d[e];a=this[b];if(a){if(typeof a!='string'){if(!a.isTemplate){a=Ext.XTemplate.getTpl(this,b)}a=a.apply(c)}}c[b]=a||''}return c},getLabelableRenderData:function(){var a=this,c,b,d=a.labelAlign==='top';if(!Ext.form.Labelable.errorIconWidth){b=Ext.getBody().createChild({style:'position:absolute',cls:'x-form-invalid-icon'});Ext.form.Labelable.errorIconWidth=b.getWidth()+b.getMargin('l');b.remove()}c=Ext.copyTo({inFormLayout:a.ownerLayout&&a.ownerLayout.type==='form',inputId:a.getInputId(),labelOnLeft:!d,hideLabel:!a.hasVisibleLabel(),fieldLabel:a.getFieldLabel(),labelCellStyle:a.getLabelCellStyle(),labelCellAttrs:a.getLabelCellAttrs(),labelCls:a.getLabelCls(),labelStyle:a.getLabelStyle(),bodyColspan:a.getBodyColspan(),externalError:!a.autoFitErrors,errorMsgCls:a.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},a,a.labelableRenderProps,!0);a.getInsertionRenderData(c,a.labelableInsertions);return c},xhooks:{beforeRender:function(){var a=this;a.setFieldDefaults(a.getHierarchyState().fieldDefaults);if(a.ownerLayout){a.addCls('x-'+a.ownerLayout.type+'-form-item')}},onRender:function(){var c=this,b,a,d={};if(c.extraMargins){b=c.el.getMargin();for(a in b){if(b.hasOwnProperty(a)){d['margin-'+a]=b[a]+c.extraMargins[a]+'px'}}c.el.setStyle(d)}}},hasVisibleLabel:function(){if(this.hideLabel){return !1}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var a=this;if(!a.hasVisibleLabel()){return 0}return a.labelWidth+a.labelPad},getBodyColspan:function(){var a=this,b;if(a.msgTarget==='side'&&(!a.autoFitErrors||a.hasActiveError())){b=1}else {b=2}if(a.labelAlign!=='top'&&!a.hasVisibleLabel()){b++}return b},getLabelCls:function(){var b=this.labelCls+' '+Ext.dom.Element.unselectableCls,a=this.labelClsExtra;return a?b+' '+a:b},getLabelCellStyle:function(){var a=this,b=a.hideLabel||!a.getFieldLabel()&&a.hideEmptyLabel;return b?'display:none;':''},getErrorMsgCls:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return a.errorMsgCls+(!b&&a.labelAlign==='top'?' x-lbl-top-err-icon':'')},getLabelCellAttrs:function(){var a=this,b=a.labelAlign,c='';if(b!=='top'){c='valign="top" halign="'+b+'" width="'+(a.labelWidth+a.labelPad)+'"'}return c+' class="x-field-label-cell"'},getLabelStyle:function(){var a=this,c=a.labelPad,b='';if(a.labelAlign!=='top'){if(a.labelWidth){b='width:'+a.labelWidth+'px;'}if(c){b+='margin-right:'+c+'px;'}}return b+(a.labelStyle||'')},getSubTplMarkup:function(){return ''},getInputId:function(){return ''},getActiveError:function(){return this.activeError||''},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl('activeErrorsTpl').apply({errors:a,listCls:Ext.plainListCls});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;if(b!==a.lastActiveError){a.fireEvent('errorchange',a,b);a.lastActiveError=b}if(a.rendered&&!a.isDestroyed&&!a.preventMark){a.el[c?'addCls':'removeCls'](a.invalidCls);a.getActionEl().dom.setAttribute('aria-invalid',c);if(a.errorEl){a.errorEl.dom.innerHTML=b}}},setFieldDefaults:function(b){var a;for(a in b){if(!this.hasOwnProperty(a)){this[a]=b[a]}}}},0,0,0,0,0,0,[Ext.form,'Labelable'],0);Ext.cmd.derive('Ext.form.field.Field',Ext.Base,{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents('change','validitychange','dirtychange');this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value);a.originalValue=a.lastValue=a.value;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;a.value=b;a.checkChange();return a},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.value(a,''))===String(Ext.value(b,''))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){b={};b[a.getName()]=''+a.getValue()}return b},getModelData:function(){var a=this,b=null;if(!a.disabled&&!a.isFileUpload()){b={};b[a.getName()]=a.getValue()}return b},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;if(!a.isEqual(b,c)&&!a.isDestroyed){a.lastValue=b;a.fireEvent('change',a,b,c);a.onChange(b,c)}}},onChange:function(a,b){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var a=this;return !a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.fireEvent('dirtychange',a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(a){return []},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent('validitychange',a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return !1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,0,0,0,0,0,[Ext.form.field,'Field'],0);Ext.cmd.derive('Ext.layout.component.field.Field',Ext.layout.component.Auto,{type:'field',naturalSizingProp:'size',beginLayout:function(a){var b=this,c=b.owner;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.labelStrategy=b.getLabelStrategy();a.errorStrategy=b.getErrorStrategy();a.labelContext=a.getEl('labelEl');a.bodyCellContext=a.getEl('bodyEl');a.inputContext=a.getEl('inputEl');a.errorContext=a.getEl('errorEl');if(Ext.isIE7m&&Ext.isStrict&&a.inputContext){b.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+a.inputContext.getBorderInfo().width}a.labelStrategy.prepare(a,c);a.errorStrategy.prepare(a,c)},beginLayoutCycle:function(a){var b=this,e=b.owner,d=a.widthModel,c=e[b.naturalSizingProp],f;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(d.shrinkWrap){b.beginLayoutShrinkWrap(a)}else {if(d.natural){if(typeof c=='number'&&!e.inputWidth){b.beginLayoutFixed(a,f=c*6.5+20,'px')}else {b.beginLayoutShrinkWrap(a)}a.setWidth(f,!1)}else {b.beginLayoutFixed(a,'100','%')}}},beginLayoutFixed:function(c,f,e){var a=c.target,b=a.inputEl,d=a.inputWidth;a.el.setStyle('table-layout','fixed');a.bodyEl.setStyle('width',f+e);if(b){if(d){b.setStyle('width',d+'px')}else {b.setStyle('width',a.stretchInputElFixed?'100%':'')}}c.isFixed=!0},beginLayoutShrinkWrap:function(d){var b=d.target,a=b.inputEl,c=b.inputWidth;if(a&&a.dom){a.dom.removeAttribute('size');if(c){a.setStyle('width',c+'px')}else {a.setStyle('width','')}}b.el.setStyle('table-layout','auto');b.bodyEl.setStyle('width','')},finishedLayout:function(a){var b=this.owner;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);a.labelStrategy.finishedLayout(a,b);a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(b,a){return a},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var b=this,a=b.labelStrategies,c=b.owner.labelAlign;return a[c]||a.base},getErrorStrategy:function(){var d=this,c=d.owner,a=d.errorStrategies,b=c.msgTarget;return !c.preventMark&&Ext.isString(b)?a[b]||a.elementId:a.none},labelStrategies:function(){var a={prepare:function(d,a){var c=a.labelCls+'-'+a.labelAlign,b=a.labelEl;if(b){b.addCls(c)}},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return {base:a,top:Ext.applyIf({getHeight:function(d){var b=d.labelContext,c=b.props,a=c.height;if(a===undefined){c.height=a=b.el.getHeight()}return a}},a),left:a,right:a}}(),errorStrategies:function(){function showTip(c){var a=Ext.layout.component.field.Field.tip,b;if(a&&a.isVisible()){b=a.activeTarget;if(b&&b.el===c.getActionEl().dom){a.toFront(!0)}}}var b=Ext.applyIf,d=Ext.emptyFn,e='x-form-invalid-icon',c,a={prepare:function(c,b){var a=b.errorEl;if(a){a.setDisplayed(!1)}},getHeight:function(){return 0},onFocus:d,finishedLayout:d};return {none:a,side:b({prepare:function(h,a){var b=a.errorEl,f=a.sideErrorCell,d=a.hasActiveError(),g;if(!c){c=(g=Ext.getBody().createChild({style:'position:absolute',cls:e})).getWidth();g.remove()}b.addCls(e);b.set({'data-errorqtip':a.getActiveError()||''});if(a.autoFitErrors){b.setDisplayed(d)}else {b.setVisible(d)}if(f&&a.autoFitErrors){f.setDisplayed(d)}a.bodyEl.dom.colSpan=a.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:showTip},a),under:b({prepare:function(d,b){var a=b.errorEl,c='x-form-invalid-under';a.addCls(c);a.setDisplayed(b.hasActiveError())},getHeight:function(d){var a=0,b,c;if(d.target.hasActiveError()){b=d.errorContext;c=b.props;a=c.height;if(a===undefined){c.height=a=b.el.getHeight()}}return a}},a),qtip:b({prepare:function(b,a){Ext.layout.component.field.Field.initTip();a.getActionEl().dom.setAttribute('data-errorqtip',a.getActiveError()||'')},onFocus:showTip},a),title:b({prepare:function(b,a){a.getActionEl().dom.setAttribute('title',a.getActiveError()||'')}},a),elementId:b({prepare:function(c,b){var a=Ext.fly(b.msgTarget);if(a){a.dom.innerHTML=b.getActiveError()||'';a.setDisplayed(b.hasActiveError())}}},a)}}(),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create('Ext.tip.QuickTip',{ui:'form-invalid'});a.tagConfig=Ext.apply({},{attribute:'errorqtip'},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}},0,0,0,0,['layout.field'],0,[Ext.layout.component.field,'Field'],0);Ext.cmd.derive('Ext.form.field.Base',Ext.Component,{alternateClassName:['Ext.form.Field','Ext.form.BaseField'],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:['inputAttrTpl'],inputType:'text',invalidText:'The value in this field is invalid',fieldCls:'x-form-field',focusCls:'form-focus',dirtyCls:'x-form-dirty',checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?['change','propertychange','keyup']:['change','input','textInput','keyup','dragdrop'],checkChangeBuffer:50,componentLayout:'field',readOnly:!1,readOnlyCls:'x-form-readonly',validateOnBlur:!0,hasFocus:!1,baseCls:'x-field',maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){var a=this;Ext.Component.prototype.initComponent.call(this);a.subTplData=a.subTplData||{};a.addEvents('specialkey','writeablechange');a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}if(a.readOnly){a.addCls(a.readOnlyCls)}a.addCls('x-form-type-'+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+'-inputEl')},getSubTplData:function(){var a=this,c=a.inputType,d=a.getInputId(),b;b=Ext.apply({id:d,cmpId:a.id,name:a.name||d,disabled:a.disabled,readOnly:a.readOnly,value:a.getRawValue(),type:c,fieldCls:a.fieldCls,fieldStyle:a.getFieldStyle(),tabIdx:a.tabIndex,inputCls:a.inputCls,typeCls:'x-form-'+(c==='password'?'text':c)},a.subTplData);a.getInsertionRenderData(b,a.subTplInsertions);return b},applyRenderSelectors:function(){var a=this;Ext.Component.prototype.applyRenderSelectors.call(this);a.addChildEls('inputEl');a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl('fieldSubTpl').apply(this.getSubTplData())},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty('renderTpl')){a.renderTpl=a.getTpl('labelableRenderTpl')}return Ext.Component.prototype.initRenderTpl.call(this)},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(b){var c=this,a=c.inputEl;if(a){a.applyStyles(b)}c.fieldStyle=b},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||''},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==='file'},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,'');a.rawValue=b;return b},setRawValue:function(a){var b=this;a=Ext.value(b.transformRawValue(a),'');b.rawValue=a;if(b.inputEl){b.inputEl.dom.value=a}return a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return ''+Ext.value(a,'')},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(b){var a=this;a.setRawValue(a.valueToRaw(b));return a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;Ext.Component.prototype.onBoxReady.call(this);if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var a=this,b=a.inputEl;Ext.Component.prototype.onDisable.call(this);if(b){b.dom.disabled=!0;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=!0}}},onEnable:function(){var a=this,b=a.inputEl;Ext.Component.prototype.onEnable.call(this);if(b){b.dom.disabled=!1;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=!0;a.isValid();delete a.forceValidation}}},setReadOnly:function(b){var a=this,c=a.inputEl;b=!!b;a[b?'addCls':'removeCls'](a.readOnlyCls);a.readOnly=b;if(c){c.dom.readOnly=b}else {if(a.rendering){a.setReadOnlyOnBoxReady=!0}}a.fireEvent('writeablechange',a,b)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent('specialkey',this,new Ext.EventObjectImpl(a))}},initEvents:function(){var a=this,c=a.inputEl,f,e,g=a.checkChangeEvents,b,h=g.length,d;if(c){a.mon(c,Ext.EventManager.getKeyEvent(),a.fireKey,a);f=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=e=function(){f.delay(a.checkChangeBuffer)};for(b=0;b<h;b++){d=g[b];if(d==='propertychange'){a.usesPropertychange=!0}a.mon(c,d,e)}}Ext.Component.prototype.initEvents.call(this)},doComponentLayout:function(){var a=this,d=a.inputEl,b=a.usesPropertychange,e='propertychange',c=a.onChangeEvent;if(b){a.mun(d,e,c)}Ext.Component.prototype.doComponentLayout.apply(this,arguments);if(b){a.mon(d,e,c)}},onDirtyChange:function(a){this[a?'addCls':'removeCls'](this.dirtyCls)},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(d){var a=this,c=a.getErrors(d),b=Ext.isEmpty(c);if(!a.preventMark){if(b){a.clearInvalid()}else {a.markInvalid(c)}}return b},markInvalid:function(c){var a=this,d=a.getActiveError(),b;a.setActiveErrors(Ext.Array.from(c));b=a.getActiveError();if(d!==b){a.setError(b)}},clearInvalid:function(){var a=this,b=a.hasActiveError();delete a.needsValidateOnEnable;a.unsetActiveError();if(b){a.setError('')}},setError:function(d){var a=this,b=a.msgTarget,c;if(a.rendered){if(b=='title'||b=='qtip'){if(a.rendered){c=b=='qtip'?'data-errorqtip':'title'}a.getActionEl().dom.setAttribute(c,d||'')}else {a.updateLayout()}}},renderActiveError:function(){var a=this,b=a.hasActiveError();if(a.inputEl){a.inputEl[b?'addCls':'removeCls'](a.invalidCls+'-field')}a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el}},0,['field'],['component','box','field'],{'component':!0,'box':!0,'field':!0},['widget.field'],[['labelable',Ext.form.Labelable],['field',Ext.form.field.Field]],[Ext.form.field,'Base',Ext.form,'Field',Ext.form,'BaseField'],0);Ext.cmd.derive('Ext.form.field.VTypes',Ext.Base,function(){var b=/^[a-zA-Z_]+$/,a=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return {singleton:!0,alternateClassName:'Ext.form.VTypes','email':function(a){return c.test(a)},'emailText':'This field should be an e-mail address in the format "user@example.com"','emailMask':/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,'url':function(a){return d.test(a)},'urlText':'This field should be a URL in the format "http://www.example.com"','alpha':function(a){return b.test(a)},'alphaText':'This field should only contain letters and _','alphaMask':/[a-z_]/i,'alphanum':function(b){return a.test(b)},'alphanumText':'This field should only contain letters, numbers and _','alphanumMask':/[a-z0-9_]/i}}(),0,0,0,0,0,0,[Ext.form.field,'VTypes',Ext.form,'VTypes'],0);Ext.cmd.derive('Ext.layout.component.field.Text',Ext.layout.component.field.Field,{type:'textfield',canGrowWidth:!0,beginLayoutCycle:function(a){Ext.layout.component.field.Field.prototype.beginLayoutCycle.apply(this,arguments);if(a.heightModel.shrinkWrap){a.inputContext.el.setStyle('height','')}},measureContentWidth:function(e){var i=this,a=i.owner,h=Ext.layout.component.field.Field.prototype.measureContentWidth.apply(this,arguments),d=e.inputContext,f,g,c,b,j;if(a.grow&&i.canGrowWidth&&!e.state.growHandled){f=a.inputEl;g=Ext.util.Format.htmlEncode(f.dom.value||(a.hasFocus?'':a.emptyText)||'');g+=a.growAppend;c=f.getTextWidth(g)+d.getFrameInfo().width;b=a.growMax;j=Math.min(b,h);b=Math.max(a.growMin,b,j);c=Ext.Number.constrain(c,a.growMin,b);d.setWidth(c);e.state.growHandled=!0;d.domBlock(i,'width');h=NaN}return h},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(c,e,d){var b=this,a=b.ieInputWidthAdjustment;if(a){b.adjustIEInputPadding(c);if(d==='px'){e-=a}}Ext.layout.component.field.Field.prototype.beginLayoutFixed.apply(this,arguments)},adjustIEInputPadding:function(a){this.owner.bodyEl.setStyle('padding-right',this.ieInputWidthAdjustment+'px')}},0,0,0,0,['layout.textfield'],0,[Ext.layout.component.field,'Text'],0);Ext.cmd.derive('Ext.form.field.Text',Ext.form.field.Base,{alternateClassName:['Ext.form.TextField','Ext.form.Text'],size:20,growMin:30,growMax:800,growAppend:'W',allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:'The minimum length for this field is {0}',maxLengthText:'The maximum length for this field is {0}',blankText:'This field is required',regexText:'',emptyCls:'x-form-empty-field',requiredCls:'x-form-required-field',componentLayout:'textfield',valueContainsPlaceholder:!1,initComponent:function(){var a=this;if(a.allowOnlyWhitespace===!1){a.allowBlank=!1}Ext.form.field.Base.prototype.initComponent.call(this);a.addEvents('autosize','keydown','keyup','keypress');a.addStateEvents('change');a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var a=this,b=a.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);if(a.selectOnFocus||a.emptyText){a.mon(b,'mousedown',a.onMouseDown,a)}if(a.maskRe||a.vtype&&a.disableKeyFilter!==!0&&(a.maskRe=Ext.form.field.VTypes[a.vtype+'Mask'])){a.mon(b,'keypress',a.filterKeys,a)}if(a.enableKeyEvents){a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})}},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){Ext.form.field.Base.prototype.onChange.apply(this,arguments);this.autoSize()},getSubTplData:function(){var a=this,c=a.getRawValue(),e=a.emptyText&&c.length<1,b=a.maxLength,d;if(a.enforceMaxLength){if(b===Number.MAX_VALUE){b=undefined}}else {b=undefined}if(e){if(Ext.supports.Placeholder){d=a.emptyText}else {c=a.emptyText;a.valueContainsPlaceholder=!0}}return Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this),{maxLength:b,readOnly:a.readOnly,placeholder:d,value:c,fieldCls:a.fieldCls+(e&&(d||c)?' '+a.emptyCls:'')+(a.allowBlank?'':' '+a.requiredCls)})},afterRender:function(){this.autoSize();Ext.form.field.Base.prototype.afterRender.call(this)},onMouseDown:function(b){var a=this;if(!a.hasFocus){a.mon(a.inputEl,'mouseup',Ext.emptyFn,a,{single:!0,preventDefault:!0})}},processRawValue:function(b){var d=this,c=d.stripCharsRe,a;if(c){a=b.replace(c,'');if(a!==b){d.setRawValue(a);b=a}}return b},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable='on'}},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable=''}},onKeyDown:function(a){this.fireEvent('keydown',this,a)},onKeyUp:function(a){this.fireEvent('keyup',this,a)},onKeyPress:function(a){this.fireEvent('keypress',this,a)},reset:function(){Ext.form.field.Base.prototype.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){var a=this,b=a.emptyText,c;if(a.rendered&&b){c=a.getRawValue().length<1&&!a.hasFocus;if(Ext.supports.Placeholder){a.inputEl.dom.placeholder=b}else {if(c){a.setRawValue(b);a.valueContainsPlaceholder=!0}}if(c){a.inputEl.addCls(a.emptyCls)}a.autoSize()}},afterFirstLayout:function(){Ext.form.field.Base.prototype.afterFirstLayout.call(this);if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable='on'}}},beforeFocus:function(){var a=this,b=a.inputEl,d=a.emptyText,c;Ext.form.field.Base.prototype.beforeFocus.apply(this,arguments);if(d&&!Ext.supports.Placeholder&&(b.dom.value===a.emptyText&&a.valueContainsPlaceholder)){a.setRawValue('');c=!0;b.removeCls(a.emptyCls);a.valueContainsPlaceholder=!1}else {if(Ext.supports.Placeholder){a.inputEl.removeCls(a.emptyCls)}}if(a.selectOnFocus||c){if(Ext.isWebKit){if(!a.inputFocusTask){a.inputFocusTask=new Ext.util.DelayedTask(a.focusInput,a)}a.inputFocusTask.delay(1)}else {b.dom.select()}}},focusInput:function(){var a=this.inputEl;if(a){a=a.dom;if(a){a.select()}}},onFocus:function(){var a=this;Ext.form.field.Base.prototype.onFocus.apply(this,arguments);if(a.emptyText){a.autoSize()}},postBlur:function(){Ext.form.field.Base.prototype.postBlur.apply(this,arguments);this.applyEmptyText()},filterKeys:function(a){if(a.ctrlKey&&!a.altKey){return}var c=a.getKey(),b=String.fromCharCode(a.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(a.isNavKeyPress()||c===a.BACKSPACE||c===a.DELETE&&a.button===-1)){return}if(!Ext.isGecko&&!Ext.isOpera&&a.isSpecialKey()&&!b){return}if(!this.maskRe.test(b)){a.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),'value')},applyState:function(a){Ext.form.field.Base.prototype.applyState.apply(this,arguments);if(a.hasOwnProperty('value')){this.setValue(a.value)}},getRawValue:function(){var b=this,a=Ext.form.field.Base.prototype.getRawValue.call(this);if(a===b.emptyText&&b.valueContainsPlaceholder){a=''}return a},setValue:function(c){var a=this,b=a.inputEl;if(b&&a.emptyText&&!Ext.isEmpty(c)){b.removeCls(a.emptyCls);a.valueContainsPlaceholder=!1}Ext.form.field.Base.prototype.setValue.apply(this,arguments);a.applyEmptyText();return a},getErrors:function(b){var a=this,c=Ext.form.field.Base.prototype.getErrors.apply(this,arguments),f=a.validator,d=a.vtype,j=Ext.form.field.VTypes,k=a.regex,i=Ext.String.format,e,h,g;b=b||a.processRawValue(a.getRawValue());if(Ext.isFunction(f)){e=f.call(a,b);if(e!==!0){c.push(e)}}h=a.allowOnlyWhitespace?b:Ext.String.trim(b);if(h.length<1||b===a.emptyText&&a.valueContainsPlaceholder){if(!a.allowBlank){c.push(a.blankText)}if(!a.validateBlank){return c}g=!0}if(!g&&b.length<a.minLength){c.push(i(a.minLengthText,a.minLength))}if(b.length>a.maxLength){c.push(i(a.maxLengthText,a.maxLength))}if(d){if(!j[d](b,a)){c.push(a.vtypeText||j[d+'Text'])}}if(k&&!k.test(b)){c.push(a.regexText||a.invalidText)}return c},selectText:function(a,b){var e=this,f=e.getRawValue(),g=!0,d=e.inputEl.dom,h,c;if(f.length>0){a=a===h?0:a;b=b===h?f.length:b;if(d.setSelectionRange){d.setSelectionRange(a,b)}else {if(d.createTextRange){c=d.createTextRange();c.moveStart('character',a);c.moveEnd('character',b-f.length);c.select()}}g=Ext.isGecko||Ext.isOpera}if(g){e.focus()}},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=!0;a.updateLayout()}},afterComponentLayout:function(){var a=this,b;Ext.form.field.Base.prototype.afterComponentLayout.apply(this,arguments);if(a.autoSizing){b=a.inputEl.getWidth();if(b!==a.lastInputWidth){a.fireEvent('autosize',a,b);a.lastInputWidth=b;delete a.autoSizing}}},onDestroy:function(){var a=this;Ext.form.field.Base.prototype.onDestroy.call(this);if(a.inputFocusTask){a.inputFocusTask.cancel();a.inputFocusTask=null}}},0,['textfield'],['component','box','field','textfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0},['widget.textfield'],0,[Ext.form.field,'Text',Ext.form,'TextField',Ext.form,'Text'],0);Ext.cmd.derive('Ext.layout.component.field.TextArea',Ext.layout.component.field.Text,{type:'textareafield',canGrowWidth:!1,naturalSizingProp:'cols',beginLayout:function(a){Ext.layout.component.field.Text.prototype.beginLayout.apply(this,arguments);a.target.inputEl.setStyle('height','')},measureContentHeight:function(f){var i=this,b=i.owner,h=Ext.layout.component.field.Text.prototype.measureContentHeight.apply(this,arguments),a,e,c,j,g,d;if(b.grow&&!f.state.growHandled){a=f.inputContext;e=b.inputEl;g=e.getWidth(!0);c=Ext.util.Format.htmlEncode(e.dom.value)||'&#160;';c+=b.growAppend;c=c.replace(/\n/g,'<br/>');d=Ext.util.TextMetrics.measure(e,c,g).height+a.getBorderInfo().height+a.getPaddingInfo().height;d=Ext.Number.constrain(d,b.growMin,b.growMax);a.setHeight(d);f.state.growHandled=!0;a.domBlock(i,'height');h=NaN}return h}},0,0,0,0,['layout.textareafield'],0,[Ext.layout.component.field,'TextArea'],0);Ext.cmd.derive('Ext.form.field.TextArea',Ext.form.field.Text,{alternateClassName:'Ext.form.TextArea',fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>','</textarea>',{disableFormats:!0}],growMin:60,growMax:1000,growAppend:'\n-',cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:'textareafield',setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:'x-form-textarea',getSubTplData:function(){var a=this,c=a.getFieldStyle(),b=Ext.form.field.Text.prototype.getSubTplData.call(this);if(a.grow){if(a.preventScrollbars){b.fieldStyle=(c||'')+';overflow:hidden;height:'+a.growMin+'px'}}Ext.applyIf(b,{cols:a.cols,rows:a.rows});return b},afterRender:function(){var a=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on('paste',a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(a){a=this.stripReturns(a);return Ext.form.field.Text.prototype.valueToRaw.call(this,a)},stripReturns:function(a){if(a&&typeof a==='string'){a=a.replace(this.returnRe,'')}return a},onPaste:function(b){var a=this;if(!a.pasteTask){a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)}a.pasteTask.delay(1)},pasteCheck:function(){var b=this,a=b.getValue(),c=b.maxLength;if(a.length>c){a=a.substr(0,c);b.setValue(a)}},fireKey:function(a){var b=this,c=a.getKey(),d;if(a.isSpecialKey()&&(b.enterIsSpecial||(c!==a.ENTER||a.hasModifier()))){b.fireEvent('specialkey',b,a)}if(b.needsMaxCheck&&c!==a.BACKSPACE&&c!==a.DELETE&&!a.isNavKeyPress()&&!b.isCutCopyPasteSelectAll(a,c)){d=b.getValue();if(d.length>=b.maxLength){a.stopEvent()}}},isCutCopyPasteSelectAll:function(a,b){if(a.ctrlKey){return b===a.A||b===a.C||b===a.V||b===a.X}return !1},autoSize:function(){var a=this,b;if(a.grow&&a.rendered){a.updateLayout();b=a.inputEl.getHeight();if(b!==a.lastInputHeight){a.fireEvent('autosize',a,b);a.lastInputHeight=b}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute('aria-multiline',!0)},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}Ext.form.field.Text.prototype.beforeDestroy.call(this)}},0,['textarea','textareafield'],['component','box','field','textfield','textareafield','textarea'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'textareafield':!0,'textarea':!0},['widget.textarea','widget.textareafield'],0,[Ext.form.field,'TextArea',Ext.form,'TextArea'],0);Ext.cmd.derive('Ext.form.field.Display',Ext.form.field.Base,{alternateClassName:['Ext.form.DisplayField','Ext.form.Display'],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:'x-form-display-field',fieldBodyCls:'x-form-display-field-body',htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return !1},isValid:function(){return !0},validate:function(){return !0},getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this;b=Ext.value(b,'');a.rawValue=b;if(a.rendered){a.inputEl.dom.innerHTML=a.getDisplayValue();a.updateLayout()}return b},getDisplayValue:function(){var a=this,c=this.getRawValue(),b;if(a.renderer){b=a.renderer.call(a.scope||a,c,a)}else {b=a.htmlEncode?Ext.util.Format.htmlEncode(c):c}return b},getSubTplData:function(){var a=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);a.value=this.getDisplayValue();return a}},0,['displayfield'],['component','box','field','displayfield'],{'component':!0,'box':!0,'field':!0,'displayfield':!0},['widget.displayfield'],0,[Ext.form.field,'Display',Ext.form,'DisplayField',Ext.form,'Display'],0);Ext.cmd.derive('Ext.layout.container.Anchor',Ext.layout.container.Auto,{alternateClassName:'Ext.layout.AnchorLayout',type:'anchor',defaultAnchor:'100%',parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(f){var i=this,c=0,b,a,e,d,g,h;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);e=f.childItems;g=e.length;for(d=0;d<g;++d){a=e[d];b=a.target.anchorSpec;if(b){if(a.widthModel.calculated&&b.right){c|=1}if(a.heightModel.calculated&&b.bottom){c|=2}if(c==3){break}}}f.anchorDimensions=c},calculateItems:function(i,b){var m=this,j=i.childItems,q=j.length,k=b.gotHeight,l=b.gotWidth,o=b.height,p=b.width,n=(l?1:0)|(k?2:0),f=i.anchorDimensions,h,a,g,c,e,d;if(!f){return !0}for(e=0;e<q;e++){a=j[e];g=a.getMarginInfo();h=a.target.anchorSpec;if(l&&a.widthModel.calculated){d=h.right(p)-g.width;d=m.adjustWidthAnchor(d,a);a.setWidth(d)}if(k&&a.heightModel.calculated){c=h.bottom(o)-g.height;c=m.adjustHeightAnchor(c,a);a.setHeight(c)}}return (n&f)===f},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,e,d){if(a&&a!='none'){var b=this.anchorFactory,c;if(this.parseAnchorRE.test(a)){return b.standard(d-e)}if(a.indexOf('%')!=-1){return b.ratio(parseFloat(a.replace('%',''))*0.01)}c=parseInt(a,10);if(!isNaN(c)){return b.offset(c)}}return null},adjustWidthAnchor:function(a,b){return a},adjustHeightAnchor:function(a,b){return a},configureItem:function(a){var d=this,b=d.owner,g=a.anchor,f,c,e;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);if(!a.anchor&&a.items&&!Ext.isNumber(a.width)&&!(Ext.isIE6&&Ext.isStrict)){a.anchor=g=d.defaultAnchor}if(b.anchorSize){if(typeof b.anchorSize=='number'){c=b.anchorSize}else {c=b.anchorSize.width;e=b.anchorSize.height}}else {c=b.initialConfig.width;e=b.initialConfig.height}if(g){f=g.split(' ');a.anchorSpec={right:d.parseAnchor(f[0],a.initialConfig.width,c),bottom:d.parseAnchor(f[1],a.initialConfig.height,e)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var a=e.anchorSpec,d='$',c=this.sizePolicy,b;if(a){b=this.owner.getSizeModel();if(a.right&&!b.width.shrinkWrap){c=c.r}if(a.bottom&&!b.height.shrinkWrap){d='b'}}return c[d]}},0,0,0,0,['layout.anchor'],0,[Ext.layout.container,'Anchor',Ext.layout,'AnchorLayout'],0);Ext.cmd.derive('Ext.window.MessageBox',Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:'x-message-box-info',WARNING:'x-message-box-warning',QUESTION:'x-message-box-question',ERROR:'x-message-box-error',hideMode:'offsets',closeAction:'hide',resizable:!1,title:'&#160;',defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:['x-message-box','x-hide-offsets'],layout:{type:'vbox',align:'stretch'},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:'OK',yes:'Yes',no:'No',cancel:'Cancel'},buttonIds:['ok','yes','no','cancel'],titleText:{confirm:'Confirm',prompt:'Prompt',wait:'Loading...',alert:'Attention'},iconHeight:35,iconWidth:50,makeButton:function(b){var a=this.buttonIds[b];return new Ext.button.Button({handler:this.btnCallback,itemId:a,scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(d){var a=this,c,b;if(a.cfg.prompt||a.cfg.multiline){if(a.cfg.multiline){b=a.textArea}else {b=a.textField}c=b.getValue();b.reset()}a.hide();a.userCallback(d.itemId,c,a.cfg)},hide:function(){var a=this,b=a.cfg.cls;a.dd.endDrag();a.progressBar.reset();if(b){a.removeCls(b)}Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(b){var a=this;Ext.window.Window.prototype.constructor.apply(this,arguments);a.minWidth=a.defaultMinWidth=a.minWidth||a.defaultMinWidth;a.maxWidth=a.defaultMaxWidth=a.maxWidth||a.defaultMaxWidth;a.minHeight=a.defaultMinHeight=a.minHeight||a.defaultMinHeight;a.maxHeight=a.defaultMaxHeight=a.maxHeight||a.defaultMaxHeight},initComponent:function(e){var a=this,b=a.id,d,c;a.title='&#160;';a.topContainer=new Ext.container.Container({layout:'hbox',padding:10,style:{overflow:'hidden'},items:[a.iconComponent=new Ext.Component({width:a.iconWidth,height:a.iconHeight}),a.promptContainer=new Ext.container.Container({flex:1,layout:'anchor',items:[a.msg=new Ext.form.field.Display({id:b+'-displayfield',cls:a.baseCls+'-text'}),a.textField=new Ext.form.field.Text({id:b+'-textfield',anchor:'100%',enableKeyEvents:!0,listeners:{keydown:a.onPromptKey,scope:a}}),a.textArea=new Ext.form.field.TextArea({id:b+'-textarea',anchor:'100%',height:75})]})]});a.progressBar=new Ext.ProgressBar({id:b+'-progressbar',margins:'0 10 10 10'});a.items=[a.topContainer,a.progressBar];a.msgButtons=[];for(d=0;d<4;d++){c=a.makeButton(d);a.msgButtons[c.itemId]=c;a.msgButtons.push(c)}a.bottomTb=new Ext.toolbar.Toolbar({id:b+'-toolbar',ui:'footer',dock:'bottom',layout:{pack:'center'},items:[a.msgButtons[0],a.msgButtons[1],a.msgButtons[2],a.msgButtons[3]]});a.dockedItems=[a.bottomTb];a.on('close',a.onClose,a);Ext.window.Window.prototype.initComponent.call(this)},onClose:function(){var a=this.header.child('[type=close]');a.itemId='cancel';this.btnCallback(a);delete a.itemId},onPromptKey:function(c,b){var a=this;if(b.keyCode===b.RETURN||b.keyCode===10){if(a.msgButtons.ok.isVisible()){a.msgButtons.ok.handler.call(a,a.msgButtons.ok)}else {if(a.msgButtons.yes.isVisible()){a.msgButtons.yes.handler.call(a,a.msgButtons.yes)}}}},reconfigure:function(b){var a=this,h=0,n=!0,o=a.buttonText,f=a.resizer,g,l,k,d,c,e,m,i,j;a.updateButtonText();b=b||{};a.cfg=b;if(b.width){l=b.width}if(b.height){k=b.height}a.minWidth=b.minWidth||a.defaultMinWidth;a.maxWidth=b.maxWidth||a.defaultMaxWidth;a.minHeight=b.minHeight||a.defaultMinHeight;a.maxHeight=b.maxHeight||a.defaultMaxHeight;if(f){g=f.resizeTracker;f.minWidth=g.minWidth=a.minWidth;f.maxWidth=g.maxWidth=a.maxWidth;f.minHeight=g.minHeight=a.minHeight;f.maxHeight=g.maxHeight=a.maxHeight}delete a.defaultFocus;if(b.defaultFocus){a.defaultFocus=b.defaultFocus}a.animateTarget=b.animateTarget||undefined;a.modal=b.modal!==!1;a.setTitle(b.title||'');a.setIconCls(b.iconCls||'');if(Ext.isObject(b.buttons)){a.buttonText=b.buttons;h=0}else {a.buttonText=b.buttonText||a.buttonText;h=Ext.isNumber(b.buttons)?b.buttons:0}h=h|a.updateButtonText();a.buttonText=o;Ext.suspendLayouts();delete a.width;delete a.height;if(l||k){if(l){a.setWidth(l)}if(k){a.setHeight(k)}}a.hidden=!1;if(!a.rendered){a.render(Ext.getBody())}a.closable=b.closable!==!1&&!b.wait;a.header.child('[type=close]').setVisible(a.closable);if(!b.title&&!a.closable&&!b.iconCls){a.header.hide()}else {a.header.show()}a.liveDrag=!b.proxyDrag;a.userCallback=Ext.Function.bind(b.callback||b.fn||Ext.emptyFn,b.scope||Ext.global);a.setIcon(b.icon,b.iconWidth,b.iconHeight);m=a.msg;if(b.msg){m.setValue(b.msg);m.show()}else {m.hide()}c=a.textArea;e=a.textField;if(b.prompt||b.multiline){a.multiline=b.multiline;if(b.multiline){c.setValue(b.value);c.setHeight(b.defaultTextHeight||a.defaultTextHeight);c.show();e.hide();a.defaultFocus=c}else {e.setValue(b.value);c.hide();e.show();a.defaultFocus=e}}else {c.hide();e.hide()}i=a.progressBar;if(b.progress||b.wait){i.show();a.updateProgress(0,b.progressText);if(b.wait===!0){i.wait(b.waitConfig)}}else {i.hide()}j=a.msgButtons;for(d=0;d<4;d++){if(h&Math.pow(2,d)){if(!a.defaultFocus){a.defaultFocus=j[d]}j[d].show();n=!1}else {j[d].hide()}}if(n){a.bottomTb.hide()}else {a.bottomTb.show()}Ext.resumeLayouts(!0)},updateButtonText:function(){var b=this,c=b.buttonText,e=0,a,d;for(a in c){if(c.hasOwnProperty(a)){d=b.msgButtons[a];if(d){if(b.cfg&&b.cfg.buttonText){e=e|Math.pow(2,Ext.Array.indexOf(b.buttonIds,a))}if(d.text!=c[a]){d.setText(c[a])}}}}return e},show:function(b){var a=this,c;if(Ext.AbstractComponent.layoutSuspendCount){Ext.on({resumelayouts:function(){a.show(b)},single:!0});return a}a.reconfigure(b);if(b.cls){a.addCls(b.cls)}c=a.query('textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])');a.preventFocusOnActivate=!c.length;a.hidden=!0;Ext.window.Window.prototype.show.call(this);return a},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(c,f,e){var b=this,a=b.iconComponent,d=b.messageIconCls;if(d){a.removeCls(d)}if(c){a.show();a.setSize(f||b.iconWidth,e||b.iconHeight);a.addCls('x-dlg-icon');a.addCls(b.messageIconCls=c)}else {a.removeCls('x-dlg-icon');a.hide()}return b},updateProgress:function(c,b,a){this.progressBar.updateProgress(c,b);if(a){this.updateText(a)}return this},onEsc:function(){if(this.closable!==!1){Ext.window.Window.prototype.onEsc.apply(this,arguments)}},confirm:function(a,c,d,b){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,msg:c,buttons:this.YESNO,callback:d,scope:b}}return this.show(a)},prompt:function(a,e,f,c,b,d){if(Ext.isString(a)){a={prompt:!0,title:a,minWidth:this.minPromptWidth,msg:e,buttons:this.OKCANCEL,callback:f,scope:c,multiline:b,value:d}}return this.show(a)},wait:function(a,c,b){if(Ext.isString(a)){a={title:c,msg:a,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:b}}return this.show(a)},alert:function(a,c,d,b){if(Ext.isString(a)){a={title:a,msg:c,buttons:this.OK,fn:d,scope:b,minWidth:this.minWidth}}return this.show(a)},progress:function(a,c,b){if(Ext.isString(a)){a={title:a,msg:c,progress:!0,progressText:b}}return this.show(a)}},1,['messagebox'],['component','box','container','panel','window','messagebox'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0,'messagebox':!0},['widget.messagebox'],0,[Ext.window,'MessageBox'],function(){Ext.MessageBox=Ext.Msg=new this()});Ext.cmd.derive('Ext.form.Basic',Ext.util.Observable,{alternateClassName:'Ext.form.BasicForm',constructor:function(c,d){var a=this,b;a.owner=c;a.checkValidityTask=new Ext.util.DelayedTask(a.checkValidity,a);a.checkDirtyTask=new Ext.util.DelayedTask(a.checkDirty,a);a.monitor=new Ext.container.Monitor({selector:'[isFormField]',scope:a,addHandler:a.onFieldAdd,removeHandler:a.onFieldRemove});a.monitor.bind(c);Ext.apply(a,d);if(Ext.isString(a.paramOrder)){a.paramOrder=a.paramOrder.split(/[\s,|]/)}b=a.reader;if(b&&!b.isReader){if(typeof b==='string'){b={type:b}}a.reader=Ext.createByAlias('reader.'+b.type,b)}b=a.errorReader;if(b&&!b.isReader){if(typeof b==='string'){b={type:b}}a.errorReader=Ext.createByAlias('reader.'+b.type,b)}a.addEvents('beforeaction','actionfailed','actioncomplete','validitychange','dirtychange');Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=!0;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:'Please Wait...',trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var a=this,b=a.monitor;if(b){b.unbind();a.monitor=null}a.clearListeners();a.checkValidityTask.cancel();a.checkDirtyTask.cancel()},onFieldAdd:function(b){var a=this;a.mon(b,'validitychange',a.checkValidityDelay,a);a.mon(b,'dirtychange',a.checkDirtyDelay,a);if(a.initialized){a.checkValidityDelay()}},onFieldRemove:function(b){var a=this;a.mun(b,'validitychange',a.checkValidityDelay,a);a.mun(b,'dirtychange',a.checkDirtyDelay,a);if(a.initialized){a.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection();a.addAll(this.owner.query('[formBind]'))}return a},hasInvalidField:function(){return !!this.getFields().findBy(function(a){var c=a.preventMark,b;a.preventMark=!0;b=a.isValid();a.preventMark=c;return !b})},isValid:function(){var b=this,a;Ext.suspendLayouts();a=b.getFields().filterBy(function(a){return !a.validate()});Ext.resumeLayouts(!0);return a.length<1},checkValidity:function(){var a=this,b=!a.hasInvalidField();if(b!==a.wasValid){a.onValidityChange(b);a.fireEvent('validitychange',a,b);a.wasValid=b}},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(e){var d=this.getBoundItems(),b,a,f,c;if(d){b=d.items;f=b.length;for(a=0;a<f;a++){c=b[a];if(c.disabled===e){c.setDisabled(!e)}}}},isDirty:function(){return !!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent('dirtychange',this,a);this.wasDirty=a}},hasUpload:function(){return !!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){if(Ext.isString(a)){a=Ext.ClassManager.instantiateByAlias('formaction.'+a,Ext.apply({},b,{form:this}))}if(this.fireEvent('beforeaction',this,a)!==!1){this.beforeAction(a);Ext.defer(a.run,100,a)}return this},submit:function(a){a=a||{};var c=this,b;if(a.standardSubmit||c.standardSubmit){b='standardsubmit'}else {b=c.api?'directsubmit':'submit'}return c.doAction(b,a)},load:function(a){return this.doAction(this.api?'directload':'load',a)},updateRecord:function(a){a=a||this._record;if(!a){return this}var d=a.fields.items,e=this.getFieldValues(),f={},c=0,g=d.length,b;for(;c<g;++c){b=d[c].name;if(e.hasOwnProperty(b)){f[b]=e[b]}}a.beginEdit();a.set(f);a.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(g){var a=this,c=g.waitMsg,f='x-mask-loading',h=a.getFields().items,e,i=h.length,d,b;for(e=0;e<i;e++){d=h[e];if(d.isFormField&&d.syncValue){d.syncValue()}}if(c){b=a.waitMsgTarget;if(b===!0){a.owner.el.mask(c,f)}else {if(b){b=a.waitMsgTarget=Ext.get(b);b.mask(c,f)}else {a.floatingAncestor=a.owner.up('[floating]');if(a.floatingAncestor){a.savePreventFocusOnActivate=a.floatingAncestor.preventFocusOnActivate;a.floatingAncestor.preventFocusOnActivate=!0}Ext.MessageBox.wait(c,g.waitTitle||a.waitTitle)}}}},afterAction:function(a,e){var b=this;if(a.waitMsg){var d=Ext.MessageBox,c=b.waitMsgTarget;if(c===!0){b.owner.el.unmask()}else {if(c){c.unmask()}else {d.hide()}}}if(b.floatingAncestor){b.floatingAncestor.preventFocusOnActivate=b.savePreventFocusOnActivate}if(e){if(a.reset){b.reset()}Ext.callback(a.success,a.scope||a,[b,a]);b.fireEvent('actioncomplete',b,a)}else {Ext.callback(a.failure,a.scope||a,[b,a]);b.fireEvent('actionfailed',b,a)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(a){var g=this,b,d,c,f,e;function mark(c,d){var b=g.findField(c);if(b){b.markInvalid(d)}}if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=a[b];mark(c.id,c.msg)}}else {if(a instanceof Ext.data.Errors){d=a.items.length;for(b=0;b<d;b++){c=a.items[b];mark(c.field,c.message)}}else {for(e in a){if(a.hasOwnProperty(e)){f=a[e];mark(e,f,a)}}}}return this},setValues:function(a){var e=this,b,d,c,f;function setVal(c,d){var b=e.findField(c);if(b){b.setValue(d);if(e.trackResetOnLoad){b.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=a[b];setVal(c.id,c.value)}}else {Ext.iterate(a,setVal)}Ext.resumeLayouts(!0);return this},getValues:function(m,l,h,k){var a={},j=this.getFields().items,g,n=j.length,i=Ext.isArray,f,e,c,d,b;for(g=0;g<n;g++){f=j[g];if(!l||f.isDirty()){e=f[k?'getModelData':'getSubmitData'](h);if(Ext.isObject(e)){for(b in e){if(e.hasOwnProperty(b)){c=e[b];if(h&&c===''){c=f.emptyText||''}if(a.hasOwnProperty(b)){d=a[b];if(!i(d)){d=a[b]=[d]}if(i(c)){a[b]=d.concat(c)}else {d.push(c)}}else {a[b]=c}}}}}}if(m){a=Ext.Object.toQueryString(a)}return a},getFieldValues:function(a){return this.getValues(!1,a,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var c=this,b=c.getFields().items,a,d=b.length;for(a=0;a<d;a++){b[a].clearInvalid()}Ext.resumeLayouts(!0);return c},reset:function(d){Ext.suspendLayouts();var b=this,c=b.getFields().items,a,e=c.length;for(a=0;a<e;a++){c[a].reset()}Ext.resumeLayouts(!0);if(d===!0){delete b._record}return b},applyToFields:function(d){var b=this.getFields().items,a,c=b.length;for(a=0;a<c;a++){Ext.apply(b[a],d)}return this},applyIfToFields:function(d){var b=this.getFields().items,a,c=b.length;for(a=0;a<c;a++){Ext.applyIf(b[a],d)}return this}},1,0,0,0,0,0,[Ext.form,'Basic',Ext.form,'BasicForm'],0);Ext.cmd.derive('Ext.form.FieldAncestor',Ext.Base,{xhooks:{initHierarchyState:function(a){if(this.fieldDefaults){if(a.fieldDefaults){a.fieldDefaults=Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults)}else {a.fieldDefaults=this.fieldDefaults}}}},initFieldAncestor:function(){var a=this;a.addEvents('fieldvaliditychange','fielderrorchange');a.monitor=new Ext.container.Monitor({scope:a,selector:'[isFormField]',addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove});a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(b){var a=this;a.mon(b,'errorchange',a.handleFieldErrorChange,a);a.mon(b,'validitychange',a.handleFieldValidityChange,a)},onChildFieldRemove:function(b){var a=this;a.mun(b,'errorchange',a.handleFieldErrorChange,a);a.mun(b,'validitychange',a.handleFieldValidityChange,a)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(b,c){var a=this;if(b!==a){a.fireEvent('fieldvaliditychange',a,b,c);a.onFieldValidityChange(b,c)}},handleFieldErrorChange:function(b,c){var a=this;if(b!==a){a.fireEvent('fielderrorchange',a,b,c);a.onFieldErrorChange(b,c)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}},0,0,0,0,0,0,[Ext.form,'FieldAncestor'],0);Ext.cmd.derive('Ext.form.Label',Ext.Component,{autoEl:'label',maskOnDisable:!1,getElConfig:function(){var a=this;a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||'';return Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:a.forId||''})},setText:function(c,b){var a=this;b=b!==!1;if(b){a.text=c;delete a.html}else {a.html=c;delete a.text}if(a.rendered){a.el.dom.innerHTML=b!==!1?Ext.util.Format.htmlEncode(c):c;a.updateLayout()}return a}},0,['label'],['component','box','label'],{'component':!0,'box':!0,'label':!0},['widget.label'],0,[Ext.form,'Label'],0);Ext.cmd.derive('Ext.form.Panel',Ext.panel.Panel,{alternateClassName:['Ext.FormPanel','Ext.form.FormPanel'],layout:'anchor',ariaRole:'form',basicFormConfigs:['api','baseParams','errorReader','jsonSubmit','method','paramOrder','paramsAsHash','reader','standardSubmit','timeout','trackResetOnLoad','url','waitMsgTarget','waitTitle'],initComponent:function(){var a=this;if(a.frame){a.border=!1}a.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);a.relayEvents(a.form,['beforeaction','actionfailed','actioncomplete','validitychange','dirtychange']);if(a.pollForChanges){a.startPolling(a.pollInterval||500)}},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){var d={},c=this.basicFormConfigs,e=c.length,b=0,a;for(;b<e;++b){a=c[b];d[a]=this[a]}return new Ext.form.Basic(this,d)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(d,c,a,b){return this.getForm().getValues(d,c,a,b)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.beforeDestroy.call(this)},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(b){this.stopPolling();var a=new Ext.util.TaskRunner(b);a.start({interval:0,run:this.checkChange,scope:this});this.pollTask=a},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){var b=this.form.getFields().items,a,c=b.length;for(a=0;a<c;a++){b[a].checkChange()}}},0,['form'],['component','box','container','panel','form'],{'component':!0,'box':!0,'container':!0,'panel':!0,'form':!0},['widget.form'],[['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'Panel',Ext,'FormPanel',Ext.form,'FormPanel'],0);Ext.cmd.derive('Ext.selection.Model',Ext.util.Observable,{alternateClassName:'Ext.AbstractSelectionModel',allowDeselect:undefined,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(b){var a=this;b=b||{};Ext.apply(a,b);a.addEvents('selectionchange','focuschange');a.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0};a.setSelectionMode(b.mode||a.mode);a.selected=new Ext.util.MixedCollection(null,a.getSelectionId);Ext.util.Observable.prototype.constructor.apply(this,arguments)},bindStore:function(c,b){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);if(a.store&&!b){a.refresh()}},getStoreListeners:function(){var a=this;return {add:a.onStoreAdd,clear:a.onStoreClear,bulkremove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,idchanged:a.onModelIdChanged,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(c){var a=this,d=a.store.getRange(),b=0,f=d.length,e=a.getSelection().length;a.suspendChanges();for(;b<f;b++){a.doSelect(d[b],!0,c)}a.resumeChanges();if(!c){a.maybeFireSelectionChange(a.getSelection().length!==e)}},deselectAll:function(f){var a=this,b=a.getSelection(),d={},i=a.store,h=b.length,c,g,e;for(c=0,g=b.length;c<g;c++){e=b[c];d[e.internalId]=i.indexOf(e)}b=Ext.Array.sort(b,function(c,e){var a=d[c.internalId],b=d[e.internalId];return a<b?-1:1});a.suspendChanges();a.doDeselect(b,f);a.resumeChanges();if(!f){a.maybeFireSelectionChange(a.getSelection().length!==h)}},selectWithEvent:function(b,m){var a=this,c=a.isSelected(b),h=m.shiftKey,d=m.ctrlKey,k=a.selectionStart,j=a.getSelection(),l=j.length,f=a.allowDeselect,g,e,i;switch(a.selectionMode){case 'MULTI':if(h&&k){a.selectRange(k,b,d)}else {if(d&&c){a.doDeselect(b,!1)}else {if(d){a.doSelect(b,!0,!1)}else {if(c&&!h&&!d&&l>1){g=[];for(e=0;e<l;++e){i=j[e];if(i!==b){g.push(i)}}a.doDeselect(g)}else {if(!c){a.doSelect(b,!1)}}}}};break;case 'SIMPLE':if(c){a.doDeselect(b)}else {a.doSelect(b,!0)};break;case 'SINGLE':if(f&&!d){f=a.toggleOnClick};if(f&&c){a.doDeselect(b)}else {a.doSelect(b,!1)};break;}if(!h){if(a.isSelected(b)){a.selectionStart=b}else {a.selectionStart=null}}},afterKeyNavigate:function(c,b){var a=this,e,h,d=a.isSelected(b),f=a.selectionStart&&a.isSelected(a.lastFocused)?a.selectionStart:a.selectionStart=a.lastFocused,g=c.getCharCode(),j=g===c.SPACE,i=g===c.UP||g===c.PAGE_UP?'up':g===c.DOWN||g===c.DOWN?'down':null;switch(a.selectionMode){case 'MULTI':if(j){if(c.shiftKey){a.selectRange(f,b,c.ctrlKey)}else {if(d){a.doDeselect(b,c.ctrlKey);a.setLastFocused(null);a.setLastFocused(b)}else {a.doSelect(b,c.ctrlKey)}}}else {if(c.shiftKey&&f){h=a.store.indexOf(f);e=a.store.indexOf(b);if(i==='up'&&h<=e){a.deselectRange(a.lastFocused,e+1)}else {if(i==='down'&&h>=e){a.deselectRange(a.lastFocused,e-1)}else {if(f!==b){a.selectRange(f,b,c.ctrlKey)}}}a.lastSelected=b;a.setLastFocused(b)}else {if(c.ctrlKey&&d){a.setLastFocused(b)}else {if(c.ctrlKey){a.setLastFocused(b)}else {a.doSelect(b,!1)}}}};break;case 'SIMPLE':if(d){a.doDeselect(b)}else {a.doSelect(b,!0)};break;case 'SINGLE':if(j){if(d){a.doDeselect(b);a.setLastFocused(b)}else {a.doSelect(b)}}else {if(c.ctrlKey){a.setLastFocused(b)}else {if(a.allowDeselect&&d){a.doDeselect(b)}else {a.doSelect(b,!1)}}};break;}if(!c.shiftKey){if(a.isSelected(b)){a.selectionStart=b}}},selectRange:function(d,e,m){var b=this,i=b.store,l=b.selected.items,h,a,f,g,c,j,k;if(b.isLocked()){return}h=b.normalizeRowRange(d,e);d=h[0];e=h[1];g=[];for(a=d;a<=e;a++){if(!b.isSelected(i.getAt(a))){g.push(i.getAt(a))}}if(!m){c=[];b.suspendChanges();for(a=0,f=l.length;a<f;++a){k=l[a];j=i.indexOf(k);if(j<d||j>e){c.push(k)}}for(a=0,f=c.length;a<f;++a){b.doDeselect(c[a])}b.resumeChanges()}b.doMultiSelect(g,!0)},deselectRange:function(d,e){var a=this,h=a.store,g,b,c,f;if(a.isLocked()){return}g=a.normalizeRowRange(d,e);d=g[0];e=g[1];c=[];for(b=d;b<=e;b++){f=h.getAt(b);if(a.isSelected(f)){c.push(f)}}a.doDeselect(c)},normalizeRowRange:function(a,b){var c=this.store,d;if(!Ext.isNumber(a)){a=c.indexOf(a)}a=Math.max(0,a);if(!Ext.isNumber(b)){b=c.indexOf(b)}b=Math.min(b,c.getCount()-1);if(a>b){d=b;b=a;a=d}return [a,b]},onModelIdChanged:function(e,c,d,b,a){this.selected.updateKey(a,b)},select:function(a,c,b){if(Ext.isDefined(a)){this.doSelect(a,c,b)}},deselect:function(b,a){this.doDeselect(b,a)},doSelect:function(a,e,d){var b=this,c;if(b.locked||!b.store){return}if(typeof a==='number'){c=b.store.getAt(a);if(!c){return}a=[c]}if(b.selectionMode=='SINGLE'&&a){c=a.length?a[0]:a;b.doSingleSelect(c,d)}else {b.doMultiSelect(a,e,d)}},doMultiSelect:function(b,k,d){var a=this,f=a.selected,h=!1,g,e,j,c,i;if(a.locked){return}b=!Ext.isArray(b)?[b]:b;j=b.length;if(!k&&f.getCount()>0){g=a.deselectDuringSelect(b,f.getRange(),d);if(g[0]){a.maybeFireSelectionChange(g[1]>0&&!d);return}}i=function(){f.add(c);h=!0};for(e=0;e<j;e++){c=b[e];if(a.isSelected(c)){continue}a.lastSelected=c;a.onSelectChange(c,!0,d,i)}if(!a.preventFocus){a.setLastFocused(c,d)}a.maybeFireSelectionChange(h&&!d)},deselectDuringSelect:function(h,d,g){var c=this,i=d.length,e=0,f=!1,b,a;c.suspendChanges();for(a=0;a<i;++a){b=d[a];if(!Ext.Array.contains(h,b)){if(c.doDeselect(b,g)){++e}else {f=!0}}}c.resumeChanges();return [f,e]},doDeselect:function(c,f){var a=this,h=a.selected,e=0,j,b,g=0,d=0,i;if(a.locked||!a.store){return !1}if(typeof c==='number'){b=a.store.getAt(c);if(!b){return !1}c=[b]}else {if(!Ext.isArray(c)){c=[c]}}i=function(){++d;h.remove(b)};j=c.length;a.suspendChanges();for(;e<j;e++){b=c[e];if(a.isSelected(b)){if(a.lastSelected===b){a.lastSelected=h.last();if(a.lastFocused===b){a.setLastFocused(null)}}++g;a.onSelectChange(b,!1,f,i)}}a.resumeChanges();a.maybeFireSelectionChange(d>0&&!f);return d===g},doSingleSelect:function(b,c){var a=this,e=!1,d=a.selected,f;if(a.locked){return}if(a.isSelected(b)){return}if(d.getCount()){a.suspendChanges();if(!a.doDeselect(a.lastSelected,c)){a.resumeChanges();return}a.resumeChanges()}f=function(){d.add(b);a.lastSelected=b;e=!0};a.onSelectChange(b,!0,c,f);if(e){if(!c&&!a.preventFocus){a.setLastFocused(b)}a.maybeFireSelectionChange(!c)}},setLastFocused:function(a,d){var b=this,c=b.lastFocused;if(a!==c){b.lastFocused=a;b.onLastFocusChanged(c,a,d)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(b){var a=this;if(b&&!a.suspendChange){a.fireEvent('selectionchange',a,a.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():'SINGLE';this.selectionMode=this.modes[a]?a:'SINGLE'},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(b,c){var e=this,f=e.store,a,d;d=e.normalizeRowRange(b,c);b=d[0];c=d[1];for(a=b;a<=c;a++){if(!e.isSelected(f.getAt(a))){return !1}}return !0},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var f=this,c=f.selected,b=[],e=c.length,a,d;if(f.pruneRemoved){for(a=0;a<e;a++){d=c.getAt(a);if(!this.storeHasSelected(d)){b.push(d)}}if(b.length){for(a=0,e=b.length;a<e;a++){c.remove(b[a])}f.maybeFireSelectionChange(!0)}}},storeHasSelected:function(c){var d=this.store,b,e,f,a;if(c.hasId()&&d.getById(c)){return !0}else {b=d.data.items;e=b.length;f=c.internalId;for(a=0;a<e;++a){if(f===b[a].internalId){return !0}}}return !1},refresh:function(){var a=this,e=a.store,f,c=[],b=[],h=a.getSelection(),k=h.length,d,j,g=0,i=a.getLastFocused();if(!e){return}for(;g<k;g++){d=h[g];if(e.indexOf(d)!==-1){c.push(d)}else {if(!a.pruneRemoved){f=e.getById(d.getId());if(f){c.push(f)}else {b.push(d)}}}if(a.mode==='SINGLE'&&b.length){break}}if(a.selected.getCount()!=c.length+b.length){j=!0}a.clearSelections();if(e.indexOf(i)!==-1){a.setLastFocused(i,!0)}if(c.length){a.doSelect(c,!1,!0)}if(b.length){a.selected.addAll(b);if(!a.lastSelected){a.lastSelected=b[b.length-1]}}a.maybeFireSelectionChange(j)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(!0)}},onStoreRemove:function(e,b,d,c){var a=this;if(a.selectionStart&&Ext.Array.contains(b,a.selectionStart)){a.selectionStart=null}if(c||a.locked||!a.pruneRemoved){return}a.deselectDeletedRecords(b)},deselectDeletedRecords:function(d){var a=this,f=a.selected,c,g=d.length,e=0,b;for(c=0;c<g;c++){b=d[c];if(f.remove(b)){if(a.lastSelected==b){a.lastSelected=null}if(a.getLastFocused()==b){a.setLastFocused(null)}++e}}if(e){a.maybeFireSelectionChange(!0)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(d,e,b,f){var a=this,c=e?'select':'deselect';if((b||a.fireEvent('before'+c,a,d))!==!1&&f()!==!1){if(!b){a.fireEvent(c,a,d)}}},onLastFocusChanged:function(b,a){this.fireEvent('focuschange',this,b,a)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),!0)},bindComponent:Ext.emptyFn},1,0,0,0,0,[['bindable',Ext.util.Bindable]],[Ext.selection,'Model',Ext,'AbstractSelectionModel'],0);Ext.cmd.derive('Ext.selection.DataViewModel',Ext.selection.Model,{deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(a){this.addEvents('beforedeselect','beforeselect','deselect','select');Ext.selection.Model.prototype.constructor.apply(this,arguments)},bindComponent:function(b){var a=this,c={refresh:a.refresh,scope:a};a.view=b;a.bindStore(b.getStore());c[b.triggerEvent]=a.onItemClick;c[b.triggerCtEvent]=a.onContainerClick;b.on(c);if(a.enableKeyNav){a.initKeyNav(b)}},onUpdate:function(a){var b=this.view;if(b&&this.isSelected(a)){b.onItemSelect(a)}},onItemClick:function(e,a,d,c,b){this.selectWithEvent(a,b)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on({render:Ext.Function.bind(a.initKeyNav,a,[b]),single:!0});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b.el,ignoreInputFields:!0,down:Ext.pass(a.onNavKey,[1],a),right:Ext.pass(a.onNavKey,[1],a),left:Ext.pass(a.onNavKey,[-1],a),up:Ext.pass(a.onNavKey,[-1],a),scope:a})},onNavKey:function(c){c=c||1;var b=this,f=b.view,e=b.getSelection()[0],d=b.view.store.getCount(),a;if(e){a=f.indexOf(f.getNode(e))+c}else {a=0}if(a<0){a=d-1}else {if(a>=d){a=0}}b.select(a)},onSelectChange:function(b,e,d,g){var a=this,c=a.view,f=e?'select':'deselect';if((d||a.fireEvent('before'+f,a,b))!==!1&&g()!==!1){if(c){if(e){c.onItemSelect(b)}else {c.onItemDeselect(b)}}if(!d){a.fireEvent(f,a,b)}}},onLastFocusChanged:function(d,a,c){var b=this.view;if(b&&!c&&a){b.focusNode(a);this.fireEvent('focuschange',this,d,a)}},destroy:function(){Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.selection,'DataViewModel'],0);Ext.cmd.derive('Ext.view.AbstractView',Ext.Component,{inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:!0,itemCls:'x-dataview-item',loadingText:'Loading...',loadMask:!0,loadingUseMsg:!0,selectedItemCls:'x-item-selected',emptyText:'',deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:'itemclick',triggerCtEvent:'containerclick',addCmpEvents:function(){},initComponent:function(){var a=this,d=Ext.isDefined,b=a.itemTpl,c={};if(b){if(Ext.isArray(b)){b=b.join('')}else {if(Ext.isObject(b)){c=Ext.apply(c,b.initialConfig);b=b.html}}if(!a.itemSelector){a.itemSelector='.'+a.itemCls}b=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',a.itemCls,b);a.tpl=new Ext.XTemplate(b,c)}Ext.Component.prototype.initComponent.call(this);a.tpl=a.getTpl('tpl');if(a.overItemCls){a.trackOver=!0}a.addEvents('beforerefresh','refresh','viewready','itemupdate','itemadd','itemremove');a.addCmpEvents();a.store=Ext.data.StoreManager.lookup(a.store||'ext-empty-store');if(!a.dataSource){a.dataSource=a.store}a.bindStore(a.dataSource,!0,'dataSource');if(!a.all){a.all=new Ext.CompositeElementLite()}a.scrollState={top:0,left:0};a.on({scroll:a.onViewScroll,element:'el',scope:a})},onRender:function(){var a=this,b=a.loadMask,d=a.getMaskStore(),c={target:a,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:d};Ext.Component.prototype.onRender.apply(this,arguments);if(b&&!d.proxy.isSynchronous){if(Ext.isObject(b)){c=Ext.apply(c,b)}a.loadMask=new Ext.LoadMask(c);a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide})}},finishRender:function(){var a=this;Ext.Component.prototype.finishRender.apply(this,arguments);if(!a.up('[collapsed],[hidden]')){a.doFirstRefresh(a.dataSource)}},onBoxReady:function(){var a=this;Ext.Component.prototype.onBoxReady.apply(this,arguments);if(!a.firstRefreshDone){a.doFirstRefresh(a.dataSource)}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;if(b&&b>a.getHeight()){a.hasLoadingHeight=!0;a.oldMinHeight=a.minHeight;a.minHeight=b;a.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){Ext.Component.prototype.beforeRender.apply(this,arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b='SINGLE';if(a.simpleSelect){b='SIMPLE'}else {if(a.multiSelect){b='MULTI'}}if(!a.selModel||!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,['selectionchange','beforeselect','beforedeselect','select','deselect','focuschange']);a.selModel.hasRelaySetup=!0}if(a.disableSelection){a.selModel.locked=!0}return a.selModel},refresh:function(){var a=this,c,d,g,f,b,e;if(!a.rendered||a.isDestroyed){return}if(!a.hasListeners.beforerefresh||a.fireEvent('beforerefresh',a)!==!1){c=a.getTargetEl();e=a.getViewRange();b=c.dom;if(!a.preserveScrollOnRefresh){d=b.parentNode;g=b.style.display;b.style.display='none';f=b.nextSibling;d.removeChild(b)}if(a.refreshCounter){a.clearViewEl()}else {a.fixedNodes=c.dom.childNodes.length;a.refreshCounter=1}a.tpl.append(c,a.collectData(e,a.all.startIndex));if(e.length<1){if(!this.store.loading&&(!a.deferEmptyText||a.hasFirstRefresh)){Ext.core.DomHelper.insertHtml('beforeEnd',c.dom,a.emptyText)}a.all.clear()}else {a.collectNodes(c.dom);a.updateIndexes(0)}if(a.hasFirstRefresh){if(a.refreshSelmodelOnRefresh!==!1){a.selModel.refresh()}else {a.selModel.pruneIf()}}a.hasFirstRefresh=!0;if(!a.preserveScrollOnRefresh){d.insertBefore(b,f);b.style.display=g}this.refreshSize();a.fireEvent('refresh',a);if(!a.viewReady){a.viewReady=!0;a.fireEvent('viewready',a)}}},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();if(a.height.shrinkWrap||a.width.shrinkWrap){this.updateLayout()}},clearViewEl:function(){var a=this,b=a.getTargetEl();if(a.fixedNodes){while(b.dom.childNodes[a.fixedNodes]){b.dom.removeChild(b.dom.childNodes[a.fixedNodes])}}else {b.update('')}a.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var b=this.el.dom,a=this.scrollState;a.left=b.scrollLeft;a.top=b.scrollTop}},restoreScrollState:function(){if(this.rendered){var b=this.el.dom,a=this.scrollState;b.scrollLeft=a.left;b.scrollTop=a.top}},prepareData:function(c,f,e){var a,b,d;if(e){a=e.getAssociatedData();for(b in a){if(a.hasOwnProperty(b)){if(!d){c=Ext.Object.chain(c);d=!0}c[b]=a[b]}}}return c},collectData:function(c,e){var d=[],a=0,f=c.length,b;for(;a<f;a++){b=c[a];d[a]=this.prepareData(b.data,e+a,b)}return d},bufferRender:function(c,d){var a=this,b=a.renderBuffer||(a.renderBuffer=document.createElement('div'));a.tpl.overwrite(b,a.collectData(c,d));return Ext.DomQuery.select(a.getItemSelector(),b)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(e,c){var a=this,b,d;if(a.viewReady){b=a.dataSource.indexOf(c);if(b>-1){d=a.bufferRender([c],b)[0];if(a.getNode(c)){a.all.replaceElement(b,d,!0);a.updateIndexes(b,b);a.selModel.onUpdate(c);if(a.hasListeners.itemupdate){a.fireEvent('itemupdate',c,b,d)}return d}}}},onAdd:function(e,d,b){var a=this,c;if(a.rendered){if(a.all.getCount()===0){a.refresh();c=a.all.slice()}else {c=a.doAdd(d,b);if(a.refreshSelmodelOnRefresh!==!1){a.selModel.refresh()}a.updateIndexes(b);a.refreshSize()}if(a.hasListeners.itemadd){a.fireEvent('itemadd',d,b,c)}}},doAdd:function(h,b){var f=this,a=f.bufferRender(h,b,!0),c=f.all,e=c.getCount(),d,g;if(e===0){for(d=0,g=a.length;d<g;d++){this.getNodeContainer().appendChild(a[d])}}else {if(b<e){if(b===0){c.item(b).insertSibling(a,'before',!0)}else {c.item(b-1).insertSibling(a,'after',!0)}}else {c.last().insertSibling(a,'after',!0)}}c.insert(b,a);return a},onRemove:function(h,g,c){var b=this,f=b.hasListeners.itemremove,a,d,e;if(b.all.getCount()){if(b.dataSource.getCount()===0){if(f){for(a=c.length-1;a>=0;--a){b.fireEvent('itemremove',g[a],c[a])}}b.refresh()}else {for(a=c.length-1;a>=0;--a){d=g[a];e=c[a];b.doRemove(d,e);if(f){b.fireEvent('itemremove',d,e)}}b.updateIndexes(c[0])}this.refreshSize()}},doRemove:function(b,a){this.all.removeElement(a,!0)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(d,c){var b=this.all.elements,e=this.getViewRange(),a;d=d||0;c=c||(c===0?0:b.length-1);for(a=d;a<=c;a++){b[a].viewIndex=a;b[a].viewRecordId=e[a].internalId;if(!b[a].boundView){b[a].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(b,c,d){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);if(!c){a.getSelectionModel().bindStore(b)}if(a.componentLayoutCounter){a.doFirstRefresh(b)}},doFirstRefresh:function(b){var a=this;a.firstRefreshDone=!0;if(b&&!b.loading){if(a.deferInitialRefresh){a.applyFirstRefresh()}else {a.refresh()}}},applyFirstRefresh:function(){var a=this;if(a.isDestroyed){return}if(a.up('[isCollapsingOrExpanding]')){Ext.Function.defer(a.applyFirstRefresh,100,a)}else {Ext.Function.defer(function(){if(!a.isDestroyed){a.refresh()}},1)}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(a,c,b){this.setMaskBind(a);if(!c&&b==='store'){this.bindStore(a,!1,'dataSource')}},setMaskBind:function(b){var a=this.loadMask;if(a&&a.bindStore){a.bindStore(b)}},getStoreListeners:function(){var a=this;return {idchanged:a.onIdChanged,refresh:a.onDataRefresh,add:a.onAdd,bulkremove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var a=this,b=!a.firstRefreshDone&&(!a.rendered||a.up('[collapsed],[isCollapsingOrExpanding],[hidden]'));if(b){a.deferInitialRefresh=!1}else {if(a.blockRefresh!==!0){a.firstRefreshDone=!0;a.refresh()}}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var c=[],b=this.selModel.getSelection(),d=b.length,a=0;for(;a<d;a++){c.push(this.getNode(b[a]))}return c},getRecords:function(c){var a=[],b=0,e=c.length,d=this.dataSource.data;for(;b<e;b++){a[a.length]=d.getByKey(c[b].viewRecordId)}return a},getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(c,b,a){this.selModel.select(c,b,a)},deselect:function(b,a){this.selModel.deselect(b,a)},getNode:function(a){if(!a&&a!==0||!this.rendered){return null}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return a},getNodeByRecord:function(c){var b=this.all.elements,d=b.length,a=0;for(;a<d;a++){if(b[a].viewRecordId===c.internalId){return b[a]}}return null},getNodes:function(c,a){var b=this.all;if(a===undefined){a=b.getCount()}else {a++}return b.slice(c||0,a)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return -1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();Ext.Component.prototype.onDestroy.call(this);a.bindStore(null);a.selModel.destroy()},onItemSelect:function(b){var a=this.getNode(b);if(a){Ext.fly(a).addCls(this.selectedItemCls)}},onItemDeselect:function(b){var a=this.getNode(b);if(a){Ext.fly(a).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector}},0,0,['component','box'],{'component':!0,'box':!0},0,[['bindable',Ext.util.Bindable]],[Ext.view,'AbstractView'],function(){Ext.deprecate('extjs','4.0',function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn('DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel')}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn('DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel')}return this.selModel.getSelection()},select:function(d,c,b){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var a=this.getSelectionModel();return a.select.apply(a,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.cmd.derive('Ext.view.View',Ext.view.AbstractView,{alternateClassName:'Ext.DataView',deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:'MouseDown',mouseup:'MouseUp',click:'Click',dblclick:'DblClick',contextmenu:'ContextMenu',mouseover:'MouseOver',mouseout:'MouseOut',mouseenter:'MouseEnter',mouseleave:'MouseLeave',keydown:'KeyDown',focus:'Focus'}},initComponent:function(){var a=this;Ext.view.AbstractView.prototype.initComponent.call(this);if(a.mouseOverOutBuffer){a.handleMouseOverOrOut=Ext.Function.createBuffered(a.handleMouseOverOrOut,a.mouseOverOutBuffer,a);a.lastMouseOverOutEvent=new Ext.EventObjectImpl()}else {if(a.deferHighlight){a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a)}}},addCmpEvents:function(){this.addEvents('beforeitemmousedown','beforeitemmouseup','beforeitemmouseenter','beforeitemmouseleave','beforeitemclick','beforeitemdblclick','beforeitemcontextmenu','beforeitemkeydown','itemmousedown','itemmouseup','itemmouseenter','itemmouseleave','itemclick','itemdblclick','itemcontextmenu','itemkeydown','beforecontainermousedown','beforecontainermouseup','beforecontainermouseover','beforecontainermouseout','beforecontainerclick','beforecontainerdblclick','beforecontainercontextmenu','beforecontainerkeydown','containermouseup','containermouseover','containermouseout','containerclick','containerdblclick','containercontextmenu','containerkeydown','selectionchange','beforeselect','beforedeselect','select','deselect','focuschange','highlightitem','unhighlightitem')},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer?a.onMouseOverOut:a.handleMouseOverOrOut;Ext.view.AbstractView.prototype.afterRender.call(this);a.mon(a.getTargetEl(),{scope:a,freezeEvent:!0,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:b,mouseout:b})},onMouseOverOut:function(b){var a=this;a.lastMouseOverOutEvent.setEvent(b.browserEvent,!0);a.handleMouseOverOrOut(a.lastMouseOverOutEvent)},handleMouseOverOrOut:function(b){var a=this,e=b.type==='mouseout',d=e?b.getRelatedTarget:b.getTarget,c=d.call(b,a.itemSelector)||d.call(b,a.dataRowSelector);if(!a.mouseOverItem||c!==a.mouseOverItem){if(a.mouseOverItem){b.item=a.mouseOverItem;b.newType='mouseleave';a.handleEvent(b)}a.mouseOverItem=c;if(a.mouseOverItem){b.item=a.mouseOverItem;b.newType='mouseenter';a.handleEvent(b)}}},handleEvent:function(a){var b=this,c=a.type=='keydown'&&a.getKey();if(b.processUIEvent(a)!==!1){b.processSpecialEvent(a)}if(c===a.SPACE){if(!b.inputTagRe.test(a.getTarget().tagName)){a.stopEvent()}}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(b){if(!Ext.getBody().isAncestor(b.target)){return}var a=this,d=b.getTarget(a.getItemSelector(),a.getTargetEl()),h=this.statics().EventMap,e,c,g=b.type,f=b.type,i;if(b.newType){f=b.newType;d=b.item}if(!d&&g=='keydown'){i=a.getSelectionModel();c=i.lastFocused||i.getLastSelected();if(c){d=a.getNode(c,!0)}}if(d){if(!c){c=a.getRecord(d)}e=a.indexInStore?a.indexInStore(c):a.indexOf(d);if(!c||a.processItemEvent(c,d,e,b)===!1){return !1}if(a['onBeforeItem'+h[f]](c,d,e,b)===!1||a.fireEvent('beforeitem'+f,a,c,d,e,b)===!1||a['onItem'+h[f]](c,d,e,b)===!1){return !1}a.fireEvent('item'+f,a,c,d,e,b)}else {if(a.processContainerEvent(b)===!1||a['onBeforeContainer'+h[g]](b)===!1||a.fireEvent('beforecontainer'+g,a,b)===!1||a['onContainer'+h[g]](b)===!1){return !1}a.fireEvent('container'+g,a,b)}return !0},onItemMouseEnter:function(b,a,c,d){if(this.trackOver){this.highlightItem(a)}},onItemMouseLeave:function(a,c,b,d){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(c){var a=this,d=a.highlightedItem,f=a.overItemCls,e=a.beforeOverItemCls,b;if(d!=c){if(d){Ext.fly(d).removeCls(f);b=d.previousSibling;if(e&&b){Ext.fly(b).removeCls(e)}a.fireEvent('unhighlightitem',a,d)}a.highlightedItem=c;if(c){Ext.fly(c).addCls(a.overItemCls);b=c.previousSibling;if(e&&b){Ext.fly(b).addCls(e)}a.fireEvent('highlightitem',a,c)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},onUpdate:function(f,e){var a=this,d,c,b;if(a.viewReady){d=a.getNode(e);c=Ext.view.AbstractView.prototype.onUpdate.apply(this,arguments);b=a.highlightedItem;if(b&&b===d){delete a.highlightedItem;if(c){a.highlightItem(c)}}}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(h){var f=this,g=f.getNode(h,!0),e=f.el,d=0,c=0,a=e.getRegion(),b;a.bottom=a.top+e.dom.clientHeight;a.right=a.left+e.dom.clientWidth;if(g){b=Ext.fly(g).getRegion();if(b.top<a.top){d=b.top-a.top}else {if(b.bottom>a.bottom){d=b.bottom-a.bottom}}if(b.left<a.left){c=b.left-a.left}else {if(b.right>a.right){c=b.right-a.right}}if(c||d){f.scrollBy(c,d,!1)}e.focus()}}},0,['dataview'],['component','box','dataview'],{'component':!0,'box':!0,'dataview':!0},['widget.dataview'],0,[Ext.view,'View',Ext,'DataView'],0);Ext.define('Ext.toolbar.TextItem',{extend:Ext.toolbar.Item,alias:'widget.tbtext',alternateClassName:'Ext.Toolbar.TextItem',text:'',renderTpl:'{text}',baseCls:'x-toolbar-text',beforeRender:function(){var a=this;Ext.toolbar.Item.prototype.beforeRender.call(this);Ext.apply(a.renderData,{text:a.text})},setText:function(b){var a=this;a.text=b;if(a.rendered){a.el.update(b);a.updateLayout()}}});Ext.cmd.derive('Ext.grid.CellContext',Ext.Base,{isCellContext:!0,constructor:function(a){this.view=a},setPosition:function(a,c){var b=this;if(arguments.length===1){if(a.view){b.view=a.view}c=a.column;a=a.row}b.setRow(a);b.setColumn(c);return b},setRow:function(b){var a=this;if(b!==undefined){if(typeof b==='number'){a.row=Math.max(Math.min(b,a.view.dataSource.getCount()-1),0);a.record=a.view.dataSource.getAt(b)}else {if(b.isModel){a.record=b;a.row=a.view.indexOf(b)}else {if(b.tagName){a.record=a.view.getRecord(b);a.row=a.view.indexOf(a.record)}}}}},setColumn:function(a){var b=this,c=b.view.ownerCt.columnManager;if(a!==undefined){if(typeof a==='number'){b.column=a;b.columnHeader=c.getHeaderAtIndex(a)}else {if(a.isHeader){b.columnHeader=a;b.column=c.getHeaderIndex(a)}}}}},1,0,0,0,0,0,[Ext.grid,'CellContext'],0);Ext.cmd.derive('Ext.grid.ColumnComponentLayout',Ext.layout.component.Auto,{type:'columncomponent',setWidthInDom:!0,beginLayout:function(a){var b=this;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.titleContext=a.getEl('titleEl');a.triggerContext=a.getEl('triggerEl')},beginLayoutCycle:function(d){var b=this,a=b.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(d.widthModel.shrinkWrap){a.el.setWidth('')}var c=a.isLast&&a.isSubHeader?'0':'';if(c!==b.lastBorderRightWidth){a.el.dom.style.borderRightWidth=b.lasBorderRightWidth=c}a.titleEl.setStyle({paddingTop:'',paddingBottom:''})},publishInnerHeight:function(a,h){if(!h){return}var i=this,e=i.owner,g=h-a.getBorderInfo().height,b=g,d,c,f,j;if(!e.noWrap&&!a.hasDomProp('width')){i.done=!1;return}if(a.hasRawContent){c=b;d=e.textEl.getHeight();if(d){b-=d;if(b>0){f=Math.floor(b/2);j=b-f;a.titleContext.setProp('padding-top',f);a.titleContext.setProp('padding-bottom',j)}}}else {c=e.titleEl.getHeight();a.setProp('innerHeight',g-c,!1)}if((Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext){a.triggerContext.setHeight(c)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishOwnerHeight:function(a,b){Ext.layout.component.Auto.prototype.publishOwnerHeight.apply(this,arguments);if((Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext){a.triggerContext.setHeight(b)}},publishInnerWidth:function(a,b){if(!a.hasRawContent){a.setProp('innerWidth',b-a.getBorderInfo().width,!1)}},calculateOwnerHeightFromContentHeight:function(a,b){var c=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(!a.hasRawContent){if(this.owner.noWrap||a.hasDomProp('width')){return b+this.owner.titleEl.getHeight()+a.getBorderInfo().height}return null}return c},calculateOwnerWidthFromContentWidth:function(a,d){var b=this.owner,f=Math.max(d,b.textEl.getWidth()+a.titleContext.getPaddingInfo().width),e=a.getPaddingInfo().width,c=this.getTriggerOffset(b,a);return f+e+c},getTriggerOffset:function(a,c){var b=0;if(c.widthModel.shrinkWrap&&!a.menuDisabled){if(a.query('>:not([hidden])').length===0){b=a.self.triggerElWidth}}return b}},0,0,0,0,['layout.columncomponent'],0,[Ext.grid,'ColumnComponentLayout'],0);Ext.cmd.derive('Ext.grid.ColumnLayout',Ext.layout.container.HBox,{type:'gridcolumn',reserveOffset:!1,firstHeaderCls:'x-column-header-first',lastHeaderCls:'x-column-header-last',initLayout:function(){if(!this.scrollbarWidth){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}this.grid=this.owner.up('[scrollerOwner]');Ext.layout.container.HBox.prototype.initLayout.call(this)},beginLayout:function(e){var d=this,j=d.owner,f=d.grid,a=f.view,i=d.getVisibleItems(),k=i.length,g=d.firstHeaderCls,h=d.lastHeaderCls,c,b;if(f.lockable){if(j.up('tablepanel')===a.normalGrid){a=a.normalGrid.getView()}else {a=null}}for(c=0;c<k;c++){b=i[c];b.isLast=!1;b.removeCls([g,h]);if(c===0){b.addCls(g)}if(c===k-1){b.addCls(h);b.isLast=!0}}Ext.layout.container.HBox.prototype.beginLayout.apply(this,arguments);if(!j.isColumn&&Ext.getScrollbarSize().width&&!f.collapsed&&a&&a.rendered&&(e.viewTable=a.body.dom)){e.viewContext=e.context.getCmp(a)}},roundFlex:function(a){return Math.floor(a)},calculate:function(a){Ext.layout.container.HBox.prototype.calculate.apply(this,arguments);if(a.state.parallelDone&&(!this.owner.forceFit||a.flexedItems.length)){a.setProp('columnWidthsDone',!0)}if(a.viewContext){a.state.tableHeight=a.viewTable.offsetHeight}},completeLayout:function(a){var b=this,c=b.owner,d=a.state;Ext.layout.container.HBox.prototype.completeLayout.apply(this,arguments);if(!a.flexedItems.length&&!d.flexesCalculated&&c.forceFit&&b.convertWidthsToFlexes(a)){b.cacheFlexes(a);a.invalidate({state:{flexesCalculated:!0}})}else {a.setProp('columnWidthsDone',!0)}},convertWidthsToFlexes:function(d){var i=this,f=0,h=i.sizeModels.calculated,e,g,c,a,b;e=d.childItems;g=e.length;for(c=0;c<g;c++){a=e[c];b=a.target;f+=a.props.width;if(!(b.fixed||b.resizable===!1)){b.flex=d.childItems[c].flex=a.props.width;b.width=null;a.widthModel=h}}return f!==d.props.width},getContainerSize:function(b){var e=this,c,a=b.viewContext,d;if(e.owner.isColumn){c=e.getColumnContainerSize(b)}else {c=Ext.layout.container.HBox.prototype.getContainerSize.apply(this,arguments);if(a&&!a.heightModel.shrinkWrap&&a.target.componentLayout.ownerContext){d=a.getProp('height');if(isNaN(d)){e.done=!1}else {if(b.state.tableHeight>d){c.width-=Ext.getScrollbarSize().width;b.state.parallelDone=!1;a.invalidate()}}}}return c},getColumnContainerSize:function(c){var h=c.paddingContext.getPaddingInfo(),e=0,d=0,g,f,b,a;if(!c.widthModel.shrinkWrap){++d;b=c.getProp('innerWidth');g=typeof b=='number';if(g){++e;b-=h.width;if(b<0){b=0}}}if(!c.heightModel.shrinkWrap){++d;a=c.getProp('innerHeight');f=typeof a=='number';if(f){++e;a-=h.height;if(a<0){a=0}}}return {width:b,height:a,needed:d,got:e,gotAll:e==d,gotWidth:g,gotHeight:f}},publishInnerCtSize:function(a){var b=this,c=a.state.boxPlan.targetSize,e=a.peek('contentWidth'),d;b.owner.tooNarrow=a.state.boxPlan.tooNarrow;if(e!=null&&!b.owner.isColumn){c.width=e;d=b.owner.ownerCt.view;if(d.scrollFlags.y){c.width+=Ext.getScrollbarSize().width}}return Ext.layout.container.HBox.prototype.publishInnerCtSize.apply(this,arguments)}},0,0,0,0,['layout.gridcolumn'],0,[Ext.grid,'ColumnLayout'],0);Ext.cmd.derive('Ext.grid.ColumnManager',Ext.Base,{alternateClassName:['Ext.grid.ColumnModel'],columns:null,constructor:function(b,a){this.headerCt=b;if(a){this.secondHeaderCt=a}},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},getHeaderIndex:function(a){if(a.isGroupHeader){a=a.down(':not([isGroupHeader])')}return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(b){var a=this.getColumns();return a.length?a[b]:null},getHeaderById:function(e){var c=this.getColumns(),d=c.length,a,b;for(a=0;a<d;++a){b=c[a];if(b.getItemId()===e){return b}}return null},getVisibleHeaderClosestToIndex:function(b){var a=this.getHeaderAtIndex(b);if(a&&a.hidden){a=a.next(':not([hidden])')||a.prev(':not([hidden])')}return a},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns();if(this.secondHeaderCt){Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())}},invalidate:function(){this.columns=null;if(this.rootColumns){this.rootColumns.invalidate()}}},1,0,0,0,0,0,[Ext.grid,'ColumnManager',Ext.grid,'ColumnModel'],function(){this.createAlias('indexOf','getHeaderIndex')});Ext.cmd.derive('Ext.panel.Table',Ext.panel.Panel,{extraBaseCls:'x-grid',extraBodyCls:'x-grid-body',layout:'fit',hasView:!1,viewType:null,selType:'rowmodel',scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:'x-grid-with-col-lines',rowLinesCls:'x-grid-with-row-lines',noRowLinesCls:'x-grid-no-row-lines',hiddenHeaderCtCls:'x-grid-header-ct-hidden',hiddenHeaderCls:'x-grid-header-hidden',resizeMarkerCls:'x-grid-resize-marker',emptyCls:'x-grid-empty',initComponent:function(){var a=this,b=a.columns||a.colModel,c,d,g,f=a.store=Ext.data.StoreManager.lookup(a.store||'ext-empty-store'),e;if(a.columnLines){a.addCls(a.colLinesCls)}a.addCls(a.rowLines?a.rowLinesCls:a.noRowLinesCls);if(b instanceof Ext.grid.header.Container){b.isRootHeader=!0;a.headerCt=b}else {if(a.enableLocking||a.hasLockedColumns(b)){a.self.mixin('lockable',Ext.grid.locking.Lockable);a.injectLockable()}else {if(Ext.isArray(b)){b={items:b}}Ext.apply(b,{grid:a,forceFit:a.forceFit,sortable:a.sortableColumns,enableColumnMove:a.enableColumnMove,enableColumnResize:a.enableColumnResize,sealed:a.sealedColumns,isRootHeader:!0});if(Ext.isDefined(a.enableColumnHide)){b.enableColumnHide=a.enableColumnHide}if(!a.headerCt){a.headerCt=new Ext.grid.header.Container(b)}}}a.columns=a.headerCt.getGridColumns();a.scrollTask=new Ext.util.DelayedTask(a.syncHorizontalScroll,a);a.addEvents('reconfigure','viewready');a.bodyCls=a.bodyCls||'';a.bodyCls+=' '+a.extraBodyCls;a.cls=a.cls||'';a.cls+=' '+a.extraBaseCls;delete a.autoScroll;if(!a.hasView){e=a.headerCt.getGridColumns();if(f.buffered&&!f.remoteSort){for(d=0,g=e.length;d<g;d++){e[d].sortable=!1}}if(a.hideHeaders){a.headerCt.height=0;a.headerCt.hiddenHeaders=!0;a.headerCt.addCls(a.hiddenHeaderCtCls);a.addCls(a.hiddenHeaderCls);if(Ext.isIEQuirks){a.headerCt.style={display:'none'}}}a.relayHeaderCtEvents(a.headerCt);a.features=a.features||[];if(!Ext.isArray(a.features)){a.features=[a.features]}a.dockedItems=[].concat(a.dockedItems||[]);a.dockedItems.unshift(a.headerCt);a.viewConfig=a.viewConfig||{};c=a.getView();a.items=[c];a.hasView=!0;if(!a.hideHeaders){c.on({scroll:{fn:a.onHorizontalScroll,element:'el',scope:a}})}a.bindStore(f,!0);a.mon(c,{viewready:a.onViewReady,refresh:a.onRestoreHorzScroll,scope:a})}a.relayEvents(a.view,['beforeitemmousedown','beforeitemmouseup','beforeitemmouseenter','beforeitemmouseleave','beforeitemclick','beforeitemdblclick','beforeitemcontextmenu','itemmousedown','itemmouseup','itemmouseenter','itemmouseleave','itemclick','itemdblclick','itemcontextmenu','beforecellclick','cellclick','beforecelldblclick','celldblclick','beforecellcontextmenu','cellcontextmenu','beforecellmousedown','cellmousedown','beforecellmouseup','cellmouseup','beforecellkeydown','cellkeydown','beforecontainermousedown','beforecontainermouseup','beforecontainermouseover','beforecontainermouseout','beforecontainerclick','beforecontainerdblclick','beforecontainercontextmenu','containermouseup','containermouseover','containermouseout','containerclick','containerdblclick','containercontextmenu','selectionchange','beforeselect','select','beforedeselect','deselect']);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);a.addStateEvents(['columnresize','columnmove','columnhide','columnshow','sortchange','filterchange']);if(!a.lockable&&a.headerCt){a.headerCt.on('afterlayout',a.onRestoreHorzScroll,a)}},hasLockedColumns:function(a){var b,d,c;if(Ext.isObject(a)){a=a.items}for(b=0,d=a.length;b<d;b++){c=a[b];if(!c.processed&&c.locked){return !0}}},relayHeaderCtEvents:function(a){this.relayEvents(a,['columnresize','columnmove','columnhide','columnshow','columnschanged','sortchange','headerclick','headercontextmenu','headertriggerclick'])},getState:function(){var b=this,a=Ext.panel.Panel.prototype.getState.call(this),c=b.store.getState();a=b.addPropertyToState(a,'columns',b.headerCt.getColumnsState());if(c){a.storeState=c}return a},applyState:function(b){var f=this,a=b.sort,d=b.storeState,c=f.store,e=b.columns;delete b.columns;Ext.panel.Panel.prototype.applyState.apply(this,arguments);if(e){f.headerCt.applyColumnsState(e)}if(a){if(c.remoteSort){c.sort({property:a.property,direction:a.direction,root:a.root},null,!1)}else {c.sort(a.property,a.direction)}}else {if(d){c.applyState(d)}}},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();Ext.widget(Ext.apply({grid:a,deferInitialRefresh:a.deferRowRender!==!1,trackOver:a.trackMouseOver!==!1,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,columnLines:a.columnLines,rowLines:a.rowLines,selModel:b,features:a.features,panel:a,emptyText:a.emptyText||''},a.viewConfig));if(a.view.emptyText){a.view.emptyText='<div class="'+a.emptyCls+'">'+a.view.emptyText+'</div>'}a.view.getComponentLayout().headerCt=a.headerCt;a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view}return a.view},setAutoScroll:Ext.emptyFn,processEvent:function(g,h,f,d,b,j,e,i){var c=this,a;if(b!==-1){a=c.columnManager.getColumns()[b];return a.processEvent.apply(a,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(b,a){this.getView().scrollBy(0,b,a)},scrollByDeltaX:function(b,a){this.getView().scrollBy(b,0,a)},afterCollapse:function(){var a=this;a.saveScrollPos();a.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var a=this;Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);a.restoreScrollPos();a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(e,f,b,c,d){var a=this;if(a.optimizedColumnMove===!1){a.view.refresh()}else {a.view.moveColumn(c,d,b)}a.delayScroll()},onHeaderHide:function(a,b){this.view.refresh();this.delayScroll()},onHeaderShow:function(a,b){this.view.refresh();this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])}},onViewReady:function(){this.fireEvent('viewready',this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;if(a){this.syncHorizontalScroll(a,!0)}},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner){a=this.up('[scrollerOwner]')}return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},!0))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},!0))},getSelectionModel:function(){var b=this,a=b.selModel,d,c,e;if(!a){a={};d=!0}if(!a.events){e=a.selType||b.selType;d=!a.mode;a=b.selModel=Ext.create('selection.'+e,a)}if(b.simpleSelect){c='SIMPLE'}else {if(b.multiSelect){c='MULTI'}}Ext.applyIf(a,{allowDeselect:b.allowDeselect});if(c&&d){a.setSelectionMode(c)}if(!a.hasRelaySetup){b.relayEvents(a,['selectionchange','beforeselect','beforedeselect','select','deselect']);a.hasRelaySetup=!0}if(b.disableSelection){a.locked=!0}return a},getScrollTarget:function(){var b=this.getScrollerOwner(),a=b.query('tableview');return a[1]||a[0]},onHorizontalScroll:function(b,a){this.syncHorizontalScroll(a.scrollLeft)},syncHorizontalScroll:function(c,b){var a=this,d;b=b===!0;if(a.rendered&&(b||c!==a.scrollLeftPos)){if(b){d=a.getScrollTarget();d.el.dom.scrollLeft=c}a.headerCt.el.dom.scrollLeft=c;a.scrollLeftPos=c}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(b,f){var a=this,d=a.getView(),e=b&&b.buffered,c;a.store=b;c=a.findPlugin('bufferedrenderer');if(c){a.verticalScroller=c;if(c.store){c.bindStore(b)}}else {if(e){a.verticalScroller=c=a.addPlugin(Ext.apply({ptype:'bufferedrenderer'},a.initialConfig.verticalScroller))}}if(d.store!==b){if(f){d.bindStore(b,!1,'dataSource')}else {d.bindStore(b,!1)}}a.mon(b,{load:a.onStoreLoad,scope:a});a.storeRelayers=a.relayEvents(b,['filterchange']);if(c){a.invalidateScrollerOnRefresh=!1}if(a.invalidateScrollerOnRefresh!==undefined){d.preserveScrollOnRefresh=!a.invalidateScrollerOnRefresh}},unbindStore:function(){var a=this,b=a.store;if(b){a.store=null;a.mun(b,{load:a.onStoreLoad,scope:a});Ext.destroy(a.storeRelayers)}},reconfigure:function(c,b){var a=this,f=a.getView(),g,e=a.store,d=a.headerCt,h=d?d.items.getRange():a.columns;if(b){b=Ext.Array.slice(b)}a.fireEvent('beforereconfigure',a,c,b,e,h);if(a.lockable){a.reconfigureLockable(c,b)}else {Ext.suspendLayouts();if(b){delete a.scrollLeftPos;d.removeAll();d.add(b)}if(c&&(c=Ext.StoreManager.lookup(c))!==e){if(a.store){a.unbindStore()}g=f.deferInitialRefresh;f.deferInitialRefresh=!1;a.bindStore(c);f.deferInitialRefresh=g}else {a.getView().refresh()}d.setSortState();Ext.resumeLayouts(!0)}a.fireEvent('reconfigure',a,c,b,e,h)},beforeDestroy:function(){var a=this.scrollTask;if(a){a.cancel();this.scrollTask=null}Ext.panel.Panel.prototype.beforeDestroy.call(this)},onDestroy:function(){if(this.lockable){this.destroyLockable()}Ext.panel.Panel.prototype.onDestroy.call(this)}},0,['tablepanel'],['component','box','container','panel','tablepanel'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0},['widget.tablepanel'],0,[Ext.panel,'Table'],0);Ext.cmd.derive('Ext.util.CSS',Ext.Base,function(){var a,b=null,c=document,e=/(-[a-z])/gi,d=function(b,a){return a.charAt(1).toUpperCase()};return {singleton:!0,rules:b,initialized:!1,constructor:function(){a=this},createStyleSheet:function(e,g){var d,f=c.getElementsByTagName('head')[0],b=c.createElement('style');b.setAttribute('type','text/css');if(g){b.setAttribute('id',g)}if(Ext.isIE){f.appendChild(b);d=b.styleSheet;d.cssText=e}else {try{b.appendChild(c.createTextNode(e))}catch(h){b.cssText=e}f.appendChild(b);d=b.styleSheet?b.styleSheet:b.sheet||c.styleSheets[c.styleSheets.length-1]}a.cacheStyleSheet(d);return d},removeStyleSheet:function(b){var a=c.getElementById(b);if(a){a.parentNode.removeChild(a)}},swapStyleSheet:function(d,e){var b;a.removeStyleSheet(d);b=c.createElement('link');b.setAttribute('rel','stylesheet');b.setAttribute('type','text/css');b.setAttribute('id',d);b.setAttribute('href',e);c.getElementsByTagName('head')[0].appendChild(b)},refreshCache:function(){return a.getRules(!0)},cacheStyleSheet:function(d){if(!b){b=a.rules={}}try{var h=d.cssRules||d.rules,g=h.length-1,f=d.imports,i=f?f.length:0,c,e;for(e=0;e<i;++e){a.cacheStyleSheet(f[e])}for(;g>=0;--g){c=h[g];if(c.styleSheet){a.cacheStyleSheet(c.styleSheet)}a.cacheRule(c,d)}}catch(j){}},cacheRule:function(d,g){if(d.styleSheet){return a.cacheStyleSheet(d.styleSheet)}var c=d.selectorText,f,e;if(c){c=c.split(',');f=c.length;for(e=0;e<f;e++){b[Ext.String.trim(c[e]).toLowerCase()]={parentStyleSheet:g,cssRule:d}}}},getRules:function(e){var d={},c;if(b===null||e){a.refreshCache()}for(c in b){d[c]=b[c].cssRule}return d},refreshCache:function(){var e=c.styleSheets,d=0,f=e.length;b=a.rules={};for(;d<f;d++){try{if(!e[d].disabled){a.cacheStyleSheet(e[d])}}catch(g){}}},getRule:function(c,g,f){var d,e;if(!b||g){a.refreshCache()}if(!Ext.isArray(c)){e=b[c.toLowerCase()];if(e&&!f){e=e.cssRule}return e||null}for(d=0;d<c.length;d++){if(b[c[d]]){return f?b[c[d].toLowerCase()]:b[c[d].toLowerCase()].cssRule}}return null},createRule:function(b,c,d){var f,e=b.cssRules||b.rules,g=e.length;if(b.insertRule){b.insertRule(c+'{'+d+'}',g)}else {b.addRule(c,d||' ')}a.cacheRule(f=e[g],b);return f},updateRule:function(c,b,i){var f,g,h;if(!Ext.isArray(c)){f=a.getRule(c);if(f){if(arguments.length==2){h=Ext.Element.parseStyles(b);for(b in h){f.style[b.replace(e,d)]=h[b]}}else {f.style[b.replace(e,d)]=i}return !0}}else {for(g=0;g<c.length;g++){if(a.updateRule(c[g],b,i)){return !0}}}return !1},deleteRule:function(f){var e=a.getRule(f,!1,!0),c,d;if(e){c=e.parentStyleSheet;d=Ext.Array.indexOf(c.cssRules||c.rules,e.cssRule);if(c.deleteRule){c.deleteRule(d)}else {c.removeRule(d)}delete b[f]}}}},1,0,0,0,0,0,[Ext.util,'CSS'],0);Ext.cmd.derive('Ext.view.TableLayout',Ext.layout.component.Auto,{type:'tableview',beginLayout:function(a){var b=this,c=b.owner.lockingPartner,d=b.owner;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(c){b.lockedGrid=b.owner.up('[lockable]');b.lockedGrid.needsRowHeightSync=!0;if(!a.lockingPartner){a.lockingPartner=a.context.getItem(c,c.el);if(a.lockingPartner&&!a.lockingPartner.lockingPartner){a.lockingPartner.lockingPartner=a}}}a.headerContext=a.context.getCmp(b.headerCt);if(b.owner.body.dom){a.bodyContext=a.getEl(b.owner.body)}if(Ext.isWebKit){d.el.select(d.getBodySelector()).setStyle('table-layout','auto')}},calculate:function(a){var b=this,e=b.lockingPartner,f=b.owner,c=0,d;if(a.headerContext.hasProp('columnWidthsDone')){if(!b.setColumnWidths(a)){b.done=!1;return}a.state.columnWidthsSynced=!0;if(a.bodyContext){d=b.owner.el.down('.'+f.ownerCt.emptyCls,!0);if(!d){c=a.bodyContext.el.dom.offsetHeight;a.bodyContext.setHeight(c,!1)}else {c=d.offsetHeight}a.setProp('contentHeight',c)}if(e&&!e.state.columnWidthsSynced){b.done=!1}else {Ext.layout.component.Auto.prototype.calculate.apply(this,arguments)}}else {b.done=!1}},measureContentHeight:function(a){var b=a.lockingPartner;if(!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced)){return Ext.layout.component.Auto.prototype.measureContentHeight.apply(this,arguments)}},setColumnWidths:function(l){var h=this,b=h.owner,c=l.context,j=h.headerCt.getVisibleGridColumns(),d,e=0,m=j.length,i=0,f=0,g,a,k=!Ext.isBorderBox;if(c){c.currentLayout=h}for(e=0;e<m;e++){d=j[e];g=c.getCmp(d);a=g.props.width;if(isNaN(a)){g.getProp('width');return !1}i+=a;if(k&&b.columnLines){if(!f){f=c.getCmp(d).borderInfo.width||1}a-=f}b.body.select(b.getColumnSizerSelector(d)).setWidth(a)}b.el.select(b.getBodySelector()).setWidth(i);return !0},finishedLayout:function(){var a=this,b=a.owner;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);if(Ext.isWebKit){b.el.select(b.getBodySelector()).setStyle('table-layout','')}if(b.refreshCounter&&a.lockedGrid&&a.lockedGrid.syncRowHeight&&a.lockedGrid.needsRowHeightSync){a.lockedGrid.syncRowHeights();a.lockedGrid.needsRowHeightSync=!1}}},0,0,0,0,['layout.tableview'],0,[Ext.view,'TableLayout'],0);Ext.cmd.derive('Ext.view.NodeCache',Ext.Base,{constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.AbstractElement.Fly()},clear:function(e){var a=this,c=this.elements,d,b;if(e){for(d in c){b=c[d];b.parentNode.removeChild(b)}}a.elements={};a.count=a.startIndex=0;a.endIndex=-1},fill:function(e,a){var c=this,f=c.elements={},b,d=e.length;if(!a){a=0}for(b=0;b<d;b++){f[a+b]=e[b]}c.startIndex=a;c.endIndex=a+d-1;c.count=d;return this},insert:function(c,f){var b=this,e=b.elements,a,d=f.length;if(b.count){if(c<b.count){for(a=b.endIndex+d;a>=c+d;a--){e[a]=e[a-d];e[a].setAttribute('data-recordIndex',a)}}b.endIndex=b.endIndex+d}else {b.startIndex=c;b.endIndex=c+d-1}for(a=0;a<d;a++,c++){e[c]=f[a];e[c].setAttribute('data-recordIndex',c)}b.count+=d},item:function(a,c){var d=this.elements[a],b=null;if(d){b=c?this.elements[a]:this.el.attach(this.elements[a])}return b},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(e,a){var d=this.elements,c=[],b;if(arguments.length<2){a=this.endIndex}else {a=Math.min(this.endIndex,a-1)}for(b=e||this.startIndex;b<=a;b++){c.push(d[b])}return c},replaceElement:function(a,b,d){var e=this.elements,c=typeof a==='number'?a:this.indexOf(a);if(c>-1){b=Ext.getDom(b);if(d){a=e[c];a.parentNode.insertBefore(b,a);Ext.removeNode(a);b.setAttribute('data-recordIndex',c)}this.elements[c]=b}return this},indexOf:function(b){var c=this.elements,a;b=Ext.getDom(b);for(a=this.startIndex;a<=this.endIndex;a++){if(c[a]===b){return a}}return -1},removeRange:function(f,b,i){var c=this,d=c.elements,h,a,g,e;if(b===undefined){b=c.count}else {b=Math.min(c.endIndex+1,b+1)}if(!f){f=0}g=b-f;for(a=f,e=b;a<c.endIndex;a++,e++){if(i&&a<b){Ext.removeNode(d[a])}if(e<=c.endIndex){h=d[a]=d[e];h.setAttribute('data-recordIndex',a)}else {delete d[a]}}c.count-=g;c.endIndex-=g},removeElement:function(a,k){var b=this,i,f,h=b.elements,j,e,c=0,d,g;if(Ext.isArray(a)){i=a;a=[];e=i.length;for(c=0;c<e;c++){f=i[c];if(typeof f!=='number'){f=b.indexOf(f)}if(f>=b.startIndex&&f<=b.endIndex){a[a.length]=f}}Ext.Array.sort(a);e=a.length}else {if(a<b.startIndex||a>b.endIndex){return}e=1;a=[a]}for(d=g=a[0],c=0;d<=b.endIndex;d++,g++){if(c<e&&d===a[c]){g++;c++;if(k){Ext.removeNode(h[d])}}if(g<=b.endIndex&&g>=b.startIndex){j=h[d]=h[g];j.setAttribute('data-recordIndex',d)}else {delete h[d]}}b.endIndex-=e;b.count-=e},scroll:function(i,l,h){var b=this,c=b.elements,j=i.length,a,e,k,d,g=b.view.getNodeContainer(),f=document.createDocumentFragment();if(l==-1){for(a=b.endIndex-h+1;a<=b.endIndex;a++){e=c[a];delete c[a];e.parentNode.removeChild(e)}b.endIndex-=h;d=b.view.bufferRender(i,b.startIndex-=j);for(a=0;a<j;a++){c[b.startIndex+a]=d[a];f.appendChild(d[a])}g.insertBefore(f,g.firstChild)}else {k=b.startIndex+h;for(a=b.startIndex;a<k;a++){e=c[a];delete c[a];e.parentNode.removeChild(e)}b.startIndex=a;d=b.view.bufferRender(i,b.endIndex+1);for(a=0;a<j;a++){c[b.endIndex+=1]=d[a];f.appendChild(d[a])}g.appendChild(f)}b.count=b.endIndex-b.startIndex+1}},1,0,0,0,0,0,[Ext.view,'NodeCache'],0);Ext.cmd.derive('Ext.view.Table',Ext.view.View,{componentLayout:'tableview',baseCls:'x-grid-view',firstCls:'x-grid-cell-first',lastCls:'x-grid-cell-last',headerRowSelector:'tr.x-grid-header-row',selectedItemCls:'x-grid-row-selected',beforeSelectedItemCls:'x-grid-row-before-selected',selectedCellCls:'x-grid-cell-selected',focusedItemCls:'x-grid-row-focused',beforeFocusedItemCls:'x-grid-row-before-focused',tableFocusedFirstCls:'x-grid-table-focused-first',tableSelectedFirstCls:'x-grid-table-selected-first',tableOverFirstCls:'x-grid-table-over-first',overItemCls:'x-grid-row-over',beforeOverItemCls:'x-grid-row-before-over',altRowCls:'x-grid-row-alt',dirtyCls:'x-grid-dirty-cell',rowClsRe:new RegExp('(?:^|\\s*)x-grid-row-(first|last|alt)(?:\\s+|$)','g'),cellRe:new RegExp('x-grid-cell-([^\\s]+) ',''),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,tpl:'{%values.view.tableTpl.applyOut(values, out)%}',tableTpl:['{%','var view=values.view,tableCls=["x-" + view.id + "-table x-grid-table"];','if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;','if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;','%}','<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">','{[view.renderColumnSizer(out)]}','{[view.renderTHead(values, out)]}','{[view.renderTFoot(values, out)]}','<tbody id="{view.id}-body">','{%','view.renderRows(values.rows, values.viewStartIndex, out);','%}','</tbody>','</table>',{priority:0}],rowTpl:['{%','var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-data-row";','%}','<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%','parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)','%}','</tpl>','</tr>',{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>','</td>',{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:['x-grid-cell x-grid-td']},renderBuffer:document.createElement('div'),constructor:function(a){if(a.grid.isTree){a.baseCls='x-tree-view'}Ext.view.View.prototype.constructor.call(this,a)},initComponent:function(){var a=this,b=a.scroll;this.addEvents('beforecellclick','cellclick','beforecelldblclick','celldblclick','beforecellcontextmenu','cellcontextmenu','beforecellmousedown','cellmousedown','beforecellmouseup','cellmouseup','beforecellkeydown','cellkeydown');a.body=new Ext.dom.Element.Fly();a.body.id=a.id+'gridBody';a.autoScroll=undefined;if(!a.trackOver){a.overItemCls=null;a.beforeOverItemCls=null}if(b===!0||b==='both'){a.autoScroll=!0}else {if(b==='horizontal'){a.overflowX='auto'}else {if(b==='vertical'){a.overflowY='auto'}}}a.selModel.view=a;a.headerCt.view=a;a.grid.view=a;a.initFeatures(a.grid);delete a.grid;a.tpl=a.getTpl('tpl');a.itemSelector=a.getItemSelector();a.all=new Ext.view.NodeCache(a);Ext.view.View.prototype.initComponent.call(this)},moveColumn:function(c,g,k){var a=this,f=k>1?document.createDocumentFragment():undefined,i=g,m=a.getGridColumns().length,j=m-1,p=(a.firstCls||a.lastCls)&&(g===0||g==m||c===0||c==j),e,h,o,l,d,b,n;if(a.rendered&&g!==c){o=a.el.query(a.getDataRowSelector());if(g>c&&f){i-=k}for(e=0,l=o.length;e<l;e++){d=o[e];b=d.childNodes;if(p){if(b.length===1){Ext.fly(b[0]).addCls(a.firstCls);Ext.fly(b[0]).addCls(a.lastCls);continue}if(c===0){Ext.fly(b[0]).removeCls(a.firstCls);Ext.fly(b[1]).addCls(a.firstCls)}else {if(c===j){Ext.fly(b[j]).removeCls(a.lastCls);Ext.fly(b[j-1]).addCls(a.lastCls)}}if(g===0){Ext.fly(b[0]).removeCls(a.firstCls);Ext.fly(b[c]).addCls(a.firstCls)}else {if(g===m){Ext.fly(b[j]).removeCls(a.lastCls);Ext.fly(b[c]).addCls(a.lastCls)}}}if(f){for(h=0;h<k;h++){f.appendChild(b[c])}d.insertBefore(f,b[i]||null)}else {d.insertBefore(b[c],b[i]||null)}}n=a.el.query(a.getBodySelector());for(e=0,l=n.length;e<l;e++){d=n[e];if(f){for(h=0;h<k;h++){f.appendChild(d.childNodes[c])}d.insertBefore(f,d.childNodes[i]||null)}else {d.insertBefore(d.childNodes[c],d.childNodes[i]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(a,c,b){this.mon(this,a,c,b,{element:'el'})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(b,a){var c=this.getNode(b,!0);return Ext.fly(c).down(a.getCellSelector())},getFeature:function(b){var a=this.featuresMC;if(a){return a.get(b)}},findFeature:function(a){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===a){return !0}})}},initFeatures:function(e){var a=this,d,c,b,f;a.tableTpl=Ext.XTemplate.getTpl(this,'tableTpl');a.rowTpl=Ext.XTemplate.getTpl(this,'rowTpl');a.cellTpl=Ext.XTemplate.getTpl(this,'cellTpl');a.featuresMC=new Ext.util.MixedCollection();c=a.features=a.constructFeatures();f=c?c.length:0;for(d=0;d<f;d++){b=c[d];b.view=a;b.grid=e;a.featuresMC.add(b);b.init(e)}},renderTHead:function(c,e){var b=c.view.headerFns,d,a;if(b){for(a=0,d=b.length;a<d;++a){b[a].call(this,c,e)}}},addHeaderFn:function(){var a=this.headerFns;if(!a){a=this.headerFns=[]}a.push(fn)},renderTFoot:function(c,e){var b=c.view.footerFns,d,a;if(b){for(a=0,d=b.length;a<d;++a){b[a].call(this,c,e)}}},addFooterFn:function(b){var a=this.footerFns;if(!a){a=this.footerFns=[]}a.push(b)},addTableTpl:function(a){return this.addTpl('tableTpl',a)},addRowTpl:function(a){return this.addTpl('rowTpl',a)},addCellTpl:function(a){return this.addTpl('cellTpl',a)},addTpl:function(e,a){var d=this,b,c;a=Ext.Object.chain(a);if(!a.isTemplate){a.applyOut=d.tplApplyOut}for(b=d[e];a.priority<b.priority;b=b.nextTpl){c=b}if(c){c.nextTpl=a}else {d[e]=a}a.nextTpl=b;return a},tplApplyOut:function(a,b){if(this.before){if(this.before(a,b)===!1){return}}this.nextTpl.applyOut(a,b);if(this.after){this.after(a,b)}},constructFeatures:function(){var f=this,c=f.features,a,d,b=0,e;if(c){d=[];e=c.length;for(;b<e;b++){a=c[b];if(!a.isFeature){a=Ext.create('feature.'+a.ftype,a)}d[b]=a}}return d},beforeRender:function(){var a=this;Ext.view.View.prototype.beforeRender.call(this);if(!a.enableTextSelection){a.protoEl.unselectable()}},onViewScroll:function(a,b){Ext.view.View.prototype.onViewScroll.apply(this,arguments);this.fireEvent('bodyscroll',a,b)},createRowElement:function(c,d){var a=this,b=a.renderBuffer;a.tpl.overwrite(b,a.collectData([c],d));return Ext.fly(b).down(a.getNodeContainerSelector(),!0).firstChild},bufferRender:function(c,d){var a=this,b=a.renderBuffer;a.tpl.overwrite(b,a.collectData(c,d));return Ext.Array.toArray(Ext.fly(b).down(a.getNodeContainerSelector(),!0).childNodes)},collectData:function(b,a){this.rowValues.view=this;return {view:this,rows:b,viewStartIndex:a,tableStyle:this.bufferedRenderer?'position:absolute;top:'+this.bufferedRenderer.bodyTop:''}},collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var a=this,c,b=a.getBodySelector();if(b){a.body.attach(a.el.child(b,!0))}if(!a.hasLoadingHeight){c=a.up('tablepanel');Ext.suspendLayouts();Ext.view.View.prototype.refreshSize.call(this);c.updateLayout();Ext.resumeLayouts(!0)}},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute('data-boundView'))}},getRecord:function(b){b=this.getNode(b);if(b){var a=b.getAttribute('data-recordIndex');if(a){a=parseInt(a,10);if(a>-1){return this.store.data.getAt(a)}}return this.dataSource.data.get(b.getAttribute('data-recordId'))}},indexOf:function(a){a=this.getNode(a,!1);if(!a&&a!==0){return -1}return this.all.indexOf(a)},indexInStore:function(a){a=this.getNode(a,!0);if(!a&&a!==0){return -1}var b=a.getAttribute('data-recordIndex');if(b){return parseInt(b,10)}return this.dataSource.indexOf(this.getRecord(a))},renderRows:function(d,c,f){var a=this.rowValues,e=d.length,b;a.view=this;a.columns=this.ownerCt.columnManager.getColumns();for(b=0;b<e;b++,c++){a.itemClasses.length=a.rowClasses.length=0;this.renderRow(d[b],c,f)}a.view=a.columns=a.record=null},renderColumnSizer:function(f){var c=this.getGridColumns(),e=c.length,a,b,d;for(a=0;a<e;a++){b=c[a];d=b.hidden?0:b.lastBox?b.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth;f.push('<colgroup><col class="','x-','grid-cell-',c[a].getItemId(),'" style="width:'+d+'px"></colgroup>')}},renderRow:function(c,d,j){var b=this,k=d===-1,f=b.selModel,a=b.rowValues,e=a.itemClasses,g=a.rowClasses,h,i=b.rowTpl;a.record=c;a.recordId=c.internalId;a.recordIndex=d;a.rowId=b.getRowId(c);a.itemCls=a.rowCls='';if(!a.columns){a.columns=b.ownerCt.columnManager.getColumns()}e.length=g.length=0;if(!k){e[0]='x-grid-row';if(f&&f.isRowSelected){if(f.isRowSelected(d+1)){e.push(b.beforeSelectedItemCls)}if(f.isRowSelected(c)){e.push(b.selectedItemCls)}}if(b.stripeRows&&d%2!==0){g.push(b.altRowCls)}if(b.getRowClass){h=b.getRowClass(c,d,null,b.dataSource);if(h){g.push(h)}}}if(j){i.applyOut(a,j)}else {return i.apply(a)}},renderCell:function(b,f,i,h,m){var c=this,j=c.selModel,a=c.cellValues,d=a.classes,k=f.data[b.dataIndex],l=c.cellTpl,g,e;a.record=f;a.column=b;a.recordIndex=i;a.columnIndex=h;a.cellIndex=h;a.align=b.align;a.tdCls=b.tdCls;a.innerCls=b.innerCls;a.style=a.tdAttr='';a.unselectableAttr=c.enableTextSelection?'':'unselectable="on"';if(b.renderer&&b.renderer.call){g=b.renderer.call(b.scope||c.ownerCt,k,a,f,i,h,c.dataSource,c);if(a.css){f.cssWarning=!0;a.tdCls+=' '+a.css;delete a.css}}else {g=k}a.value=g==null||g===''?'&#160;':g;d[1]='x-grid-cell-'+b.getItemId();e=2;if(b.tdCls){d[e++]=b.tdCls}if(c.markDirty&&f.isModified(b.dataIndex)){d[e++]=c.dirtyCls}if(b.isFirstVisible){d[e++]=c.firstCls}if(b.isLastVisible){d[e++]=c.lastCls}if(!c.enableTextSelection){d[e++]='x-unselectable'}d[e++]=a.tdCls;if(j&&j.isCellSelected&&j.isCellSelected(c,i,h)){d[e++]=c.selectedCellCls}d.length=e;a.tdCls=d.join(' ');l.applyOut(a,m);a.column=null},getNode:function(d,c){var b,a=Ext.view.View.prototype.getNode.apply(this,arguments);if(a&&a.tagName){if(c){if(!(b=Ext.fly(a)).is(this.dataRowSelector)){return b.down(this.dataRowSelector,!0)}}else {if(c===!1){if(!(b=Ext.fly(a)).is(this.itemSelector)){return b.up(this.itemSelector,null,!0)}}}}return a},getRowId:function(a){return this.id+'-record-'+a.internalId},constructRowId:function(a){return this.id+'-record-'+a},getNodeById:function(a,b){a=this.constructRowId(a);return this.retrieveNode(a,b)},getNodeByRecord:function(b,a){var c=this.getRowId(b);return this.retrieveNode(c,a)},retrieveNode:function(e,d){var a=this.el.getById(e,!0),b=this.itemSelector,c;if(d===!1&&a){if(!(c=Ext.fly(a)).is(b)){return c.up(b,null,!0)}}return a},updateIndexes:Ext.emptyFn,bodySelector:'table',nodeContainerSelector:'tbody',itemSelector:'tr.x-grid-row',dataRowSelector:'tr.x-grid-data-row',cellSelector:'td.x-grid-cell',sizerSelector:'col.x-grid-cell',innerSelector:'div.x-grid-cell-inner',getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,!0)},getBodySelector:function(){return this.bodySelector+'.x-'+this.id+'-table'},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+'-'+a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(a){var b=this.cellSelector;if(a){b+='-'+a.getItemId()}return b},getCellInnerSelector:function(a){return this.getCellSelector(a)+' '+this.innerSelector},addRowCls:function(b,c){var a=this.getNode(b,!1);if(a){Ext.fly(a).addCls(c)}},removeRowCls:function(b,c){var a=this.getNode(b,!1);if(a){Ext.fly(a).removeCls(c)}},setHighlightedItem:function(c){var a=this,b=a.highlightedItem;if(b&&a.el.isAncestor(b)&&a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).removeCls(a.tableOverFirstCls)}if(c&&a.isRowStyleFirst(c)){a.getRowStyleTableEl(c).addCls(a.tableOverFirstCls)}Ext.view.View.prototype.setHighlightedItem.apply(this,arguments)},onRowSelect:function(b){var a=this;a.addRowCls(b,a.selectedItemCls);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).addCls(a.tableSelectedFirstCls)}else {a.addRowCls(b-1,a.beforeSelectedItemCls)}},onRowDeselect:function(b){var a=this;a.removeRowCls(b,[a.selectedItemCls,a.focusedItemCls]);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).removeCls([a.tableFocusedFirstCls,a.tableSelectedFirstCls])}else {a.removeRowCls(b-1,[a.beforeFocusedItemCls,a.beforeSelectedItemCls])}},onCellSelect:function(b){var a=this.getCellByPosition(b);if(a){a.addCls(this.selectedCellCls);this.scrollCellIntoView(a)}},onCellDeselect:function(b){var a=this.getCellByPosition(b,!0);if(a){Ext.fly(a).removeCls(this.selectedCellCls)}},getCellByPosition:function(a,d){if(a){var c=this.getNode(a.row,!0),b=this.ownerCt.columnManager.getHeaderAtIndex(a.column);if(b&&c){return Ext.fly(c).down(this.getCellSelector(b),d)}}return !1},getFocusEl:function(){var a=this,b;if(a.refreshCounter){b=a.focusedRow;if(!(b&&a.el.contains(b))){if(a.all.getCount()&&(b=a.getNode(a.all.item(0).dom,!0))){a.focusRow(b)}else {b=a.body}}}else {return a.el}return Ext.get(b)},onRowFocus:function(b,d,c){var a=this;if(d){a.addRowCls(b,a.focusedItemCls);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).addCls(a.tableFocusedFirstCls)}else {a.addRowCls(b-1,a.beforeFocusedItemCls)}if(!c){a.focusRow(b)}}else {a.removeRowCls(b,a.focusedItemCls);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).removeCls(a.tableFocusedFirstCls)}else {a.removeRowCls(b-1,a.beforeFocusedItemCls)}}if((Ext.isIE6||Ext.isIE7)&&!a.ownerCt.rowLines){a.repaintRow(b)}},focus:function(e,d){var c=this,a=Ext.isIE&&!d,b;if(a){b=c.el.dom.scrollLeft}Ext.view.View.prototype.focus.apply(this,arguments);if(a){c.el.dom.scrollLeft=b}},focusRow:function(b,f){var a=this,d,e=a.ownerCt&&a.ownerCt.collapsed,c;if(a.isVisible(!0)&&!e&&(b=a.getNode(b,!0))){a.scrollRowIntoView(b);c=a.getRecord(b);d=a.indexInStore(b);a.selModel.setLastFocused(c);a.focusedRow=b;a.focus(!1,f,function(){a.fireEvent('rowfocus',c,b,d)})}},scrollRowIntoView:function(a){a=this.getNode(a,!0);if(a){Ext.fly(a).scrollIntoView(this.el,!1)}},focusCell:function(b){var a=this,c=a.getCellByPosition(b),d=a.getRecord(b.row);a.focusRow(d);if(c){a.scrollCellIntoView(c);a.fireEvent('cellfocus',d,c,b)}},scrollCellIntoView:function(a){if(a.row!=null&&a.column!=null){a=this.getCellByPosition(a)}if(a){Ext.fly(a).scrollIntoView(this.el,!0)}},scrollByDelta:function(c,a){a=a||'scrollTop';var b=this.el.dom;b[a]=b[a]+=c},isDataRow:function(a){return Ext.fly(a).hasCls('x-grid-data-row')},syncRowHeights:function(b,a){b=Ext.get(b);a=Ext.get(a);b.dom.style.height=a.dom.style.height='';var f=this,e=f.rowTpl,d=b.dom.offsetHeight,c=a.dom.offsetHeight;if(d!==c){while(e){if(e.syncRowHeights){if(e.syncRowHeights(b,a)===!1){break}}e=e.nextTpl}d=b.dom.offsetHeight;c=a.dom.offsetHeight;if(d!==c){b=b.down('[data-recordId]')||b;a=a.down('[data-recordId]')||a;if(b&&a){b.dom.style.height=a.dom.style.height='';d=b.dom.offsetHeight;c=a.dom.offsetHeight;if(d>c){b.setHeight(d);a.setHeight(d)}else {if(c>d){b.setHeight(c);a.setHeight(c)}}}}}},onIdChanged:function(g,c,f,e,d){var b=this,a;if(b.viewReady){a=b.getNodeById(d);if(a){a.setAttribute('data-recordId',c.internalId);a.id=b.getRowId(c)}}},onUpdate:function(u,f,t,s){var a=this,g=a.rowTpl,q,d,c,b,h,r,o,e,n,k,m,j,l,i,p;if(a.viewReady){c=a.getNodeByRecord(f,!1);if(c){n=a.overItemCls;k=a.overItemCls;m=a.focusedItemCls;j=a.beforeFocusedItemCls;l=a.selectedItemCls;i=a.beforeSelectedItemCls;q=a.indexInStore(f);d=Ext.fly(c,'_internal');b=a.createRowElement(f,q);if(d.hasCls(n)){Ext.fly(b).addCls(n)}if(d.hasCls(k)){Ext.fly(b).addCls(k)}if(d.hasCls(m)){Ext.fly(b).addCls(m)}if(d.hasCls(j)){Ext.fly(b).addCls(j)}if(d.hasCls(l)){Ext.fly(b).addCls(l)}if(d.hasCls(i)){Ext.fly(b).addCls(i)}p=a.ownerCt.columnManager.getColumns();if(Ext.isIE9m&&c.mergeAttributes){c.mergeAttributes(b,!0)}else {h=b.attributes;r=h.length;for(e=0;e<r;e++){o=h[e].name;if(o!=='id'){c.setAttribute(o,h[e].value)}}}if(p.length){a.updateColumns(f,a.getNode(c,!0),a.getNode(b,!0),p,s)}while(g){if(g.syncContent){if(g.syncContent(c,b)===!1){break}}g=g.nextTpl}a.fireEvent('itemupdate',f,q,c);a.refreshSize()}}},updateColumns:function(s,d,h,n,p){var a=this,f,o,i,b,r=n.length,e,k,c,j,l,m=a.editingPlugin||a.lockingPartner&&a.ownerCt.ownerLockable.view.editingPlugin,q=m&&m.editing,g=a.getCellSelector();if(d.mergeAttributes){d.mergeAttributes(h,!0)}else {f=h.attributes;o=f.length;for(b=0;b<o;b++){i=f[b].name;if(i!=='id'){d.setAttribute(i,f[b].value)}}}for(e=0;e<r;e++){k=n[e];if(a.shouldUpdateCell(s,k,p)){g=a.getCellSelector(k);c=Ext.DomQuery.selectNode(g,d);j=Ext.DomQuery.selectNode(g,h);if(q){Ext.fly(c).syncContent(j)}else {l=c.parentNode;l.insertBefore(j,c);l.removeChild(c)}}}},shouldUpdateCell:function(e,d,a){if(d.hasCustomRenderer||!a){return !0}if(a){var f=a.length,b,c;for(b=0;b<f;++b){c=a[b];if(c===d.dataIndex||c===e.idProperty){return !0}}}return !1},refresh:function(){var a=this,b=a.el&&a.el.isAncestor(Ext.Element.getActiveElement());Ext.view.View.prototype.refresh.apply(this,arguments);a.headerCt.setSortState();if(a.el&&!a.all.getCount()&&a.headerCt&&a.headerCt.tooNarrow){a.el.createChild({style:'position:absolute;height:1px;width:1px;left:'+(a.headerCt.getFullWidth()-1)+'px'})}if(b){a.selModel.onLastFocusChanged(null,a.selModel.lastFocused)}},processItemEvent:function(h,e,g,c){if(this.indexInStore(e)!==-1){var a=this,b=c.getTarget(a.getCellSelector(),e),f,o=a.statics().EventMap,l=a.getSelectionModel(),d=c.type,k=a.features,p=k.length,i,n,j,m;if(d=='keydown'&&!b&&l.getCurrentPosition){b=a.getCellByPosition(l.getCurrentPosition(),!0)}if(b){if(!b.parentNode){return !1}m=a.getHeaderByCell(b);f=Ext.Array.indexOf(a.getGridColumns(),m)}else {f=-1}n=a.fireEvent('uievent',d,a,b,g,f,c,h,e);if(n===!1||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===!1){a.selModel.onVetoUIEvent(d,a,b,g,f,c,h,e);return !1}for(i=0;i<p;++i){j=k[i];if(j.wrapsItem){if(j.vetoEvent(h,e,g,c)===!1){a.processSpecialEvent(c);return !1}}}if(d=='mouseover'||d=='mouseout'){return !0}if(!b){return !0}return !(a['onBeforeCell'+o[d]](b,f,h,e,g,c)===!1||a.fireEvent('beforecell'+d,a,b,f,h,e,g,c)===!1||a['onCell'+o[d]](b,f,h,e,g,c)===!1||a.fireEvent('cell'+d,a,b,f,h,e,g,c)===!1)}else {this.processSpecialEvent(c);return !1}},processSpecialEvent:function(f){var a=this,k=a.features,l=k.length,e=f.type,g,b,i,c,h,j,d=a.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if(e=='mouseover'||e=='mouseout'){return}for(g=0;g<l;g++){b=k[g];if(b.hasFeatureEvent){c=f.getTarget(b.eventSelector,a.getTargetEl());if(c){i=b.eventPrefix;h=b.getFireEventArgs('before'+i+e,a,c,f);j=b.getFireEventArgs(i+e,a,c,f);if(a.fireEvent.apply(a,h)===!1||d.fireEvent.apply(d,h)===!1||a.fireEvent.apply(a,j)===!1||d.fireEvent.apply(d,j)===!1){return !1}}}}return !0},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)){a=this.getGridColumns[a]}if(a){if(a.isGroupHeader){a.autoSize();return}delete a.flex;a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(b){var c=this,d=c.el.query(b.getCellInnerSelector()),k=b.getWidth(),e=0,j=d.length,f=Ext.supports.ScrollWidthInlinePaddingBug,h=c.body.select(c.getColumnSizerSelector(b)),i=Math.max,g,a;if(f&&j>0){g=c.getCellPaddingAfter(d[0])}h.setWidth(1);a=b.textEl.dom.offsetWidth+b.titleEl.getPadding('lr');for(;e<j;e++){a=i(a,d[e].scrollWidth)}if(f){a+=g}a=i(a,40);h.setWidth(k);return a},getPositionByEvent:function(b){var a=this,c=b.getTarget(a.cellSelector),d=b.getTarget(a.itemSelector),f=a.getRecord(d),e=a.getHeaderByCell(c);return a.getPosition(f,e)},getHeaderByCell:function(b){if(b){var a=b.className.match(this.cellRe);if(a&&a[1]){return this.ownerCt.columnManager.getHeaderById(a[1])}}return !1},walkCells:function(j,h,e,l,m,n){if(!j){return !1}var b=this,a=j.row,f=j.column,g=b.dataSource.getCount(),i=b.ownerCt.columnManager.getColumns().length-1,c=a,d=f,k=b.ownerCt.columnManager.getHeaderAtIndex(f);if(!k||k.hidden||!g){return !1}e=e||{};h=h.toLowerCase();switch(h){case 'right':if(f===i){if(l||a===g-1){return !1}if(!e.ctrlKey){c=b.walkRows(a,1);if(c!==a){d=0}}}else {if(!e.ctrlKey){d=f+1}else {d=i}};break;case 'left':if(f===0){if(l||a===0){return !1}if(!e.ctrlKey){c=b.walkRows(a,-1);if(c!==a){d=i}}}else {if(!e.ctrlKey){d=f-1}else {d=0}};break;case 'up':if(a===0){return !1}else {if(!e.ctrlKey){c=b.walkRows(a,-1)}else {c=b.walkRows(-1,1)}};break;case 'down':if(a===g-1){return !1}else {if(!e.ctrlKey){c=b.walkRows(a,1)}else {c=b.walkRows(g,-1)}};break;}if(m&&m.call(n||b,{row:c,column:d})!==!0){return !1}else {return (new Ext.grid.CellContext(b)).setPosition(c,d)}},walkRows:function(g,f){var c=this,h=0,e=g,i,j=(c.dataSource.buffered?c.dataSource.getTotalCount():c.dataSource.getCount())-1,b=f<0?0:j,d=b?1:-1,a=g;do{if(b?a>=b:a<=0){return e||b}a+=d;if((i=Ext.fly(c.getNode(a,!0)))&&i.isVisible(!0)){h+=d;e=a}}while(h!==f);return a},walkRecs:function(h,g){var a=this,i=0,c=h,j,k=(a.store.buffered?a.store.getTotalCount():a.store.getCount())-1,d=g<0?0:k,f=d?1:-1,b=a.store.indexOf(h),e;do{if(d?b>=d:b<=0){return c}b+=f;e=a.store.getAt(b);if((j=Ext.fly(a.getNodeByRecord(e,!0)))&&j.isVisible(!0)){i+=f;c=e}}while(i!==g);return c},getFirstVisibleRowIndex:function(){var a=this,c=a.dataSource.buffered?a.dataSource.getTotalCount():a.dataSource.getCount(),b=a.indexOf(a.all.first())-1;do{b+=1;if(b===c){return}}while(!Ext.fly(a.getNode(b,!0)).isVisible(!0));return b},getLastVisibleRowIndex:function(){var b=this,a=b.indexOf(b.all.last());do{a-=1;if(a===-1){return}}while(!Ext.fly(b.getNode(a,!0)).isVisible(!0));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(b,a){return (new Ext.grid.CellContext(this)).setPosition(b,a)},beforeDestroy:function(){var a=this;if(a.rendered){a.el.removeAllListeners()}Ext.view.View.prototype.beforeDestroy.apply(this,arguments)},onDestroy:function(){var d=this,b=d.featuresMC,c,a;if(b){for(a=0,c=b.getCount();a<c;++a){b.getAt(a).destroy()}}d.featuresMC=null;Ext.view.View.prototype.onDestroy.apply(this,arguments)},onAdd:function(c,b,a){Ext.view.View.prototype.onAdd.apply(this,arguments);this.doStripeRows(a)},onRemove:function(c,b,a){Ext.view.View.prototype.onRemove.apply(this,arguments);this.doStripeRows(a[0])},doStripeRows:function(d,g){var a=this,e,f,c,b;if(a.rendered&&a.stripeRows){e=a.getNodes(d,g);for(c=0,f=e.length;c<f;c++){b=e[c];b.className=b.className.replace(a.rowClsRe,' ');d++;if(d%2===0){b.className+=' '+a.altRowCls}}}},repaintRow:function(c){var d=this.getNode(c),a=d.childNodes,b=a.length;while(b--){a[b].className=a[b].className}},getRowStyleTableEl:function(a){var b=this;if(!a.tagName){a=this.getNode(a)}return (b.isGrouping?Ext.fly(a):this.el).down('table.x-grid-table')},isRowStyleFirst:function(a){var c=this,b;if(a===-1){return !1}if(!a.tagName){b=a;a=this.getNode(a)}else {b=c.indexOf(a)}return !b||c.isGrouping&&Ext.fly(a).hasCls('x-grid-group-row')},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding('r')}},1,['tableview'],['component','box','dataview','tableview'],{'component':!0,'box':!0,'dataview':!0,'tableview':!0},['widget.tableview'],0,[Ext.view,'Table'],0);Ext.define('Ext.grid.plugin.BufferedRendererTableView',{override:'Ext.view.Table',onAdd:function(f,c,d){var b=this,a=b.bufferedRenderer,e=b.all;if(b.rendered&&a&&e.getCount()+c.length>a.viewSize){if(d<e.startIndex+a.viewSize&&d+c.length>e.startIndex){b.refreshView()}else {a.stretchView(b,a.getScrollHeight())}}else {(arguments.callee.$previous||Ext.view.View.prototype.onAdd).call(this,f,c,d)}},onRemove:function(e,d,c){var a=this,b=a.bufferedRenderer;(arguments.callee.$previous||Ext.view.View.prototype.onRemove).call(this,e,d,c);if(a.rendered&&b){if(a.dataSource.getCount()>b.viewSize){a.refreshView()}else {b.stretchView(a,b.getScrollHeight())}}},onDataRefresh:function(){var a=this;if(a.bufferedRenderer){a.all.clear();a.bufferedRenderer.onStoreClear()}(arguments.callee.$previous||Ext.view.View.prototype.onDataRefresh).call(this)}});Ext.cmd.derive('Ext.grid.plugin.HeaderResizer',Ext.AbstractPlugin,{disabled:!1,config:{dynamic:!1},colHeaderCls:'x-column-header',minColWidth:40,maxColWidth:1000,wResizeCursor:'col-resize',eResizeCursor:'col-resize',init:function(a){this.headerCt=a;a.on('render',this.afterHeaderRender,this,{single:!0})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,'mousemove',this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(h,i){var c=this,f,g,b,a,e,d;if(c.headerCt.dragging){if(c.activeHd){c.activeHd.el.dom.style.cursor='';delete c.activeHd}}else {g=h.getTarget('.'+c.colHeaderCls,3,!0);if(g){b=Ext.getCmp(g.id);if(b.isOnLeftEdge(h)){a=b.previousNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(a){d=c.headerCt.up('tablepanel');e=a.up('tablepanel');if(!(e===d||d.ownerCt.isXType('tablepanel')&&d.ownerCt.view.lockedGrid===e)){a=null}}}else {if(b.isOnRightEdge(h)){a=b}else {a=null}}if(a){if(a.isGroupHeader){f=a.getGridColumns();a=f[f.length-1]}if(a&&!(a.fixed||a.resizable===!1||c.disabled)){c.activeHd=a;b.el.dom.style.cursor=c.eResizeCursor;if(b.triggerEl){b.triggerEl.dom.style.cursor=c.eResizeCursor}}}else {b.el.dom.style.cursor='';if(b.triggerEl){b.triggerEl.dom.style.cursor=''}c.activeHd=null}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;if(!!this.dragHd&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return !0}else {this.headerCt.dragging=!1;return !1}},getConstrainRegion:function(){var a=this,e=a.dragHd.el,c=0,b,d;if(a.headerCt.forceFit){b=a.dragHd.nextNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(b){if(!a.headerInSameGrid(b)){b=null}c=b.getWidth()-a.minColWidth}}else {if((d=a.dragHd.up('tablepanel')).isLocked){c=a.dragHd.up('[scrollerOwner]').getWidth()-d.getWidth()-30}else {c=a.maxColWidth-e.getWidth()}}return a.adjustConstrainRegion(e.getRegion(),0,c,0,a.minColWidth)},onStart:function(l){var a=this,j=a.dragHd,k=j.el.getWidth(),g=j.getOwnerHeaderCt(),h,i,c,b,d,e,f;a.headerCt.dragging=!0;a.origWidth=k;if(!a.dynamic){c=b=g.up('tablepanel');if(c.ownerLockable){b=c.ownerLockable}h=a.getLeftMarkerX(b);d=b.getLhsMarker();e=b.getRhsMarker();f=c.body.getHeight()+g.getHeight();i=g.getOffsetsTo(b)[1];d.setLocalY(i);e.setLocalY(i);d.setHeight(f);e.setHeight(f);a.setMarkerX(d,h);a.setMarkerX(e,h+k)}},onDrag:function(c){var b=this,a;if(b.dynamic){b.doResize()}else {a=this.headerCt.up('tablepanel');if(a.ownerLockable){a=a.ownerLockable}this.setMarkerX(this.getMovingMarker(a),this.calculateDragX(a))}},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(b){this.headerCt.dragging=!1;if(this.dragHd){if(!this.dynamic){var a=this.headerCt.up('tablepanel');if(a.ownerLockable){a=a.ownerLockable}this.setMarkerX(a.getLhsMarker(),-9999);this.setMarkerX(a.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var b=this,c=b.dragHd,a,d;if(c){d=b.tracker.getOffset('point');if(c.flex){delete c.flex}Ext.suspendLayouts();b.adjustColumnWidth(d[0]);if(b.headerCt.forceFit){a=c.nextNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(a&&!b.headerInSameGrid(a)){a=null}if(a){delete a.flex;a.setWidth(a.getWidth()-d[0])}}Ext.resumeLayouts(!0)}},headerInSameGrid:function(a){var b=this.dragHd.up('tablepanel');return !!a.up(b)},disable:function(){this.disabled=!0;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=!1;if(this.tracker){this.tracker.enable()}},calculateDragX:function(a){return this.tracker.getXY('point')[0]-a.getX()-a.el.getBorderWidth('l')},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth('l')-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,e,d,b,c){return a.adjust(e,d,b,c)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}},0,0,0,0,['plugin.gridheaderresizer'],0,[Ext.grid.plugin,'HeaderResizer'],0);Ext.cmd.derive('Ext.grid.header.DragZone',Ext.dd.DragZone,{colHeaderSelector:'.x-column-header',colInnerSelector:'.x-column-header-inner',maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();Ext.dd.DragZone.prototype.constructor.call(this,a.el);this.proxy.el.addCls('x-grid-col-dd')},getDDGroup:function(){return 'header-dd-zone-'+this.headerCt.up('[scrollerOwner]').id},getDragData:function(b){if(b.getTarget(this.colInnerSelector)){var c=b.getTarget(this.colHeaderSelector),a,d;if(c){a=Ext.getCmp(c.id);if(!this.headerCt.dragging&&a.draggable&&!(a.isOnLeftEdge(b)||a.isOnRightEdge(b))){d=document.createElement('div');d.innerHTML=Ext.getCmp(c.id).text;return {ddel:d,header:a}}}}return !1},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0;Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=!1;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},1,0,0,0,0,0,[Ext.grid.header,'DragZone'],0);Ext.cmd.derive('Ext.grid.header.DropZone',Ext.dd.DropZone,{colHeaderCls:'x-column-header',proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();Ext.dd.DropZone.prototype.constructor.call(this,a.el)},getDDGroup:function(){return 'header-dd-zone-'+this.headerCt.up('[scrollerOwner]').id},getTargetFromEvent:function(a){return a.getTarget('.'+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:'col-move-top',html:'&#160;'},!0);this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:'col-move-bottom',html:'&#160;'},!0)}return this.bottomIndicator},getLocation:function(d,c){var e=d.getXY()[0],a=Ext.fly(c).getRegion(),b;if(a.right-e<=(a.right-a.left)/2){b='after'}else {b='before'}return {pos:b,header:Ext.getCmp(c.id),node:c}},positionIndicator:function(t,v,w){var a=this,f=t.header,n=a.getLocation(w,v),b=n.header,c=n.pos,r,s,e,d,o,m,j,h,g,q,p,l,u,k,i;if(b===a.lastTargetHeader&&c===a.lastDropPos){return}r=f.nextSibling('gridcolumn:not([hidden])');s=f.previousSibling('gridcolumn:not([hidden])');a.lastTargetHeader=b;a.lastDropPos=c;if(!b.draggable&&c==='before'&&b.getIndex()===0){return !1}t.dropLocation=n;if(f!==b&&(c==='before'&&r!==b||c==='after'&&s!==b)&&!b.isDescendantOf(f)){l=Ext.dd.DragDropManager.getRelated(a);u=l.length;k=0;for(;k<u;k++){i=l[k];if(i!==a&&i.invalidateDrop){i.invalidateDrop()}}a.valid=!0;e=a.getTopIndicator();d=a.getBottomIndicator();if(c==='before'){o='bc-tl';m='tc-bl'}else {o='bc-tr';m='tc-br'}j=e.getAlignToXY(b.el,o);h=d.getAlignToXY(b.el,m);g=a.headerCt.el;q=g.getX()-a.indicatorXOffset;p=g.getX()+g.getWidth();j[0]=Ext.Number.constrain(j[0],q,p);h[0]=Ext.Number.constrain(h[0],q,p);e.setXY(j);d.setXY(h);e.show();d.show()}else {a.invalidateDrop()}},invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(h,j,i,a){var c=this,d=a.header,b,e,f,g;if(a.header.el.dom===h){b=!1}else {a.isLock=a.isUnlock=!1;e=c.getLocation(i,h).header;b=d.ownerCt===e.ownerCt;if(!b&&(!d.ownerCt.sealed&&!e.ownerCt.sealed)){b=!0;f=d.up('tablepanel');g=e.up('tablepanel');a.isLock=g.isLocked&&!f.isLocked;a.isUnlock=!g.isLocked&&f.isLocked;if(a.isUnlock&&d.lockable===!1||a.isLock&&!d.isLockable()){b=!1}}}if(b){c.positionIndicator(a,h,i)}else {c.valid=!1}return c.valid?c.dropAllowed:c.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide();a.getBottomIndicator().hide();a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(r,p,s,c){if(this.valid){var a=c.header,m=c.dropLocation,d=m.header,e=a.ownerCt,i=e.items.indexOf(a),f=d.ownerCt,b=f.items.indexOf(d),h=this.headerCt,l=h.columnManager,q=l.getHeaderIndex(a),k=l.getHeaderIndex(d),n=a.isGroupHeader?a.query(':not([isGroupHeader])').length:1,j=e===f,g,o;if(m.pos==='after'){b++;k+=d.isGroupHeader?d.query(':not([isGroupHeader])').length:1}if(c.isLock){g=e.up('[scrollerOwner]');g.lock(a,b);c.isLock=!1;this.onNodeDrop(r,p,s,c)}else {if(c.isUnlock){g=e.up('[scrollerOwner]');g.unlock(a,b);c.isUnlock=!1;this.onNodeDrop(r,p,s,c)}else {this.invalidateDrop();o=a.getWidth();if(j){if(b===i){h.onHeaderMoved(a,n,q,k);return}if(b>i){b-=1}}Ext.suspendLayouts();if(j){f.move(i,b)}else {e.remove(a,!1);f.insert(b,a)}if(f.isGroupHeader){if(!j){a.savedFlex=a.flex;delete a.flex;a.width=o}}else {if(a.savedFlex){a.flex=a.savedFlex;delete a.width}}h.purgeCache();Ext.resumeLayouts(!0);h.onHeaderMoved(a,n,q,k)}}}}},1,0,0,0,0,0,[Ext.grid.header,'DropZone'],0);Ext.cmd.derive('Ext.grid.plugin.HeaderReorderer',Ext.AbstractPlugin,{init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);if(a.disabled){a.dragZone.disable()}},enable:function(){this.disabled=!1;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=!0;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,['plugin.gridheaderreorderer'],0,[Ext.grid.plugin,'HeaderReorderer'],0);Ext.cmd.derive('Ext.grid.header.Container',Ext.container.Container,{border:!0,baseCls:'x-grid-header-ct',dock:'top',weight:100,defaultType:'gridcolumn',detachOnRemove:!1,defaultWidth:100,sortAscText:'Sort Ascending',sortDescText:'Sort Descending',sortClearText:'Clear Sort',columnsText:'Columns',headerOpenCls:'x-column-header-open',menuSortAscCls:'x-hmenu-sort-asc',menuSortDescCls:'x-hmenu-sort-desc',menuColsIcon:'x-cols-icon',triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];if(!a.isColumn){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer();a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer();a.plugins.push(a.reorderer)}}if(a.isColumn&&(!a.items||a.items.length===0)){a.isContainer=!1;a.layout={type:'container',calculate:Ext.emptyFn}}else {a.layout=Ext.apply({type:'gridcolumn',align:'stretch'},a.initialConfig.layout);if(a.isRootHeader){a.grid.columnManager=a.columnManager=new Ext.grid.ColumnManager(a)}}a.defaults=a.defaults||{};Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable});a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);Ext.container.Container.prototype.initComponent.call(this);a.addEvents('columnresize','headerclick','headercontextmenu','headertriggerclick','columnmove','columnhide','columnshow','columnschanged','sortchange','menucreate')},isLayoutRoot:function(){if(this.hiddenHeaders){return !1}return Ext.container.Container.prototype.isLayoutRoot.call(this)},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up('[isRootHeader]')},onDestroy:function(){var a=this;if(a.menu){a.menu.un('hide',a.onMenuHide,a)}a.menuTask.cancel();Ext.destroy(a.resizer,a.reorderer);Ext.container.Container.prototype.onDestroy.call(this)},applyColumnsState:function(c){if(!c||!c.length){return}var h=this,g=h.items.items,j=g.length,f=0,i=c.length,d,b,e,a;for(d=0;d<i;d++){e=c[d];for(a=j;a--;){b=g[a];if(b.getStateId&&b.getStateId()==e.id){if(f!==a){h.moveHeader(a,f)}if(b.applyColumnState){b.applyColumnState(e)}++f;break}}}},getColumnsState:function(){var c=this,b=[],a;c.items.each(function(c){a=c.getColumnState&&c.getColumnState();if(a){b.push(a)}});return b},onAdd:function(a){var b=this;if(!a.headerId){a.headerId=a.initialConfig.id||Ext.id(null,'header-')}if(!a.getStateId()){a.stateId=a.initialConfig.id||'h'+ ++b.headerCounter}Ext.container.Container.prototype.onAdd.apply(this,arguments);b.onColumnsChanged()},onMove:function(){Ext.container.Container.prototype.onMove.apply(this,arguments);this.onColumnsChanged()},onShow:function(){Ext.container.Container.prototype.onShow.apply(this,arguments);this.onColumnsChanged()},onColumnsChanged:function(){var a=this;while(a){a.purgeCache();if(a.isRootHeader){break}a=a.ownerCt}if(a&&a.rendered){a.fireEvent('columnschanged',a)}},onRemove:function(c){var a=this,b=a.ownerCt;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!a.destroying){a.onColumnsChanged();if(a.isGroupHeader&&!a.items.getCount()&&b){a.detachComponent(c);Ext.suspendLayouts();b.remove(a);Ext.resumeLayouts(!0)}}},applyDefaults:function(b){var a;if(b&&!b.isComponent&&b.xtype=='rownumberer'){a=b}else {a=Ext.container.Container.prototype.applyDefaults.apply(this,arguments);if(!b.isGroupHeader&&!('width' in a)&&!a.flex){a.width=this.defaultWidth}}return a},setSortState:function(){var c=this.up('[store]').store,a=c.getFirstSorter(),b;if(a){b=this.down('gridcolumn[dataIndex='+a.property+']');if(b){b.setSortState(a.direction,!1,!0)}}else {this.clearOtherSortStates(null)}},getHeaderMenu:function(){var b=this.getMenu(),a;if(b){a=b.child('#columnItem');if(a){return a.menu}}return null},onHeaderVisibilityChange:function(e,d){var a=this,c=a.getHeaderMenu(),b;a.purgeCache();if(c){b=a.getMenuItemForHeader(c,e);if(b){b.setChecked(d,!0)}if(c.isVisible()){a.menuTask.delay(50)}}},updateMenuDisabledState:function(e){var f=this,g=f.query(':not([hidden])'),b,h=g.length,d,a,c;if(!e){e=f.getMenu()}for(b=0;b<h;++b){d=g[b];a=f.getMenuItemForHeader(e,d);if(a){c=d.isHideable()?'enable':'disable';if(a.menu){c+='CheckChange'}a[c]()}}},getMenuItemForHeader:function(b,a){return a?b.down('menucheckitem[headerId='+a.id+']'):null},onHeaderShow:function(b){var a=this,c=a.ownerCt;if(a.forceFit){delete a.flex}a.onHeaderVisibilityChange(b,!0);if(!b.isGroupHeader){if(c){c.onHeaderShow(a,b)}}a.fireEvent('columnshow',a,b);a.fireEvent('columnschanged',this)},onHeaderHide:function(b){var a=this,c=a.ownerCt;a.onHeaderVisibilityChange(b,!1);if(!b.isGroupHeader){if(c){c.onHeaderHide(a,b)}}a.fireEvent('columnhide',a,b);a.fireEvent('columnschanged',this)},tempLock:function(){this.ddLock=!0;Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(c,e,f){var a=this,d=a.view,b=a.ownerCt;if(d&&d.body.dom){a.tempLock();if(b){b.onHeaderResize(a,c,e)}}a.fireEvent('columnresize',this,c,e)},onHeaderClick:function(a,b,c){a.fireEvent('headerclick',this,a,b,c);this.fireEvent('headerclick',this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent('headercontextmenu',this,a,b,c);this.fireEvent('headercontextmenu',this,a,b,c)},onHeaderTriggerClick:function(a,d,c){var b=this;if(a.fireEvent('headertriggerclick',b,a,d,c)!==!1&&b.fireEvent('headertriggerclick',b,a,d,c)!==!1){b.showMenuBy(c,a)}},showMenuBy:function(f,c){var a=this.getMenu(),e=a.down('#ascItem'),d=a.down('#descItem'),b;a.activeHeader=a.ownerButton=c;c.setMenuActive(!0);b=c.sortable?'enable':'disable';if(e){e[b]()}if(d){d[b]()}a.showBy(f)},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this,b=a.menu;a.gridDataColumns=a.hideableColumns=null;if(a.columnManager){a.columnManager.invalidate()}if(b&&b.hidden){b.hide();b.destroy();a.menu=null}},onHeaderMoved:function(d,f,c,e){var a=this,b=a.ownerCt;if(b&&b.onHeaderMove){b.onHeaderMove(a,d,f,c,e)}a.fireEvent('columnmove',a,d,c,e)},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:a.getMenuItems(),listeners:{hide:a.onMenuHide,scope:a}});a.fireEvent('menucreate',a,a.menu)}a.updateMenuDisabledState(a.menu);return a.menu},getMenuItems:function(){var a=this,b=[],c=a.enableColumnHide?a.getColumnMenu(a):null;if(a.sortable){b=[{itemId:'ascItem',text:a.sortAscText,cls:a.menuSortAscCls,handler:a.onSortAscClick,scope:a},{itemId:'descItem',text:a.sortDescText,cls:a.menuSortDescCls,handler:a.onSortDescClick,scope:a}]}if(c&&c.length){if(a.sortable){b.push('-')}b.push({itemId:'columnItem',text:a.columnsText,cls:a.menuColsIcon,menu:c,hideOnClick:!1})}return b},onSortAscClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState('ASC')},onSortDescClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState('DESC')},getColumnMenu:function(f){var d=[],c=0,a,e=f.query('>gridcolumn[hideable]'),g=e.length,b;for(;c<g;c++){a=e[c];b=new Ext.menu.CheckItem({text:a.menuText||a.text,checked:!a.hidden,hideOnClick:!1,headerId:a.id,menu:a.isGroupHeader?this.getColumnMenu(a):undefined,checkHandler:this.onColumnCheckChange,scope:this});d.push(b);a.on({destroy:Ext.Function.bind(b.destroy,b)})}return d},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c[b?'show':'hide']()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){var b=0,d=this.getVisibleGridColumns(),e=d.length,c=0,a;for(;c<e;c++){a=d[c];if(a.getDesiredWidth){b+=a.getDesiredWidth()||0}else {b+=a.getWidth()}}return b},clearOtherSortStates:function(c){var b=this.getGridColumns(),d=b.length,a=0;for(;a<d;a++){if(b[a]!==c){b[a].setSortState(null,!0)}}},getVisibleGridColumns:function(){var b=this.getGridColumns(),c=[],d=b.length,a;for(a=0;a<d;a++){if(!b[a].hidden){c[c.length]=b[a]}}return c},getGridColumns:function(g,f){if(!g&&this.gridDataColumns){return this.gridDataColumns}var h=this,c=g||[],i,b,d,a,e;f=f||h.hidden;if(h.items){i=h.items.items;for(b=0,d=i.length;b<d;b++){a=i[b];if(a.isGroupHeader){a.getGridColumns(c,f)}else {a.hiddenAncestor=f;c.push(a)}}}if(!g){h.gridDataColumns=c}if(!g&&d){for(b=0,d=c.length;b<d;b++){a=c[b];a.isFirstVisible=a.isLastVisible=!1;if(!(a.hidden||a.hiddenAncestor)){if(!e){a.isFirstVisible=!0}e=a}}if(e){e.isLastVisible=!0}}return c},getHideableColumns:function(){var b=this,a=b.hideableColumns;if(!a){a=b.hideableColumns=b.query('[hideable]')}return a},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(b){var a=this.view;if(a){a.autoSizeColumn(b)}}},0,['headercontainer'],['component','box','container','headercontainer'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0},['widget.headercontainer'],0,[Ext.grid.header,'Container'],0);Ext.cmd.derive('Ext.grid.column.Column',Ext.grid.header.Container,{alternateClassName:'Ext.grid.Column',baseCls:'x-column-header',hoverCls:'x-column-header-over',handleWidth:4,sortState:null,possibleSortStates:['ASC','DESC'],childEls:['titleEl','triggerEl','textEl'],noWrap:!0,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="x-column-header-inner"><span id="{id}-textEl" class="x-column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="x-column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:'&#160;',menuText:null,emptyCellText:'&#160;',sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:'left',draggable:!0,tooltipType:'qtip',initDraggable:Ext.emptyFn,tdCls:'',isHeader:!0,isColumn:!0,ascSortCls:'x-column-header-sort-ASC',descSortCls:'x-column-header-sort-DESC',componentLayout:'columncomponent',groupSubHeaderCls:'x-group-sub-header',groupHeaderCls:'x-group-header',clickTargetName:'titleEl',detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var a=this,b,c;if(a.header!=null){a.text=a.header;a.header=null}if(!a.triStateSort){a.possibleSortStates.length=2}if(a.columns!=null){a.isGroupHeader=!0;a.items=a.columns;a.columns=a.flex=a.width=null;a.cls=(a.cls||'')+' '+a.groupHeaderCls;a.sortable=a.resizable=!1;a.align='center'}else {if(a.flex){a.minWidth=a.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}a.addCls('x-column-header-align-'+a.align);b=a.renderer;if(b){if(typeof b=='string'){a.renderer=Ext.util.Format[b]}a.hasCustomRenderer=!0}else {if(a.defaultRenderer){a.scope=a;a.renderer=a.defaultRenderer}}Ext.grid.header.Container.prototype.initComponent.apply(this,arguments);c={element:a.clickTargetName,click:a.onTitleElClick,contextmenu:a.onTitleElContextMenu,mouseenter:a.onTitleMouseOver,mouseleave:a.onTitleMouseOut,scope:a};if(a.resizable){c.dblclick=a.onTitleElDblClick}a.on(c)},onAdd:function(a){if(a.isColumn){a.isSubHeader=!0;a.addCls(this.groupSubHeaderCls)}if(this.hidden){a.hide()}Ext.grid.header.Container.prototype.onAdd.apply(this,arguments)},onRemove:function(a){if(a.isSubHeader){a.isSubHeader=!1;a.removeCls(this.groupSubHeaderCls)}Ext.grid.header.Container.prototype.onRemove.apply(this,arguments)},initRenderData:function(){var a=this,b='',c=a.tooltip,d=a.tooltipType=='qtip'?'data-qtip':'title';if(!Ext.isEmpty(c)){b=d+'="'+c+'" '}return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:a.text,menuDisabled:a.menuDisabled,tipMarkup:b})},applyColumnState:function(a){var b=this;b.applyColumnsState(a.columns);if(a.hidden!=null){b.hidden=a.hidden}if(a.locked!=null){b.locked=a.locked}if(a.sortable!=null){b.sortable=a.sortable}if(a.width!=null){b.flex=null;b.width=a.width}else {if(a.flex!=null){b.width=null;b.flex=a.flex}}},getColumnState:function(){var a=this,e=a.items.items,f=e?e.length:0,c,d=[],b={id:a.getStateId()};a.savePropsToState(['hidden','sortable','locked','flex','width'],b);if(a.isGroupHeader){for(c=0;c<f;c++){d.push(e[c].getColumnState())}if(d.length){b.columns=d}}else {if(a.isSubHeader&&a.ownerCt.hidden){delete a.hidden}}if('width' in b){delete b.flex}return b},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;if(this.rendered){this.textEl.update(a)}},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,b=a.up('tablepanel');Ext.grid.header.Container.prototype.beforeRender.call(this);if(b&&(!a.sortable||b.sortableColumns===!1)&&!a.groupable&&!a.lockable&&(b.enableColumnHide===!1||!a.getOwnerHeaderCt().getHideableColumns().length)){a.menuDisabled=!0}a.protoEl.unselectable()},afterRender:function(){var a=this,b=a.triggerEl,c;Ext.grid.header.Container.prototype.afterRender.apply(this,arguments);if(!Ext.isIE8||!Ext.isStrict){a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a})}if(b&&a.self.triggerElWidth===undefined){b.setStyle('display','block');a.self.triggerElWidth=b.getWidth();b.setStyle('display','')}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(d,f,c,e){var a=this,b=a.getOwnerHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments);if(b&&(c!=null||a.flex)&&d!==c){b.onHeaderResize(a,d,!0)}},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field);a.keyNav=null;Ext.grid.header.Container.prototype.onDestroy.apply(this,arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl){this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(d,e){var a=this,b,c;if(a.isOnLeftEdge(d)){b=a.previousNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(b&&b.getOwnerHeaderCt()===a.getOwnerHeaderCt()){b.autoSize()}}else {if(a.isOnRightEdge(d)){if(a.isGroupHeader&&d.getPoint().isContainedBy(a.layout.innerCt)){c=a.query('gridcolumn:not([hidden]):not([isGroupHeader])');this.getOwnerHeaderCt().autoSizeColumn(c[c.length-1]);return}a.autoSize()}}},autoSize:function(){var e=this,b,c,a,d;if(e.isGroupHeader){b=e.query('gridcolumn:not([hidden]):not([isGroupHeader])');c=b.length;d=this.getOwnerHeaderCt();Ext.suspendLayouts();for(a=0;a<c;a++){d.autoSizeColumn(b[a])}Ext.resumeLayouts(!0);return}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(b,d){var a=this,c=a.getOwnerHeaderCt();if(c&&!c.ddLock){if(a.triggerEl&&(b.target===a.triggerEl.dom||d===a.triggerEl.dom||b.within(a.triggerEl))){c.onHeaderTriggerClick(a,b,d)}else {if(b.getKey()||!a.isOnLeftEdge(b)&&!a.isOnRightEdge(b)){a.toggleSortState();c.onHeaderClick(a,b,d)}}}},onTitleElContextMenu:function(c,d){var b=this,a=b.getOwnerHeaderCt();if(a&&!a.ddLock){a.onHeaderContextMenu(b,c,d)}},processEvent:function(d,e,c,a,b,f){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a=this,c,b;if(a.sortable){c=Ext.Array.indexOf(a.possibleSortStates,a.sortState);b=(c+1)%a.possibleSortStates.length;a.setSortState(a.possibleSortStates[b])}},doSort:function(c){var a=this.up('tablepanel'),b=a.store;if(a.ownerLockable&&b.isNodeStore){b=a.ownerLockable.lockedGrid.store}b.sort({property:this.getSortParam(),direction:c})},getSortParam:function(){return this.dataIndex},setSortState:function(b,g,h){var a=this,e=a.ascSortCls,d=a.descSortCls,c=a.getOwnerHeaderCt(),f=a.sortState;b=b||null;if(!a.sorting&&f!==b&&a.getSortParam()!=null){if(b&&!h){a.sorting=!0;a.doSort(b);a.sorting=!1}switch(b){case 'DESC':a.addCls(d);a.removeCls(e);break;case 'ASC':a.addCls(e);a.removeCls(d);break;default:a.removeCls([e,d]);}if(c&&!a.triStateSort&&!g){c.clearOtherSortStates(a)}a.sortState=b;if(a.triStateSort||b!=null){c.fireEvent('sortchange',c,a,b)}}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};if(a.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a])}return a.result},hasOtherMenuEnabledChildren:function(b){var a,c;if(!this.isXType('headercontainer')){b.result=!1;return !1}a=this.query('>:not([hidden]):not([menuDisabled])');c=a.length;if(Ext.Array.contains(a,b.hideCandidate)){c--}if(c){return !1}b.hideCandidate=this},isLockable:function(){var a={result:this.lockable!==!1};if(a.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a])}return a.result},isLocked:function(){return this.locked||!!this.up('[isColumn][locked]','[isRootHeader]')},hasMultipleVisibleChildren:function(a){if(!this.isXType('headercontainer')){a.result=!1;return !1}if(this.query('>:not([hidden])').length>1){return !1}},hide:function(i){var a=this,c=a.getOwnerHeaderCt(),g=a.ownerCt,f,e,b,h,d;if(!a.isVisible()){return a}if(!c){Ext.grid.header.Container.prototype.hide.call(this);return a}if(c.forceFit){a.visibleSiblingCount=c.getVisibleGridColumns().length-1;if(a.flex){a.savedWidth=a.getWidth();a.flex=null}}f=g.isGroupHeader;if(f&&!i){b=g.query('>:not([hidden])');if(b.length===1&&b[0]==a){a.ownerCt.hide();return}}Ext.suspendLayouts();if(a.isGroupHeader){b=a.items.items;for(d=0,h=b.length;d<h;d++){e=b[d];if(!e.hidden){e.hide(!0)}}}Ext.grid.header.Container.prototype.hide.call(this);c.onHeaderHide(a);Ext.resumeLayouts(!0);return a},show:function(n,m){var a=this,f=a.getOwnerHeaderCt(),i=a.ownerCt,d,e,c,b,h,j,k,l,g=Ext.grid.header.Container.prototype.defaultWidth;if(a.isVisible()){return a}if(!a.rendered){a.hidden=!1;return}j=f.el.getViewSize().width-(f.view.el.dom.scrollHeight>f.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0);if(f.forceFit){d=Ext.ComponentQuery.query(':not([flex])',f.getVisibleGridColumns());if(d.length){a.width=a.savedWidth||a.width||g}else {d=f.getVisibleGridColumns();e=d.length;l=a.visibleSiblingCount;h=a.savedWidth||a.width||g;h=Math.min(h*(l/e),g,Math.max(j-e*g,g));a.width=null;a.flex=h;j-=h;k=0;for(c=0;c<e;c++){b=d[c];b.flex=b.width||b.getWidth();k+=b.flex;b.width=null}for(c=0;c<e;c++){b=d[c];b.flex=b.flex/k*j}}}Ext.suspendLayouts();if(a.isSubHeader&&i.hidden){i.show(!1,!0)}Ext.grid.header.Container.prototype.show.apply(this,arguments);if(a.isGroupHeader&&m!==!0&&!a.query(':not([hidden])').length){d=a.items.items;for(c=0,e=d.length;c<e;c++){b=d[c];if(b.hidden){b.show(!0)}}}Ext.resumeLayouts(!0);i=a.getOwnerHeaderCt();if(i){i.onHeaderShow(a)}},getDesiredWidth:function(){var a=this;if(a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize){return a.componentLayout.lastComponentSize.width}else {if(a.flex){return a.width}else {return a.width}}},getCellSelector:function(){return '.x-grid-cell-'+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+' .x-grid-cell-inner'},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(a){return this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth},setMenuActive:function(a){this.titleEl[a?'addCls':'removeCls'](this.headerOpenCls)}},0,['gridcolumn'],['component','box','container','headercontainer','gridcolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0},['widget.gridcolumn'],0,[Ext.grid.column,'Column',Ext.grid,'Column'],0);Ext.cmd.derive('Ext.grid.locking.HeaderContainer',Ext.grid.header.Container,{constructor:function(b){var c=this,f,g,d=[],a=b.lockedGrid,e=b.normalGrid;c.lockable=b;Ext.grid.header.Container.prototype.constructor.call(this);a.columnManager.rootColumns=e.columnManager.rootColumns=b.columnManager=c.columnManager=new Ext.grid.ColumnManager(a.headerCt,e.headerCt);f=a.headerCt.events;for(g in f){if(f.hasOwnProperty(g)){d.push(g)}}c.relayEvents(a.headerCt,d);c.relayEvents(e.headerCt,d)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this,b=a.lockable.lockedGrid.headerCt.getColumnsState(),c=a.lockable.normalGrid.headerCt.getColumnsState();return b.concat(c)},applyColumnsState:function(k){var l=this,j=l.lockable.lockedGrid,b=j.headerCt,c=l.lockable.normalGrid.headerCt,m=Ext.Array.toValueMap(b.items.items,'headerId'),n=Ext.Array.toValueMap(c.items.items,'headerId'),g=[],h=[],i=1,o=k.length,e,a,f,d;for(e=0;e<o;e++){d=k[e];f=m[d.id];a=f||n[d.id];if(a){if(a.applyColumnState){a.applyColumnState(d)}if(a.locked===undefined){a.locked=!!f}if(a.locked){g.push(a);if(!a.hidden&&typeof a.width=='number'){i+=a.width}}else {h.push(a)}}}if(g.length+h.length==b.items.getCount()+c.items.getCount()){b.removeAll(!1);c.removeAll(!1);b.add(g);c.add(h);j.setWidth(i)}}},1,0,['component','box','container','headercontainer'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0},0,0,[Ext.grid.locking,'HeaderContainer'],0);Ext.cmd.derive('Ext.grid.locking.View',Ext.Base,{alternateClassName:'Ext.grid.LockingView',isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(b){var a=this,e=[],h=a.eventRelayRe,c=b.locked.getView(),g=b.normal.getView(),f,d;Ext.apply(a,{lockedView:c,normalView:g,lockedGrid:b.locked,normalGrid:b.normal,panel:b.panel});a.mixins.observable.constructor.call(a,b);f=c.events;for(d in f){if(f.hasOwnProperty(d)&&h.test(d)){e.push(d)}}a.relayEvents(c,e);a.relayEvents(g,e);g.on({scope:a,itemmouseleave:a.onItemMouseLeave,itemmouseenter:a.onItemMouseEnter});c.on({scope:a,itemmouseleave:a.onItemMouseLeave,itemmouseenter:a.onItemMouseEnter});a.panel.on({render:a.onPanelRender,scope:a})},onPanelRender:function(){var a=this,b=a.loadMask,c={target:a.panel,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:a.panel.store};a.el=a.panel.body;a.fireEvent('render',a);if(b){if(Ext.isObject(b)){c=Ext.apply(c,b)}a.loadMask=new Ext.LoadMask(c)}},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(c){var b=this.lockedView,a;b.headerCt.cascade(function(b){if(b===c){a=!0;return !1}});return a?b:this.normalView},onItemMouseEnter:function(d,f){var e=this,b=e.lockedView,a=e.normalView,c;if(d.trackOver){if(d!==b){a=b}c=a.getNode(f,!1);a.highlightItem(c)}},onItemMouseLeave:function(c,e){var d=this,a=d.lockedView,b=d.normalView;if(c.trackOver){if(c!==a){b=a}b.clearHighlight()}},relayFn:function(c,b){b=b||[];var a=this.lockedView;a[c].apply(a,b);a=this.normalView;a[c].apply(a,b)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a,b){return this.normalView.getNode(a,b)},getCell:function(b,a){var c=this.getViewForColumn(a),d=c.getNode(b,!0);return Ext.fly(d).down(a.getCellSelector())},indexOf:function(b){var a=this.lockedView.indexOf(b);if(!a){a=this.normalView.indexOf(b)}return a},focus:function(){var a=this.getSelectionModel().getCurrentPosition(),b=a?a.view:this.normalView;b.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(b){var a=this.lockedView.getRecord(b);if(!a){a=this.normalView.getRecord(b)}return a},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(a,c,b){this.relayFn('addElListener',arguments)},refreshNode:function(){this.relayFn('refreshNode',arguments)},refresh:function(){this.relayFn('refresh',arguments)},bindStore:function(){this.relayFn('bindStore',arguments)},addRowCls:function(){this.relayFn('addRowCls',arguments)},removeRowCls:function(){this.relayFn('removeRowCls',arguments)},destroy:function(){var b=this,a=b.loadMask;b.clearListeners();if(a&&a.bindStore){a.bindStore(null)}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.grid.locking,'View',Ext.grid,'LockingView'],0);Ext.cmd.derive('Ext.grid.locking.Lockable',Ext.Base,{alternateClassName:'Ext.grid.Lockable',syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:'x-grid-inner-locked',unlockText:'Unlock',lockText:'Lock',bothCfgCopy:['invalidateScrollerOnRefresh','hideHeaders','enableColumnHide','enableColumnMove','enableColumnResize','sortableColumns','columnLines','rowLines'],normalCfgCopy:['verticalScroller','verticalScrollDock','verticalScrollerType','scroll'],lockedCfgCopy:[],determineXTypeToCreate:function(g){var f=this,a,b,d,e,c;if(f.subGridXType){a=f.subGridXType}else {if(!g){return 'gridpanel'}b=this.getXTypes().split('/');d=b.length;e=b[d-1];c=b[d-2];if(c!=='tablepanel'){a=c}else {a=e}}return a},injectLockable:function(){this.lockable=!0;this.hasView=!0;var a=this,j=Ext.getScrollbarSize().height,o=a.store=Ext.StoreManager.lookup(a.store),n=a.getSelectionModel(),m,l,c,b,d,i,f,k,e,g,h,p=a.findPlugin('bufferedrenderer');m=a.constructLockableFeatures();if(a.features){a.features=null}l=a.constructLockablePlugins();a.plugins=l.topPlugins;c=Ext.apply({id:a.id+'-locked',isLocked:!0,ownerLockable:a,xtype:a.determineXTypeToCreate(!0),store:o,scrollerOwner:!1,animate:!1,scroll:j?!1:'vertical',selModel:n,border:!1,cls:a.lockedGridCls,isLayoutRoot:function(){return !1},features:m.lockedFeatures,plugins:l.lockedPlugins},a.lockedGridConfig);b=Ext.apply({id:a.id+'-normal',isLocked:!1,ownerLockable:a,xtype:a.determineXTypeToCreate(),store:o,scrollerOwner:!1,selModel:n,border:!1,isLayoutRoot:function(){return !1},features:m.normalFeatures,plugins:l.normalPlugins},a.normalGridConfig);a.addCls('x-grid-locked');Ext.copyTo(b,a,a.bothCfgCopy,!0);Ext.copyTo(c,a,a.bothCfgCopy,!0);Ext.copyTo(b,a,a.normalCfgCopy,!0);Ext.copyTo(c,a,a.lockedCfgCopy,!0);for(d=0;d<a.normalCfgCopy.length;d++){delete a[a.normalCfgCopy[d]]}for(d=0;d<a.lockedCfgCopy.length;d++){delete a[a.lockedCfgCopy[d]]}a.addEvents('processcolumns','lockcolumn','unlockcolumn');a.addStateEvents(['lockcolumn','unlockcolumn']);i=a.processColumns(a.columns);c.width=i.lockedWidth+Ext.num(n.headerWidth,0)+(i.locked.items.length?1:0);c.columns=i.locked;b.columns=i.normal;b.flex=1;c.viewConfig=a.lockedViewConfig||{};c.viewConfig.loadingUseMsg=!1;c.viewConfig.loadMask=!1;if(j){c.viewConfig.style='border-bottom:'+j+'px solid #f6f6f6;'+(c.viewConfig.style||'')}b.viewConfig=a.normalViewConfig||{};b.viewConfig.loadMask=!1;Ext.applyIf(c.viewConfig,a.viewConfig);Ext.applyIf(b.viewConfig,a.viewConfig);a.lockedGrid=Ext.ComponentManager.create(c);if(a.isTree){a.lockedGrid.getView().animate=!1;b.store=a.lockedGrid.view.store;b.deferRowRender=!1;b.viewConfig.stripeRows=a.lockedGrid.view.stripeRows;b.rowLines=a.lockedGrid.rowLines}e=a.lockedGrid.getView();b.viewConfig.lockingPartner=e;a.normalGrid=Ext.ComponentManager.create(b);e.lockingPartner=g=a.normalGrid.getView();a.view=new Ext.grid.locking.View({loadingText:g.loadingText,loadingCls:g.loadingCls,loadingUseMsg:g.loadingUseMsg,loadMask:a.loadMask!==!1,locked:a.lockedGrid,normal:a.normalGrid,panel:a});h=p?{}:{scroll:{fn:a.onLockedViewScroll,element:'el',scope:a}};if(j){a.lockedGrid.on({afterlayout:a.afterLockedViewLayout,scope:a});e.getOverflowStyle();if(e.scrollFlags.y){a.lockedGrid.headerCt.forceFit=!0}else {h.mousewheel={fn:a.onLockedViewMouseWheel,element:'el',scope:a}}}e.on(h);h=p?{}:{scroll:{fn:a.onNormalViewScroll,element:'el',scope:a},scope:a};g.on(h);f=a.lockedGrid.headerCt;k=a.normalGrid.headerCt;a.headerCt=a.view.headerCt=new Ext.grid.locking.HeaderContainer(a);f.lockedCt=!0;f.lockableInjected=!0;k.lockableInjected=!0;f.on({add:{buffer:1,scope:a,fn:a.onLockedHeaderAdd},columnshow:a.onLockedHeaderShow,columnhide:a.onLockedHeaderHide,sortchange:a.onLockedHeaderSortChange,columnresize:a.onLockedHeaderResize,scope:a});k.on({sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[a.lockedGrid,a.normalGrid];a.relayHeaderCtEvents(f);a.relayHeaderCtEvents(k);a.storeRelayers=a.relayEvents(o,['filterchange']);a.layout={type:'hbox',align:'stretch'}},getLockingViewConfig:function(){return {xclass:'Ext.grid.locking.View',locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(b){var d,j,a,c=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container()),e=[],f=[],g={itemId:'lockedHeaderCt',stretchMaxPartner:'^^>>#normalHeaderCt',items:e},h={itemId:'normalHeaderCt',stretchMaxPartner:'^^>>#lockedHeaderCt',items:f},i={lockedWidth:0,locked:g,normal:h};if(Ext.isObject(b)){Ext.applyIf(g,b);Ext.applyIf(h,b);Ext.apply(c,b);b=b.items}for(d=0,j=b.length;d<j;++d){a=b[d];if(!a.isComponent){a=c.lookupComponent(c.applyDefaults(a))}a.processed=!0;if(a.locked||a.autoLock){if(!a.hidden){i.lockedWidth+=this.getColumnWidth(a)||c.defaultWidth}e.push(a)}else {f.push(a)}if(!a.headerId){a.headerId=(a.initialConfig||a).id||'h'+ ++this.headerCounter}}this.fireEvent('processcolumns',this,e,f);return i},getColumnWidth:function(c){var d=c.width||0,b,e,a;if(!d&&c.isGroupHeader){b=c.items.items;e=b.length;for(a=0;a<e;a++){d+=this.getColumnWidth(b[a])}}return d},afterLockedViewLayout:function(){var d=this,a=d.lockedGrid.getView(),b=a.el.dom,c=d.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;if(a.scrollFlags.x&&b.scrollWidth>b.clientWidth){c=0}a.el.dom.style.borderBottomWidth=c+'px';if(!Ext.isBorderBox){a.el.setHeight(a.lastBox.height)}},onLockedViewMouseWheel:function(f){var b=this,g=-b.scrollDelta,c=g*f.getWheelDeltas().y,a=b.lockedGrid.getView().el.dom,d,e;if(!b.ignoreMousewheel){if(a){d=a.scrollTop!==a.scrollHeight-a.clientHeight;e=a.scrollTop!==0}if(c<0&&e||c>0&&d){f.stopEvent();a.scrollTop+=c;b.normalGrid.getView().el.dom.scrollTop=a.scrollTop;b.onNormalViewScroll()}}},onLockedViewScroll:function(){var b=this,d=b.lockedGrid.getView(),e=b.normalGrid.getView(),g=e.el.dom,f=d.el.dom,a,c;if(g.scrollTop!==f.scrollTop){g.scrollTop=f.scrollTop;if(b.store.buffered){c=d.el.child('table',!0);a=e.el.child('table',!0);a.style.position='absolute';a.style.top=c.style.top}}},onNormalViewScroll:function(){var b=this,d=b.lockedGrid.getView(),e=b.normalGrid.getView(),g=e.el.dom,f=d.el.dom,c,a;if(g.scrollTop!==f.scrollTop){f.scrollTop=g.scrollTop;if(b.store.buffered){a=d.el.child('table',!0);c=e.el.child('table',!0);a.style.position='absolute';a.style.top=c.style.top}}},syncRowHeights:function(){var h=this,a,f=h.lockedGrid.getView(),b=h.normalGrid.getView(),d=f.all.slice(),e=b.all.slice(),g=d.length,c;if(e.length===g){for(a=0;a<g;a++){b.syncRowHeights(d[a],e[a])}c=b.el.dom.scrollTop;b.el.dom.scrollTop=c;f.el.dom.scrollTop=c}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,!0);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,!1);a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy);a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(f,c){var d=this.getMenu(),a=d.down('#unlockItem'),b=d.down('#lockItem'),e=a.prev();if(c.lockable===!1){e.hide();a.hide();b.hide()}else {e.show();a.show();b.show();if(!a.initialConfig.disabled){a.setDisabled(c.lockable===!1)}if(!b.initialConfig.disabled){b.setDisabled(!c.isLockable())}}},getMenuItems:function(d,b){var a=this,f=a.unlockText,h=a.lockText,g='x-hmenu-unlock',i='x-hmenu-lock',c=Ext.Function.bind(a.onUnlockMenuClick,a),e=Ext.Function.bind(a.onLockMenuClick,a);return function(){var a=d.call(this);a.push('-',{itemId:'unlockItem',cls:g,text:f,handler:c,disabled:!b});a.push({itemId:'lockItem',cls:i,text:h,handler:e,disabled:b});return a}},syncLockedWidth:function(){var b=this,a=b.lockedGrid,c=a.view,g=c.el.dom,d=b.normalGrid,e=a.headerCt.getVisibleGridColumns().length,f=d.headerCt.getVisibleGridColumns().length;Ext.suspendLayouts();if(f){d.show();if(e){if(!a.headerCt.forceFit){delete a.flex;a.setWidth(a.headerCt.getFullWidth())}a.addCls(b.lockedGridCls);a.show()}else {a.getView().refresh();a.hide()}c.el.setStyle(c.getOverflowStyle());b.ignoreMousewheel=c.scrollFlags.y}else {d.hide();g.style.borderBottomWidth='0';a.flex=1;delete a.width;a.removeCls(b.lockedGridCls);a.show();c.el.setStyle(d.view.getOverflowStyle());b.ignoreMousewheel=!0}Ext.resumeLayouts(!0);return [e,f]},onLockedHeaderAdd:function(){if(!this.ignoreAddLockedColumn){this.syncLockedWidth()}},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(b,c,a){if(a){this.normalGrid.headerCt.clearOtherSortStates(null,!0)}},onNormalHeaderSortChange:function(b,c,a){if(a){this.lockedGrid.headerCt.clearOtherSortStates(null,!0)}},lock:function(a,h){var b=this,e=b.normalGrid,d=b.lockedGrid,i=e.headerCt,f=d.headerCt,c,g;a=a||i.getMenu().activeHeader;g=a.ownerCt;if(!a.isLockable()){return}if(a.flex){a.width=a.getWidth();a.flex=null}Ext.suspendLayouts();g.remove(a,!1);a.locked=!0;b.ignoreAddLockedColumn=!0;if(Ext.isDefined(h)){f.insert(h,a)}else {f.add(a)}b.ignoreAddLockedColumn=!1;c=b.syncLockedWidth();if(c[0]){d.getView().refresh()}if(c[1]){e.getView().refresh()}Ext.resumeLayouts(!0);b.fireEvent('lockcolumn',b,a)},unlock:function(a,d){var b=this,f=b.normalGrid,e=b.lockedGrid,h=f.headerCt,g=e.headerCt,c;if(!Ext.isDefined(d)){d=0}a=a||g.getMenu().activeHeader;Ext.suspendLayouts();a.ownerCt.remove(a,!1);a.locked=!1;h.insert(d,a);c=b.syncLockedWidth();if(c[0]){e.getView().refresh()}if(c[1]){f.getView().refresh()}Ext.resumeLayouts(!0);b.fireEvent('unlockcolumn',b,a)},reconfigureLockable:function(b,c){var a=this,f=a.store,d=a.lockedGrid,e=a.normalGrid;Ext.suspendLayouts();if(c){d.headerCt.removeAll();e.headerCt.removeAll();c=a.processColumns(c);a.ignoreAddLockedColumn=!0;d.headerCt.add(c.locked.items);a.ignoreAddLockedColumn=!1;e.headerCt.add(c.normal.items);a.syncLockedWidth()}if(b&&b!==f){b=Ext.data.StoreManager.lookup(b);a.store=b;d.bindStore(b);e.bindStore(b)}else {d.getView().refresh();e.getView().refresh()}Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var e=this.features,a,d,b,c,f=0,g;if(e){b=[];c=[];g=e.length;for(;f<g;f++){a=e[f];if(!a.isFeature){a=Ext.create('feature.'+a.ftype,a)}switch(a.lockableScope){case 'locked':b.push(a);break;case 'normal':c.push(a);break;default:a.lockableScope='both';b.push(a);c.push(d=a.clone());d.lockingPartner=a;a.lockingPartner=d;}}}return {normalFeatures:c,lockedFeatures:b}},constructLockablePlugins:function(){var g=this.plugins,a,e,d,f,b,c,h=0,i;if(g){f=[];b=[];c=[];i=g.length;for(;h<i;h++){a=g[h];switch(a.lockableScope){case 'both':b.push(d=a.clonePlugin());c.push(e=a.clonePlugin());d.lockingPartner=e;e.lockingPartner=d;Ext.destroy(a);break;case 'locked':b.push(a);break;case 'normal':c.push(a);break;default:f.push(a);}}}return {topPlugins:f,normalPlugins:c,lockedPlugins:b}},destroyLockable:function(){Ext.destroy(this.view)}},0,0,0,0,0,0,[Ext.grid.locking,'Lockable',Ext.grid,'Lockable'],function(){this.borrow(Ext.AbstractComponent,['constructPlugin'])});Ext.cmd.derive('Ext.grid.plugin.BufferedRenderer',Ext.AbstractPlugin,{lockableScope:'both',percentageFromEdge:0.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(c){var a=this,b=c.view,d={scroll:{fn:a.onViewScroll,element:'el',scope:a},boxready:a.onViewResize,resize:a.onViewResize,refresh:a.onViewRefresh,scope:a,destroyable:!0};if(!a.variableRowHeight&&c.ownerLockable){c.ownerLockable.syncRowHeight=!1}if(c.isTree||c.ownerLockable&&c.ownerLockable.isTree){b.blockRefresh=!1;b.loadMask=!0}if(b.positionBody){d.refresh=a.onViewRefresh}a.grid=c;a.view=b;b.bufferedRenderer=a;b.preserveScrollOnRefresh=!0;a.bindStore(b.dataSource);b.getViewRange=function(){return a.getViewRange()};a.position=0;a.gridListeners=c.on('reconfigure',a.onReconfigure,a);a.viewListeners=b.on(d)},bindStore:function(b){var a=this;if(a.store){a.unbindStore()}a.storeListeners=b.on({scope:a,clear:a.onStoreClear,destroyable:!0});a.store=b;if(a.view.componentLayout.layoutCount){a.onViewResize(a.view,0,a.view.getHeight())}},onReconfigure:function(b,a){if(a&&a!==this.store){this.bindStore(a)}},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var a=this;if(a.view.rendered&&!a.store.isDestroyed){if(a.scrollTop!==0){a.ignoreNextScrollEvent=!0;a.view.el.dom.scrollTop=a.bodyTop=a.scrollTop=0}a.position=a.scrollHeight=0;a.lastScrollDirection=a.scrollOffset=null;delete a.rowHeight}},onViewRefresh:function(){var a=this,b=a.view,d=a.scrollHeight,c;if(b.all.getCount()){delete a.rowHeight}c=a.getScrollHeight();if(!d||c!=d){a.stretchView(b,c)}if(a.scrollTop!==b.el.dom.scrollTop){a.onViewScroll()}else {a.setBodyTop(a.bodyTop);if(b.all.getCount()){a.viewSize=0;a.onViewResize(b,null,b.getHeight())}}},onViewResize:function(g,f,d,e,c){if(!c||d!==c){var a=this,b;b=Math.ceil(d/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone;a.viewSize=a.setViewSize(b)}},stretchView:function(b,c){var a=this,d=a.store.buffered?a.store.getTotalCount():a.store.getCount();if(a.stretcher){a.stretcher.dom.style.marginTop=c-1+'px'}else {var e=b.el;if(b.refreshCounter){b.fixedNodes++}if(d&&a.view.all.endIndex===d-1){c=a.bodyTop+b.body.dom.offsetHeight}this.stretcher=e.createChild({style:{width:'1px',height:'1px','marginTop':c-1+'px',left:0,position:'absolute'}},e.dom.firstChild)}},setViewSize:function(c){if(c!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var a=this,d=a.store,g=a.view.all.getCount(),e,f,b=a.lockingPartner;a.viewSize=d.viewSize=c;if(g){e=a.view.all.startIndex;f=Math.min(e+c-1,(d.buffered?d.getTotalCount():d.getCount())-1);if(b){b.disable()}a.renderRange(e,f);if(b){b.enable()}}}return c},getViewRange:function(){var a=this,c=a.view.all,b=a.store;if(b.data.getCount()){return b.getRange(c.startIndex,c.startIndex+(a.viewSize||a.store.defaultViewSize)-1)}else {return []}},scrollTo:function(b,m,k,n){var a=this,e=a.view,h=e.el.dom,d=a.store,i=d.buffered?d.getTotalCount():d.getCount(),g,l,f,j,c;b=Math.min(Math.max(b,0),i-1);g=Math.max(Math.min(b-(a.leadingBufferZone+a.trailingBufferZone)/2,i-a.viewSize+1),0);c=g*a.rowHeight;l=Math.min(g+a.viewSize-1,i-1);d.getRange(g,l,{callback:function(l,g,i){a.renderRange(g,i,!0);f=d.data.getRange(b,b)[0];j=e.getNode(f,!1);e.body.dom.style.top=c+'px';a.position=a.scrollTop=h.scrollTop=c=Math.min(Math.max(0,c-e.body.getOffsetsTo(j)[1]),h.scrollHeight-h.clientHeight);if(Ext.isIE){h.scrollTop=c}if(m){e.selModel.select(f)}if(k){k.call(n||a,b,f)}}})},onViewScroll:function(h,i){var a=this,e=a.store,g=e.buffered?e.getTotalCount():e.getCount(),c,b,d=a.scrollTop=a.view.el.dom.scrollTop,f=!1;if(a.ignoreNextScrollEvent){a.ignoreNextScrollEvent=!1;return}if(!(a.disabled||g<a.viewSize)){c=d-a.position;b=c>0?1:-1;if(Math.abs(c)>=20||b!==a.lastScrollDirection){a.lastScrollDirection=b;a.handleViewScroll(a.lastScrollDirection);f=!0}}if(!f){if(a.lockingPartner&&a.lockingPartner.scrollTop!==d){a.lockingPartner.view.el.dom.scrollTop=d}}},handleViewScroll:function(h){var a=this,c=a.view.all,e=a.store,g=a.viewSize,f=e.buffered?e.getTotalCount():e.getCount(),b,d;if(h==-1){if(c.startIndex){if(a.getFirstVisibleRowIndex()-c.startIndex<a.numFromEdge){b=Math.max(0,a.getLastVisibleRowIndex()+a.trailingBufferZone-g)}}}else {if(c.endIndex<f-1){if(c.endIndex-a.getLastVisibleRowIndex()<a.numFromEdge){b=Math.max(0,a.getFirstVisibleRowIndex()-a.trailingBufferZone)}}}if(b!=null){d=Math.min(b+g-1,f-1);if(b!==c.startIndex||d!==c.endIndex){a.renderRange(b,d);return}}if(a.lockingPartner&&a.lockingPartner.view.el&&a.lockingPartner.scrollTop!==a.scrollTop){a.lockingPartner.view.el.dom.scrollTop=a.scrollTop}},renderRange:function(b,c,d){var a=this,e=a.store;if(e.rangeCached(b,c)){a.cancelLoad();if(a.synchronousRender||d){a.onRangeFetched(null,b,c)}else {if(!a.renderTask){a.renderTask=new Ext.util.DelayedTask(a.onRangeFetched,a,null,!1)}a.renderTask.delay(1,null,null,[null,b,c])}}else {a.attemptLoad(b,c)}},onRangeFetched:function(d,c,e,m){var b=this,j=b.view,l,a=j.all,h,k=0,i=c*b.rowHeight,f,g=b.lockingPartner;if(j.isDestroyed){return}if(!d){d=b.store.getRange(c,e);if(!d){return}}if(c>a.endIndex||e<a.startIndex){a.clear(!0);f=i}if(!a.getCount()){j.doAdd(d,c)}else {if(e>a.endIndex){h=Math.max(c-a.startIndex,0);if(b.variableRowHeight){k=a.item(a.startIndex+h,!0).offsetTop}a.scroll(Ext.Array.slice(d,a.endIndex+1-c),1,h,c,e);if(b.variableRowHeight){f=b.bodyTop+k}else {f=i}}else {h=Math.max(a.endIndex-e,0);l=a.startIndex;a.scroll(Ext.Array.slice(d,0,a.startIndex-c),-1,h,c,e);if(b.variableRowHeight){f=b.bodyTop-a.item(l,!0).offsetTop}else {f=i}}}b.position=b.scrollTop;if(j.positionBody){b.setBodyTop(f,i)}if(g&&!g.disabled&&!m){g.onRangeFetched(d,c,e,!0);if(g.scrollTop!==b.scrollTop){g.view.el.dom.scrollTop=b.scrollTop}}},setBodyTop:function(b,d){var a=this,c=a.view,f=a.store,g=c.body.dom,e;b=Math.floor(b);if(d!==undefined){e=b-d;b=d}g.style.position='absolute';g.style.top=(a.bodyTop=b)+'px';if(e){a.scrollTop=a.position=c.el.dom.scrollTop-=e}if(c.all.endIndex===(f.buffered?f.getTotalCount():f.getCount())-1){a.stretchView(c,a.bodyTop+g.offsetHeight)}},getFirstVisibleRowIndex:function(d,f,c,e){var a=this,i=a.view,g=i.all,j=g.elements,k=i.el.dom.clientHeight,b,h;if(g.getCount()&&a.variableRowHeight){if(!arguments.length){d=g.startIndex;f=g.endIndex;c=a.scrollTop;e=c+k;if(a.bodyTop>e||a.bodyTop+i.body.getHeight()<c){return Math.floor(a.scrollTop/a.rowHeight)}b=d+Math.min(a.numFromEdge+(a.lastScrollDirection==-1?a.leadingBufferZone:a.trailingBufferZone),Math.floor((f-d)/2))}else {b=d+Math.floor((f-d)/2)}h=a.bodyTop+j[b].offsetTop;if(h+j[b].offsetHeight<c){return a.getFirstVisibleRowIndex(b+1,f,c,e)}if(h<=c){return b}else {if(b!==d){return a.getFirstVisibleRowIndex(d,b-1,c,e)}}}return Math.floor(a.scrollTop/a.rowHeight)},getLastVisibleRowIndex:function(f,d,e,c){var a=this,j=a.view,g=j.all,l=g.elements,h=j.el.dom.clientHeight,b,i,k;if(g.getCount()&&a.variableRowHeight){if(!arguments.length){f=g.startIndex;d=g.endIndex;e=a.scrollTop;c=e+h;if(a.bodyTop>c||a.bodyTop+j.body.getHeight()<e){return Math.floor(a.scrollTop/a.rowHeight)+Math.ceil(h/a.rowHeight)}b=d-Math.min(a.numFromEdge+(a.lastScrollDirection==1?a.leadingBufferZone:a.trailingBufferZone),Math.floor((d-f)/2))}else {b=f+Math.floor((d-f)/2)}i=a.bodyTop+l[b].offsetTop;if(i>c){return a.getLastVisibleRowIndex(f,b-1,e,c)}k=i+l[b].offsetHeight;if(k>=c){return b}else {if(b!==d){return a.getLastVisibleRowIndex(b+1,d,e,c)}}}return a.getFirstVisibleRowIndex()+Math.ceil(h/a.rowHeight)},getScrollHeight:function(){var a=this,c=a.view,b=a.store,d=!a.hasOwnProperty('rowHeight'),e=a.store.getCount();if(!e){return 0}if(d){if(c.all.getCount()){a.rowHeight=Math.floor(c.body.getHeight()/c.all.getCount())}}return this.scrollHeight=Math.floor((b.buffered?b.getTotalCount():b.getCount())*a.rowHeight)},attemptLoad:function(b,c){var a=this;if(a.scrollToLoadBuffer){if(!a.loadTask){a.loadTask=new Ext.util.DelayedTask(a.doAttemptLoad,a,[])}a.loadTask.delay(a.scrollToLoadBuffer,a.doAttemptLoad,a,[b,c])}else {a.store.getRange(b,c,{callback:a.onRangeFetched,scope:a,fireEvent:!1})}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var a=this,b=a.view;if(b&&b.el){b.el.un('scroll',a.onViewScroll,a)}Ext.destroy(a.viewListeners,a.storeListeners,a.gridListeners)}},0,0,0,0,['plugin.bufferedrenderer'],0,[Ext.grid.plugin,'BufferedRenderer'],0);Ext.cmd.derive('Ext.layout.ClassList',Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return {dirty:!1,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(b){var a=this;if(!a.map[b]){a.map[b]=!0;a.classes.push(b);if(!a.dirty){a.dirty=!0;a.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(' ');this.dirty=!1},remove:function(b){var a=this;if(a.map[b]){delete a.map[b];a.classes=Ext.Array.filter(a.classes,function(a){return a!=b});if(!a.dirty){a.dirty=!0;a.owner.markDirty()}}},removeMany:function(d){var c=this,e=b(a(d));c.classes=Ext.Array.filter(c.classes,function(a){if(!e[a]){return !0}delete c.map[a];if(!c.dirty){c.dirty=!0;c.owner.markDirty()}return !1})}}}(),1,0,0,0,0,0,[Ext.layout,'ClassList'],0);Ext.cmd.derive('Ext.util.Queue',Ext.Base,{constructor:function(){this.clear()},add:function(b){var a=this,c=a.getKey(b);if(!a.map[c]){++a.length;a.items.push(b);a.map[c]=b}return b},clear:function(){var a=this,b=a.items;a.items=[];a.map={};a.length=0;return b},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(b){var a=this,e=a.getKey(b),d=a.items,c;if(a.map[e]){c=Ext.Array.indexOf(d,b);Ext.Array.erase(d,c,1);delete a.map[e];--a.length}return b}},1,0,0,0,0,0,[Ext.util,'Queue'],0);Ext.cmd.derive('Ext.layout.ContextItem',Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(s){var a=this,p=Ext.layout.SizeModel.sizeModels,m=p.configured,g=p.shrinkWrap,l,c,f,d,k,i,b,q,n,r,o,h,e,j;Ext.apply(a,s);l=a.el;a.id=l.id;a.flushedProps={};a.props=k={};a.styles={};b=a.target;if(!b.isComponent){c=l.lastBox}else {a.wrapsComponent=!0;a.framing=b.frameSize||null;a.isComponentChild=b.ownerLayout&&b.ownerLayout.isComponentLayout;c=b.lastBox;f=b.ownerCt;if(f&&(d=f.el&&a.context.items[f.el.id])){a.ownerCtContext=d}a.sizeModel=i=b.getSizeModel(d&&d.widthModel.pairsByHeightOrdinal[d.heightModel.ordinal]);a.widthModel=h=i.width;a.heightModel=e=i.height;if(c&&c.invalid===!1){r=b.width===(q=c.width);o=b.height===(n=c.height);if(h===g&&e===g){j=!0}else {if(h===m&&r){j=e===g||e===m&&o}}if(j){a.optOut=!0;k.width=q;k.height=n}}}a.lastBox=c},init:function(r,h){var a=this,c=a.props,e=a.dirty,b=a.ownerCtContext,p=a.target.ownerLayout,i=!a.state,s=r||i,m,k,t,q,j,d,n=a.heightModel,o=a.widthModel,f,g,l=0;a.dirty=a.invalid=!1;a.props={};a.remainingChildDimensions=0;if(a.boxChildren){a.boxChildren.length=0}if(!i){a.clearAllBlocks('blocks');a.clearAllBlocks('domBlocks')}if(!a.wrapsComponent){return s}d=a.target;a.state={};if(i){if(d.beforeLayout&&d.beforeLayout!==Ext.emptyFn){d.beforeLayout()}if(!b&&(q=d.ownerCt)){b=a.context.items[q.el.id]}if(b){a.ownerCtContext=b;a.isBoxParent=d.ownerLayout.isItemBoxParent(a)}else {a.isTopLevel=!0}a.frameBodyContext=a.getEl('frameBody')}else {b=a.ownerCtContext;a.isTopLevel=!b;m=a.children;for(k=0,t=m.length;k<t;++k){m[k].init(!0)}}a.hasRawContent=!(d.isContainer&&d.items.items.length>0);if(r){a.widthModel=a.heightModel=null;j=d.getSizeModel(b&&b.widthModel.pairsByHeightOrdinal[b.heightModel.ordinal]);if(i){a.sizeModel=j}a.widthModel=j.width;a.heightModel=j.height;if(b&&!a.isComponentChild){b.remainingChildDimensions+=2}}else {if(c){a.recoverProp('x',c,e);a.recoverProp('y',c,e);if(a.widthModel.calculated){a.recoverProp('width',c,e)}else {if('width' in c){++l}}if(a.heightModel.calculated){a.recoverProp('height',c,e)}else {if('height' in c){++l}}if(b&&!a.isComponentChild){b.remainingChildDimensions+=l}}}if(c&&p&&p.manageMargins){a.recoverProp('margin-top',c,e);a.recoverProp('margin-right',c,e);a.recoverProp('margin-bottom',c,e);a.recoverProp('margin-left',c,e)}if(h){f=h.heightModel;g=h.widthModel;if(g&&f&&o&&n){if(o.shrinkWrap&&n.shrinkWrap){if(g.constrainedMax&&f.constrainedMin){f=null}}}if(g){a.widthModel=g}if(f){a.heightModel=f}if(h.state){Ext.apply(a.state,h.state)}}return s},initContinue:function(f){var b=this,a=b.ownerCtContext,g=b.target,c=b.widthModel,e=g.getHierarchyState(),d;if(c.fixed){e.inShrinkWrapTable=!1}else {delete e.inShrinkWrapTable}if(f){if(a&&c.shrinkWrap){d=a.isBoxParent?a:a.boxParent;if(d){d.addBoxChild(b)}}else {if(c.natural){b.boxParent=a}}}return f},initDone:function(d){var a=this,b=a.props,c=a.state;if(a.remainingChildDimensions===0){b.containerChildrenSizeDone=!0}if(d){b.containerLayoutDone=!0}if(a.boxChildren&&a.boxChildren.length&&a.widthModel.shrinkWrap){a.el.setWidth(10000);c.blocks=(c.blocks||0)+1}},initAnimation:function(){var a=this,b=a.target,c=a.ownerCtContext;if(c&&c.isTopLevel){a.animatePolicy=b.ownerLayout.getAnimatePolicy(a)}else {if(!c&&b.isCollapsingOrExpanding&&b.animCollapse){a.animatePolicy=b.componentLayout.getAnimatePolicy(a)}}if(a.animatePolicy){a.context.queueAnimation(a)}},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(f,a,e){var b=this,d=b[f]||(b[f]={}),c=d[e]||(d[e]={});if(!c[a.id]){c[a.id]=a;++a.blockCount;++b.context.blockCount}},addBoxChild:function(a){var d=this,b,c=a.widthModel;a.boxParent=this;a.measuresBox=c.shrinkWrap?a.hasRawContent:c.natural;if(a.measuresBox){b=d.boxChildren;if(b){b.push(a)}else {d.boxChildren=[a]}}},addPositionStyles:function(b,c){var d=c.x,e=c.y,a=0;if(d!==undefined){b.left=d+'px';++a}if(e!==undefined){b.top=e+'px';++a}return a},addTrigger:function(c,e){var b=this,h=e?'domTriggers':'triggers',f=b[h]||(b[h]={}),g=b.context,a=g.currentLayout,d=f[c]||(f[c]={});if(!d[a.id]){d[a.id]=a;++a.triggerCount;d=g.triggers[e?'dom':'data'];(d[a.id]||(d[a.id]=[])).push({item:this,prop:c});if(b.props[c]!==undefined){if(!e||!(b.dirty&&c in b.dirty)){++a.firedTriggers}}}},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;if(c==a.boxChildren.length){b.clearBoxWidth=1;++a.context.progressCount;a.markDirty()}},borderNames:['border-top-width','border-right-width','border-bottom-width','border-left-width'],marginNames:['margin-top','margin-right','margin-bottom','margin-left'],paddingNames:['padding-top','padding-right','padding-bottom','padding-left'],trblNames:['top','right','bottom','left'],cacheMissHandlers:{borderInfo:function(b){var a=b.getStyles(b.borderNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(b){var a=b.getStyles(b.marginNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(b){var c=b.frameBodyContext||b,a=c.getStyles(b.paddingNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(c){var a=this[c],b;if(a){for(b in a){this.clearBlocks(c,b)}}},clearBlocks:function(g,f){var c=this[g],b=c&&c[f],d,a,e;if(b){delete c[f];d=this.context;for(e in b){a=b[e];--d.blockCount;if(!--a.blockCount&&!a.pending&&!a.done){d.queueLayout(a)}}}},block:function(b,a){this.addBlock('blocks',b,a)},domBlock:function(b,a){this.addBlock('domBlocks',b,a)},fireTriggers:function(g,e){var c=this[g],b=c&&c[e],f=this.context,a,d;if(b){for(d in b){a=b[d];++a.firedTriggers;if(!a.done&&!a.blockCount&&!a.pending){f.queueLayout(a)}}}},flush:function(){var a=this,d=a.dirty,b=a.state,c=a.el;a.dirtyCount=0;if(a.classList&&a.classList.dirty){a.classList.flush()}if('attributes' in a){c.set(a.attributes);delete a.attributes}if('innerHTML' in a){c.innerHTML=a.innerHTML;delete a.innerHTML}if(b&&b.clearBoxWidth){b.clearBoxWidth=0;a.el.setStyle('width',null);if(!--b.blocks){a.context.queueItemLayouts(a)}}if(d){delete a.dirty;a.writeProps(d,!0)}},flushAnimations:function(){var a=this,k=a.previousSize,c,d,l,g,e,h,f,m,b,j,i;if(k){c=a.target;d=c.layout&&c.layout.animate;if(d){l=Ext.isNumber(d)?d:d.duration}g=Ext.Object.getKeys(a.animatePolicy);e=Ext.apply({},{from:{},to:{},duration:l||Ext.fx.Anim.prototype.duration},d);for(h=0,f=0,m=g.length;f<m;f++){b=g[f];j=k[b];i=a.peek(b);if(j!=i){b=a.translateProps[b]||b;e.from[b]=j;e.to[b]=i;++h}}if(h){if(a.isCollapsingOrExpanding===1){c.componentLayout.undoLayout(a)}else {a.writeProps(e.from)}a.el.animate(e);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===1){c.componentLayout.redoLayout(a);c.afterCollapse(!0)}else {if(a.isCollapsingOrExpanding===2){c.afterExpand(!0)}}}})}}},getBorderInfo:function(){var b=this,a=b.borderInfo;if(!a){b.borderInfo=a=b.checkCache('borderInfo')}return a},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(b,f){var d=this,c,a,e;if(b){if(b.dom){a=b}else {c=d.target;if(f){c=f}a=c[b];if(typeof a=='function'){a=a.call(c);if(a===d.el){return this}}}if(a){e=d.context.getEl(d,a)}}return e||null},getFrameInfo:function(){var c=this,d=c.frameInfo,a,b;if(!d){a=c.framing;b=c.getBorderInfo();c.frameInfo=d=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b}return d},getMarginInfo:function(){var b=this,a=b.marginInfo,c,g,e,d,f;if(!a){if(!b.wrapsComponent){a=b.checkCache('marginInfo')}else {c=b.target;d=c.ownerLayout;f=d?d.id:null;g=d&&d.manageMargins;a=c.margin$;if(a&&a.ownerId!==f){a=null}if(!a){a=b.parseMargins(c,c.margin)||b.checkCache('marginInfo');if(g){e=b.parseMargins(c,c.margins,d.defaultMargins);if(e){a={top:a.top+e.top,right:a.right+e.right,bottom:a.bottom+e.bottom,left:a.left+e.left}}b.setProp('margin-top',0);b.setProp('margin-right',0);b.setProp('margin-bottom',0);b.setProp('margin-left',0)}a.ownerId=f;c.margin$=a}a.width=a.left+a.right;a.height=a.top+a.bottom}b.marginInfo=a}return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var b=this,a=b.paddingInfo;if(!a){b.paddingInfo=a=b.checkCache('paddingInfo')}return a},getProp:function(a){var b=this,c=b.props[a];b.addTrigger(a);return c},getDomProp:function(b){var a=this,c=a.dirty&&b in a.dirty?undefined:a.props[b];a.addTrigger(b,!0);return c},getStyle:function(b){var e=this,c=e.styles,d,a;if(b in c){a=c[b]}else {d=e.styleInfo[b];a=e.el.getStyle(b);if(d&&d.parseInt){a=parseInt(a,10)||0}c[b]=a}return a},getStyles:function(f,e){var l=this,i=l.styles,j={},h=0,o=f.length,a,b,d,c,k,m,n,g;e=e||f;for(a=0;a<o;++a){c=f[a];if(c in i){j[e[a]]=i[c];++h;if(a&&h==1){b=f.slice(0,a);d=e.slice(0,a)}}else {if(h){(b||(b=[])).push(c);(d||(d=[])).push(e[a])}}}if(h<o){b=b||f;d=d||e;m=l.styleInfo;n=l.el.getStyle(b);for(a=b.length;a--;){c=b[a];k=m[c];g=n[c];if(k&&k.parseInt){g=parseInt(g,10)||0}j[d[a]]=g;i[c]=g}}return j},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(d,a,c){if(a===!0){a=5}var e=typeof a,b;if(e=='string'||e=='number'){b=d.parseBox(a)}else {if(a||c){b={top:0,right:0,bottom:0,left:0};if(c){Ext.apply(b,this.parseMargins(d,c))}if(a){a=Ext.apply(b,d.parseBox(a))}}}return b},peek:function(a){return this.props[a]},recoverProp:function(a,d,b){var c=this,f=c.props,e;if(a in d){f[a]=d[a];if(b&&a in b){e=c.dirty||(c.dirty={});e[a]=b[a]}}},redo:function(e){var c=this,b,d,a;c.revertProps(c.props);if(e&&c.wrapsComponent){if(c.childItems){for(a=0,b=c.childItems,d=b.length;a<d;a++){b[a].redo(e)}}for(a=0,b=c.children,d=b.length;a<d;a++){b[a].redo()}}},removeEl:function(b,e){var d=this,c,a;if(b){if(b.dom){a=b}else {c=d.target;if(e){c=e}a=c[b];if(typeof a=='function'){a=a.call(c);if(a===d.el){return this}}}if(a){d.context.removeEl(d,a)}}},revertProps:function(c){var a,d=this.flushedProps,b={};for(a in c){if(d.hasOwnProperty(a)){b[a]=c[a]}}this.writeProps(b)},setAttribute:function(c,b){var a=this;if(!a.attributes){a.attributes={}}a.attributes[c]=b;a.markDirty()},setBox:function(a){var b=this;if('left' in a){b.setProp('x',a.left)}if('top' in a){b.setProp('y',a.top)}b.setSize(a.width,a.height)},setContentHeight:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp('contentHeight',b)},setContentWidth:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp('contentWidth',b)},setContentSize:function(c,b,a){return this.setContentWidth(c,a)+this.setContentHeight(b,a)==2},setProp:function(b,c,g){var a=this,e=typeof c,d,f;if(e=='undefined'||e==='number'&&isNaN(c)){return 0}if(a.props[b]===c){return 1}a.props[b]=c;++a.context.progressCount;if(g===!1){a.fireTriggers('domTriggers',b);a.clearBlocks('domBlocks',b)}else {f=a.styleInfo[b];if(f){if(!a.dirty){a.dirty={}}if(b=='width'||b=='height'){d=a.isBorderBoxValue;if(d===null){a.isBorderBoxValue=d=!!a.el.isBorderBox()}if(!d){a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo()}}a.dirty[b]=c;a.markDirty()}}a.fireTriggers('triggers',b);a.clearBlocks('blocks',b);return 1},setHeight:function(b,e){var a=this,h=a.target,c=a.ownerCtContext,d,f,i,g,j;if(b<0){b=0}if(!a.wrapsComponent){if(!a.setProp('height',b,e)){return NaN}}else {i=a.collapsedVert?0:h.minHeight||0;b=Ext.Number.constrain(b,i,h.maxHeight);g=a.props.height;if(!a.setProp('height',b,e)){return NaN}if(c&&!a.isComponentChild&&isNaN(g)){j=--c.remainingChildDimensions;if(!j){c.setProp('containerChildrenSizeDone',!0)}}d=a.frameBodyContext;if(d){f=a.getFrameInfo();d.setHeight(b-f.height,e)}}return b},setWidth:function(b,e){var a=this,h=a.target,c=a.ownerCtContext,d,f,i,g,j;if(b<0){b=0}if(!a.wrapsComponent){if(!a.setProp('width',b,e)){return NaN}}else {i=a.collapsedHorz?0:h.minWidth||0;b=Ext.Number.constrain(b,i,h.maxWidth);g=a.props.width;if(!a.setProp('width',b,e)){return NaN}if(c&&!a.isComponentChild&&isNaN(g)){j=--c.remainingChildDimensions;if(!j){c.setProp('containerChildrenSizeDone',!0)}}d=a.frameBodyContext;if(d){f=a.getFrameInfo();d.setWidth(b-f.width,e)}}return b},setSize:function(c,b,a){this.setWidth(c,a);this.setHeight(b,a)},translateProps:{x:'left',y:'top'},undo:function(e){var c=this,b,d,a;c.revertProps(c.lastBox);if(e&&c.wrapsComponent){if(c.childItems){for(a=0,b=c.childItems,d=b.length;a<d;a++){b[a].undo(e)}}for(a=0,b=c.children,d=b.length;a<d;a++){b[a].undo()}}},unsetProp:function(a){var b=this.dirty;delete this.props[a];if(b){delete b[a]}},writeProps:function(b,w){if(!(b&&typeof b=='object')){return}var a=this,t=a.el,f={},g=0,v=a.styleInfo,i,c,n,e=b.width,d=b.height,u=a.isBorderBoxValue,r=a.target,s=Math.max,o=0,m=0,q,p,h,k,j,l;if('displayed' in b){t.setDisplayed(b.displayed)}for(c in b){if(w){a.fireTriggers('domTriggers',c);a.clearBlocks('domBlocks',c);a.flushedProps[c]=1}i=v[c];if(i&&i.dom){if(i.suffix&&(n=parseInt(b[c],10))){f[c]=n+i.suffix}else {f[c]=b[c]}++g}}if('x' in b||'y' in b){if(r.isComponent){r.setPosition(b.x,b.y)}else {g+=a.addPositionStyles(f,b)}}if(!u&&(e>0||d>0)){if(!a.frameBodyContext){o=a.paddingInfo.width;m=a.paddingInfo.height}if(e){e=s(parseInt(e,10)-(a.borderInfo.width+o),0);f.width=e+'px';++g}if(d){d=s(parseInt(d,10)-(a.borderInfo.height+m),0);f.height=d+'px';++g}}if(a.wrapsComponent&&Ext.isIE9&&Ext.isStrict){if((q=e!==undefined&&a.hasOverflowY)||(p=d!==undefined&&a.hasOverflowX)){h=a.isAbsolute;if(h===undefined){h=!1;l=a.target.getTargetEl();j=l.getStyle('position');if(j=='absolute'){j=l.getStyle('box-sizing');h=j=='border-box'}a.isAbsolute=h}if(h){k=Ext.getScrollbarSize();if(q){e=parseInt(e,10)+k.width;f.width=e+'px';++g}if(p){d=parseInt(d,10)+k.height;f.height=d+'px';++g}}}}if(g){t.setStyle(f)}}},1,0,0,0,0,0,[Ext.layout,'ContextItem'],function(){var a={dom:!0,parseInt:!0,suffix:'px'},c={dom:!0},b={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:b,containerLayoutDone:b,displayed:b,done:b,x:b,y:b,columnWidthsDone:b,left:a,top:a,right:a,bottom:a,width:a,height:a,'border-top-width':a,'border-right-width':a,'border-bottom-width':a,'border-left-width':a,'margin-top':a,'margin-right':a,'margin-bottom':a,'margin-left':a,'padding-top':a,'padding-right':a,'padding-bottom':a,'padding-left':a,'line-height':c,display:c}});Ext.cmd.derive('Ext.layout.Context',Ext.Base,{remainingLayouts:0,state:0,constructor:function(b){var a=this;Ext.apply(a,b);a.items={};a.layouts={};a.blockCount=0;a.cycleCount=0;a.flushCount=0;a.calcCount=0;a.animateQueue=a.newQueue();a.completionQueue=a.newQueue();a.finalizeQueue=a.newQueue();a.finishQueue=a.newQueue();a.flushQueue=a.newQueue();a.invalidateData={};a.layoutQueue=a.newQueue();a.invalidQueue=[];a.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,p,o){var c=this,l=a,n=!a.isComponent,q=n?l.length:1,e,f,j,d,b,m,h,i,k,g;for(e=0;e<q;++e){if(n){a=l[e]}if(o&&a.ownerCt){g=this.items[a.ownerCt.el.id];if(g){Ext.Array.remove(g.childItems,c.getCmp(a))}}if(!p){h=c.invalidQueue;j=h.length;if(j){c.invalidQueue=m=[];for(f=0;f<j;++f){i=h[f];k=i.item.target;if(k!=a&&!k.isDescendant(a)){m.push(i)}}}}b=a.componentLayout;c.cancelLayout(b);if(b.getLayoutItems){d=b.getLayoutItems();if(d.length){c.cancelComponent(d,!0)}}if(a.isContainer&&!a.collapsed){b=a.layout;c.cancelLayout(b);d=b.getVisibleItems();if(d.length){c.cancelComponent(d,!0)}}}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a);b.finalizeQueue.remove(a);b.finishQueue.remove(a);b.layoutQueue.remove(a);if(a.running){b.layoutDone(a)}a.ownerContext=null},clearTriggers:function(h,f){var g=h.id,a=this.triggers[f?'dom':'data'],c=a&&a[g],i=c&&c.length||0,b,e,d;for(b=0;b<i;++b){d=c[b];e=d.item;a=f?e.domTriggers:e.triggers;delete a[d.prop][g]}},flush:function(){var d=this,c=d.flushQueue.clear(),b=c.length,a;if(b){++d.flushCount;for(a=0;a<b;++a){c[a].flush()}}},flushAnimations:function(){var d=this,b=d.animateQueue.clear(),c=b.length,a;if(c){for(a=0;a<c;a++){if(b[a].target.animate!==!1){b[a].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var b=this,f=b.invalidQueue,g=f&&f.length,a,d,e,c;b.invalidQueue=[];if(g){d=[];for(c=0;c<g;++c){a=(e=f[c]).item.target;if(!a.container.isDetachedBody){d.push(a);if(e.options){b.invalidateData[a.id]=e.options}}}b.invalidate(d,null)}},flushLayouts:function(d,g,h){var a=this,e=h?a[d].items:a[d].clear(),f=e.length,b,c;if(f){for(b=0;b<f;++b){c=e[b];if(!c.running){a.callLayout(c,g)}}a.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(b,c){var a=this.getItem(c,c);if(!a.parent){a.parent=b;if(b.children.length){b.children.push(a)}else {b.children=[a]}}return a},getItem:function(d,b){var c=b.id,a=this.items,e=a[c]||(a[c]=new Ext.layout.ContextItem({context:this,target:d,el:b}));return e},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(c in a){b=a[c];if(a.hasOwnProperty(c)){b.running=!1;b.ownerContext=null}}},invalidate:function(h,o){var b=this,m=!h.isComponent,j,k,i,e,a,g,n,d,c,f,l;for(i=0,n=m?h.length:1;i<n;++i){e=m?h[i]:h;if(e.rendered&&!e.hidden){a=b.getCmp(e);d=e.componentLayout;k=!d.ownerContext;c=e.isContainer&&!e.collapsed?e.layout:null;f=b.invalidateData[a.id];delete b.invalidateData[a.id];l=a.init(o,f);if(f){b.processInvalidate(f,a,'before')}if(d.beforeLayoutCycle){d.beforeLayoutCycle(a)}if(c&&c.beforeLayoutCycle){c.beforeLayoutCycle(a)}l=a.initContinue(l);j=!0;if(d.getLayoutItems){d.renderChildren();g=d.getLayoutItems();if(g.length){b.invalidate(g,!0)}}if(c){j=!1;c.renderChildren();g=c.getVisibleItems();if(g.length){b.invalidate(g,!0)}}a.initDone(j);b.resetLayout(d,a,k);if(c){b.resetLayout(c,a,k)}a.initAnimation();if(f){b.processInvalidate(f,a,'after')}}}b.currentLayout=null},layoutDone:function(b){var a=b.ownerContext;b.running=!1;if(b.isComponentLayout){if(a.measuresBox){a.onBoxMeasured()}a.setProp('done',!0)}else {a.setProp('containerLayoutDone',!0)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(a,e,c){if(a[c]){var b=this,d=b.currentLayout;b.currentLayout=a.layout||null;a[c](e,a);b.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(b,a,d){var c=this,g=b.layout,f=a.layout,e=b[d],h=a[d];return function(i){var j=c.currentLayout;if(e){c.currentLayout=g;e.call(b.scope||b,i,b)}c.currentLayout=f;h.call(a.scope||a,i,a);c.currentLayout=j}},queueInvalidate:function(c,a){var f=this,h=[],i=f.invalidQueue,k=i.length,d,e,g,b,j;if(c.isComponent){c=f.getCmp(d=c)}else {d=c.target}c.invalid=!0;while(k--){e=i[k];g=e.item.target;if(d.isDescendant(g)){return}if(g==d){if(!(b=e.options)){e.options=a}else {if(a){if(a.widthModel){b.widthModel=a.widthModel}if(a.heightModel){b.heightModel=a.heightModel}if(!(j=b.state)){b.state=a.state}else {if(a.state){Ext.apply(j,a.state)}}if(a.before){b.before=f.chainFns(b,a,'before')}if(a.after){b.after=f.chainFns(b,a,'after')}}}return}if(!g.isDescendant(d)){h.push(e)}}h.push({item:c,options:a});f.invalidQueue=h},queueItemLayouts:function(b){var c=b.isComponent?b:b.target,a=c.componentLayout;if(!a.pending&&!a.invalid&&!a.done){this.queueLayout(a)}a=c.layout;if(a&&!a.pending&&!a.invalid&&!a.done){this.queueLayout(a)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=!0},removeEl:function(d,e){var c=e.id,a=d.children,b=this.items;if(a){Ext.Array.remove(a,b[c])}delete b[c]},resetLayout:function(a,c,d){var b=this;b.currentLayout=a;a.done=!1;a.pending=!0;a.firedTriggers=0;b.layoutQueue.add(a);if(d){b.layouts[a.id]=a;a.running=!0;if(a.finishedLayout){b.finishQueue.add(a)}++b.remainingLayouts;++a.layoutCount;a.ownerContext=c;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;if(!a.initialized){a.initLayout()}a.beginLayout(c)}else {++a.beginCount;if(!a.running){++b.remainingLayouts;a.running=!0;if(a.isComponentLayout){c.unsetProp('done')}b.completionQueue.remove(a);b.finalizeQueue.remove(a)}}a.beginLayoutCycle(c,d)},run:function(){var a=this,b=!1,c=100;a.flushInvalidates();a.state=1;a.totalCount=a.layoutQueue.getCount();a.flush();while((a.remainingLayouts||a.invalidQueue.length)&&c--){if(a.invalidQueue.length){a.flushInvalidates()}if(a.runCycle()){b=!1}else {if(!b){a.flush();b=!0;a.flushLayouts('completionQueue','completeLayout')}else {if(!a.invalidQueue.length){a.state=2;break}}}if(!(a.remainingLayouts||a.invalidQueue.length)){a.flush();a.flushLayouts('completionQueue','completeLayout');a.flushLayouts('finalizeQueue','finalizeLayout')}}return a.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return !1}a.flush();a.flushLayouts('finishQueue','finishedLayout',!0);a.flushLayouts('finishQueue','notifyOwner');a.flush();a.flushAnimations();return !0},runCycle:function(){var a=this,c=a.layoutQueue.clear(),d=c.length,b;++a.cycleCount;a.progressCount=0;for(b=0;b<d;++b){a.runLayout(a.currentLayout=c[b])}a.currentLayout=null;return a.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=!1;if(c.state.blocks){return}a.done=!0;++a.calcCount;++b.calcCount;a.calculate(c);if(a.done){b.layoutDone(a);if(a.completeLayout){b.queueCompletion(a)}if(a.finalizeLayout){b.queueFinalize(a)}}else {if(!a.pending&&!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers)){b.queueLayout(a)}}},setItemSize:function(a,g,f){var b=a,c=1,e,d;if(a.isComposite){b=a.elements;c=b.length;a=b[0]}else {if(!a.dom&&!a.el){c=b.length;a=b[0]}}for(d=0;d<c;){e=this.get(a);e.setSize(g,f);a=b[++d]}}},1,0,0,0,0,0,[Ext.layout,'Context'],0);Ext.cmd.derive('Ext.layout.component.Body',Ext.layout.component.Auto,{type:'body',beginLayout:function(a){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.bodyContext=a.getEl('body')},beginLayoutCycle:function(d,f){var a=this,c=a.lastWidthModel,b=a.lastHeightModel,e=a.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(c&&c.fixed&&d.widthModel.shrinkWrap){e.setWidth(null)}if(b&&b.fixed&&d.heightModel.shrinkWrap){e.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(a,c){var b=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(a.targetContext!=a){b+=a.getPaddingInfo().height}return b},calculateOwnerWidthFromContentWidth:function(a,c){var b=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);if(a.targetContext!=a){b+=a.getPaddingInfo().width}return b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(a,d){var b=d-a.getFrameInfo().height,c=a.targetContext;if(c!=a){b-=a.getPaddingInfo().height}return a.bodyContext.setHeight(b,!a.heightModel.natural)},publishInnerWidth:function(a,d){var b=d-a.getFrameInfo().width,c=a.targetContext;if(c!=a){b-=a.getPaddingInfo().width}a.bodyContext.setWidth(b,!a.widthModel.natural)}},0,0,0,0,['layout.body'],0,[Ext.layout.component,'Body'],0);Ext.cmd.derive('Ext.resizer.Splitter',Ext.Component,{childEls:['collapseEl'],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="','x-','collapse-el ','x-','layout-split-{collapseDir}{childElCls}">&#160;','</div>','</tpl>'],baseCls:'x-splitter',collapsedClsInternal:'x-splitter-collapsed',canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:'next',horizontal:!1,vertical:!1,size:5,getTrackerConfig:function(){return {xclass:'Ext.resizer.SplitterTracker',el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget();Ext.Component.prototype.beforeRender.call(this);if(b.collapsed){a.addCls(a.collapsedClsInternal)}if(!a.canResize){a.addCls(a.baseCls+'-noresize')}Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:a.collapsible||b.collapsible});a.protoEl.unselectable()},onRender:function(){var a=this,b;Ext.Component.prototype.onRender.apply(this,arguments);if(a.performCollapse!==!1){if(a.renderData.collapsible){a.mon(a.collapseEl,'click',a.toggleTargetCmp,a)}if(a.collapseOnDblClick){a.mon(a.el,'dblclick',a.toggleTargetCmp,a)}}a.mon(a.getCollapseTarget(),{collapse:a.onTargetCollapse,expand:a.onTargetExpand,beforeexpand:a.onBeforeTargetExpand,beforecollapse:a.onBeforeTargetCollapse,scope:a});if(a.canResize){a.tracker=Ext.create(a.getTrackerConfig());a.relayEvents(a.tracker,['beforedragstart','dragstart','dragend'])}b=a.collapseEl;if(b){b.lastCollapseDirCls=a.collapseDirProps[a.collapseDirection].cls}},getCollapseDirection:function(){var b=this,a=b.collapseDirection,c,f,d,e;if(!a){c=b.collapseTarget;if(c.isComponent){a=c.collapseDirection}if(!a){e=b.ownerCt.layout.type;if(c.isComponent){d=b.ownerCt.items;f=Number(d.indexOf(c)===d.indexOf(b)-1)<<1|Number(e==='hbox')}else {f=Number(b.collapseTarget==='prev')<<1|Number(e==='hbox')}a=['bottom','right','top','left'][f]}b.collapseDirection=a}b.setOrientation(a==='top'||a==='bottom'?'horizontal':'vertical');return a},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget==='prev'?a.previousSibling():a.nextSibling()},setCollapseEl:function(b){var a=this.collapseEl;if(a){a.setDisplayed(b)}},onBeforeTargetExpand:function(a){this.setCollapseEl('none')},onBeforeTargetCollapse:function(){this.setCollapseEl('none')},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl('')},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl('')},collapseDirProps:{top:{cls:'x-layout-split-top'},right:{cls:'x-layout-split-right'},bottom:{cls:'x-layout-split-bottom'},left:{cls:'x-layout-split-left'}},orientationProps:{horizontal:{opposite:'vertical',fixedAxis:'height',stretchedAxis:'width'},vertical:{opposite:'horizontal',fixedAxis:'width',stretchedAxis:'height'}},applyCollapseDirection:function(){var c=this,a=c.collapseEl,d=c.collapseDirProps[c.collapseDirection],b;if(a){b=a.lastCollapseDirCls;if(b){a.removeCls(b)}a.addCls(a.lastCollapseDirCls=d.cls)}},applyOrientation:function(){var a=this,e=a.orientation,b=a.orientationProps[e],f=a.size,d=b.fixedAxis,c=b.stretchedAxis,g=a.baseCls+'-';a[e]=!0;a[b.opposite]=!1;if(!a.hasOwnProperty(d)||a[d]==='100%'){a[d]=f}if(!a.hasOwnProperty(c)||a[c]===f){a[c]='100%'}a.removeCls(g+b.opposite);a.addCls(g+e)},setOrientation:function(b){var a=this;if(a.orientation!==b){a.orientation=b;a.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(d,e){var a=this.getCollapseTarget(),c=a.placeholder,b;if(Ext.isFunction(a.expand)&&Ext.isFunction(a.collapse)){if(c&&!c.hidden){b=!0}else {b=!a.hidden}if(b){if(a.collapsed){a.expand()}else {if(a.collapseDirection){a.collapse()}else {a.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var a=this;Ext.Component.prototype.setSize.apply(this,arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.beforeDestroy.call(this)}},0,['splitter'],['component','box','splitter'],{'component':!0,'box':!0,'splitter':!0},['widget.splitter'],0,[Ext.resizer,'Splitter'],0);Ext.cmd.derive('Ext.layout.container.Fit',Ext.layout.container.Container,{alternateClassName:'Ext.layout.FitLayout',itemCls:'x-fit-item',targetCls:'x-layout-fit',type:'fit',defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(d,b){var a=b||this.owner.getSizeModel(),c=(a.width.shrinkWrap?0:1)|(a.height.shrinkWrap?0:2);return this.sizePolicies[c]},beginLayoutCycle:function(a,p){var f=this,j=f.lastHeightModel&&f.lastHeightModel.calculated,m=f.lastWidthModel&&f.lastWidthModel.calculated,l=m||j,h=0,i=0,b,k,g,e,q,n,c,d,o,r;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);if(l&&a.targetContext.el.dom.tagName.toUpperCase()!='TD'){l=m=j=!1}k=a.childItems;q=k.length;for(g=0;g<q;++g){e=k[g];if(p){b=e.target;c=b.minHeight;d=b.minWidth;if(d||c){n=e.marginInfo||e.getMarginInfo();c+=n.height;d+=n.height;if(h<c){h=c}if(i<d){i=d}}}if(l){o=e.el.dom.style;if(j){o.height=''}if(m){o.width=''}}}if(p){a.maxChildMinHeight=h;a.maxChildMinWidth=i}b=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&b.scrollFlags.x||r;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&b.scrollFlags.y||r},calculate:function(a){var c=this,o=a.childItems,p=o.length,b=c.getContainerSize(a),g={length:p,ownerContext:a,targetSize:b},n=a.widthModel.shrinkWrap,m=a.heightModel.shrinkWrap,j=a.overflowX,k=a.overflowY,d,e,l,f,i,h;if(j||k){d=c.getScrollbarsNeeded(j&&b.width,k&&b.height,a.maxChildMinWidth,a.maxChildMinHeight);if(d){e=Ext.getScrollbarSize();if(d&1){b.height-=e.height}if(d&2){b.width-=e.width}}}for(f=0;f<p;++f){g.index=f;c.fitItem(o[f],g)}if(m||n){l=a.targetContext.getPaddingInfo();if(n){if(k&&!b.gotHeight){c.done=!1}else {i=g.contentWidth+l.width;if(d&2){i+=e.width}if(!a.setContentWidth(i)){c.done=!1}}}if(m){if(j&&!b.gotWidth){c.done=!1}else {h=g.contentHeight+l.height;if(d&1){h+=e.height}if(!a.setContentHeight(h)){c.done=!1}}}}},fitItem:function(b,a){var c=this;if(b.invalid){c.done=!1;return}a.margins=b.getMarginInfo();a.needed=a.got=0;c.fitItemWidth(b,a);c.fitItemHeight(b,a);if(a.got!=a.needed){c.done=!1}},fitItemWidth:function(b,a){var c,d;if(a.ownerContext.widthModel.shrinkWrap){d=b.getProp('width')+a.margins.width;c=a.contentWidth;if(c===undefined){a.contentWidth=d}else {a.contentWidth=Math.max(c,d)}}else {if(b.widthModel.calculated){++a.needed;if(a.targetSize.gotWidth){++a.got;this.setItemWidth(b,a)}}}this.positionItemX(b,a)},fitItemHeight:function(b,a){var c,d;if(a.ownerContext.heightModel.shrinkWrap){d=b.getProp('height')+a.margins.height;c=a.contentHeight;if(c===undefined){a.contentHeight=d}else {a.contentHeight=Math.max(c,d)}}else {if(b.heightModel.calculated){++a.needed;if(a.targetSize.gotHeight){++a.got;this.setItemHeight(b,a)}}}this.positionItemY(b,a)},positionItemX:function(b,c){var a=c.margins;if(c.index||a.left){b.setProp('x',a.left)}if(a.width){b.setProp('margin-right',a.width)}},positionItemY:function(b,c){var a=c.margins;if(c.index||a.top){b.setProp('y',a.top)}if(a.height){b.setProp('margin-bottom',a.height)}},setItemHeight:function(b,a){b.setHeight(a.targetSize.height-a.margins.height)},setItemWidth:function(b,a){b.setWidth(a.targetSize.width-a.margins.width)}},0,0,0,0,['layout.fit'],0,[Ext.layout.container,'Fit',Ext.layout,'FitLayout'],0);Ext.cmd.derive('Ext.layout.container.Card',Ext.layout.container.Fit,{alternateClassName:'Ext.layout.CardLayout',type:'card',hideInactive:!0,deferredRender:!1,getRenderTree:function(){var b=this,a=b.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&a.fireEvent('beforeactivate',a)===!1){a=b.activeItem=b.owner.activeItem=null}else {if(a.hasListeners.activate){a.on({boxready:function(){a.fireEvent('activate',a)},single:!0})}}if(b.deferredRender){if(a){return b.getItemsRenderTree([a])}}else {return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}}},renderChildren:function(){var a=this,b=a.getActiveItem();if(!a.deferredRender){Ext.layout.container.Fit.prototype.renderChildren.call(this)}else {if(b){a.renderItems([b],a.getRenderTarget())}}},isValidParent:function(a,c,d){var b=a.el?a.el.dom:Ext.getDom(a);return b&&b.parentNode===(c.dom||c)||!1},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||a.owner&&a.owner.activeItem);if(b&&a.owner.items.indexOf(b)!=-1){a.activeItem=b}else {a.activeItem=null}return a.activeItem},parseActiveItem:function(a){if(a&&a.isComponent){return a}else {if(typeof a=='number'||a===undefined){return this.getLayoutItems()[a||0]}else {return this.owner.getComponent(a)}}},configureItem:function(a){if(a===this.getActiveItem()){a.hidden=!1}else {a.hidden=!0}Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onRemove:function(b){var a=this;if(b===a.activeItem){a.activeItem=null}},getAnimation:function(b,c){var a=(b||{}).cardSwitchAnimation;if(a===!1){return !1}return a||c.cardSwitchAnimation},getNext:function(){var c=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b+1]||(c?a[0]:!1)},next:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getNext(b),a)},getPrev:function(){var c=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b-1]||(c?a[a.length-1]:!1)},prev:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var c=this,d=c.owner,b=c.activeItem,f=d.rendered,e;a=c.parseActiveItem(a);e=d.items.indexOf(a);if(e==-1){e=d.items.items.length;Ext.suspendLayouts();a=d.add(a);Ext.resumeLayouts()}if(a&&b!=a){if(a.fireEvent('beforeactivate',a,b)===!1){return !1}if(b&&b.fireEvent('beforedeactivate',b,a)===!1){return !1}if(f){Ext.suspendLayouts();if(!a.rendered){c.renderItem(a,c.getRenderTarget(),d.items.length)}if(b){if(c.hideInactive){b.hide();b.hiddenByLayout=!0}b.fireEvent('deactivate',b,a)}if(a.hidden){a.show()}if(!a.hidden){c.activeItem=a}Ext.resumeLayouts(!0)}else {c.activeItem=a}a.fireEvent('activate',a,b);return c.activeItem}return !1}},0,0,0,0,['layout.card'],0,[Ext.layout.container,'Card',Ext.layout,'CardLayout'],0);Ext.cmd.derive('Ext.menu.Item',Ext.Component,{alternateClassName:'Ext.menu.TextItem',activeCls:'x-menu-item-active',ariaRole:'menuitem',canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:'x-menu-item-disabled',hideOnClick:!0,isMenuItem:!0,menuAlign:'tl-tr?',menuExpandDelay:200,menuHideDelay:200,tooltipType:'qtip',arrowCls:'x-menu-item-arrow',childEls:['itemEl','iconEl','textEl','arrowEl'],renderTpl:['<tpl if="plain">','{text}','<tpl else>','<a id="{id}-itemEl"',' class="x-menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"','</tpl>','>','<div role="img" id="{id}-iconEl" class="x-menu-item-icon {iconCls}','{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>','</div>','<span id="{id}-textEl" class="x-menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>','</a>','</tpl>'],maskOnDisable:!1,activate:function(){var a=this;if(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){a.el.addCls(a.activeCls);a.focus();a.activated=!0;a.fireEvent('activate',a)}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;if(a.activated){a.el.removeCls(a.activeCls);a.blur();a.hideMenu();a.activated=!1;a.fireEvent('deactivate',a)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(':not([hidden])');if(a){a.focus()}}},expandMenu:function(b){var a=this;if(a.menu){a.cancelDeferHide();if(b===0){a.doExpandMenu()}else {clearTimeout(a.expandMenuTimer);a.expandMenuTimer=Ext.defer(a.doExpandMenu,Ext.isNumber(b)?b:a.menuExpandDelay,a)}}},doExpandMenu:function(){var a=this,b=a.menu;if(a.activated&&(!b.rendered||!b.isVisible())){a.parentMenu.activeChild=b;b.parentItem=a;b.parentMenu=a.parentMenu;b.showBy(a,a.menuAlign)}},getRefItems:function(c){var b=this.menu,a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},hideMenu:function(b){var a=this;if(a.menu){clearTimeout(a.expandMenuTimer);a.hideMenuTimer=Ext.defer(a.deferHideMenu,Ext.isNumber(b)?b:a.menuHideDelay,a)}},initComponent:function(){var a=this,c='x-',b=[c+'menu-item'],d;a.addEvents('activate','click','deactivate','textchange','iconchange');if(a.plain){b.push(c+'menu-item-plain')}if(a.cls){b.push(a.cls)}a.cls=b.join(' ');if(a.menu){d=a.menu;delete a.menu;a.setMenu(d)}Ext.Component.prototype.initComponent.apply(this,arguments)},onClick:function(b){var a=this,c=a.clickHideDelay;if(!a.href){b.stopEvent()}if(a.disabled){return}if(a.hideOnClick){if(!c){a.deferHideParentMenus()}else {a.deferHideParentMenusTimer=Ext.defer(a.deferHideParentMenus,c,a)}}Ext.callback(a.handler,a.scope||a,[a,b]);a.fireEvent('click',a,b);if(!a.hideOnClick){a.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}Ext.Component.prototype.onRemoved.apply(this,arguments);a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);Ext.Component.prototype.onDestroy.apply(this,arguments)},beforeRender:function(){var a=this,g=Ext.BLANK_IMAGE_URL,b=a.glyph,f=Ext._glyphFontFamily,c,e,d;Ext.Component.prototype.beforeRender.call(this);if(a.iconAlign==='right'){e=a.checkChangeDisabled?a.disabledCls:'';d='x-menu-item-icon-right '+a.iconCls}else {e=(a.iconCls||'')+(a.checkChangeDisabled?' '+a.disabledCls:'');d=a.menu?a.arrowCls:''}if(typeof b==='string'){c=b.split('@');b=c[0];f=c[1]}Ext.applyIf(a.renderData,{href:a.href||'#',hrefTarget:a.hrefTarget,icon:a.icon,iconCls:e,glyph:b,glyphCls:b?'x-menu-item-glyph':undefined,glyphFontFamily:f,hasIcon:!!(a.icon||a.iconCls||b),iconAlign:a.iconAlign,plain:a.plain,text:a.text,arrowCls:d,blank:g,tabIndex:a.tabIndex})},onRender:function(){var a=this;Ext.Component.prototype.onRender.apply(this,arguments);if(a.tooltip){a.setTooltip(a.tooltip,!0)}},setMenu:function(e,c){var a=this,b=a.menu,d=a.arrowEl;if(b){delete b.parentItem;delete b.parentMenu;delete b.ownerItem;if(c===!0||c!==!1&&a.destroyMenu){Ext.destroy(b)}}if(e){a.menu=Ext.menu.Manager.get(e);a.menu.ownerItem=a}else {a.menu=null}if(a.rendered&&!a.destroying&&d){d[a.menu?'addCls':'removeCls'](a.arrowCls)}},setHandler:function(b,a){this.handler=b||null;this.scope=a},setIcon:function(a){var b=this.iconEl,c=this.icon;if(b){b.src=a||Ext.BLANK_IMAGE_URL}this.icon=a;this.fireEvent('iconchange',this,c,a)},setIconCls:function(b){var a=this,c=a.iconEl,d=a.iconCls;if(c){if(a.iconCls){c.removeCls(a.iconCls)}if(b){c.addCls(b)}}a.iconCls=b;a.fireEvent('iconchange',a,d,b)},setText:function(b){var a=this,d=a.textEl||a.el,c=a.text;a.text=b;if(a.rendered){d.update(b||'');a.ownerCt.updateLayout()}a.fireEvent('textchange',a,c,b)},getTipAttr:function(){return this.tooltipType=='qtip'?'data-qtip':'title'},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(b,c){var a=this;if(a.rendered){if(!c){a.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.itemEl.id},b));a.tooltip=b}else {a.itemEl.dom.setAttribute(a.getTipAttr(),b)}}else {a.tooltip=b}return a}},0,['menuitem'],['component','box','menuitem'],{'component':!0,'box':!0,'menuitem':!0},['widget.menuitem'],[['queryable',Ext.Queryable]],[Ext.menu,'Item',Ext.menu,'TextItem'],0);Ext.cmd.derive('Ext.menu.CheckItem',Ext.menu.Item,{checkedCls:'x-menu-item-checked',uncheckedCls:'x-menu-item-unchecked',groupCls:'x-menu-group-icon',hideOnClick:!1,checkChangeDisabled:!1,childEls:['itemEl','iconEl','textEl','checkEl'],showCheckbox:!0,renderTpl:['<tpl if="plain">','{text}','<tpl else>','{%var showCheckbox = values.showCheckbox,','      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "x-right-check-item-text" : "";%}','<a id="{id}-itemEl" class="x-menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"','</tpl>','>','{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="x-menu-item-icon {iconCls}','{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>','</div>','{%} else if (showCheckbox){%}','<img id="{id}-checkEl" src="{blank}" class="x-menu-item-icon{childElCls}" />','{%}%}','<span id="{id}-textEl" class="x-menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>','{%if (rightCheckbox) {%}','<img id="{id}-checkEl" src="{blank}" class="x-menu-item-icon-right{childElCls}" />','{%} else if (values.arrowCls) {%}','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>','{%}%}','</a>','</tpl>'],initComponent:function(){var a=this;a.checked=!!a.checked;a.addEvents('beforecheckchange','checkchange');Ext.menu.Item.prototype.initComponent.apply(this,arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){a.showCheckbox=!1;if(!(a.iconCls||a.icon||a.glyph)){a.iconCls=a.groupCls}if(a.initialConfig.hideOnClick!==!1){a.hideOnClick=!0}}},beforeRender:function(){Ext.menu.Item.prototype.beforeRender.call(this);this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var a=this;Ext.menu.Item.prototype.afterRender.call(this);a.checked=!a.checked;a.setChecked(!a.checked,!0);if(a.checkChangeDisabled){a.disableCheckChange()}},disableCheckChange:function(){var a=this,b=a.checkEl;if(b){b.addCls(a.disabledCls)}if(!(Ext.isIE10p||Ext.isIE9&&Ext.isStrict)&&a.rendered){a.el.repaint()}a.checkChangeDisabled=!0},enableCheckChange:function(){var a=this,b=a.checkEl;if(b){b.removeCls(a.disabledCls)}a.checkChangeDisabled=!1},onClick:function(b){var a=this;if(!a.disabled&&!a.checkChangeDisabled&&!(a.checked&&a.group)){a.setChecked(!a.checked)}Ext.menu.Item.prototype.onClick.call(this,b)},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.onDestroy.apply(this,arguments)},setChecked:function(b,c){var a=this;if(a.checked!==b&&(c||a.fireEvent('beforecheckchange',a,b)!==!1)){if(a.el){a.el[b?'addCls':'removeCls'](a.checkedCls)[!b?'addCls':'removeCls'](a.uncheckedCls)}a.checked=b;Ext.menu.Manager.onCheckChange(a,b);if(!c){Ext.callback(a.checkHandler,a.scope,[a,b]);a.fireEvent('checkchange',a,b)}}}},0,['menucheckitem'],['component','box','menuitem','menucheckitem'],{'component':!0,'box':!0,'menuitem':!0,'menucheckitem':!0},['widget.menucheckitem'],0,[Ext.menu,'CheckItem'],0);Ext.cmd.derive('Ext.menu.KeyNav',Ext.util.KeyNav,{constructor:function(b){var a=this;a.menu=b.target;Ext.util.KeyNav.prototype.constructor.call(this,Ext.apply({down:a.down,enter:a.enter,esc:a.escape,left:a.left,right:a.right,space:a.enter,tab:a.tab,up:a.up},b))},down:function(c){var a=this,b=a.menu.focusedItem;if(b&&c.getKey()==Ext.EventObject.DOWN&&a.isWhitelisted(b)){return !0}a.focusNextItem(1)},enter:function(c){var a=this.menu,b=a.focusedItem;if(a.activeItem){a.onClick(c)}else {if(b&&b.isFormField){return !0}}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(i){var b=this.menu,c=b.items,f=b.focusedItem,g=f?c.indexOf(f):-1,a=g+i,e=c.length,h=0,d;while(h<e&&a!==g){if(a<0){a=e-1}else {if(a>=e){a=0}}d=c.getAt(a);if(b.canActivateItem(d)){b.setActiveItem(d);break}a+=i;++h}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(c){var a=this.menu,b=a.focusedItem;if(b&&this.isWhitelisted(b)){return !0}a.hide();if(a.parentMenu){a.parentMenu.focus()}},right:function(e){var b=this.menu,d=b.focusedItem,c=b.activeItem,a;if(d&&this.isWhitelisted(d)){return !0}if(c){a=b.activeItem.menu;if(a){c.expandMenu(0);a.setActiveItem(a.child(':focusable'))}}},tab:function(a){var b=this;if(a.shiftKey){b.up(a)}else {b.down(a)}},up:function(c){var a=this,b=a.menu.focusedItem;if(b&&c.getKey()==Ext.EventObject.UP&&a.isWhitelisted(b)){return !0}a.focusNextItem(-1)}},1,0,0,0,0,0,[Ext.menu,'KeyNav'],0);Ext.cmd.derive('Ext.menu.Separator',Ext.menu.Item,{canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:'x-menu-item-separator',text:'&#160;',beforeRender:function(c,b){var a=this;Ext.menu.Item.prototype.beforeRender.call(this);a.addCls(a.separatorCls)}},0,['menuseparator'],['component','box','menuitem','menuseparator'],{'component':!0,'box':!0,'menuitem':!0,'menuseparator':!0},['widget.menuseparator'],0,[Ext.menu,'Separator'],0);Ext.cmd.derive('Ext.menu.Menu',Ext.panel.Panel,{enableKeyNav:!0,allowOtherMenus:!1,ariaRole:'menu',floating:!0,constrain:!0,hidden:!0,hideMode:'visibility',ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var a=this,b='x-',d=[b+'menu'],c=a.bodyCls?[a.bodyCls]:[],e=a.floating!==!1;a.addEvents('click','mouseenter','mouseleave','mouseover');Ext.menu.Manager.register(a);if(a.plain){d.push(b+'menu-plain')}a.cls=d.join(' ');c.push(b+'menu-body',Ext.dom.Element.unselectableCls);a.bodyCls=c.join(' ');if(!a.layout){a.layout={type:'vbox',align:'stretchmax',overflowHandler:'Scroller'}}if(e){if(a.minWidth===undefined){a.minWidth=a.defaultMinWidth}}else {a.hidden=!!a.initialConfig.hidden;a.constrain=!1}Ext.panel.Panel.prototype.initComponent.apply(this,arguments)},registerWithOwnerCt:function(){if(this.floating){this.ownerCt=null;Ext.WindowManager.register(this)}},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return Ext.panel.Panel.prototype.isVisible.call(this)},getHierarchyState:function(){var a=Ext.panel.Panel.prototype.getHierarchyState.call(this);a.hidden=this.hidden;return a},beforeRender:function(){Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align='stretch'}},onBoxReady:function(){var a=this;Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments);if(a.showSeparator){a.iconSepEl=a.layout.getElementTarget().insertFirst({cls:'x-menu-icon-separator',html:'&#160;'})}a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a});a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);if(a.enableKeyNav){a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()})}},getRefOwner:function(){return this.parentMenu||this.ownerButton||Ext.panel.Panel.prototype.getRefOwner.apply(this,arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf('menuitem')<0)},deactivateActiveItem:function(d){var a=this,b=a.activeItem,c=a.focusedItem;if(b){b.deactivate();if(!b.activated){delete a.activeItem}}if(c&&d){c.blur();delete a.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0);Ext.panel.Panel.prototype.hide.apply(this,arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;if(typeof a=='string'){a=b.lookupItemFromString(a)}else {if(Ext.isObject(a)){a=b.lookupItemFromObject(a)}}a.minWidth=a.minWidth||b.minWidth;return a},lookupItemFromObject:function(a){var d=this,c='x-',b;if(!a.isComponent){if(!a.xtype){a=Ext.create('Ext.menu.'+(Ext.isBoolean(a.checked)?'Check':'')+'Item',a)}else {a=Ext.ComponentManager.create(a,a.xtype)}}if(a.isMenuItem){a.parentMenu=d}if(!a.isMenuItem&&!a.dock){b=[c+'menu-item-cmp'];if(!d.plain&&(a.indent!==!1||a.iconCls==='no-icon')){b.push(c+'menu-item-indent')}if(a.rendered){a.el.addCls(b)}else {a.cls=(a.cls||'')+' '+b.join(' ')}}return a},lookupItemFromString:function(a){return a=='separator'||a=='-'?new Ext.menu.Separator():new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},onClick:function(c){var b=this,a;if(b.disabled){c.stopEvent();return}a=c.type==='click'?b.getItemFromEvent(c):b.activeItem;if(a&&a.isMenuItem){if(!a.menu||!b.ignoreParentClicks){a.onClick(c)}else {c.stopEvent()}}if(!a||a.disabled){a=undefined}b.fireEvent('click',b,a,c)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);a.parentMenu=a.ownerButton=null;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);a.keyNav=null}Ext.panel.Panel.prototype.onDestroy.apply(this,arguments)},onMouseLeave:function(b){var a=this;a.deactivateActiveItem();if(a.disabled){return}a.fireEvent('mouseleave',a,b)},onMouseOver:function(c){var a=this,g=c.getRelatedTarget(),e=!a.el.contains(g),b=a.getItemFromEvent(c),d=a.parentMenu,f=a.parentItem;if(e&&d){d.setActiveItem(f);f.cancelDeferHide();d.mouseMonitor.mouseenter()}if(a.disabled){return}if(b&&!b.activated){a.setActiveItem(b);if(b.activated&&b.expandMenu){b.expandMenu()}}if(e){a.fireEvent('mouseenter',a,c)}a.fireEvent('mouseover',a,b,c)},setActiveItem:function(a){var b=this;if(a&&a!=b.activeItem){b.deactivateActiveItem();if(b.canActivateItem(a)){if(a.activate){a.activate();if(a.activated){b.activeItem=a;b.focusedItem=a;b.focus()}}else {a.focus();b.focusedItem=a}}a.el.scrollIntoView(b.layout.getRenderTarget())}},showBy:function(b,d,c){var a=this;Ext.panel.Panel.prototype.showBy.apply(this,arguments);if(!a.hidden){a.setVerticalPosition()}return a},beforeShow:function(){var a=this,b;if(a.floating){a.savedMaxHeight=a.maxHeight;b=a.container.getViewSize().height;a.maxHeight=Math.min(a.maxHeight||b,b)}Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var a=this;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);if(a.floating){a.maxHeight=a.savedMaxHeight}},setVerticalPosition:function(){var a=this,f,c=a.getY(),d=c,b=a.getHeight(),g=Ext.Element.getViewportHeight().height,e=a.el.parent(),h=e.getViewSize().height,i=c-e.getScroll().top;e=null;if(a.floating){f=a.maxHeight?a.maxHeight:h-i;if(b>h){d=c-i}else {if(f<b){d=c-(b-f)}else {if(c+b>g){d=g-b}}}}a.setY(d)}},0,['menu'],['component','box','container','panel','menu'],{'component':!0,'box':!0,'container':!0,'panel':!0,'menu':!0},['widget.menu'],0,[Ext.menu,'Menu'],0);Ext.cmd.derive('Ext.panel.Tool',Ext.Component,{isTool:!0,baseCls:'x-tool',disabledCls:'x-tool-disabled',toolPressedCls:'x-tool-pressed',toolOverCls:'x-tool-over',ariaRole:'button',childEls:['toolEl'],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:'qtip',stopEvent:!0,height:15,width:15,initComponent:function(){var a=this;a.addEvents('click');a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;Ext.Component.prototype.initComponent.call(this)},afterRender:function(){var a=this,b;Ext.Component.prototype.afterRender.apply(this,arguments);a.el.on({click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a});if(a.tooltip){if(Ext.quickTipsActive&&Ext.isObject(a.tooltip)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.id},a.tooltip))}else {b=a.tooltipType=='qtip'?'data-qtip':'title';a.el.dom.setAttribute(b,a.tooltip)}}},getFocusEl:function(){return this.el},setType:function(b){var a=this,c=a.type;a.type=b;if(a.rendered){if(c){a.toolEl.removeCls(a.baseCls+'-'+c)}a.toolEl.addCls(a.baseCls+'-'+b)}else {a.renderData.type=b}return a},onClick:function(b,c){var a=this;if(a.disabled){return !1}a.el.removeCls(a.toolPressedCls);a.el.removeCls(a.toolOverCls);if(a.stopEvent!==!1){b.stopEvent()}if(a.handler){Ext.callback(a.handler,a.scope||a,[b,c,a.ownerCt,a])}else {if(a.callback){Ext.callback(a.callback,a.scope||a,[a.toolOwner||a.ownerCt,a,b])}}a.fireEvent('click',a,b);return !0},onDestroy:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.id)}Ext.Component.prototype.onDestroy.call(this)},onMouseDown:function(){if(this.disabled){return !1}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return !1}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}},0,['tool'],['component','box','tool'],{'component':!0,'box':!0,'tool':!0},['widget.tool'],0,[Ext.panel,'Tool'],0);Ext.cmd.derive('Ext.resizer.SplitterTracker',Ext.dd.DragTracker,{enabled:!0,overlayCls:'x-resizable-overlay',createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:'&#160;'});a.unselectable();a.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0));a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(':not([hidden])')},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(':not([hidden])')},onBeforeStart:function(g){var a=this,c=a.getPrevCmp(),b=a.getNextCmp(),e=a.getSplitter().collapseEl,f=g.getTarget(),d;if(!c||!b){return !1}if(e&&f===a.getSplitter().collapseEl.dom){return !1}if(b.collapsed||c.collapsed){return !1}a.prevBox=c.getEl().getBox();a.nextBox=b.getEl().getBox();a.constrainTo=d=a.calculateConstrainRegion();if(!d){return !1}return d},onStart:function(b){var a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+'-active')},calculateConstrainRegion:function(){var a=this,k=a.getSplitter(),j=k.getWidth(),e=k.defaultSplitMin,l=k.orientation,c=a.prevBox,g=a.getPrevCmp(),b=a.nextBox,f=a.getNextCmp(),i,h,d;if(l==='vertical'){d={prevCmp:g,nextCmp:f,prevBox:c,nextBox:b,defaultMin:e,splitWidth:j};i=new Ext.util.Region(c.y,a.getVertPrevConstrainRight(d),c.bottom,a.getVertPrevConstrainLeft(d));h=new Ext.util.Region(b.y,a.getVertNextConstrainRight(d),b.bottom,a.getVertNextConstrainLeft(d))}else {i=new Ext.util.Region(c.y+(g.minHeight||e),c.right,(g.maxHeight?c.y+g.maxHeight:b.bottom-(f.minHeight||e))+j,c.x);h=new Ext.util.Region((f.maxHeight?b.bottom-f.maxHeight:c.y+(g.minHeight||e))-j,b.right,b.bottom-(f.minHeight||e),b.x)}return i.intersect(h)},performResize:function(p,b){var c=this,k=c.getSplitter(),n=k.orientation,f=c.getPrevCmp(),e=c.getNextCmp(),l=k.ownerCt,j=l.query('>[flex]'),o=j.length,h=n==='vertical',i=0,d=h?'width':'height',m=0,g,a;for(;i<o;i++){g=j[i];a=h?g.getWidth():g.getHeight();m+=a;g.flex=a}b=h?b[0]:b[1];if(f){a=c.prevBox[d]+b;if(f.flex){f.flex=a}else {f[d]=a}}if(e){a=c.nextBox[d]-b;if(e.flex){e.flex=a}else {e[d]=a}}l.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.remove();delete a.overlay}Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(c){var a=this,b=a.getSplitter();b.removeCls(b.baseCls+'-active');a.performResize(c,a.getResizeOffset())},onDrag:function(f){var a=this,d=a.getOffset('dragTarget'),b=a.getSplitter(),c=b.getEl(),e=b.orientation;if(e==='vertical'){c.setX(a.startRegion.left+d[0])}else {c.setY(a.startRegion.top+d[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return (a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return (a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset('dragTarget')}},0,0,0,0,0,0,[Ext.resizer,'SplitterTracker'],0);Ext.cmd.derive('Ext.resizer.ResizeTracker',Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:'x-resizable-proxy',constructor:function(b){var a=this,d,c,e;if(!b.el){if(b.target.isComponent){a.el=b.target.getEl()}else {a.el=b.target}}Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(a.preserveRatio&&a.minWidth&&a.minHeight){d=a.minWidth/a.el.getWidth();c=a.minHeight/a.el.getHeight();if(c>d){a.minWidth=a.el.getWidth()*c}else {a.minHeight=a.el.getHeight()*d}}if(a.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(a,arguments)},a.throttle);a.resize=function(f,d,c){if(c){Ext.resizer.ResizeTracker.prototype.resize.apply(a,arguments)}else {e.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this,b=a.target;if(a.dynamic){return b}else {if(!a.proxy){a.proxy=a.createProxy(b)}}a.proxy.show();return a.proxy},createProxy:function(a){var b,c=this.proxyCls;if(a.isComponent){b=a.getProxy().addCls(c)}else {b=a.createProxy({tag:'div',cls:c,id:a.id+'-rzproxy'},Ext.getBody())}b.removeCls('x-proxy-el');return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:'none',vertical:'none'})}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(u,t){var c=this,h=c.activeResizeHandle.region,d=c.getOffset(c.constrainTo?'dragTarget':null),b=c.startBox,n,f=0,e=0,k,j,l=0,m=0,q,r=d[0]<0?'right':'left',s=d[1]<0?'down':'up',i,g,a,o,p;h=c.convertRegionName(h);switch(h){case 'south':e=d[1];g=2;break;case 'north':e=-d[1];m=-e;g=2;break;case 'east':f=d[0];g=1;break;case 'west':f=-d[0];l=-f;g=1;break;case 'northeast':e=-d[1];m=-e;f=d[0];i=[b.x,b.y+b.height];g=3;break;case 'southeast':e=d[1];f=d[0];i=[b.x,b.y];g=3;break;case 'southwest':f=-d[0];l=-f;e=d[1];i=[b.x+b.width,b.y];g=3;break;case 'northwest':e=-d[1];m=-e;f=-d[0];l=-f;i=[b.x+b.width,b.y+b.height];g=3;break;}a={width:b.width+f,height:b.height+e,x:b.x+l,y:b.y+m};k=Ext.Number.snap(a.width,c.widthIncrement);j=Ext.Number.snap(a.height,c.heightIncrement);if(k!=a.width||j!=a.height){switch(h){case 'northeast':a.y-=j-a.height;break;case 'north':a.y-=j-a.height;break;case 'southwest':a.x-=k-a.width;break;case 'west':a.x-=k-a.width;break;case 'northwest':a.x-=k-a.width;a.y-=j-a.height;}a.width=k;a.height=j}if(a.width<c.minWidth||a.width>c.maxWidth){a.width=Ext.Number.constrain(a.width,c.minWidth,c.maxWidth);if(l){a.x=b.x+(b.width-a.width)}}else {c.lastX=a.x}if(a.height<c.minHeight||a.height>c.maxHeight){a.height=Ext.Number.constrain(a.height,c.minHeight,c.maxHeight);if(m){a.y=b.y+(b.height-a.height)}}else {c.lastY=a.y}if(c.preserveRatio||u.shiftKey){n=c.startBox.width/c.startBox.height;o=Math.min(Math.max(c.minHeight,a.width/n),c.maxHeight);p=Math.min(Math.max(c.minWidth,a.height*n),c.maxWidth);if(g==1){a.height=o}else {if(g==2){a.width=p}else {q=Math.abs(i[0]-this.lastXY[0])/Math.abs(i[1]-this.lastXY[1]);if(q>n){a.height=o}else {a.width=p}if(h=='northeast'){a.y=b.y-(a.height-b.height)}else {if(h=='northwest'){a.y=b.y-(a.height-b.height);a.x=b.x-(a.width-b.width)}else {if(h=='southwest'){a.x=b.x-(a.width-b.width)}}}}}}if(e===0){s='none'}if(f===0){r='none'}c.resize(a,{horizontal:r,vertical:s},t)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(c,e,b){var a=this,d=a.getResizeTarget(b);d.setBox(c);if(a.originalTarget&&(a.dynamic||b)){a.originalTarget.setBox(c)}},onEnd:function(a){this.updateDimensions(a,!0);if(this.proxy){this.proxy.hide()}},convertRegionName:function(a){return a}},1,0,0,0,0,0,[Ext.resizer,'ResizeTracker'],0);Ext.cmd.derive('Ext.resizer.Resizer',Ext.Base,{alternateClassName:'Ext.Resizable',handleCls:'x-resizable-handle',pinnedCls:'x-resizable-pinned',overCls:'x-resizable-over',wrapCls:'x-resizable-wrap',delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:'s e se',height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:'north',s:'south',e:'east',w:'west',se:'southeast',sw:'southwest',nw:'northwest',ne:'northeast'},constructor:function(f){var a=this,b,g,k,e=a.handles,j,h,m,d=0,c,o=[],n,l,p,i,q=Ext.dom.Element.unselectableCls;a.addEvents('beforeresize','resizedrag','resize');if(Ext.isString(f)||Ext.isElement(f)||f.dom){b=f;f=arguments[1]||{};f.target=b}a.mixins.observable.constructor.call(a,f);b=a.target;if(b){if(b.isComponent){b.addClsWithUI('resizable');a.el=b.getEl();if(b.minWidth){a.minWidth=b.minWidth}if(b.minHeight){a.minHeight=b.minHeight}if(b.maxWidth){a.maxWidth=b.maxWidth}if(b.maxHeight){a.maxHeight=b.maxHeight}if(b.floating){if(!a.hasOwnProperty('handles')){a.handles='n ne e se s sw w nw'}}}else {a.el=a.target=Ext.get(b)}}else {a.target=a.el=Ext.get(a.el)}k=a.el.dom.tagName.toUpperCase();if(k=='TEXTAREA'||k=='IMG'||k=='TABLE'){a.originalTarget=a.target;g=a.el;p=g.getBox();a.target=a.el=a.el.wrap({cls:a.wrapCls,id:a.el.id+'-rzwrap',style:g.getStyles('margin-top','margin-bottom')});a.el.setPositioning(g.getPositioning());g.clearPositioning();a.el.setBox(p);g.setStyle('position','absolute')}a.el.position();if(a.pinned){a.el.addCls(a.pinnedCls)}a.resizeTracker=new Ext.resizer.ResizeTracker({disabled:a.disabled,target:a.target,constrainTo:a.constrainTo,overCls:a.overCls,throttle:a.throttle,originalTarget:a.originalTarget,delegate:'.'+a.handleCls,dynamic:a.dynamic,preserveRatio:a.preserveRatio,heightIncrement:a.heightIncrement,widthIncrement:a.widthIncrement,minHeight:a.minHeight,maxHeight:a.maxHeight,minWidth:a.minWidth,maxWidth:a.maxWidth});a.resizeTracker.on({mousedown:a.onBeforeResize,drag:a.onResize,dragend:a.onResizeEnd,scope:a});if(a.handles=='all'){a.handles='n s e w ne nw se sw'}e=a.handles=a.handles.split(a.delimiterRe);h=a.possiblePositions;m=e.length;j=a.handleCls+' '+a.handleCls+'-{0}';if(a.target.isComponent){i=a.target.baseCls;j+=' '+i+'-handle '+i+'-handle-{0}';if(Ext.supports.CSS3BorderRadius){j+=' '+i+'-handle-{0}-br'}}n=Ext.isIE6?' style="height:'+a.el.getHeight()+'px"':'';for(;d<m;d++){if(e[d]&&h[e[d]]){c=h[e[d]];if(c==='east'||c==='west'){l=n}else {l=''}o.push('<div id="',a.el.id,'-',c,'-handle"',' class="',Ext.String.format(j,c),' ',q,'"',' unselectable="on"',l,'></div>')}}Ext.DomHelper.append(a.el,o.join(''));for(d=0;d<m;d++){if(e[d]&&h[e[d]]){c=h[e[d]];a[c]=a.el.getById(a.el.id+'-'+c+'-handle');a[c].region=c;if(a.transparent){a[c].setOpacity(0)}}}if(Ext.isNumber(a.width)){a.width=Ext.Number.constrain(a.width,a.minWidth,a.maxWidth)}if(Ext.isNumber(a.height)){a.height=Ext.Number.constrain(a.height,a.minHeight,a.maxHeight)}if(a.width!==null||a.height!==null){if(a.originalTarget){a.originalTarget.setWidth(a.width);a.originalTarget.setHeight(a.height)}a.resizeTo(a.width,a.height)}a.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(c,b){var a=this.el.getBox();return this.fireEvent('beforeresize',this,a.width,a.height,b)},onResize:function(d,c){var a=this,b=a.el.getBox();a.forceHandlesHeight();return a.fireEvent('resizedrag',a,b.width,b.height,c)},onResizeEnd:function(d,c){var a=this,b=a.el.getBox();a.forceHandlesHeight();return a.fireEvent('resize',a,b.width,b.height,c)},resizeTo:function(c,b){var a=this;a.target.setSize(c,b);a.fireEvent('resize',a,c,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a=this,b,c=a.handles,f=c.length,e=a.possiblePositions,d;a.resizeTracker.destroy();for(b=0;b<f;b++){if(d=a[e[c[b]]]){d.remove()}}},forceHandlesHeight:function(){var b=this,a;if(Ext.isIE6){a=b.east;if(a){a.setHeight(b.el.getHeight())}a=b.west;if(a){a.setHeight(b.el.getHeight())}b.el.repaint()}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.resizer,'Resizer',Ext,'Resizable'],0);Ext.cmd.derive('Ext.selection.CellModel',Ext.selection.Model,{isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents('deselect','select');Ext.selection.Model.prototype.constructor.apply(this,arguments)},bindComponent:function(b){var a=this,c=b.ownerCt;a.primaryView=b;a.views=a.views||[];a.views.push(b);a.bindStore(b.getStore(),!0);b.on({cellmousedown:a.onMouseDown,refresh:a.onViewRefresh,scope:a});if(c.optimizedColumnMove!==!1){c.on('columnmove',a.onColumnMove,a)}if(a.enableKeyNav){a.initKeyNav(b)}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on('render',Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:!0});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b.el,ignoreInputFields:!0,up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,tab:a.onKeyTab,scope:a})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a){this.doMove('up',a)},onKeyDown:function(a){this.doMove('down',a)},onKeyLeft:function(a){this.doMove('left',a)},onKeyRight:function(a){this.doMove('right',a)},doMove:function(a,b){this.keyNavigation=!0;this.move(a,b);this.keyNavigation=!1},onVetoUIEvent:Ext.emptyFn,select:function(a,g,e){var b=this,c,d=b.getCurrentPosition(),f=b.view.store;if(a||a===0){if(a.isModel){c=f.indexOf(a);if(c!==-1){a={row:c,column:d?d.column:0}}else {a=null}}else {if(typeof a==='number'){a={row:a,column:0}}}}if(a){b.selectByPosition(a,e)}else {b.deselect()}},deselect:function(b,a){this.selectByPosition(null,a)},move:function(d,e){var c=this,b=c.getCurrentPosition(),a;if(b){a=b.view.walkCells(b,d,e,c.preventWrap);if(a){a.view=b.view;return c.setCurrentPosition(a)}}},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(b,d){var a=this,c=a.selection;a.lastSelection=c;if(c){if(b&&(b.record===c.record&&b.columnHeader===c.columnHeader&&b.view===c.view)){b=null}else {a.onCellDeselect(a.selection,d)}}if(b){a.nextSelection=(new Ext.grid.CellContext(a.primaryView)).setPosition(b);a.selecting=!0;a.onCellSelect(a.nextSelection,d);a.selecting=!1;return a.selection=a.nextSelection}},isCellSelected:function(c,e,d){var f=this,b,a=f.getCurrentPosition();if(a&&a.view===c){b=(new Ext.grid.CellContext(c)).setPosition({row:e,column:d});return b.record===a.record&&b.columnHeader===a.columnHeader}},onStoreRemove:function(i,f,d){var h=this,a=h.getCurrentPosition(),b,g=f.length,e,c=0;Ext.selection.Model.prototype.onStoreRemove.apply(this,arguments);if(a){if(d[0]>a.row){return}for(b=0;b<g;b++){e=d[b];if(e<a.row){c++}else {break}}if(c){a.setRow(a.row-c)}}},onMouseDown:function(c,f,b,e,d,a,g){if(a!==-1){this.setCurrentPosition({view:c,row:d,column:b})}},onCellSelect:function(a,b){if(a&&a.row!==undefined&&a.row>-1){this.doSelect(a.record,!1,b)}},onCellDeselect:function(a,b){if(a&&a.row!==undefined){this.doDeselect(a.record,b)}},onSelectChange:function(e,g,f,h){var b=this,a,c,d;if(g){a=b.nextSelection;c='select'}else {a=b.lastSelection||b.noSelection;c='deselect'}d=a.view||b.primaryView;if((f||b.fireEvent('before'+c,b,e,a.row,a.column))!==!1&&h()!==!1){if(g){d.focusRow(e,!0);d.onCellSelect(a)}else {d.onCellDeselect(a);delete b.selection}if(!f){b.fireEvent(c,b,e,a.row,a.column)}}},onKeyTab:function(c,e){var a=this,d=a.getCurrentPosition(),b;if(d){b=d.view.editingPlugin;if(b&&a.wasEditing){a.onEditorTab(b,c)}else {a.move(c.shiftKey?'left':'right',c)}}},onEditorTab:function(d,c){var b=this,e=c.shiftKey?'left':'right',a=b.move(e,c);if(a){if(d.startEdit(a.record,a.columnHeader)){b.wasEditing=!1}else {b.wasEditing=!0}}},refresh:function(){var b=this.getCurrentPosition(),a;if(b&&(a=this.store.indexOf(this.selected.last()))!==-1){b.row=a}},onColumnMove:function(b,d,c,e){var a=b.up('tablepanel');if(a){this.onViewRefresh(a.view)}},onUpdate:function(c){var a=this,b;if(a.isSelected(c)){b=a.selecting?a.nextSelection:a.selection;a.view.onCellSelect(b)}},onViewRefresh:function(c){var f=this,d=f.getCurrentPosition(),b=c.headerCt,e,a;if(d&&d.view===c){e=d.record;a=d.columnHeader;if(!a.isDescendantOf(b)){a=b.queryById(a.id)||b.down('[text="'+a.text+'"]')||b.down('[dataIndex="'+a.dataIndex+'"]')}if(a&&c.store.indexOfId(e.getId())!==-1){f.setCurrentPosition({row:e,column:a,view:c})}}},selectByPosition:function(b,a){this.setCurrentPosition(b,a)}},1,0,0,0,['selection.cellmodel'],0,[Ext.selection,'CellModel'],0);Ext.cmd.derive('Ext.selection.RowModel',Ext.selection.Model,{deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents('beforedeselect','beforeselect','deselect','select');this.views=[];Ext.selection.Model.prototype.constructor.apply(this,arguments)},bindComponent:function(b){var a=this;b.on({itemmousedown:a.onRowMouseDown,itemclick:a.onRowClick,scope:a});if(a.enableKeyNav){a.initKeyNav(b)}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on('render',Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:!0});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b,ignoreInputFields:!0,eventName:'itemkeydown',processEvent:function(f,c,e,d,a){a.record=c;a.recordIndex=d;return a},up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,pageDown:a.onKeyPageDown,pageUp:a.onKeyPageUp,home:a.onKeyHome,end:a.onKeyEnd,space:a.onKeySpace,enter:a.onKeyEnter,scope:a})},onUpdate:function(b){var d=this,a=d.view,c;if(a&&d.isSelected(b)){c=a.indexOf(b);a.onRowSelect(c);if(b===d.lastFocused){a.onRowFocus(c,!0)}}},getRowsVisible:function(){var b=!1,e=this.views[0],d=e.all.first(),c,a;if(d){c=d.getHeight();a=e.el.getHeight();b=Math.floor(a/c)}return b},onKeyEnd:function(c){var b=this,a=b.views[0];if(a.bufferedRenderer){a.bufferedRenderer.scrollTo(b.store.getCount()-1,!1,function(d,a){b.afterKeyNavigate(c,a)})}else {b.afterKeyNavigate(c,a.getRecord(a.all.getCount()-1))}},onKeyHome:function(c){var b=this,a=b.views[0];if(a.bufferedRenderer){a.bufferedRenderer.scrollTo(0,!1,function(d,a){b.afterKeyNavigate(c,a)})}else {b.afterKeyNavigate(c,a.getRecord(0))}},onKeyPageUp:function(b){var a=this,d=a.views[0],c=a.getRowsVisible(),f,e;if(c){if(d.bufferedRenderer){f=Math.max(b.recordIndex-c,0);(a.lastKeyEvent||(a.lastKeyEvent=new Ext.EventObjectImpl())).setEvent(b.browserEvent);d.bufferedRenderer.scrollTo(f,!1,a.afterBufferedScrollTo,a)}else {e=d.walkRecs(b.record,-c);a.afterKeyNavigate(b,e)}}},onKeyPageDown:function(b){var a=this,d=a.views[0],c=a.getRowsVisible(),f,e;if(c){if(d.bufferedRenderer){f=Math.min(b.recordIndex+c,a.store.getCount()-1);(a.lastKeyEvent||(a.lastKeyEvent=new Ext.EventObjectImpl())).setEvent(b.browserEvent);d.bufferedRenderer.scrollTo(f,!1,a.afterBufferedScrollTo,a)}else {e=d.walkRecs(b.record,c);a.afterKeyNavigate(b,e)}}},onKeySpace:function(b){var a=this.lastFocused;if(a){this.afterKeyNavigate(b,a)}},onKeyEnter:Ext.emptyFn,onKeyUp:function(b){var a=this.views[0].walkRecs(b.record,-1);if(a){this.afterKeyNavigate(b,a)}},onKeyDown:function(b){var a=this.views[0].walkRecs(b.record,1);if(a){this.afterKeyNavigate(b,a)}},afterBufferedScrollTo:function(b,a){this.afterKeyNavigate(this.lastKeyEvent,a)},scrollByDeltaX:function(c){var d=this.views[0],b=d.up(),a=b.horizontalScroller;if(a){a.scrollByDeltaX(c)}},onKeyLeft:function(a){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(a){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(f,b,e,c,d){var a=this;if(c!==-1){if(!a.allowRightMouseSelection(d)){return}if(!a.isSelected(b)){a.mousedownAction=!0;a.processSelection(f,b,e,c,d)}else {a.mousedownAction=!1}}},onVetoUIEvent:function(b,f,e,d,c,g,a){if(b=='mousedown'){this.mousedownAction=!this.isSelected(a)}},onRowClick:function(d,a,c,b,e){if(this.mousedownAction){this.mousedownAction=!1}else {this.processSelection(d,a,c,b,e)}},processSelection:function(e,a,d,c,b){this.selectWithEvent(a,b)},allowRightMouseSelection:function(b){var a=this.ignoreRightMouseSelection&&b.button!==0;if(a){a=this.hasSelection()}return !a},onSelectChange:function(f,g,b,i){var a=this,d=a.views,j=d.length,c=d[0].indexOf(f),h=g?'select':'deselect',e=0;if((b||a.fireEvent('before'+h,a,f,c))!==!1&&i()!==!1){for(;e<j;e++){if(g){d[e].onRowSelect(c,b)}else {d[e].onRowDeselect(c,b)}}if(!b){a.fireEvent(h,a,f,c)}}},onLastFocusChanged:function(e,d,g){var c=this.views,f=c.length,b,a=0;if(e){b=c[0].indexOf(e);if(b!=-1){for(;a<f;a++){c[a].onRowFocus(b,!1,!0)}}}if(d){b=c[0].indexOf(d);if(b!=-1){for(a=0;a<f;a++){c[a].onRowFocus(b,!0,g)}}}Ext.selection.Model.prototype.onLastFocusChanged.apply(this,arguments)},onEditorTab:function(b,f){var e=this,d=e.views[0],c=b.getActiveRecord(),h=b.getActiveColumn(),a=d.getPosition(c,h),g=f.shiftKey?'left':'right';do{a=d.walkCells(a,g,f,e.preventWrap)}while(a&&(!a.columnHeader.getEditor(c)||!b.startEditByPosition(a)))},getCurrentPosition:function(){var a=this.selected.items[0];if(a){return (new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(a),0)}},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(f,e){var a=this,h=a.store,d=a.getSelection(),g=d[d.length-1],c=a.views[0].indexOf(g)+1,b;if(c===h.getCount()||c===0){b=!1}else {a.doSelect(c,f,e);b=!0}return b},selectPrevious:function(e,d){var b=this,f=b.getSelection(),g=f[0],c=b.views[0].indexOf(g)-1,a;if(c<0){a=!1}else {b.doSelect(c,e,d);a=!0}return a},isRowSelected:function(a,b){return this.isSelected(a)}},1,0,0,0,['selection.rowmodel'],0,[Ext.selection,'RowModel'],0);Ext.cmd.derive('Ext.selection.CheckboxModel',Ext.selection.RowModel,{mode:'MULTI',injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:undefined,checkSelector:'.x-grid-row-checker',headerWidth:24,checkerOnCls:'x-grid-hd-checker-on',constructor:function(){var a=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(a.mode==='SINGLE'&&a.showHeaderCheckbox!==!0){a.showHeaderCheckbox=!1}},beforeViewRender:function(b){var a=this,c;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);if(!a.hasLockedHeader()||b.headerCt.lockedCt){if(a.showHeaderCheckbox!==!1){b.headerCt.on('headerclick',a.onHeaderClick,a)}a.addCheckbox(b,!0);c=b.ownerCt;if(b.headerCt.lockedCt){c=c.ownerCt}a.mon(c,'reconfigure',a.onReconfigure,a)}},bindComponent:function(b){var a=this;a.sortable=!1;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var b=this.views,c=b.length,a;for(a=0;a<c;a++){if(b[a].headerCt.lockedCt){return !0}}return !1},addCheckbox:function(b,e){var c=this,a=c.injectCheckbox,d=b.headerCt;if(a!==!1){if(a=='first'){a=0}else {if(a=='last'){a=d.getColumnCount()}}Ext.suspendLayouts();if(b.getStore().buffered){c.showHeaderCheckbox=!1}d.add(a,c.getHeaderConfig());Ext.resumeLayouts()}if(e!==!0){b.refresh()}},onReconfigure:function(c,b,a){if(a){this.addCheckbox(this.views[0])}},toggleUiHeader:function(c){var e=this.views[0],d=e.headerCt,a=d.child('gridcolumn[isCheckerHd]'),b=this.checkerOnCls;if(a){if(c){a.addCls(b)}else {a.removeCls(b)}}},onHeaderClick:function(e,b,d){if(b.isCheckerHd){d.stopEvent();var a=this,c=b.el.hasCls('x-grid-hd-checker-on');a.preventFocus=!0;if(c){a.deselectAll()}else {a.selectAll()}delete a.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==!1;return {isCheckerHd:b,text:'&#160;',clickTargetName:'el',width:a.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:'',cls:b?'x-column-header-checkbox ':'',renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return '&#160;'},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},renderer:function(g,b,e,d,c,f,h){var a='x-';b.tdCls=a+'grid-cell-special '+a+'grid-cell-row-checker';return '<div class="'+a+'grid-row-checker">&#160;</div>'},processSelection:function(h,e,g,f,c){var a=this,d=c.getTarget(a.checkSelector),b;if(a.checkOnly&&!d){return}if(d){b=a.getSelectionMode();if(b!=='SINGLE'){a.setSelectionMode('SIMPLE')}a.selectWithEvent(e,c);a.setSelectionMode(b)}else {a.selectWithEvent(e,c)}},onSelectChange:function(){Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){if(a&&!this.suspendChange){this.updateHeaderState()}Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var a=this,g=a.store,f=g.getCount(),h=a.views,c=!1,e=0,d,i,b;if(!g.buffered&&f>0){d=a.selected;c=!0;for(b=0,i=d.getCount();b<i;++b){if(!a.storeHasSelected(d.getAt(b))){break}++e}c=f===e}if(h&&h.length){a.toggleUiHeader(c)}}},1,0,0,0,['selection.checkboxmodel'],0,[Ext.selection,'CheckboxModel'],0);Ext.cmd.derive('Ext.selection.TreeModel',Ext.selection.RowModel,{constructor:function(a){Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(this.pruneRemoved){this.pruneRemoved=!1;this.pruneRemovedNodes=!0}},bindStore:function(c,b){var a=this;Ext.selection.RowModel.prototype.bindStore.apply(this,arguments);if(a.pruneRemovedNodes){a.view.mon(a.treeStore,{remove:a.onNodeRemove,scope:a})}},onNodeRemove:function(c,b,a){if(!a){this.deselectDeletedRecords([b])}},onKeyRight:function(a,b){this.navExpand(a,b)},navExpand:function(c,d){var a=this.getLastFocused(),b=this.view;if(a){if(a.isExpanded()){this.onKeyDown(c,d)}else {if(a.isExpandable()){if(!b.isTreeView){b=b.lockingPartner}b.expand(a)}}}},onKeyLeft:function(a,b){this.navCollapse(a,b)},navCollapse:function(e,f){var d=this,b=this.getLastFocused(),c=this.view,a;if(b){a=b.parentNode;if(b.isExpanded()){if(!c.isTreeView){c=c.lockingPartner}c.collapse(b)}else {if(a&&!a.isRoot()){if(e.shiftKey){d.selectRange(a,b,e.ctrlKey,'up');d.setLastFocused(a)}else {if(e.ctrlKey){d.setLastFocused(a)}else {d.select(a)}}}}}},onKeySpace:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else {Ext.selection.RowModel.prototype.onKeySpace.apply(this,arguments)}},onKeyEnter:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else {Ext.selection.RowModel.prototype.onKeyEnter.apply(this,arguments)}},toggleCheck:function(c){var a=this.view,b=this.getLastSelected();c.stopEvent();if(b){if(!a.isTreeView){a=a.lockingPartner}a.onCheckChange(b)}}},1,0,0,0,['selection.treemodel'],0,[Ext.selection,'TreeModel'],0);Ext.cmd.derive('Ext.tab.Tab',Ext.button.Button,{isTab:!0,baseCls:'x-tab',closeElOverCls:'x-tab-close-btn-over',activeCls:'active',closableCls:'closable',closable:!0,closeText:'Close Tab',active:!1,childEls:['closeEl'],scale:!1,position:'top',initComponent:function(){var a=this;a.addEvents('activate','deactivate','beforeclose','close');Ext.button.Button.prototype.initComponent.apply(this,arguments);if(a.card){a.setCard(a.card)}a.overCls=['over',a.position+'-over']},getTemplateArgs:function(){var b=this,a=Ext.button.Button.prototype.getTemplateArgs.call(this);a.closable=b.closable;a.closeText=b.closeText;return a},getFramingInfoCls:function(){return this.baseCls+'-'+this.ui+'-'+this.position},beforeRender:function(){var a=this,c=a.up('tabbar'),b=a.up('tabpanel');Ext.button.Button.prototype.beforeRender.call(this);a.addClsWithUI(a.position);if(a.active){a.addClsWithUI([a.activeCls,a.position+'-'+a.activeCls])}a.syncClosableUI();if(!a.minWidth){a.minWidth=c?c.minTabWidth:a.minWidth;if(!a.minWidth&&b){a.minWidth=b.minTabWidth}if(a.minWidth&&a.iconCls){a.minWidth+=25}}if(!a.maxWidth){a.maxWidth=c?c.maxTabWidth:a.maxWidth;if(!a.maxWidth&&b){a.maxWidth=b.maxTabWidth}}},onRender:function(){var a=this;a.setElOrientation();Ext.button.Button.prototype.onRender.apply(this,arguments);if(a.closable){a.closeEl.addClsOnOver(a.closeElOverCls)}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;if(a==='left'||a==='right'){this.el.setVertical(a==='right'?90:270)}},enable:function(b){var a=this;Ext.button.Button.prototype.enable.apply(this,arguments);a.removeClsWithUI(a.position+'-disabled');return a},disable:function(b){var a=this;Ext.button.Button.prototype.disable.apply(this,arguments);a.addClsWithUI(a.position+'-disabled');return a},onDestroy:function(){var a=this;Ext.destroy(a.keyNav);delete a.keyNav;Ext.button.Button.prototype.onDestroy.apply(this,arguments)},setClosable:function(b){var a=this;b=!arguments.length||!!b;if(a.closable!=b){a.closable=b;if(a.card){a.card.closable=b}a.syncClosableUI();if(a.rendered){a.syncClosableElements();a.updateLayout()}}},syncClosableElements:function(){var a=this,b=a.closeEl;if(a.closable){if(!b){b=a.closeEl=a.btnWrap.insertSibling({tag:'a',cls:a.baseCls+'-close-btn',href:'#',title:a.closeText},'after')}b.addClsOnOver(a.closeElOverCls)}else {if(b){b.remove();delete a.closeEl}}},syncClosableUI:function(){var a=this,b=[a.closableCls,a.closableCls+'-'+a.position];if(a.closable){a.addClsWithUI(b)}else {a.removeClsWithUI(b)}},setCard:function(b){var a=this;a.card=b;a.setText(a.title||b.title);a.setIconCls(a.iconCls||b.iconCls);a.setIcon(a.icon||b.icon);a.setGlyph(a.glyph||b.glyph)},onCloseClick:function(){var a=this;if(a.fireEvent('beforeclose',a)!==!1){if(a.tabBar){if(a.tabBar.closeTab(a)===!1){return}}else {a.fireClose()}}},fireClose:function(){this.fireEvent('close',this)},onEnterKey:function(b){var a=this;if(a.tabBar){a.tabBar.onClick(b,a.el)}},onDeleteKey:function(a){if(this.closable){this.onCloseClick()}},activate:function(b){var a=this;a.active=!0;a.addClsWithUI([a.activeCls,a.position+'-'+a.activeCls]);if(b!==!0){a.fireEvent('activate',a)}},deactivate:function(b){var a=this;a.active=!1;a.removeClsWithUI([a.activeCls,a.position+'-'+a.activeCls]);if(b!==!0){a.fireEvent('deactivate',a)}}},0,['tab'],['component','box','button','tab'],{'component':!0,'box':!0,'button':!0,'tab':!0},['widget.tab'],0,[Ext.tab,'Tab'],0);Ext.cmd.derive('Ext.util.Point',Ext.util.Region,{statics:{fromEvent:function(a){a=a.browserEvent||a;a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){Ext.util.Region.prototype.constructor.call(this,b,a,b,a)},toString:function(){return 'Point['+this.x+','+this.y+']'},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(b,a){if(!Ext.isObject(a)){a={x:a,y:a}}return this.x<=b.x+a.x&&this.x>=b.x-a.x&&this.y<=b.y+a.y&&this.y>=b.y-a.y},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},3,0,0,0,0,0,[Ext.util,'Point'],function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.cmd.derive('Ext.tab.Bar',Ext.panel.Header,{baseCls:'x-tab-bar',isTabBar:!0,defaultType:'tab',plain:!1,childEls:['body','strip'],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{%this.renderContainer(out,values)%}','</div>','<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">','</div>'],_reverseDockNames:{left:'right',right:'left'},initComponent:function(){var a=this;if(a.plain){a.addCls(a.baseCls+'-plain')}a.addClsWithUI(a.orientation);a.addEvents('change');Ext.panel.Header.prototype.initComponent.apply(this,arguments);Ext.merge(a.layout,a.initialConfig.layout);a.layout.align=a.orientation=='vertical'?'left':'top';a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout);a.remove(a.titleCmp);delete a.titleCmp;Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;Ext.panel.Header.prototype.onRender.call(this);if(a.orientation==='vertical'&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){a.el.on({mousemove:a.onMouseMove,scope:a})}},afterRender:function(){var a=this.layout;Ext.panel.Header.prototype.afterRender.call(this);if(Ext.isIE9&&Ext.isStrict&&this.orientation==='vertical'){a.innerCt.on('scroll',function(){a.innerCt.dom.scrollLeft=0})}},afterLayout:function(){this.adjustTabPositions();Ext.panel.Header.prototype.afterLayout.apply(this,arguments)},adjustTabPositions:function(){var c=this.items.items,b=c.length,a;if(!Ext.isIE9m){if(this.dock==='right'){while(b--){a=c[b];if(a.isVisible()){a.el.setStyle('left',a.lastBox.width+'px')}}}else {if(this.dock==='left'){while(b--){a=c[b];if(a.isVisible()){a.el.setStyle('left',-a.lastBox.height+'px')}}}}}},getLayout:function(){var a=this;a.layout.type=a.orientation==='horizontal'?'hbox':'vbox';return Ext.panel.Header.prototype.getLayout.apply(this,arguments)},onAdd:function(a){a.position=this.dock;Ext.panel.Header.prototype.onAdd.apply(this,arguments)},onRemove:function(b){var a=this;if(b===a.previousTab){a.previousTab=null}Ext.panel.Header.prototype.onRemove.apply(this,arguments)},afterComponentLayout:function(c){var a=this,b=a.needsScroll;Ext.panel.Header.prototype.afterComponentLayout.apply(this,arguments);if(b){a.layout.overflowHandler.scrollToItem(a.activeTab)}delete a.needsScroll},onClick:function(d,h){var c=this,g=c.tabPanel,f,a,b,e;if(d.getTarget('.x-box-scroller')){return}if(c.orientation==='vertical'&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){e=c.getTabInfoFromPoint(d.getXY());a=e.tab;b=e.close}else {f=d.getTarget('.'+Ext.tab.Tab.prototype.baseCls);a=f&&Ext.getCmp(f.id);b=a&&a.closeEl&&h===a.closeEl.dom}if(b){d.preventDefault()}if(a&&a.isDisabled&&!a.isDisabled()){if(a.closable&&b){a.onCloseClick()}else {if(g){g.setActiveTab(a.card)}else {c.setActiveTab(a)}a.focus()}}},onMouseMove:function(d){var b=this,c=b._overTab,e,a;if(d.getTarget('.x-box-scroller')){return}e=b.getTabInfoFromPoint(d.getXY());a=e.tab;if(a!==c){if(c&&c.rendered){c.onMouseLeave(d);b._overTab=null}if(a){a.onMouseEnter(d);b._overTab=a;if(!a.disabled){b.el.setStyle('cursor','pointer')}}else {b.el.setStyle('cursor','default')}}},onMouseLeave:function(b){var a=this._overTab;if(a&&a.rendered){a.onMouseLeave(b)}},getTabInfoFromPoint:function(x){var d=this,m=d.items.items,y=m.length,u=d.layout.innerCt,s=u.getXY(),w=new Ext.util.Point(x[0],x[1]),j=0,f,t,a,v,e,g,h,q,o,b,c,l,k,p,n,r,i;for(;j<y;j++){f=m[j].lastBox;b=s[0]+f.x;c=s[1]-u.dom.scrollTop+f.y;l=f.width;k=f.height;t=new Ext.util.Region(c,b+l,c+k,b);if(t.contains(w)){i=m[j];a=i.closeEl;if(a){e=a.getXY();q=a.getWidth();o=a.getHeight();if(d._isTabReversed===undefined){d._isTabReversed=n=i.btnWrap.dom.currentStyle.filter.indexOf('rotation=2')!==-1}r=n?this._reverseDockNames[d.dock]:d.dock;if(r==='right'){g=b+l-(e[1]-c+a.getHeight());h=c+(e[0]-b)}else {g=b+(e[1]-c);h=c+b+k-e[0]-a.getWidth()}p=new Ext.util.Region(h,g+q,h+o,g);v=p.contains(w)}break}}return {tab:i,close:v}},closeTab:function(b){var e=this,a=b.card,d=e.tabPanel,c;if(a&&a.fireEvent('beforeclose',a)===!1){return !1}c=e.findNextActivatable(b);Ext.suspendLayouts();if(d&&a){delete b.ownerCt;a.fireEvent('close',a);d.remove(a);if(!d.getComponent(a)){b.fireClose();e.remove(b)}else {b.ownerCt=e;Ext.resumeLayouts(!0);return !1}}if(c){if(d){d.setActiveTab(c.card)}else {e.setActiveTab(c)}c.focus()}Ext.resumeLayouts(!0)},findNextActivatable:function(b){var a=this;if(b.active&&a.items.getCount()>1){return a.previousTab&&a.previousTab!==b&&!a.previousTab.disabled?a.previousTab:b.next('tab[disabled=false]')||b.prev('tab[disabled=false]')}},setActiveTab:function(b,c){var a=this;if(!b.disabled&&b!==a.activeTab){if(a.activeTab){if(a.activeTab.isDestroyed){a.previousTab=null}else {a.previousTab=a.activeTab;a.activeTab.deactivate()}}b.activate();a.activeTab=b;a.needsScroll=!0;if(!c){a.fireEvent('change',a,b,b.card);a.updateLayout()}}}},0,['tabbar'],['component','box','container','header','tabbar'],{'component':!0,'box':!0,'container':!0,'header':!0,'tabbar':!0},['widget.tabbar'],0,[Ext.tab,'Bar'],0);Ext.cmd.derive('Ext.tab.Panel',Ext.panel.Panel,{alternateClassName:['Ext.TabPanel'],tabPosition:'top',removePanelHeader:!0,plain:!1,itemCls:'x-tabpanel-child',minTabWidth:undefined,maxTabWidth:undefined,deferredRender:!0,initComponent:function(){var a=this,c=[].concat(a.dockedItems||[]),b=a.activeTab||(a.activeTab=0),d=a.tabPosition;a.layout=new Ext.layout.container.Card(Ext.apply({owner:a,deferredRender:a.deferredRender,itemCls:a.itemCls,activeItem:b},a.layout));a.tabBar=new Ext.tab.Bar(Ext.apply({ui:a.ui,dock:a.tabPosition,orientation:d=='top'||d=='bottom'?'horizontal':'vertical',plain:a.plain,cardLayout:a.layout,tabPanel:a},a.tabBar));c.push(a.tabBar);a.dockedItems=c;a.addEvents('beforetabchange','tabchange');Ext.panel.Panel.prototype.initComponent.apply(this,arguments);b=a.activeTab=a.getComponent(b);if(b){a.tabBar.setActiveTab(b.tab,!0)}},setActiveTab:function(a){var b=this,c;a=b.getComponent(a);if(a){c=b.getActiveTab();if(c!==a&&b.fireEvent('beforetabchange',b,a,c)===!1){return !1}if(!a.isComponent){Ext.suspendLayouts();a=b.add(a);Ext.resumeLayouts()}b.activeTab=a;Ext.suspendLayouts();b.layout.setActiveItem(a);a=b.activeTab=b.layout.getActiveItem();if(a&&a!==c){b.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(!0);if(c!==a){b.fireEvent('tabchange',b,a,c)}}else {Ext.resumeLayouts(!0)}return a}},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);if(b&&a.items.indexOf(b)!=-1){a.activeTab=b}else {a.activeTab=null}return a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(a,e){var b=this,c=a.tabConfig||{},d={xtype:'tab',ui:b.tabBar.ui,card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:b.tabBar,position:b.tabPosition,closeText:a.closeText};c=Ext.applyIf(c,d);a.tab=b.tabBar.insert(e,c);a.on({scope:b,enable:b.onItemEnable,disable:b.onItemDisable,beforeshow:b.onItemBeforeShow,iconchange:b.onItemIconChange,iconclschange:b.onItemIconClsChange,titlechange:b.onItemTitleChange});if(a.isPanel){if(b.removePanelHeader){if(a.rendered){if(a.header){a.header.hide()}}else {a.header=!1}}if(a.isPanel&&b.border){a.setBorder(!1)}}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return !1}},onItemIconChange:function(b,a){b.tab.setIcon(a)},onItemIconClsChange:function(b,a){b.tab.setIconCls(a)},onItemTitleChange:function(b,a){b.tab.setText(a)},doRemove:function(b,d){var a=this,c;if(a.destroying||a.items.getCount()==1){a.activeTab=null}else {if((c=a.tabBar.items.indexOf(a.tabBar.findNextActivatable(b.tab)))!==-1){a.setActiveTab(c)}}Ext.panel.Panel.prototype.doRemove.apply(this,arguments);delete b.tab.card;delete b.tab},onRemove:function(b,c){var a=this;b.un({scope:a,enable:a.onItemEnable,disable:a.onItemDisable,beforeshow:a.onItemBeforeShow});if(!a.destroying&&b.tab.ownerCt===a.tabBar){a.tabBar.remove(b.tab)}}},0,['tabpanel'],['component','box','container','panel','tabpanel'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tabpanel':!0},['widget.tabpanel'],0,[Ext.tab,'Panel',Ext,'TabPanel'],0);Ext.define('Ext.toolbar.Spacer',{extend:Ext.Component,alias:'widget.tbspacer',alternateClassName:'Ext.Toolbar.Spacer',baseCls:'x-toolbar-spacer',focusable:!1});Ext.cmd.derive('Ext.tree.Column',Ext.grid.column.Column,{tdCls:'x-grid-cell-treecolumn',autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:'x-tree-icon',checkboxCls:'x-tree-checkbox',elbowCls:'x-tree-elbow',expanderCls:'x-tree-expander',textCls:'x-tree-node-text',innerCls:'x-grid-cell-inner-treecolumn',isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>"/>','</tpl>','<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>"/>','<tpl if="checked !== null">','<input type="button" role="checkbox" <tpl if="checked">aria-checked="true" </tpl>','class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>','</tpl>','<img src="{blankUrl}" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>','<tpl else>','<span class="{textCls} {childCls}">{value}</span>','</tpl>'],initComponent:function(){var a=this;a.origRenderer=a.renderer;a.origScope=a.scope||window;a.renderer=a.treeRenderer;a.scope=a;Ext.grid.column.Column.prototype.initComponent.call(this)},treeRenderer:function(k,g,d,n,m,o,l){var a=this,j=d.get('cls'),h=a.origRenderer,b=d.data,c=d.parentNode,f=l.rootVisible,i=[],e;if(j){g.tdCls+=' '+j}while(c&&(f||c.data.depth>0)){e=c.data;i[f?e.depth:e.depth-1]=e.isLast?0:1;c=c.parentNode}return a.getTpl('cellTpl').apply({record:d,baseIconCls:a.iconCls,iconCls:b.iconCls,icon:b.icon,checkboxCls:a.checkboxCls,checked:b.checked,elbowCls:a.elbowCls,expanderCls:a.expanderCls,textCls:a.textCls,leaf:b.leaf,expandable:d.isExpandable(),isLast:b.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:b.href,hrefTarget:b.hrefTarget,lines:i,metaData:g,childCls:a.getChildCls?a.getChildCls()+' ':'',value:h?h.apply(a.origScope,arguments):k})}},0,['treecolumn'],['component','box','container','headercontainer','gridcolumn','treecolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'treecolumn':!0},['widget.treecolumn'],0,[Ext.tree,'Column'],0);Ext.cmd.derive('Ext.tree.View',Ext.view.Table,{isTreeView:!0,loadingCls:'x-grid-tree-loading',expandedCls:'x-grid-tree-node-expanded',leafCls:'x-grid-tree-node-leaf',expanderSelector:'.x-tree-expander',checkboxSelector:'.x-tree-checkbox',expanderIconOverCls:'x-tree-expander-over',nodeAnimWrapCls:'x-tree-animator-wrap',blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:['expanded','loaded','checked','expandable','leaf','icon','iconCls','loading','qtip','qtitle'],treeRowTpl:['{%','this.processRowValues(values);','this.nextTpl.applyOut(values, out, parent);','delete values.rowAttr["data-qtip"];','delete values.rowAttr["data-qtitle"];','%}',{priority:10,processRowValues:function(a){var b=a.record,c=a.view,e=b.get('qtip'),d=b.get('qttle');a.rowAttr={};if(e){a.rowAttr['data-qtip']=e}if(d){a.rowAttr['data-qtitle']=d}if(b.isExpanded()){a.rowClasses.push(c.expandedCls)}if(b.isLeaf()){a.rowClasses.push(c.leafCls)}if(b.isLoading()){a.rowClasses.push(c.loadingCls)}}}],initComponent:function(){var a=this,c=a.panel.getStore(),b=a.store;if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}if(!b||b===c){a.store=b=new Ext.data.NodeStore({treeStore:c,recursive:!0,rootVisible:a.rootVisible})}if(a.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents('afteritemexpand','afteritemcollapse','nodedragover');Ext.view.Table.prototype.initComponent.apply(this,arguments);a.addRowTpl(Ext.XTemplate.getTpl(a,'treeRowTpl'))},onBeforeFill:function(a,b){this.store.suspendEvents()},onFillComplete:function(f,e,b){var a=this,d=a.store,c=d.indexOf(b[0]);d.resumeEvents();e.triggerUIUpdate();if(!b.length||c===-1){return}a.onAdd(a.store,b,c);a.refreshPartner()},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){if(a.isStore){this.store.resumeEvents();this.refresh();this.refreshPartner()}},refreshPartner:function(){var a=this.lockingPartner;if(a){a.refresh()}},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var a=this;Ext.view.Table.prototype.afterRender.apply(this,arguments);a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut,click:{delegate:a.checkboxSelector,fn:a.onCheckboxChange,scope:a}})},afterComponentLayout:function(){Ext.view.Table.prototype.afterComponentLayout.apply(this,arguments);var a=this.stretcher;if(a){a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)}},processUIEvent:function(a){if(a.getTarget('.'+this.nodeAnimWrapCls,this.el)){return !1}return Ext.view.Table.prototype.processUIEvent.apply(this,arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){var b=this;b.store.setNode(a);b.node=a},onCheckboxChange:function(c,d){var a=this,b=c.getTarget(a.getItemSelector(),a.getTargetEl());if(b){a.onCheckChange(a.getRecord(b))}},onCheckChange:function(b){var a=b.get('checked');if(Ext.isBoolean(a)){a=!a;b.set('checked',a);this.fireEvent('checkchange',b,a)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){if(b.get('checked')){a.push(b)}});return a},isItemChecked:function(a){return a.get('checked')},createAnimWrap:function(e,g){var a=this,f=a.getNode(e),b,d,c=[];a.renderColumnSizer(c);d=Ext.get(f);b=d.insertSibling({tag:'tr',html:['<td colspan="'+a.panel.headerCt.getColumnCount()+'">','<div class="'+a.nodeAnimWrapCls+'">','<table class="x-'+a.id+'-table x-grid-table" style="border:0" cellspacing="0" cellpadding="0">',c.join(''),'<tbody></tbody></table>','</div>','</td>'].join('')},'after');return {record:e,node:f,el:b,expanding:!1,collapsing:!1,animating:!1,animateEl:b.down('div'),targetEl:b.down('tbody')}},getAnimWrap:function(a,d){if(!this.animate){return null}var c=this.animWraps,b=c[a.internalId];if(d!==!1){while(!b&&a){a=a.parentNode;if(a){b=c[a.internalId]}}}return b},doAdd:function(j,g){var b=this,h=b.bufferRender(j,g,!0),k=j[0],c=k.parentNode,l=b.all,d,a=b.getAnimWrap(c),f,e,i;if(!a||!a.expanding){return Ext.view.Table.prototype.doAdd.apply(this,arguments)}c=a.record;f=a.targetEl;e=f.dom.childNodes;i=e.length;d=g-b.indexInStore(c)-1;if(!i||d>=i){f.appendChild(h)}else {Ext.fly(e[d]).insertSibling(h,'before',!0)}l.insert(g,h);if(a.isAnimating){b.onExpand(c)}},onRemove:function(f,d,c){var b=this,e,a;if(b.viewReady){e=b.store.getCount()===0;if(e){b.refresh()}else {for(a=c.length-1;a>=0;--a){b.doRemove(d[a],c[a])}}if(b.hasListeners.itemremove){for(a=c.length-1;a>=0;--a){b.fireEvent('itemremove',d[a],c[a])}}}},doRemove:function(g,b){var f=this,e=f.all,a=f.getAnimWrap(g),c=e.item(b),d=c?c.dom:null;if(!d||!a||!a.collapsing){return Ext.view.Table.prototype.doRemove.apply(this,arguments)}a.targetEl.dom.insertBefore(d,a.targetEl.dom.firstChild);e.removeElement(b)},onBeforeExpand:function(c,d,e){var b=this,a;if(b.rendered&&b.all.getCount()&&b.animate){if(b.getNode(c)){a=b.getAnimWrap(c,!1);if(!a){a=b.animWraps[c.internalId]=b.createAnimWrap(c);a.animateEl.setHeight(0)}else {if(a.collapsing){a.targetEl.select(b.itemSelector).remove()}}a.expanding=!0;a.collapsing=!1}}},onExpand:function(c){var a=this,i=a.animQueue,j=c.getId(),e=a.getNode(c),g=e?a.indexOf(e):-1,b,d,f,h=Ext.isIEQuirks?1:0;if(a.singleExpand){a.ensureSingleExpand(c)}if(g===-1){return}b=a.getAnimWrap(c,!1);if(!b){c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemexpand',c,g,e);a.refreshSize();return}d=b.animateEl;f=b.targetEl;d.stopAnimation();i[j]=!0;d.dom.style.height=h+'px';d.animate({from:{height:h},to:{height:f.getHeight()},duration:a.expandDuration,listeners:{afteranimate:function(){var d=f.query(a.itemSelector);if(d.length){b.el.insertSibling(d,'before',!0)}b.el.remove();a.refreshSize();delete a.animWraps[b.record.internalId];delete i[j]}},callback:function(){c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemexpand',c,g,e)}});b.isAnimating=!0},onBeforeCollapse:function(c,g,f,d,e){var b=this,a;if(b.rendered&&b.all.getCount()){if(b.animate){if(Ext.Array.contains(c.stores,b.store)){a=b.getAnimWrap(c);if(!a){a=b.animWraps[c.internalId]=b.createAnimWrap(c,f)}else {if(a.expanding){a.targetEl.select(this.itemSelector).remove()}}a.expanding=!1;a.collapsing=!0;a.callback=d;a.scope=e}}else {b.onCollapseCallback=d;b.onCollapseScope=e}}},onCollapse:function(c){var a=this,g=a.animQueue,h=c.getId(),d=a.getNode(c),f=d?a.indexOf(d):-1,b=a.getAnimWrap(c),e;if(!a.all.getCount()||!Ext.Array.contains(c.stores,a.store)){return}if(!b){c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemcollapse',c,f,d);a.refreshSize();Ext.callback(a.onCollapseCallback,a.onCollapseScope);a.onCollapseCallback=a.onCollapseScope=null;return}e=b.animateEl;g[h]=!0;e.stopAnimation();e.animate({to:{height:Ext.isIEQuirks?1:0},duration:a.collapseDuration,listeners:{afteranimate:function(){b.el.remove();a.refreshSize();delete a.animWraps[b.record.internalId];delete g[h]}},callback:function(){c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemcollapse',c,f,d);Ext.callback(b.callback,b.scope);b.callback=b.scope=null}});b.isAnimating=!0},isAnimating:function(a){return !!this.animQueue[a.getId()]},expand:function(a,f,d,e){var g=this,b=!!g.animate,c;if(!b||!a.isExpandingOrCollapsing){if(!a.isLeaf()){a.isExpandingOrCollapsing=b}Ext.suspendLayouts();c=a.expand(f,d,e);Ext.resumeLayouts(!0);return c}},collapse:function(a,e,c,d){var f=this,b=!!f.animate;if(!b||!a.isExpandingOrCollapsing){if(!a.isLeaf()){a.isExpandingOrCollapsing=b}return a.collapse(e,c,d)}},toggle:function(a,d,b,c){if(a.isExpanded()){this.collapse(a,d,b,c)}else {this.expand(a,d,b,c)}},onItemDblClick:function(c,e,d){var a=this,b=a.editingPlugin;Ext.view.Table.prototype.onItemDblClick.apply(this,arguments);if(a.toggleOnDblClick&&c.isExpandable()&&!(b&&b.clicksToEdit===2)){a.toggle(c)}},onBeforeItemMouseDown:function(c,a,d,b){if(b.getTarget(this.expanderSelector,a)){return !1}return Ext.view.Table.prototype.onBeforeItemMouseDown.apply(this,arguments)},onItemClick:function(a,c,d,b){if(b.getTarget(this.expanderSelector,c)&&a.isExpandable()){this.toggle(a,b.ctrlKey);return !1}return Ext.view.Table.prototype.onItemClick.apply(this,arguments)},onExpanderMouseOver:function(a,b){a.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a,b){a.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var a=this,b=Ext.view.Table.prototype.getStoreListeners.apply(this,arguments);return Ext.apply(b,{beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged})},onBindStore:function(){var a=this,b=a.getTreeStore();Ext.view.Table.prototype.onBindStore.apply(this,arguments);a.mon(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete});if(!b.remoteSort){a.mon(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})}},onUnbindStore:function(){var a=this,b=a.getTreeStore();Ext.view.Table.prototype.onUnbindStore.apply(this,arguments);a.mun(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete});if(!b.remoteSort){a.mun(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})}},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(b){var a=b.parentNode;if(a){a.eachChild(function(a){if(a!==b&&a.isExpanded()){a.collapse()}})}},shouldUpdateCell:function(e,d,a){if(a){var b=0,c=a.length;for(;b<c;++b){if(Ext.Array.contains(this.uiFields,a[b])){return !0}}}return Ext.view.Table.prototype.shouldUpdateCell.apply(this,arguments)},onStoreWrite:function(c,b){var a=this.panel.store;a.fireEvent('write',a,b)},onStoreDataChanged:function(c,b){var a=this.panel.store;a.fireEvent('datachanged',a)}},0,['treeview'],['component','box','dataview','tableview','treeview'],{'component':!0,'box':!0,'dataview':!0,'tableview':!0,'treeview':!0},['widget.treeview'],0,[Ext.tree,'View'],0);Ext.define('Ext.grid.plugin.BufferedRendererTreeView',{override:'Ext.tree.View',onRemove:function(d,c,b){var a=this;if(a.rendered&&a.bufferedRenderer){a.refreshView()}else {(arguments.callee.$previous||Ext.view.Table.prototype.onRemove).call(this,d,c,b)}}});Ext.cmd.derive('Ext.tree.Panel',Ext.panel.Table,{alternateClassName:['Ext.tree.TreePanel','Ext.TreePanel'],viewType:'treeview',selType:'treemodel',treeCls:'x-tree-panel',deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:'text',root:null,normalCfgCopy:['displayField','root','singleExpand','useArrows','lines','rootVisible','scroll'],lockedCfgCopy:['displayField','root','singleExpand','useArrows','lines','rootVisible'],isTree:!0,arrowCls:'x-tree-arrows',linesCls:'x-tree-lines',noLinesCls:'x-tree-no-lines',autoWidthCls:'x-autowidth-table',constructor:function(a){a=a||{};if(a.animate===undefined){a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=a.animate;delete a.animate;Ext.panel.Table.prototype.constructor.call(this,a)},initComponent:function(){var a=this,c=[a.treeCls],b=a.store,d;if(a.useArrows){c.push(a.arrowCls);a.lines=!1}if(a.lines){c.push(a.linesCls)}else {if(!a.useArrows){c.push(a.noLinesCls)}}if(Ext.isString(b)){b=a.store=Ext.StoreMgr.lookup(b)}else {if(!b||Ext.isObject(b)&&!b.isStore){b=a.store=new Ext.data.TreeStore(Ext.apply({root:a.root,fields:a.fields,model:a.model,folderSort:a.folderSort},b))}else {if(a.root){b=a.store=Ext.data.StoreManager.lookup(b);b.setRootNode(a.root);if(a.folderSort!==undefined){b.folderSort=a.folderSort;b.sort()}}}}a.viewConfig=Ext.apply({rootVisible:a.rootVisible,animate:a.enableAnimations,singleExpand:a.singleExpand,node:b.getRootNode(),hideHeaders:a.hideHeaders},a.viewConfig);if(!a.columns){if(a.initialConfig.hideHeaders===undefined){a.hideHeaders=!0}a.addCls(a.autoWidthCls);a.columns=[{xtype:'treecolumn',text:'Name',width:Ext.isIE6?'100%':10000,dataIndex:a.displayField}]}if(a.cls){c.push(a.cls)}a.cls=c.join(' ');Ext.panel.Table.prototype.initComponent.call(this);a.selModel.treeStore=a.store;d=a.getView();a.relayEvents(d,['checkchange','afteritemexpand','afteritemcollapse']);if(!d.isLockingView){if(!d.rootVisible&&!a.getRootNode()){a.setRootNode({expanded:!0})}}},bindStore:function(b,c){var a=this;a.store=b;a.storeListeners=a.mon(b,{destroyable:!0,load:a.onStoreLoad,rootchange:a.onRootChange,clear:a.onClear,scope:a});a.storeRelayers=a.relayEvents(b,['beforeload','load']);a.storeRelayers1=a.mon(b,{destroyable:!0,append:a.createRelayer('itemappend'),remove:a.createRelayer('itemremove'),move:a.createRelayer('itemmove',[0,4]),insert:a.createRelayer('iteminsert'),beforeappend:a.createRelayer('beforeitemappend'),beforeremove:a.createRelayer('beforeitemremove'),beforemove:a.createRelayer('beforeitemmove'),beforeinsert:a.createRelayer('beforeiteminsert'),expand:a.createRelayer('itemexpand',[0,1]),collapse:a.createRelayer('itemcollapse',[0,1]),beforeexpand:a.createRelayer('beforeitemexpand',[0,1]),beforecollapse:a.createRelayer('beforeitemcollapse',[0,1])});b.ownerTree=a;if(!c){a.view.setRootNode(a.getRootNode())}},unbindStore:function(){var a=this,b=a.store;if(b){Ext.destroy(a.storeListeners,a.storeRelayers,a.storeRelayers1);delete b.ownerTree}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get('checked')},expandNode:function(b,d,a,c){return this.getView().expand(b,d,a,c||this)},collapseNode:function(b,d,a,c){return this.getView().collapse(b,d,a,c||this)},expandAll:function(d,e){var a=this,c=a.getRootNode(),b=a.enableAnimations;if(c){if(!b){Ext.suspendLayouts()}c.expand(!0,d,e||a);if(!b){Ext.resumeLayouts(!0)}}},collapseAll:function(d,a){var b=this,c=b.getRootNode(),e=b.enableAnimations,f=b.getView();if(c){if(!e){Ext.suspendLayouts()}a=a||b;if(f.rootVisible){c.collapse(!0,d,a)}else {c.collapseChildren(!0,d,a)}if(!e){Ext.resumeLayouts(!0)}}},expandPath:function(j,d,g,c,e){var b=this,a=b.getRootNode(),i=1,k=b.getView(),f,h;d=d||b.getRootNode().idProperty;g=g||'/';if(Ext.isEmpty(j)){Ext.callback(c,e||b,[!1,null]);return}f=j.split(g);if(a.get(d)!=f[1]){Ext.callback(c,e||b,[!1,a]);return}h=function(){if(++i===f.length){Ext.callback(c,e||b,[!0,a]);return}var k=a.findChild(d,f[i]);if(!k){Ext.callback(c,e||b,[!1,a]);return}a=k;a.expand(!1,h)};a.expand(!1,h)},selectPath:function(i,d,b,c,e){var a=this,g,f,h;d=d||a.getRootNode().idProperty;b=b||'/';f=i.split(b);h=f.pop();if(f.length>1){a.expandPath(f.join(b),d,b,function(j,f){var g=f;if(j&&f){f=f.findChild(d,h);if(f){a.getSelectionModel().select(f);Ext.callback(c,e||a,[!0,f]);return}}Ext.callback(c,e||a,[!1,g])},a)}else {g=a.getRootNode();if(g.getId()===h){a.getSelectionModel().select(g);Ext.callback(c,e||a,[!0,g])}else {Ext.callback(c,e||a,[!1,null])}}}},1,['treepanel'],['component','box','container','panel','tablepanel','treepanel'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'treepanel':!0},['widget.treepanel'],0,[Ext.tree,'Panel',Ext.tree,'TreePanel',Ext,'TreePanel'],0);Ext.cmd.derive('Ext.util.Grouper',Ext.util.Sorter,{isGrouper:!0,getGroupString:function(a){return a.get(this.property)}},0,0,0,0,0,0,[Ext.util,'Grouper'],0);Ext.cmd.derive('Dokoqlv.controller.Dokoqlv',Ext.app.Controller,{onSqlExec:function(b,d,c){var a=myCodeMirror.getValue();if(a.trim()==''){Ext.Msg.alert('SQL','SQL.');return}Ext.Ajax.request({scope:this,url:'/execute',method:'POST',params:this.constructParams({sql:a}),success:function(e){var a=Ext.JSON.decode(e.responseText,!0);if(a!=null&&a.success===!0){this.onSQLExecSuccess(a,e,this)}else {this.onSQLExecFailure(a,e,this)}},failure:function(a){this.onSQLExecFailure(null,a,this)}})},onTemplateSelected:function(a){if(Dokoqlv.app.myCodeMirror!=null){Dokoqlv.app.myCodeMirror.replaceSelection(a.tooltip);myCodeMirror.setCursor(myCodeMirror.getCursor('end'))}},loadNewSql:function(a){if(typeof myCodeMirror=='undefined'){Ext.getCmp('sqlarea').setValue(a)}else {myCodeMirror.setValue(a)}},drawWall:function(d,b){var a='';if(b!=null){a="<div style='padding:2em; text-align:center; color:lightgray'>"+b+'</div>'}var c=d.getEl();if(typeof c!='undefined'){c.setHTML(a)}},drawTable:function(h,e){var i=e.columnNames;var f=e.columnTypes;var b=e.rowData;var g='#333355';if(h.id=='resulttable'){g='#335533'}var a="<table class='dbtable' style='width:100%;font-size: small; border 1px solid darkgray'>";a+="<thead><tr style='color:white; background-color: "+g+"'>";Ext.each(i,function(b,c){a+='<th><b>'+b+"</b><br><span style='font-size: x-small; color:lightgray'>"+f[c]+'</span></th>'});a+='</tr></thead>';a+='<tbody>';var c=[];Ext.each(f,function(a){if(Dokoqlv.app.getController('Dokoqlv').isNumericType(a)){c.push(" style='padding: 0 4px;text-align:right;' ")}else {c.push(" style='padding: 0 4px;' ")}},this);Ext.each(b,function(b){a+='<tr>';Ext.each(b,function(d,f){if(d==null){a+="<td style='text-align:center;color:gray'> (NULL) </td>"}else {a+='<td '+c[f]+'>'+d+'</td>'}});a+='</tr>'});a+='</tbody></table>';if(b==null||b.length==0){a+="<span style='color:gray'>(0)</span>"}var d=h.getEl();if(typeof d!='undefined'){d.setHTML(a);d.setStyle('overflow','auto')}},constructParams:function(a){var c=Ext.getStore('SessionState').getAt(0).get('currentDatabase');Ext.apply(a,{dbid:c});var b=Ext.getStore('Config').getAt(0).get('credential');if(b!=null){Ext.apply(a,{credential:b})}var d=Ext.getStore('SessionState').getAt(0).databaseStates().findRecord('dbid',c);if(d!=null){var e=Ext.JSON.encode(d.get('sqls'));Ext.apply(a,{history:e})}else {Ext.apply(a,{history:'[]'})}return a},isNumericType:function(a){if(/^DOUBLE/i.test(a)||/^DEC/i.test(a)||/FLOAT/i.test(a)||/^FIXED/i.test(a)||/INT/i.test(a)||/LONG/i.test(a)||/MONEY$/i.test(a)||/^NUMBER/i.test(a)||/^NUMERIC/i.test(a)||/^REAL/i.test(a)||/SIGNED/i.test(a)||/^YEAR$/i.test(a)){return !0}else {return !1}},onSQLExecSuccess:function(c,f){var b=Ext.getStore('SessionState').getAt(0).get('currentDatabase');var e=myCodeMirror.getValue();var a=Ext.getStore('SessionState').getAt(0).databaseStates().findRecord('dbid',b);if(a==null){Ext.getStore('SessionState').getAt(0).databaseStates().add(Ext.create('Dokoqlv.model.DatabaseState',{dbid:b}));a=Ext.getStore('SessionState').getAt(0).databaseStates().findRecord('dbid',b)}var d=a.get('sqls');d.push(e);a.set('sqls',d);if(c.affectedRows==-1){this.drawTable(Ext.getCmp('resulttable'),c)}else {this.drawUpdateReport(Ext.getCmp('resulttable'),c)}Ext.getStore('Tables').load()},onSQLExecFailure:function(b,a){if(b===null){if(a.status===403){Ext.Msg.alert('','SQL. .')}else {Ext.Msg.alert(': '+a.status,'. .')}}else {Ext.Msg.alert('SQL',b.message.replace('relation','table'))}},drawUpdateReport:function(d,c){var a="<div style='padding:2em; text-align:center;font-size:large'>";if(c.affectedRows>0){a+="<br><span style='font-size:small; color:gray;'>("+c.affectedRows+')</span>'}a+='</div>';var b=d.getEl();if(typeof b!='undefined'){b.setHTML(a)}},init:function(a){this.control({'#ExecButton':{click:this.onSqlExec},'#TemplateMenu .menuitem':{click:this.onTemplateSelected}})}},0,0,0,0,0,0,[Dokoqlv.controller,'Dokoqlv'],0);Ext.cmd.derive('Dokoqlv.model.Config',Ext.data.Model,{fields:[{defaultValue:null,name:'credential',type:'string'},{defaultValue:1.2,name:'editorFontSize',type:'float'},{defaultValue:!0,name:'editorSyntaxHighlight',type:'boolean'},{defaultValue:null,name:'lastId'}],idgen:{type:'uuid'}},0,0,0,0,0,0,[Dokoqlv.model,'Config'],0);Ext.cmd.derive('Dokoqlv.model.DatabaseState',Ext.data.Model,{fields:[{name:'dbid',type:'string'},{defaultValue:[],name:'sqls',type:'auto'}]},0,0,0,0,0,0,[Dokoqlv.model,'DatabaseState'],0);Ext.cmd.derive('Dokoqlv.model.LibraryEntry',Ext.data.Model,{fields:[{name:'id'},{name:'name'},{name:'readerOnly'},{name:'disclosure'},{name:'failReason'},{name:'nextSql'}]},0,0,0,0,0,0,[Dokoqlv.model,'LibraryEntry'],0);Ext.cmd.derive('Dokoqlv.model.SessionState',Ext.data.Model,{fields:[{defaultValue:'std-kakeibo',name:'currentDatabase',type:'string'},{name:'currentTable',type:'string'}],hasMany:{model:'Dokoqlv.model.DatabaseState',name:'databaseStates'}},0,0,0,0,0,0,[Dokoqlv.model,'SessionState'],0);Ext.cmd.derive('Dokoqlv.model.Table',Ext.data.Model,{fields:[{name:'name'},{name:'columnNames'},{name:'columnTypes'},{name:'rows'}]},0,0,0,0,0,0,[Dokoqlv.model,'Table'],0);Ext.cmd.derive('Dokoqlv.store.Config',Ext.data.Store,{constructor:function(a){var b=this;a=a||{};Ext.data.Store.prototype.constructor.call(this,Ext.apply({autoLoad:!0,model:'Dokoqlv.model.Config',storeId:'MyJsonStore1',proxy:{type:'memory',reader:{type:'json'}},listeners:{load:{fn:b.onJsonstoreLoad,scope:b}}},a))},onJsonstoreLoad:function(d,a,b,c){if(a.length!=1){this.removeAll();this.add(Ext.create('Dokoqlv.model.Config',{}))}}},1,0,0,0,0,0,[Dokoqlv.store,'Config'],0);Ext.cmd.derive('Dokoqlv.store.LibraryEntries',Ext.data.TreeStore,{constructor:function(a){var b=this;a=a||{};Ext.data.TreeStore.prototype.constructor.call(this,Ext.apply({autoLoad:!0,model:'Dokoqlv.model.LibraryEntry',storeId:'MyTreeStore',defaultRootProperty:'items',proxy:{type:'ajax',method:'GET',url:'/dokoql_library_index.json',reader:{type:'json',root:''}}},a))}},1,0,0,0,0,0,[Dokoqlv.store,'LibraryEntries'],0);Ext.cmd.derive('Dokoqlv.store.SessionState',Ext.data.Store,{constructor:function(a){var b=this;a=a||{};Ext.data.Store.prototype.constructor.call(this,Ext.apply({autoLoad:!0,model:'Dokoqlv.model.SessionState',storeId:'MyJsonStore2',proxy:{type:'memory',reader:{type:'json'}},listeners:{load:{fn:b.onJsonstoreLoad,scope:b}}},a))},onJsonstoreLoad:function(a,b,c,d){if(b.length!=1){a.removeAll();a.add(Ext.create('Dokoqlv.model.SessionState',{}))}}},1,0,0,0,0,0,[Dokoqlv.store,'SessionState'],0);Ext.cmd.derive('Dokoqlv.store.Tables',Ext.data.Store,{constructor:function(b){var a=this;b=b||{};Ext.data.Store.prototype.constructor.call(this,Ext.apply({autoLoad:!0,model:'Dokoqlv.model.Table',storeId:'MyJsonStore',proxy:{type:'ajax',method:'GET',url:'/describe',reader:{type:'json',root:'tables'}},listeners:{load:{fn:a.onJsonstoreLoad,scope:a},beforeload:{fn:a.onJsonstoreBeforeLoad,scope:a}}},b))},onJsonstoreLoad:function(g,d,e,f){var a=Ext.getCmp('TableTab');a.suspendEvent('tabchange');var c=null;if(a.getActiveTab()!==null){c=a.getActiveTab().title}a.items.each(function(b){a.remove(b)});var b=null;Ext.each(d,function(h){var i=Ext.create('Ext.Panel',{title:h.get('name'),overflowY:'auto'});a.add(i);if(h.get('name')==c){b=i}});a.resumeEvent('tabchange');if(b!==null){a.setActiveTab(b)}else {if(a.items.getCount()>0){a.setActiveTab(a.items.get(0))}}},onJsonstoreBeforeLoad:function(a,f,g){var c=Ext.getStore('SessionState').getAt(0).get('currentDatabase');a.getProxy().setExtraParam('dbid',c);var b=Ext.getStore('Config').getAt(0).get('credential');if(b!=null){a.getProxy().setExtraParam('credential',b)}var d=Ext.getStore('SessionState').getAt(0).databaseStates().findRecord('dbid',c);if(d!=null){var e=Ext.JSON.encode(d.get('sqls'));a.getProxy().setExtraParam('history',e)}else {a.getProxy().setExtraParam('history','[]')}}},1,0,0,0,0,0,[Dokoqlv.store,'Tables'],0);Ext.cmd.derive('Dokoqlv.view.ExecButton',Ext.button.Button,{id:'ExecButton',text:'MyButton',initComponent:function(){var a=this;Ext.button.Button.prototype.initComponent.apply(this,arguments)}},0,['mybutton5'],['component','box','button','mybutton5'],{'component':!0,'box':!0,'button':!0,'mybutton5':!0},['widget.mybutton5'],0,[Dokoqlv.view,'ExecButton'],0);Ext.cmd.derive('Dokoqlv.view.LibraryWindow',Ext.window.Window,{height:250,id:'LibraryWindow',itemId:'LibraryWindow',width:400,layout:'fit',title:'',modal:!0,initComponent:function(){var a=this;Ext.applyIf(a,{dockedItems:[{xtype:'toolbar',dock:'bottom',items:[{xtype:'tbspacer',flex:1},{xtype:'button',id:'LibraryLoadButton',text:'',listeners:{click:{fn:a.onLibraryLoadButtonClick,scope:a}}}]}],items:[{xtype:'treepanel',store:'LibraryEntries',displayField:'name',rootVisible:!1,viewConfig:{listeners:{itemdblclick:{fn:a.onViewItemDblClick,scope:a}}},listeners:{select:{fn:a.onTreepanelSelect,scope:a}}}]});Ext.window.Window.prototype.initComponent.apply(this,arguments)},onLibraryLoadButtonClick:function(c,e,d){var a=Ext.getCmp('LibraryWindow').lastSelectedRecord;var b=Ext.getStore('Config').getAt(0).get('credential');if((b==null||b=='')&&a.get('readerOnly')==!0){Ext.Msg.alert('','SQL. .');return}Ext.Msg.confirm('','SQL'+a.get('name')+'.',function(b){if(b==='yes'){Ext.getStore('SessionState').getAt(0).set('currentDatabase',a.get('id'));Ext.getStore('SessionState').getAt(0).set('currentTable',null);Dokoqlv.app.getController('Dokoqlv').loadNewSql(a.get('nextSql'));Ext.getStore('Tables').load();Ext.getCmp('LibraryWindow').close();if(a.get('failReason')!=null){Ext.Msg.alert('','SQL. : '+a.get('failReason')+'')}}},this)},onViewItemDblClick:function(e,b,g,f,d,c){if(b.get('leaf')==!0){var a=Ext.getCmp('LibraryLoadButton');a.fireEvent('click',a,d,c)}},onTreepanelSelect:function(b,a,d,c){if(a.get('leaf')===!0){Ext.getCmp('LibraryWindow').lastSelectedRecord=a}}},0,0,['component','box','container','panel','window'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0},0,0,[Dokoqlv.view,'LibraryWindow'],0);Ext.cmd.derive('Dokoqlv.view.LoginWindow',Ext.window.Window,{height:136,id:'LoginWindow',width:316,layout:'fit',title:'',modal:!0,initComponent:function(){var a=this;Ext.applyIf(a,{items:[{xtype:'form',bodyPadding:10,items:[{xtype:'textfield',anchor:'100%',id:'idfield',fieldLabel:'ID',allowBlank:!1,allowOnlyWhitespace:!1},{xtype:'textfield',anchor:'100%',id:'pwfield',fieldLabel:'',inputType:'password',allowBlank:!1,allowOnlyWhitespace:!1}]}],dockedItems:[{xtype:'toolbar',dock:'bottom',items:[{xtype:'tbspacer',flex:1},{xtype:'button',text:'',listeners:{click:{fn:a.onButtonClick,scope:a}}}]}]});Ext.window.Window.prototype.initComponent.apply(this,arguments)},onButtonClick:function(a,c,b){Ext.Ajax.request({scope:this,url:'/credential',method:'GET',params:{id:Ext.getCmp('idfield').getValue(),pw:Ext.getCmp('pwfield').getValue()},success:function(e){var d=e.responseText;Ext.getStore('Config').getAt(0).set('credential',d);Ext.Msg.alert('',d.split('\n')[0]+' ');Ext.getCmp('LoginWindow').close()},failure:function(d){Ext.Msg.alert('','. ID')}})}},0,0,['component','box','container','panel','window'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0},0,0,[Dokoqlv.view,'LoginWindow'],0);Ext.cmd.derive('Dokoqlv.view.MyViewport',Ext.container.Viewport,{layout:'fit',initComponent:function(){var a=this;Ext.applyIf(a,{items:[{xtype:'container',layout:{type:'vbox',align:'stretch'},items:[{xtype:'toolbar',items:[{xtype:'label',style:'font-size:large;',text:'dokoQL 2'},{xtype:'tbspacer',flex:1},{xtype:'button',text:'',menu:{xtype:'menu',width:120,items:[{xtype:'menuitem',id:'LoginMenu',text:'',tooltip:'SELECT * FROM ',listeners:{click:{fn:a.onMenuitemClick2,scope:a}}},{xtype:'menuitem',id:'LogoutMenu',text:'',tooltip:'SELECT * FROM ',listeners:{click:{fn:a.onMenuitemClick21,scope:a}}},{xtype:'menuitem',text:'',listeners:{click:{fn:a.onMenuitemClick1,scope:a}}},{xtype:'menuitem',text:'',listeners:{click:{fn:a.onMenuitemClick,scope:a}}}],listeners:{beforeshow:{fn:a.onMenuBeforeShow,scope:a}}}}]},{xtype:'container',flex:2,layout:{type:'hbox',align:'stretch'},items:[{xtype:'panel',flex:1,height:136,layout:'fit',items:[{xtype:'textareafield',id:'sqlarea',style:'vertical-align:top',emptyText:'SQL...',enableKeyEvents:!0,listeners:{render:{fn:a.onTextareafieldRender,scope:a}}}],dockedItems:[{xtype:'toolbar',dock:'top',items:[{xtype:'button',text:'...',listeners:{click:{fn:a.onButtonClick,scope:a}}},{xtype:'button',text:'',listeners:{click:{fn:a.onButtonClick1,scope:a}}},{xtype:'button',text:'',menu:{xtype:'menu',id:'TemplateMenu',maxWidth:300,items:[{xtype:'menuitem',text:'SELECT',tooltip:'SELECT * FROM '},{xtype:'menuitem',text:'\u3000WHERE',tooltip:' WHERE  = '},{xtype:'menuitem',text:'\u3000JOIN',tooltip:' JOIN  ON 1 = 2'},{xtype:'menuitem',text:'INSERT',tooltip:'INSERT INTO  (  ) VALUES (  )'},{xtype:'menuitem',text:'UPDATE',tooltip:'UPDATE '},{xtype:'menuitem',text:'DELETE',tooltip:'DELETE FROM '},{xtype:'menuitem',text:'CREATE TABLE',tooltip:'CREATE TABLE  (   )'},{xtype:'menuitem',text:'OFF',tooltip:'SET AUTOCOMMIT OFF'}]}},{xtype:'tbspacer',flex:1},{xtype:'mybutton5',border:!0,text:'SQL(SHIFT+Enter)'}]}]},{xtype:'splitter'},{xtype:'tabpanel',flex:1,height:142,id:'TableTab',listeners:{tabchange:{fn:a.onTableTabTabChange,scope:a}}}]},{xtype:'splitter'},{xtype:'panel',flex:1,autoScroll:!0,layout:'fit',title:'',items:[{xtype:'panel',border:!1,id:'resulttable'}]}]}]});Ext.container.Viewport.prototype.initComponent.apply(this,arguments)},onMenuitemClick2:function(b,c,a){Ext.create('Dokoqlv.view.LoginWindow',{}).show()},onMenuitemClick21:function(b,c,a){Ext.getStore('Config').getAt(0).set('credential',null);Ext.Msg.alert('','')},onMenuitemClick1:function(b,c,a){window.open('/entry','_blank')},onMenuitemClick:function(b,c,a){window.open('/help','_blank')},onMenuBeforeShow:function(b,c){var a=Ext.getStore('Config').getAt(0).get('credential');if(a==null||a==''){Ext.getCmp('LoginMenu').enable();Ext.getCmp('LogoutMenu').disable()}else {Ext.getCmp('LoginMenu').disable();Ext.getCmp('LogoutMenu').enable()}},onTextareafieldRender:function(a,b){if(typeof myCodeMirror==='undefined'){myCodeMirror=CodeMirror.fromTextArea(Ext.select('textarea',Ext.getCmp('sqlarea').id).elements[0],{lineNumbers:!0,tabSize:4,indentUnit:4,indentWithTabs:!0,autoCloseBrackets:!0,viewportMargin:Infinity,mode:'text/x-sql',autoFocus:!0,extraKeys:{'Shift-Enter':function(c){Ext.getCmp('ExecButton').fireEvent('click');return !0}}});Dokoqlv.app.myCodeMirror=myCodeMirror}},onButtonClick:function(b,d,c){var a=Ext.create('Dokoqlv.view.LibraryWindow',{});a.show()},onButtonClick1:function(a,c,b){Ext.Msg.confirm('','DB.',function(d){if(d==='yes'){Ext.getStore('SessionState').getAt(0).databaseStates().removeAll();Ext.getStore('Tables').load()}})},onTableTabTabChange:function(c,a,d,e){var b=a.title;Ext.getStore('SessionState').getAt(0).set('currentTable',b);Ext.Ajax.request({scope:this,url:'/execute',method:'POST',params:Dokoqlv.app.getController('Dokoqlv').constructParams({sql:'SELECT * FROM '+b}),success:function(f){var b=Ext.JSON.decode(f.responseText,!0);if(b!=null&&b.success===!0){Dokoqlv.app.getController('Dokoqlv').drawTable(a,b)}else {Dokoqlv.app.getController('Dokoqlv').drawWall(a,'')}},failure:function(b){Ext.app.getController('Dokoqlv').drawWall(a,'')}})}},0,0,['component','box','container','viewport'],{'component':!0,'box':!0,'container':!0,'viewport':!0},0,0,[Dokoqlv.view,'MyViewport'],0);(function(b,a){typeof exports==='object'&&typeof module!=='undefined'?module.exports=a():typeof define==='function'&&define.amd?define(a):b.CodeMirror=a()})(this,function(){var h=navigator.userAgent;var az=navigator.platform;var v=/gecko\/\d/i.test(h);var av=/MSIE \d/.test(h);var aA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(h);var S=/Edge\/(\d+)/.exec(h);var b=av||aA||S;var e=b&&(av?document.documentMode||6:+(S||aA)[1]);var i=!S&&/WebKit\//.test(h);var aR=i&&/Qt\/\d+\.\d+/.test(h);var aa=!S&&/Chrome\//.test(h);var n=/Opera\//.test(h);var aB=/Apple Computer/.test(navigator.vendor);var aF=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(h);var aS=/PhantomJS/.test(h);var U=!S&&/AppleWebKit/.test(h)&&/Mobile\/\w+/.test(h);var _=/Android/.test(h);var R=U||_||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(h);var o=U||/Mac/.test(az);var aP=/\bCrOS\b/.test(h);var aU=/win/i.test(az);var x=n&&h.match(/Version\/(\d*\.\d*)/);if(x){x=Number(x[1])}if(x&&x>=15){n=!1;i=!0}var as=o&&(aR||n&&(x==null||x<12.11));var ae=v||b&&e>=9;function classTest(a){return new RegExp('(^|\\s)'+a+'(?:$|\\s)\\s*')}var A=function(d,e){var b=d.className;var a=classTest(e).exec(b);if(a){var c=b.slice(a.index+a[0].length);d.className=b.slice(0,a.index)+(c?a[1]+c:'')}};function removeChildren(a){for(var b=a.childNodes.length;b>0;--b){a.removeChild(a.firstChild)}return a}function removeChildrenAndAdd(a,b){return removeChildren(a).appendChild(b)}function elt(f,a,d,e){var b=document.createElement(f);if(d){b.className=d}if(e){b.style.cssText=e}if(typeof a=='string'){b.appendChild(document.createTextNode(a))}else {if(a){for(var c=0;c<a.length;++c){b.appendChild(a[c])}}}return b}function eltP(e,c,b,d){var a=elt(e,c,b,d);a.setAttribute('role','presentation');return a}var B;if(document.createRange){B=function(b,d,e,c){var a=document.createRange();a.setEnd(c||b,e);a.setStart(b,d);return a}}else {B=function(c,b,d){var a=document.body.createTextRange();try{a.moveToElementText(c.parentNode)}catch(aV){return a}a.collapse(!0);a.moveEnd('character',d);a.moveStart('character',b);return a}}function contains(b,a){if(a.nodeType==3){a=a.parentNode}if(b.contains){return b.contains(a)}do{if(a.nodeType==11){a=a.host}if(a==b){return !0}}while(a=a.parentNode)}function activeElt(){var a;try{a=document.activeElement}catch(aV){a=document.body||null}while(a&&a.shadowRoot&&a.shadowRoot.activeElement){a=a.shadowRoot.activeElement}return a}function addClass(b,c){var a=b.className;if(!classTest(c).test(a)){b.className+=(a?' ':'')+c}}function joinClasses(d,c){var b=d.split(' ');for(var a=0;a<b.length;a++){if(b[a]&&!classTest(b[a]).test(c)){c+=' '+b[a]}}return c}var L=function(a){a.select()};if(U){L=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}}else {if(b){L=function(a){try{a.select()}catch(aV){}}}}function bind(b){var a=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,a)}}function copyObj(c,a,d){if(!a){a={}}for(var b in c){if(c.hasOwnProperty(b)&&(d!==!1||!a.hasOwnProperty(b))){a[b]=c[b]}}return a}function countColumn(e,a,f,g,h){if(a==null){a=e.search(/[^\s\u00a0]/);if(a==-1){a=e.length}}for(var c=g||0,d=h||0;;){var b=e.indexOf('\t',c);if(b<0||b>=a){return d+(a-c)}d+=b-c;d+=f-d%f;c=b+1}}var z=function(){this.id=null};z.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};function indexOf(b,c){for(var a=0;a<b.length;++a){if(b[a]==c){return a}}return -1}var at=30;var ab={toString:function(){return 'CodeMirror.Pass'}};var p={scroll:!1},am={origin:'*mouse'},Q={origin:'+move'};function findColumn(d,e,g){for(var c=0,b=0;;){var a=d.indexOf('\t',c);if(a==-1){a=d.length}var f=a-c;if(a==d.length||b+f>=e){return c+Math.min(f,e-b)}b+=a-c;b+=g-b%g;c=a+1;if(b>=e){return c}}}var $=[''];function spaceStr(a){while($.length<=a){$.push(lst($)+' ')}return $[a]}function lst(a){return a[a.length-1]}function map(b,d){var c=[];for(var a=0;a<b.length;a++){c[a]=d(b[a],a)}return c}function insertSorted(b,d,c){var a=0,e=c(d);while(a<b.length&&c(b[a])<=e){a++}b.splice(a,0,d)}function nothing(){}function createObj(c,b){var a;if(Object.create){a=Object.create(c)}else {nothing.prototype=c;a=new nothing()}if(b){copyObj(b,a)}return a}var aD=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(a){return /\w/.test(a)||a>''&&(a.toUpperCase()!=a.toLowerCase()||aD.test(a))}function isWordChar(b,a){if(!a){return isWordCharBasic(b)}if(a.source.indexOf('\\w')>-1&&isWordCharBasic(b)){return !0}return a.test(b)}function isEmpty(a){for(var b in a){if(a.hasOwnProperty(b)&&a[b]){return !1}}return !0}var aI=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(a){return a.charCodeAt(0)>=768&&aI.test(a)}function skipExtendingChars(c,a,b){while((b<0?a>0:a<c.length)&&isExtendingChar(c.charAt(a))){a+=b}return a}function findFirst(e,a,c){var f=a>c?-1:1;for(;;){if(a==c){return a}var d=(a+c)/2,b=f<0?Math.ceil(d):Math.floor(d);if(b==a){return e(b)?a:c}if(e(b)){c=b}else {a=b+f}}}function Display(c,f,d){var a=this;this.input=d;a.scrollbarFiller=elt('div',null,'CodeMirror-scrollbar-filler');a.scrollbarFiller.setAttribute('cm-not-content','true');a.gutterFiller=elt('div',null,'CodeMirror-gutter-filler');a.gutterFiller.setAttribute('cm-not-content','true');a.lineDiv=eltP('div',null,'CodeMirror-code');a.selectionDiv=elt('div',null,null,'position: relative; z-index: 1');a.cursorDiv=elt('div',null,'CodeMirror-cursors');a.measure=elt('div',null,'CodeMirror-measure');a.lineMeasure=elt('div',null,'CodeMirror-measure');a.lineSpace=eltP('div',[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,'position: relative; outline: none');var g=eltP('div',[a.lineSpace],'CodeMirror-lines');a.mover=elt('div',[g],null,'position: relative');a.sizer=elt('div',[a.mover],'CodeMirror-sizer');a.sizerWidth=null;a.heightForcer=elt('div',null,null,'position: absolute; height: '+at+'px; width: 1px;');a.gutters=elt('div',null,'CodeMirror-gutters');a.lineGutter=null;a.scroller=elt('div',[a.sizer,a.heightForcer,a.gutters],'CodeMirror-scroll');a.scroller.setAttribute('tabIndex','-1');a.wrapper=elt('div',[a.scrollbarFiller,a.gutterFiller,a.scroller],'CodeMirror');if(b&&e<8){a.gutters.style.zIndex=-1;a.scroller.style.paddingRight=0}if(!i&&!(v&&R)){a.scroller.draggable=!0}if(c){if(c.appendChild){c.appendChild(a.wrapper)}else {c(a.wrapper)}}a.viewFrom=a.viewTo=f.first;a.reportedViewFrom=a.reportedViewTo=f.first;a.view=[];a.renderedView=null;a.externalMeasured=null;a.viewOffset=0;a.lastWrapHeight=a.lastWrapWidth=0;a.updateLineNumbers=null;a.nativeBarWidth=a.barHeight=a.barWidth=0;a.scrollbarsClipped=!1;a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null;a.alignWidgets=!1;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null;a.maxLine=null;a.maxLineLength=0;a.maxLineChanged=!1;a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null;a.shift=!1;a.selForContextMenu=null;a.activeTouch=null;d.init(a)}function getLine(c,a){a-=c.first;if(a<0||a>=c.size){throw new Error('There is no line '+(a+c.first)+' in the document.')}var b=c;while(!b.lines){for(var f=0;;++f){var d=b.children[f],e=d.chunkSize();if(a<e){b=d;break}a-=e}}return b.lines[a]}function getBetween(e,a,b){var d=[],c=a.line;e.iter(a.line,b.line+1,function(g){var f=g.text;if(c==b.line){f=f.slice(0,b.ch)}if(c==a.line){f=f.slice(a.ch)}d.push(f);++c});return d}function getLines(c,b,d){var a=[];c.iter(b,d,function(e){a.push(e.text)});return a}function updateLineHeight(c,d){var b=d-c.height;if(b){for(var a=c;a;a=a.parent){a.height+=b}}}function lineNo(c){if(c.parent==null){return null}var b=c.parent,e=indexOf(b.lines,c);for(var a=b.parent;a;b=a,a=a.parent){for(var d=0;;++d){if(a.children[d]==b){break}e+=a.children[d].chunkSize()}}return e+b.first}function lineAtHeight(a,b){var f=a.first;j: do{for(var e=0;e<a.children.length;++e){var d=a.children[e],g=d.height;if(b<g){a=d;continue j}b-=g;f+=d.chunkSize()}return f}while(!a.lines);var c=0;for(;c<a.lines.length;++c){var i=a.lines[c],h=i.height;if(b<h){break}b-=h}return f+c}function isLine(a,b){return b>=a.first&&b<a.first+a.size}function lineNumberFor(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function Pos(b,c,a){if(a===void 0){a=null}if(!(this instanceof Pos)){return new Pos(b,c,a)}this.line=b;this.ch=c;this.sticky=a}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&cmp(a,b)==0}function copyPos(a){return Pos(a.line,a.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function clipPos(a,b){if(b.line<a.first){return Pos(a.first,0)}var c=a.first+a.size-1;if(b.line>c){return Pos(c,getLine(a,c).text.length)}return clipToLen(b,getLine(a,b.line).text.length)}function clipToLen(a,c){var b=a.ch;if(b==null||b>c){return Pos(a.line,c)}else {if(b<0){return Pos(a.line,0)}else {return a}}}function clipPosArray(d,b){var c=[];for(var a=0;a<b.length;a++){c[a]=clipPos(d,b[a])}return c}var ap=!1,r=!1;function seeReadOnlySpans(){ap=!0}function seeCollapsedSpans(){r=!0}function MarkedSpan(a,b,c){this.marker=a;this.from=b;this.to=c}function getMarkedSpanFor(a,d){if(a){for(var b=0;b<a.length;++b){var c=a[b];if(c.marker==d){return c}}}}function removeMarkedSpan(b,d){var c;for(var a=0;a<b.length;++a){if(b[a]!=d){(c||(c=[])).push(b[a])}}return c}function addMarkedSpan(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b];b.marker.attachLine(a)}function markedSpansBefore(d,b,i){var e;if(d){for(var f=0;f<d.length;++f){var a=d[f],c=a.marker;var g=a.from==null||(c.inclusiveLeft?a.from<=b:a.from<b);if(g||a.from==b&&c.type=='bookmark'&&(!i||!a.marker.insertLeft)){var h=a.to==null||(c.inclusiveRight?a.to>=b:a.to>b);(e||(e=[])).push(new MarkedSpan(c,a.from,h?null:a.to))}}}return e}function markedSpansAfter(d,b,i){var e;if(d){for(var f=0;f<d.length;++f){var a=d[f],c=a.marker;var h=a.to==null||(c.inclusiveRight?a.to>=b:a.to>b);if(h||a.from==b&&c.type=='bookmark'&&(!i||a.marker.insertLeft)){var g=a.from==null||(c.inclusiveLeft?a.from<=b:a.from<b);(e||(e=[])).push(new MarkedSpan(c,g?null:a.from-b,a.to==null?null:a.to-b))}}}return e}function stretchSpansOverChange(h,b){if(b.full){return null}var q=isLine(h,b.from.line)&&getLine(h,b.from.line).markedSpans;var r=isLine(h,b.to.line)&&getLine(h,b.to.line).markedSpans;if(!q&&!r){return null}var l=b.from.ch,v=b.to.ch,p=cmp(b.from,b.to)==0;var a=markedSpansBefore(q,l,p);var c=markedSpansAfter(r,v,p);var e=b.text.length==1,f=lst(b.text).length+(e?l:0);if(a){for(var o=0;o<a.length;++o){var g=a[o];if(g.to==null){var m=getMarkedSpanFor(c,g.marker);if(!m){g.to=l}else {if(e){g.to=m.to==null?null:m.to+f}}}}}if(c){for(var n=0;n<c.length;++n){var d=c[n];if(d.to!=null){d.to+=f}if(d.from==null){var u=getMarkedSpanFor(a,d.marker);if(!u){d.from=f;if(e){(a||(a=[])).push(d)}}}else {d.from+=f;if(e){(a||(a=[])).push(d)}}}}if(a){a=clearEmptySpans(a)}if(c&&c!=a){c=clearEmptySpans(c)}var k=[a];if(!e){var s=b.text.length-2,j;if(s>0&&a){for(var i=0;i<a.length;++i){if(a[i].to==null){(j||(j=[])).push(new MarkedSpan(a[i].marker,null,null))}}}for(var t=0;t<s;++t){k.push(j)}k.push(c)}return k}function clearEmptySpans(a){for(var c=0;c<a.length;++c){var b=a[c];if(b.from!=null&&b.from==b.to&&b.marker.clearWhenEmpty!==!1){a.splice(c--,1)}}if(!a.length){return null}return a}function removeReadOnlyRanges(m,j,l){var a=null;m.iter(j.line,l.line+1,function(b){if(b.markedSpans){for(var d=0;d<b.markedSpans.length;++d){var c=b.markedSpans[d].marker;if(c.readOnly&&(!a||indexOf(a,c)==-1)){(a||(a=[])).push(c)}}}});if(!a){return null}var d=[{from:j,to:l}];for(var h=0;h<a.length;++h){var g=a[h],b=g.find(0);for(var e=0;e<d.length;++e){var c=d[e];if(cmp(c.to,b.from)<0||cmp(c.from,b.to)>0){continue}var f=[e,1],i=cmp(c.from,b.from),k=cmp(c.to,b.to);if(i<0||!g.inclusiveLeft&&!i){f.push({from:c.from,to:b.from})}if(k>0||!g.inclusiveRight&&!k){f.push({from:b.to,to:c.to})}d.splice.apply(d,f);e+=f.length-3}}return d}function detachMarkedSpans(b){var a=b.markedSpans;if(!a){return}for(var c=0;c<a.length;++c){a[c].marker.detachLine(b)}b.markedSpans=null}function attachMarkedSpans(c,a){if(!a){return}for(var b=0;b<a.length;++b){a[b].marker.attachLine(c)}c.markedSpans=a}function extraLeft(a){return a.inclusiveLeft?-1:0}function extraRight(a){return a.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var d=a.lines.length-b.lines.length;if(d!=0){return d}var f=a.find(),g=b.find();var c=cmp(f.from,g.from)||extraLeft(a)-extraLeft(b);if(c){return -c}var e=cmp(f.to,g.to)||extraRight(a)-extraRight(b);if(e){return e}return b.id-a.id}function collapsedSpanAtSide(f,e){var c=r&&f.markedSpans,b;if(c){for(var a=void 0,d=0;d<c.length;++d){a=c[d];if(a.marker.collapsed&&(e?a.from:a.to)==null&&(!b||compareCollapsedMarkers(b,a.marker)<0)){b=a.marker}}}return b}function collapsedSpanAtStart(a){return collapsedSpanAtSide(a,!0)}function collapsedSpanAtEnd(a){return collapsedSpanAtSide(a,!1)}function collapsedSpanAround(f,e){var c=r&&f.markedSpans,b;if(c){for(var d=0;d<c.length;++d){var a=c[d];if(a.marker.collapsed&&(a.from==null||a.from<e)&&(a.to==null||a.to>e)&&(!b||compareCollapsedMarkers(b,a.marker)<0)){b=a.marker}}}return b}function conflictingCollapsedRange(l,j,e,g,d){var k=getLine(l,j);var f=r&&k.markedSpans;if(f){for(var h=0;h<f.length;++h){var b=f[h];if(!b.marker.collapsed){continue}var a=b.marker.find(0);var c=cmp(a.from,e)||extraLeft(b.marker)-extraLeft(d);var i=cmp(a.to,g)||extraRight(b.marker)-extraRight(d);if(c>=0&&i<=0||c<=0&&i>=0){continue}if(c<=0&&(b.marker.inclusiveRight&&d.inclusiveLeft?cmp(a.to,e)>=0:cmp(a.to,e)>0)||c>=0&&(b.marker.inclusiveRight&&d.inclusiveLeft?cmp(a.from,g)<=0:cmp(a.from,g)<0)){return !0}}}}function visualLine(a){var b;while(b=collapsedSpanAtStart(a)){a=b.find(-1,!0).line}return a}function visualLineEnd(a){var b;while(b=collapsedSpanAtEnd(a)){a=b.find(1,!0).line}return a}function visualLineContinued(b){var c,a;while(c=collapsedSpanAtEnd(b)){b=c.find(1,!0).line;(a||(a=[])).push(b)}return a}function visualLineNo(d,a){var b=getLine(d,a),c=visualLine(b);if(b==c){return a}return lineNo(c)}function visualLineEndNo(c,a){if(a>c.lastLine()){return a}var b=getLine(c,a),d;if(!lineIsHidden(c,b)){return a}while(d=collapsedSpanAtEnd(b)){b=d.find(1,!0).line}return lineNo(b)+1}function lineIsHidden(e,d){var b=r&&d.markedSpans;if(b){for(var a=void 0,c=0;c<b.length;++c){a=b[c];if(!a.marker.collapsed){continue}if(a.from==null){return !0}if(a.marker.widgetNode){continue}if(a.from==0&&a.marker.inclusiveLeft&&lineIsHiddenInner(e,d,a)){return !0}}}}function lineIsHiddenInner(e,c,a){if(a.to==null){var f=a.marker.find(1,!0);return lineIsHiddenInner(e,f.line,getMarkedSpanFor(f.line.markedSpans,a.marker))}if(a.marker.inclusiveRight&&a.to==c.text.length){return !0}for(var b=void 0,d=0;d<c.markedSpans.length;++d){b=c.markedSpans[d];if(b.marker.collapsed&&!b.marker.widgetNode&&b.from==a.to&&(b.to==null||b.to!=a.from)&&(b.marker.inclusiveLeft||a.marker.inclusiveRight)&&lineIsHiddenInner(e,c,b)){return !0}}}function heightAtLine(c){c=visualLine(c);var e=0,a=c.parent;for(var f=0;f<a.lines.length;++f){var g=a.lines[f];if(g==c){break}else {e+=g.height}}for(var b=a.parent;b;a=b,b=a.parent){for(var d=0;d<b.children.length;++d){var h=b.children[d];if(h==a){break}else {e+=h.height}}}return e}function lineLength(c){if(c.height==0){return 0}var d=c.text.length,b,a=c;while(b=collapsedSpanAtStart(a)){var f=b.find(0,!0);a=f.from.line;d+=f.from.ch-f.to.ch}a=c;while(b=collapsedSpanAtEnd(a)){var e=b.find(0,!0);d-=a.text.length-e.from.ch;a=e.to.line;d+=a.text.length-e.to.ch}return d}function findMaxLine(c){var a=c.display,b=c.doc;a.maxLine=getLine(b,b.first);a.maxLineLength=lineLength(a.maxLine);a.maxLineChanged=!0;b.iter(function(b){var d=lineLength(b);if(d>a.maxLineLength){a.maxLineLength=d;a.maxLine=b}})}function iterateBidiSections(e,a,c,f){if(!e){return f(a,c,'ltr',0)}var g=!1;for(var d=0;d<e.length;++d){var b=e[d];if(b.from<c&&b.to>a||a==c&&b.to==a){f(Math.max(b.from,a),Math.min(b.to,c),b.level==1?'rtl':'ltr',d);g=!0}}if(!g){f(a,c,'ltr')}}var N=null;function getBidiPartAt(f,d,e){var c;N=null;for(var b=0;b<f.length;++b){var a=f[b];if(a.from<d&&a.to>d){return b}if(a.to==d){if(a.from!=a.to&&e=='before'){c=b}else {N=b}}if(a.from==d){if(a.from!=a.to&&e!='before'){c=b}else {N=b}}}return c!=null?c:N}var aJ=function(){var f='bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN';var e='nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111';function charType(a){if(a<=247){return f.charAt(a)}else {if(1424<=a&&a<=1524){return 'R'}else {if(1536<=a&&a<=1785){return e.charAt(a-1536)}else {if(1774<=a&&a<=2220){return 'r'}else {if(8192<=a&&a<=8203){return 'w'}else {if(a==8204){return 'b'}else {return 'L'}}}}}}}var g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var c=/[stwN]/,d=/[LRr]/,a=/[Lb1n]/,b=/[1n]/;function BidiSpan(a,b,c){this.level=a;this.from=b;this.to=c}return function(s,v){var p=v=='ltr'?'L':'R';if(s.length==0||v=='ltr'&&!g.test(s)){return !1}var h=s.length,e=[];for(var D=0;D<h;++D){e.push(charType(s.charCodeAt(D)))}for(var x=0,I=p;x<h;++x){var J=e[x];if(J=='m'){e[x]=I}else {I=J}}for(var u=0,K=p;u<h;++u){var w=e[u];if(w=='1'&&K=='r'){e[u]='n'}else {if(d.test(w)){K=w;if(w=='r'){e[u]='R'}}}}for(var o=1,q=e[0];o<h-1;++o){var z=e[o];if(z=='+'&&q=='1'&&e[o+1]=='1'){e[o]='1'}else {if(z==','&&q==e[o+1]&&(q=='1'||q=='n')){e[o]=q}}q=z}for(var k=0;k<h;++k){var G=e[k];if(G==','){e[k]='N'}else {if(G=='%'){var m=void 0;for(m=k+1;m<h&&e[m]=='%';++m){}var M=k&&e[k-1]=='!'||m<h&&e[m]=='1'?'1':'N';for(var E=k;E<m;++E){e[E]=M}k=m-1}}}for(var y=0,H=p;y<h;++y){var A=e[y];if(H=='L'&&A=='1'){e[y]='L'}else {if(d.test(A)){H=A}}}for(var n=0;n<h;++n){if(c.test(e[n])){var l=void 0;for(l=n+1;l<h&&c.test(e[l]);++l){}var F=(n?e[n-1]:p)=='L';var O=(l<h?e[l]:p)=='L';var L=F==O?F?'L':'R':p;for(var B=n;B<l;++B){e[B]=L}n=l-1}}var i=[],t;for(var f=0;f<h;){if(a.test(e[f])){var P=f;for(++f;f<h&&a.test(e[f]);++f){}i.push(new BidiSpan(0,P,f))}else {var r=f,C=i.length;for(++f;f<h&&e[f]!='L';++f){}for(var j=r;j<f;){if(b.test(e[j])){if(r<j){i.splice(C,0,new BidiSpan(1,r,j))}var N=j;for(++j;j<f&&b.test(e[j]);++j){}i.splice(C,0,new BidiSpan(2,N,j));r=j}else {++j}}if(r<f){i.splice(C,0,new BidiSpan(1,r,f))}}}if(v=='ltr'){if(i[0].level==1&&(t=s.match(/^\s+/))){i[0].from=t[0].length;i.unshift(new BidiSpan(0,0,t[0].length))}if(lst(i).level==1&&(t=s.match(/\s+$/))){lst(i).to-=t[0].length;i.push(new BidiSpan(0,h-t[0].length,h))}}return v=='rtl'?i.reverse():i}}();function getOrder(b,c){var a=b.order;if(a==null){a=b.order=aJ(b.text,c)}return a}var au=[];var a=function(a,b,c){if(a.addEventListener){a.addEventListener(b,c,!1)}else {if(a.attachEvent){a.attachEvent('on'+b,c)}else {var d=a._handlers||(a._handlers={});d[b]=(d[b]||au).concat(c)}}};function getHandlers(a,b){return a._handlers&&a._handlers[b]||au}function off(a,b,f){if(a.removeEventListener){a.removeEventListener(b,f,!1)}else {if(a.detachEvent){a.detachEvent('on'+b,f)}else {var d=a._handlers,c=d&&d[b];if(c){var e=indexOf(c,f);if(e>-1){d[b]=c.slice(0,e).concat(c.slice(e+1))}}}}}function signal(c,e){var a=getHandlers(c,e);if(!a.length){return}var d=Array.prototype.slice.call(arguments,2);for(var b=0;b<a.length;++b){a[b].apply(null,d)}}function signalDOMEvent(b,a,c){if(typeof a=='string'){a={type:a,preventDefault:function(){this.defaultPrevented=!0}}}signal(b,c||a.type,b,a);return e_defaultPrevented(a)||a.codemirrorIgnore}function signalCursorActivity(b){var a=b._handlers&&b._handlers.cursorActivity;if(!a){return}var d=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var c=0;c<a.length;++c){if(indexOf(d,a[c])==-1){d.push(a[c])}}}function hasHandler(a,b){return getHandlers(a,b).length>0}function eventMixin(b){b.prototype.on=function(c,d){a(this,c,d)};b.prototype.off=function(a,c){off(this,a,c)}}function e_preventDefault(a){if(a.preventDefault){a.preventDefault()}else {a.returnValue=!1}}function e_stopPropagation(a){if(a.stopPropagation){a.stopPropagation()}else {a.cancelBubble=!0}}function e_defaultPrevented(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function e_stop(a){e_preventDefault(a);e_stopPropagation(a)}function e_target(a){return a.target||a.srcElement}function e_button(b){var a=b.which;if(a==null){if(b.button&1){a=1}else {if(b.button&2){a=3}else {if(b.button&4){a=2}}}}if(o&&b.ctrlKey&&a==1){a=3}return a}var aN=function(){if(b&&e<9){return !1}var a=elt('div');return 'draggable' in a||'dragDrop' in a}();var ai;function zeroWidthElement(c){if(ai==null){var a=elt('span','\u200b');removeChildrenAndAdd(c,elt('span',[a,document.createTextNode('x')]));if(c.firstChild.offsetHeight!=0){ai=a.offsetWidth<=1&&a.offsetHeight>2&&!(b&&e<8)}}var d=ai?elt('span','\u200b'):elt('span','\xa0',null,'display: inline-block; width: 1px; margin-right: -1px');d.setAttribute('cm-text','');return d}var aj;function hasBadBidiRects(b){if(aj!=null){return aj}var c=removeChildrenAndAdd(b,document.createTextNode('AA'));var a=B(c,0,1).getBoundingClientRect();var d=B(c,1,2).getBoundingClientRect();removeChildren(b);if(!a||a.left==a.right){return !1}return aj=d.right-a.right<3}var ah='\n\nb'.split(/\n/).length!=3?function(b){var c=0,d=[],g=b.length;while(c<=g){var a=b.indexOf('\n',c);if(a==-1){a=b.length}var e=b.slice(c,b.charAt(a-1)=='\r'?a-1:a);var f=e.indexOf('\r');if(f!=-1){d.push(e.slice(0,f));c+=f+1}else {d.push(e);c=a+1}}return d}:function(a){return a.split(/\r\n?|\n/)};var aM=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(aV){return !1}}:function(b){var a;try{a=b.ownerDocument.selection.createRange()}catch(aV){}if(!a||a.parentElement()!=b){return !1}return a.compareEndPoints('StartToEnd',a)!=0};var aL=function(){var a=elt('div');if('oncopy' in a){return !0}a.setAttribute('oncopy','return;');return typeof a.oncopy=='function'}();var af=null;function hasBadZoomedRects(c){if(af!=null){return af}var a=removeChildrenAndAdd(c,elt('span','x'));var d=a.getBoundingClientRect();var b=B(a,0,1).getBoundingClientRect();return af=Math.abs(d.left-b.left)>1}var an={},E={};function defineMode(b,a){if(arguments.length>2){a.dependencies=Array.prototype.slice.call(arguments,2)}an[b]=a}function defineMIME(a,b){E[a]=b}function resolveMode(a){if(typeof a=='string'&&E.hasOwnProperty(a)){a=E[a]}else {if(a&&typeof a.name=='string'&&E.hasOwnProperty(a.name)){var b=E[a.name];if(typeof b=='string'){b={name:b}}a=createObj(b,a);a.name=b.name}else {if(typeof a=='string'&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a)){return resolveMode('application/xml')}else {if(typeof a=='string'&&/^[\w\-]+\/[\w\-]+\+json$/.test(a)){return resolveMode('application/json')}}}}if(typeof a=='string'){return {name:a}}else {return a||{name:'null'}}}function getMode(f,a){a=resolveMode(a);var e=an[a.name];if(!e){return getMode(f,'text/plain')}var b=e(f,a);if(C.hasOwnProperty(a.name)){var d=C[a.name];for(var c in d){if(!d.hasOwnProperty(c)){continue}if(b.hasOwnProperty(c)){b['_'+c]=b[c]}b[c]=d[c]}}b.name=a.name;if(a.helperType){b.helperType=a.helperType}if(a.modeProps){for(var g in a.modeProps){b[g]=a.modeProps[g]}}return b}var C={};function extendMode(a,b){var c=C.hasOwnProperty(a)?C[a]:C[a]={};copyObj(b,c)}function copyState(d,a){if(a===!0){return a}if(d.copyState){return d.copyState(a)}var c={};for(var e in a){var b=a[e];if(b instanceof Array){b=b.concat([])}c[e]=b}return c}function innerMode(b,c){var a;while(b.innerMode){a=b.innerMode(c);if(!a||a.mode==b){break}c=a.state;b=a.mode}return a||{mode:b,state:c}}function startState(a,b,c){return a.startState?a.startState(b,c):!0}var g=function(c,b,a){this.pos=this.start=0;this.string=c;this.tabSize=b||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=a};g.prototype.eol=function(){return this.pos>=this.string.length};g.prototype.sol=function(){return this.pos==this.lineStart};g.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};g.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};g.prototype.eat=function(a){var b=this.string.charAt(this.pos);var c;if(typeof a=='string'){c=b==a}else {c=b&&(a.test?a.test(b):a(b))}if(c){++this.pos;return b}};g.prototype.eatWhile=function(a){var b=this.pos;while(this.eat(a)){}return this.pos>b};g.prototype.eatSpace=function(){var a=this;var b=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++a.pos}return this.pos>b};g.prototype.skipToEnd=function(){this.pos=this.string.length};g.prototype.skipTo=function(b){var a=this.string.indexOf(b,this.pos);if(a>-1){this.pos=a;return !0}};g.prototype.backUp=function(a){this.pos-=a};g.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};g.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};g.prototype.match=function(a,c,e){if(typeof a=='string'){var d=function(b){return e?b.toLowerCase():b};var f=this.string.substr(this.pos,a.length);if(d(f)==d(a)){if(c!==!1){this.pos+=a.length}return !0}}else {var b=this.string.slice(this.pos).match(a);if(b&&b.index>0){return null}if(b&&c!==!1){this.pos+=b[0].length}return b}};g.prototype.current=function(){return this.string.slice(this.start,this.pos)};g.prototype.hideFirstChars=function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}};g.prototype.lookAhead=function(b){var a=this.lineOracle;return a&&a.lookAhead(b)};g.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var Y=function(b,a){this.state=b;this.lookAhead=a};var q=function(d,b,c,a){this.state=b;this.doc=d;this.line=c;this.maxLookAhead=a||0;this.baseTokens=null;this.baseTokenPos=1};q.prototype.lookAhead=function(a){var b=this.doc.getLine(this.line+a);if(b!=null&&a>this.maxLookAhead){this.maxLookAhead=a}return b};q.prototype.baseToken=function(b){var c=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=b){c.baseTokenPos+=2}var a=this.baseTokens[this.baseTokenPos+1];return {type:a&&a.replace(/( |^)overlay .*/,''),size:this.baseTokens[this.baseTokenPos]-b}};q.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0){this.maxLookAhead--}};q.fromSaved=function(b,a,c){if(a instanceof Y){return new q(b,copyState(b.mode,a.state),c,a.lookAhead)}else {return new q(b,copyState(b.mode,a),c)}};q.prototype.save=function(b){var a=b!==!1?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Y(a,this.maxLookAhead):a};function highlightLine(c,f,b,g){var a=[c.state.modeGen],d={};runMode(c,f.text,c.doc.mode,b,function(e,d){return a.push(e,d)},d,g);var h=b.state;var i=function(k){b.baseTokens=a;var i=c.state.overlays[k],e=1,j=0;b.state=!0;runMode(c,f.text,i.mode,b,function(h,m){var d=e;while(j<h){var l=a[e];if(l>h){a.splice(e,1,h,a[e+1],l)}e+=2;j=Math.min(h,l)}if(!m){return}if(i.opaque){a.splice(d,e-d,h,'overlay '+m);e=d+2}else {for(;d<e;d+=2){var n=a[d+1];a[d+1]=(n?n+' ':'')+'overlay '+m}}},d);b.state=h;b.baseTokens=null;b.baseTokenPos=1};for(var e=0;e<c.state.overlays.length;++e){i(e)}return {styles:a,classes:d.bgClass||d.textClass?d:null}}function getLineStyles(b,a,f){if(!a.styles||a.styles[0]!=b.state.modeGen){var c=getContextBefore(b,lineNo(a));var d=a.text.length>b.options.maxHighlightLength&&copyState(b.doc.mode,c.state);var e=highlightLine(b,a,c);if(d){c.state=d}a.stateAfter=c.save(!d);a.styles=e.styles;if(e.classes){a.styleClasses=e.classes}else {if(a.styleClasses){a.styleClasses=null}}if(f===b.doc.highlightFrontier){b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier)}}return a.styles}function getContextBefore(d,e,g){var a=d.doc,f=d.display;if(!a.mode.startState){return new q(a,!0,e)}var c=findStartLine(d,e,g);var h=c>a.first&&getLine(a,c-1).stateAfter;var b=h?q.fromSaved(a,h,c):new q(a,startState(a.mode),c);a.iter(c,e,function(c){processLine(d,c.text,b);var a=b.line;c.stateAfter=a==e-1||a%5==0||a>=f.viewFrom&&a<f.viewTo?b.save():null;b.nextLine()});if(g){a.modeFrontier=b.line}return b}function processLine(e,d,b,f){var c=e.doc.mode;var a=new g(d,e.options.tabSize,b);a.start=a.pos=f||0;if(d==''){callBlankLine(c,b.state)}while(!a.eol()){readToken(c,a,b.state);a.start=a.pos}}function callBlankLine(a,c){if(a.blankLine){return a.blankLine(c)}if(!a.innerMode){return}var b=innerMode(a,c);if(b.mode.blankLine){return b.mode.blankLine(b.state)}}function readToken(b,a,d,c){for(var e=0;e<10;e++){if(c){c[0]=innerMode(b,d).mode}var f=b.token(a,d);if(a.pos>a.start){return f}}throw new Error('Mode '+b.name+' failed to advance stream.')}var aC=function(a,c,b){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=c||null;this.state=b};function takeToken(i,b,j,c){var e=i.doc,l=e.mode,h;b=clipPos(e,b);var k=getLine(e,b.line),d=getContextBefore(i,b.line,j);var a=new g(k.text,i.options.tabSize,d),f;if(c){f=[]}while((c||a.pos<b.ch)&&!a.eol()){a.start=a.pos;h=readToken(l,a,d.state);if(c){f.push(new aC(a,h,copyState(e.mode,d.state)))}}return c?f:new aC(a,h,d.state)}function extractLineClasses(b,c){if(b){for(;;){var a=b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!a){break}b=b.slice(0,a.index)+b.slice(a.index+a[0].length);var d=a[1]?'bgClass':'textClass';if(c[d]==null){c[d]=a[2]}else {if(!(new RegExp('(?:^|s)'+a[2]+'(?:$|s)')).test(c[d])){c[d]+=' '+a[2]}}}}return b}function runMode(d,i,l,h,o,m,p){var e=l.flattenSpans;if(e==null){e=d.options.flattenSpans}var b=0,f=null;var a=new g(i,d.options.tabSize,h),c;var j=d.options.addModeClass&&[null];if(i==''){extractLineClasses(callBlankLine(l,h.state),m)}while(!a.eol()){if(a.pos>d.options.maxHighlightLength){e=!1;if(p){processLine(d,i,h,a.pos)}a.pos=i.length;c=null}else {c=extractLineClasses(readToken(l,a,h.state,j),m)}if(j){var k=j[0].name;if(k){c='m-'+(c?k+' '+c:k)}}if(!e||f!=c){while(b<a.start){b=Math.min(a.start,b+5000);o(b,f)}f=c}a.start=a.pos}while(b<a.pos){var n=Math.min(a.pos,b+5000);o(n,f);b=n}}function findStartLine(e,j,h){var f,c,b=e.doc;var k=h?-1:j-(e.doc.mode.innerMode?1000:100);for(var a=j;a>k;--a){if(a<=b.first){return b.first}var i=getLine(b,a-1),d=i.stateAfter;if(d&&(!h||a+(d instanceof Y?d.lookAhead:0)<=b.modeFrontier)){return a}var g=countColumn(i.text,null,e.options.tabSize);if(c==null||f>g){c=a-1;f=g}}return c}function retreatFrontier(a,c){a.modeFrontier=Math.min(a.modeFrontier,c);if(a.highlightFrontier<c-10){return}var e=a.first;for(var b=c-1;b>e;b--){var d=getLine(a,b).stateAfter;if(d&&(!(d instanceof Y)||b+d.lookAhead<c)){e=b+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,e)}var G=function(c,b,a){this.text=c;attachMarkedSpans(this,b);this.height=a?a(this):1};G.prototype.lineNo=function(){return lineNo(this)};eventMixin(G);function updateLine(a,e,d,b){a.text=e;if(a.stateAfter){a.stateAfter=null}if(a.styles){a.styles=null}if(a.order!=null){a.order=null}detachMarkedSpans(a);attachMarkedSpans(a,d);var c=b?b(a):1;if(c!=a.height){updateLineHeight(a,c)}}function cleanUpLine(a){a.parent=null;detachMarkedSpans(a)}var aH={},aE={};function interpretTokenStyle(a,c){if(!a||/^\s*$/.test(a)){return null}var b=c.addModeClass?aE:aH;return b[a]||(b[a]=a.replace(/\S+/g,'cm-$&'))}function buildLineContent(d,b){var g=eltP('span',null,null,i?'padding-right: .1px':null);var a={pre:eltP('pre',[g],'CodeMirror-line'),content:g,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption('lineWrapping')};b.measure={};for(var e=0;e<=(b.rest?b.rest.length:0);e++){var c=e?b.rest[e-1]:b.line,h=void 0;a.pos=0;a.addToken=buildToken;if(hasBadBidiRects(d.display.measure)&&(h=getOrder(c,d.doc.direction))){a.addToken=buildTokenBadBidi(a.addToken,h)}a.map=[];var j=b!=d.display.externalMeasured&&lineNo(c);insertLineContent(c,a,getLineStyles(d,c,j));if(c.styleClasses){if(c.styleClasses.bgClass){a.bgClass=joinClasses(c.styleClasses.bgClass,a.bgClass||'')}if(c.styleClasses.textClass){a.textClass=joinClasses(c.styleClasses.textClass,a.textClass||'')}}if(a.map.length==0){a.map.push(0,0,a.content.appendChild(zeroWidthElement(d.display.measure)))}if(e==0){b.measure.map=a.map;b.measure.cache={}}else {(b.measure.maps||(b.measure.maps=[])).push(a.map);(b.measure.caches||(b.measure.caches=[])).push({})}}if(i){var f=a.content.lastChild;if(/\bcm-tab\b/.test(f.className)||f.querySelector&&f.querySelector('.cm-tab')){a.content.className='cm-tab-wrap-hack'}}signal(d,'renderLine',d,b.line,a.pre);if(a.pre.className){a.textClass=joinClasses(a.pre.className,a.textClass||'')}return a}function defaultSpecialCharPlaceholder(b){var a=elt('span','\u2022','cm-invalidchar');a.title='\\u'+b.charCodeAt(0).toString(16);a.setAttribute('aria-label',a.title);return a}function buildToken(a,f,u,m,o,w,k){if(!f){return}var l=a.splitSpaces?splitSpaces(f,a.trailingSpace):f;var p=a.cm.state.specialChars,r=!1;var c;if(!p.test(f)){a.col+=f.length;c=document.createTextNode(l);a.map.push(a.pos,a.pos+f.length,c);if(b&&e<9){r=!0}a.pos+=f.length}else {c=document.createDocumentFragment();var i=0;while(!0){p.lastIndex=i;var g=p.exec(f);var h=g?g.index-i:f.length-i;if(h){var q=document.createTextNode(l.slice(i,i+h));if(b&&e<9){c.appendChild(elt('span',[q]))}else {c.appendChild(q)}a.map.push(a.pos,a.pos+h,q);a.col+=h;a.pos+=h}if(!g){break}i+=h+1;var d=void 0;if(g[0]=='\t'){var t=a.cm.options.tabSize,s=t-a.col%t;d=c.appendChild(elt('span',spaceStr(s),'cm-tab'));d.setAttribute('role','presentation');d.setAttribute('cm-text','\t');a.col+=s}else {if(g[0]=='\r'||g[0]=='\n'){d=c.appendChild(elt('span',g[0]=='\r'?'':'','cm-invalidchar'));d.setAttribute('cm-text',g[0]);a.col+=1}else {d=a.cm.options.specialCharPlaceholder(g[0]);d.setAttribute('cm-text',g[0]);if(b&&e<9){c.appendChild(elt('span',[d]))}else {c.appendChild(d)}a.col+=1}}a.map.push(a.pos,a.pos+1,d);a.pos++}}a.trailingSpace=l.charCodeAt(f.length-1)==32;if(u||m||o||r||w){var n=u||'';if(m){n+=m}if(o){n+=o}var v=elt('span',[c],n,w);if(k){for(var j in k){if(k.hasOwnProperty(j)&&j!='style'&&j!='class'){v.setAttribute(j,k[j])}}}return a.content.appendChild(v)}a.content.appendChild(c)}function splitSpaces(a,f){if(a.length>1&&!/  /.test(a)){return a}var d=f,e='';for(var b=0;b<a.length;b++){var c=a.charAt(b);if(c==' '&&d&&(b==a.length-1||a.charCodeAt(b+1)==32)){c='\xa0'}e+=c;d=c==' '}return e}function buildTokenBadBidi(a,b){return function(h,f,e,g,l,k,j){e=e?e+' cm-force-border':'cm-force-border';var d=h.pos,m=d+f.length;for(;;){var c=void 0;for(var i=0;i<b.length;i++){c=b[i];if(c.to>d&&c.from<=d){break}}if(c.to>=m){return a(h,f,e,g,l,k,j)}a(h,f.slice(0,c.to-d),e,g,null,k,j);g=null;f=f.slice(c.to-d);d=c.to}}}function buildCollapsedSpan(a,e,d,c){var b=!c&&d.widgetNode;if(b){a.map.push(a.pos,a.pos+e,b)}if(!c&&a.cm.display.input.needsContentAttribute){if(!b){b=a.content.appendChild(document.createElement('span'))}b.setAttribute('cm-marker',d.id)}if(b){a.cm.display.input.setUneditable(b);a.content.appendChild(b)}a.pos+=e;a.trailingSpace=!1}function insertLineContent(C,f,j){var u=C.markedSpans,t=C.text,r=0;if(!u){for(var p=1;p<j.length;p+=2){f.addToken(f,t.slice(r,r=j[p]),interpretTokenStyle(j[p+1],f.cm.options))}return}var y=t.length,a=0,D=1,g='',v,l;var e=0,o,n,m,d,h;for(;;){if(e==a){o=n=m=l='';h=null;d=null;e=Infinity;var s=[],i=void 0;for(var z=0;z<u.length;++z){var c=u[z],b=c.marker;if(b.type=='bookmark'&&c.from==a&&b.widgetNode){s.push(b)}else {if(c.from<=a&&(c.to==null||c.to>a||b.collapsed&&c.to==a&&c.from==a)){if(c.to!=null&&c.to!=a&&e>c.to){e=c.to;n=''}if(b.className){o+=' '+b.className}if(b.css){l=(l?l+';':'')+b.css}if(b.startStyle&&c.from==a){m+=' '+b.startStyle}if(b.endStyle&&c.to==e){(i||(i=[])).push(b.endStyle,c.to)}if(b.title){(h||(h={})).title=b.title}if(b.attributes){for(var B in b.attributes){(h||(h={}))[B]=b.attributes[B]}}if(b.collapsed&&(!d||compareCollapsedMarkers(d.marker,b)<0)){d=c}}else {if(c.from>a&&e>c.from){e=c.from}}}}if(i){for(var q=0;q<i.length;q+=2){if(i[q+1]==e){n+=' '+i[q]}}}if(!d||d.from==a){for(var x=0;x<s.length;++x){buildCollapsedSpan(f,0,s[x])}}if(d&&(d.from||0)==a){buildCollapsedSpan(f,(d.to==null?y+1:d.to)-a,d.marker,d.from==null);if(d.to==null){return}if(d.to==a){d=!1}}}if(a>=y){break}var k=Math.min(y,e);while(!0){if(g){var w=a+g.length;if(!d){var A=w>k?g.slice(0,k-a):g;f.addToken(f,A,v?v+o:o,m,a+A.length==e?n:'',l,h)}if(w>=k){g=g.slice(k-a);a=k;break}a=w;m=''}g=t.slice(r,r=j[D++]);v=interpretTokenStyle(j[D++],f.cm.options)}}}function LineView(c,a,b){this.line=a;this.rest=visualLineContinued(a);this.size=this.rest?lineNo(lst(this.rest))-b+1:1;this.node=this.text=null;this.hidden=lineIsHidden(c,a)}function buildViewArray(e,f,g){var c=[],b;for(var a=f;a<g;a=b){var d=new LineView(e.doc,getLine(e.doc,a),a);b=a+d.size;c.push(d)}return c}var D=null;function pushOperation(a){if(D){D.ops.push(a)}else {a.ownsGroup=D={ops:[a],delayedCallbacks:[]}}}function fireCallbacksForOps(d){var c=d.delayedCallbacks,b=0;do{for(;b<c.length;b++){c[b].call(null)}for(var e=0;e<d.ops.length;e++){var a=d.ops[e];if(a.cursorActivityHandlers){while(a.cursorActivityCalled<a.cursorActivityHandlers.length){a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}}}while(b<c.length)}function finishOperation(c,b){var a=c.ownsGroup;if(!a){return}try{fireCallbacksForOps(a)}finally{D=null;b(a)}}var H=null;function signalLater(d,g){var b=getHandlers(d,g);if(!b.length){return}var e=Array.prototype.slice.call(arguments,2),a;if(D){a=D.delayedCallbacks}else {if(H){a=H}else {a=H=[];setTimeout(fireOrphanDelayed,0)}}var f=function(c){a.push(function(){return b[c].apply(null,e)})};for(var c=0;c<b.length;++c){f(c)}}function fireOrphanDelayed(){var b=H;H=null;for(var a=0;a<b.length;++a){b[a]()}}function updateLineForChanges(c,a,f,e){for(var d=0;d<a.changes.length;d++){var b=a.changes[d];if(b=='text'){updateLineText(c,a)}else {if(b=='gutter'){updateLineGutter(c,a,f,e)}else {if(b=='class'){updateLineClasses(c,a)}else {if(b=='widget'){updateLineWidgets(c,a,e)}}}}}a.changes=null}function ensureLineWrapped(a){if(a.node==a.text){a.node=elt('div',null,null,'position: relative');if(a.text.parentNode){a.text.parentNode.replaceChild(a.node,a.text)}a.node.appendChild(a.text);if(b&&e<8){a.node.style.zIndex=2}}return a.node}function updateLineBackground(d,a){var b=a.bgClass?a.bgClass+' '+(a.line.bgClass||''):a.line.bgClass;if(b){b+=' CodeMirror-linebackground'}if(a.background){if(b){a.background.className=b}else {a.background.parentNode.removeChild(a.background);a.background=null}}else {if(b){var c=ensureLineWrapped(a);a.background=c.insertBefore(elt('div',null,b),c.firstChild);d.display.input.setUneditable(a.background)}}}function getLineContent(c,b){var a=c.display.externalMeasured;if(a&&a.line==b.line){c.display.externalMeasured=null;b.measure=a.measure;return a.built}return buildLineContent(c,b)}function updateLineText(d,a){var c=a.text.className;var b=getLineContent(d,a);if(a.text==a.node){a.node=b.pre}a.text.parentNode.replaceChild(b.pre,a.text);a.text=b.pre;if(b.bgClass!=a.bgClass||b.textClass!=a.textClass){a.bgClass=b.bgClass;a.textClass=b.textClass;updateLineClasses(d,a)}else {if(c){a.text.className=c}}}function updateLineClasses(c,a){updateLineBackground(c,a);if(a.line.wrapClass){ensureLineWrapped(a).className=a.line.wrapClass}else {if(a.node!=a.text){a.node.className=''}}var b=a.textClass?a.textClass+' '+(a.line.textClass||''):a.line.textClass;a.text.className=b||''}function updateLineGutter(b,a,j,c){if(a.gutter){a.node.removeChild(a.gutter);a.gutter=null}if(a.gutterBackground){a.node.removeChild(a.gutterBackground);a.gutterBackground=null}if(a.line.gutterClass){var k=ensureLineWrapped(a);a.gutterBackground=elt('div',null,'CodeMirror-gutter-background '+a.line.gutterClass,'left: '+(b.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+'px; width: '+c.gutterTotalWidth+'px');b.display.input.setUneditable(a.gutterBackground);k.insertBefore(a.gutterBackground,a.text)}var d=a.line.gutterMarkers;if(b.options.lineNumbers||d){var i=ensureLineWrapped(a);var e=a.gutter=elt('div',null,'CodeMirror-gutter-wrapper','left: '+(b.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+'px');b.display.input.setUneditable(e);i.insertBefore(e,a.text);if(a.line.gutterClass){e.className+=' '+a.line.gutterClass}if(b.options.lineNumbers&&(!d||!d['CodeMirror-linenumbers'])){a.lineNumber=e.appendChild(elt('div',lineNumberFor(b.options,j),'CodeMirror-linenumber CodeMirror-gutter-elt','left: '+c.gutterLeft['CodeMirror-linenumbers']+'px; width: '+b.display.lineNumInnerWidth+'px'))}if(d){for(var g=0;g<b.options.gutters.length;++g){var f=b.options.gutters[g],h=d.hasOwnProperty(f)&&d[f];if(h){e.appendChild(elt('div',[h],'CodeMirror-gutter-elt','left: '+c.gutterLeft[f]+'px; width: '+c.gutterWidth[f]+'px'))}}}}}function updateLineWidgets(e,a,d){if(a.alignable){a.alignable=null}for(var b=a.node.firstChild,c=void 0;b;b=c){c=b.nextSibling;if(b.className=='CodeMirror-linewidget'){a.node.removeChild(b)}}insertLineWidgets(e,a,d)}function buildLineElement(c,a,e,d){var b=getLineContent(c,a);a.text=a.node=b.pre;if(b.bgClass){a.bgClass=b.bgClass}if(b.textClass){a.textClass=b.textClass}updateLineClasses(c,a);updateLineGutter(c,a,e,d);insertLineWidgets(c,a,d);return a.node}function insertLineWidgets(d,a,c){insertLineWidgetsFor(d,a.line,a,c,!0);if(a.rest){for(var b=0;b<a.rest.length;b++){insertLineWidgetsFor(d,a.rest[b],a,c,!1)}}}function insertLineWidgetsFor(j,e,c,i,h){if(!e.widgets){return}var f=ensureLineWrapped(c);for(var d=0,g=e.widgets;d<g.length;++d){var a=g[d],b=elt('div',[a.node],'CodeMirror-linewidget');if(!a.handleMouseEvents){b.setAttribute('cm-ignore-events','true')}positionLineWidget(a,b,c,i);j.display.input.setUneditable(b);if(h&&a.above){f.insertBefore(b,c.gutter||c.text)}else {f.appendChild(b)}signalLater(a,'redraw')}}function positionLineWidget(c,a,d,b){if(c.noHScroll){(d.alignable||(d.alignable=[])).push(a);var e=b.wrapperWidth;a.style.left=b.fixedPos+'px';if(!c.coverGutter){e-=b.gutterTotalWidth;a.style.paddingLeft=b.gutterTotalWidth+'px'}a.style.width=e+'px'}if(c.coverGutter){a.style.zIndex=5;a.style.position='relative';if(!c.noHScroll){a.style.marginLeft=-b.gutterTotalWidth+'px'}}}function widgetHeight(a){if(a.height!=null){return a.height}var b=a.doc.cm;if(!b){return 0}if(!contains(document.body,a.node)){var c='position: relative;';if(a.coverGutter){c+='margin-left: -'+b.display.gutters.offsetWidth+'px;'}if(a.noHScroll){c+='width: '+b.display.wrapper.clientWidth+'px;'}removeChildrenAndAdd(b.display.measure,elt('div',[a.node],null,c))}return a.height=a.node.parentNode.offsetHeight}function eventInWidget(b,c){for(var a=e_target(c);a!=b.wrapper;a=a.parentNode){if(!a||a.nodeType==1&&a.getAttribute('cm-ignore-events')=='true'||a.parentNode==b.sizer&&a!=b.mover){return !0}}}function paddingTop(a){return a.lineSpace.offsetTop}function paddingVert(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function paddingH(a){if(a.cachedPaddingH){return a.cachedPaddingH}var d=removeChildrenAndAdd(a.measure,elt('pre','x'));var c=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle;var b={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};if(!isNaN(b.left)&&!isNaN(b.right)){a.cachedPaddingH=b}return b}function scrollGap(a){return at-a.display.nativeBarWidth}function displayWidth(a){return a.display.scroller.clientWidth-scrollGap(a)-a.display.barWidth}function displayHeight(a){return a.display.scroller.clientHeight-scrollGap(a)-a.display.barHeight}function ensureLineHeights(j,a,e){var c=j.options.lineWrapping;var f=c&&displayWidth(j);if(!a.measure.heights||c&&a.measure.width!=f){var g=a.measure.heights=[];if(c){a.measure.width=f;var d=a.text.firstChild.getClientRects();for(var b=0;b<d.length-1;b++){var i=d[b],h=d[b+1];if(Math.abs(i.bottom-h.bottom)>2){g.push((i.bottom+h.top)/2-e.top)}}}g.push(e.bottom-e.top)}}function mapFromLineView(a,d,e){if(a.line==d){return {map:a.measure.map,cache:a.measure.cache}}for(var c=0;c<a.rest.length;c++){if(a.rest[c]==d){return {map:a.measure.maps[c],cache:a.measure.caches[c]}}}for(var b=0;b<a.rest.length;b++){if(lineNo(a.rest[b])>e){return {map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}}}function updateExternalMeasurement(c,b){b=visualLine(b);var e=lineNo(b);var a=c.display.externalMeasured=new LineView(c.doc,b,e);a.lineN=e;var d=a.built=buildLineContent(c,a);a.text=d.pre;removeChildrenAndAdd(c.display.lineMeasure,d.pre);return a}function measureChar(a,c,d,b){return measureCharPrepared(a,prepareMeasureForLine(a,c),d,b)}function findViewForLine(c,a){if(a>=c.display.viewFrom&&a<c.display.viewTo){return c.display.view[findViewIndex(c,a)]}var b=c.display.externalMeasured;if(b&&a>=b.lineN&&a<b.lineN+b.size){return b}}function prepareMeasureForLine(b,c){var d=lineNo(c);var a=findViewForLine(b,d);if(a&&!a.text){a=null}else {if(a&&a.changes){updateLineForChanges(b,a,d,getDimensions(b));b.curOp.forceUpdate=!0}}if(!a){a=updateExternalMeasurement(b,c)}var e=mapFromLineView(a,c,d);return {line:c,view:a,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function measureCharPrepared(g,a,d,f,e){if(a.before){d=-1}var c=d+(f||''),b;if(a.cache.hasOwnProperty(c)){b=a.cache[c]}else {if(!a.rect){a.rect=a.view.text.getBoundingClientRect()}if(!a.hasHeights){ensureLineHeights(g,a.view,a.rect);a.hasHeights=!0}b=measureCharInner(g,a,d,f);if(!b.bogus){a.cache[c]=b}}return {left:b.left,right:b.right,top:e?b.rtop:b.top,bottom:e?b.rbottom:b.bottom}}var ay={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(b,g,j){var h,c,i,f,e,d;for(var a=0;a<b.length;a+=3){e=b[a];d=b[a+1];if(g<e){c=0;i=1;f='left'}else {if(g<d){c=g-e;i=c+1}else {if(a==b.length-3||g==d&&b[a+3]>g){i=d-e;c=i-1;if(g>=d){f='right'}}}}if(c!=null){h=b[a+2];if(e==d&&j==(h.insertLeft?'left':'right')){f=j}if(j=='left'&&c==0){while(a&&b[a-2]==b[a-3]&&b[a-1].insertLeft){h=b[(a-=3)+2];f='left'}}if(j=='right'&&c==d-e){while(a<b.length-3&&b[a+3]==b[a+4]&&!b[a+5].insertLeft){h=b[(a+=3)+2];f='right'}}break}}return {node:h,start:c,end:i,collapse:f,coverStart:e,coverEnd:d}}function getUsefulRect(b,e){var a=ay;if(e=='left'){for(var d=0;d<b.length;d++){if((a=b[d]).left!=a.right){break}}}else {for(var c=b.length-1;c>=0;c--){if((a=b[c]).left!=a.right){break}}}return a}function measureCharInner(o,f,w,n){var d=nodeAndOffsetInLineMap(f.map,w,n);var g=d.node,c=d.start,h=d.end,k=d.collapse;var a;if(g.nodeType==3){for(var s=0;s<4;s++){while(c&&isExtendingChar(f.line.text.charAt(d.coverStart+c))){--c}while(d.coverStart+h<d.coverEnd&&isExtendingChar(f.line.text.charAt(d.coverStart+h))){++h}if(b&&e<9&&c==0&&h==d.coverEnd-d.coverStart){a=g.parentNode.getBoundingClientRect()}else {a=getUsefulRect(B(g,c,h).getClientRects(),n)}if(a.left||a.right||c==0){break}h=c;c=c-1;k='right'}if(b&&e<11){a=maybeUpdateRectForZooming(o.display.measure,a)}}else {if(c>0){k=n='right'}var p;if(o.options.lineWrapping&&(p=g.getClientRects()).length>1){a=p[n=='right'?p.length-1:0]}else {a=g.getBoundingClientRect()}}if(b&&e<9&&!c&&(!a||!a.left&&!a.right)){var j=g.parentNode.getClientRects()[0];if(j){a={left:j.left,right:j.left+charWidth(o.display),top:j.top,bottom:j.bottom}}else {a=ay}}var r=a.top-f.rect.top,q=a.bottom-f.rect.top;var u=(r+q)/2;var l=f.view.measure.heights;var i=0;for(;i<l.length-1;i++){if(u<l[i]){break}}var v=i?l[i-1]:0,t=l[i];var m={left:(k=='right'?a.right:a.left)-f.rect.left,right:(k=='left'?a.left:a.right)-f.rect.left,top:v,bottom:t};if(!a.left&&!a.right){m.bogus=!0}if(!o.options.singleCursorHeightPerLine){m.rtop=r;m.rbottom=q}return m}function maybeUpdateRectForZooming(d,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(d)){return a}var b=screen.logicalXDPI/screen.deviceXDPI;var c=screen.logicalYDPI/screen.deviceYDPI;return {left:a.left*b,right:a.right*b,top:a.top*c,bottom:a.bottom*c}}function clearLineMeasurementCacheFor(a){if(a.measure){a.measure.cache={};a.measure.heights=null;if(a.rest){for(var b=0;b<a.rest.length;b++){a.measure.caches[b]={}}}}}function clearLineMeasurementCache(a){a.display.externalMeasure=null;removeChildren(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++){clearLineMeasurementCacheFor(a.display.view[b])}}function clearCaches(a){clearLineMeasurementCache(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;if(!a.options.lineWrapping){a.display.maxLineChanged=!0}a.display.lineNumChars=null}function pageScrollX(){if(aa&&_){return -(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(aa&&_){return -(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(a){var c=0;if(a.widgets){for(var b=0;b<a.widgets.length;++b){if(a.widgets[b].above){c+=widgetHeight(a.widgets[b])}}}return c}function intoCoordSystem(d,e,b,a,i){if(!i){var f=widgetTopHeight(e);b.top+=f;b.bottom+=f}if(a=='line'){return b}if(!a){a='local'}var c=heightAtLine(e);if(a=='local'){c+=paddingTop(d.display)}else {c-=d.display.viewOffset}if(a=='page'||a=='window'){var g=d.display.lineSpace.getBoundingClientRect();c+=g.top+(a=='window'?0:pageScrollY());var h=g.left+(a=='window'?0:pageScrollX());b.left+=h;b.right+=h}b.top+=c;b.bottom+=c;return b}function fromCoordSystem(g,b,a){if(a=='div'){return b}var c=b.left,d=b.top;if(a=='page'){c-=pageScrollX();d-=pageScrollY()}else {if(a=='local'||!a){var f=g.display.sizer.getBoundingClientRect();c+=f.left;d+=f.top}}var e=g.display.lineSpace.getBoundingClientRect();return {left:c-e.left,top:d-e.top}}function charCoords(b,c,d,a,e){if(!a){a=getLine(b.doc,c.line)}return intoCoordSystem(b,a,measureChar(b,a,c.ch,e),d)}function cursorCoords(d,g,k,b,e,j){b=b||getLine(d.doc,g.line);if(!e){e=prepareMeasureForLine(d,b)}function get(f,c){var a=measureCharPrepared(d,e,f,c?'right':'left',j);if(c){a.left=a.right}else {a.right=a.left}return intoCoordSystem(d,b,a,k)}var f=getOrder(b,d.doc.direction),a=g.ch,c=g.sticky;if(a>=b.text.length){a=b.text.length;c='before'}else {if(a<=0){a=0;c='after'}}if(!f){return get(c=='before'?a-1:a,c=='before')}function getBidi(c,h,a){var l=f[h],i=l.level==1;return get(a?c-1:c,i!=a)}var l=getBidiPartAt(f,a,c);var h=N;var i=getBidi(a,l,c=='before');if(h!=null){i.other=getBidi(a,h,c!='before')}return i}function estimateCoords(a,b){var c=0;b=clipPos(a.doc,b);if(!a.options.lineWrapping){c=charWidth(a.display)*b.ch}var d=getLine(a.doc,b.line);var e=heightAtLine(d)+paddingTop(a.display);return {left:c,right:c,top:e,bottom:e+d.height}}function PosWithInfo(d,f,c,b,e){var a=Pos(d,f,c);a.xRel=e;if(b){a.outside=!0}return a}function coordsChar(g,h,c){var a=g.doc;c+=g.display.viewOffset;if(c<0){return PosWithInfo(a.first,0,null,!0,-1)}var b=lineAtHeight(a,c),j=a.first+a.size-1;if(b>j){return PosWithInfo(a.first+a.size-1,getLine(a,j).text.length,null,!0,1)}if(h<0){h=0}var e=getLine(a,b);for(;;){var f=coordsCharInner(g,e,b,h,c);var i=collapsedSpanAround(e,f.ch+(f.xRel>0?1:0));if(!i){return f}var d=i.find(1);if(d.line==b){return d}e=getLine(a,b=d.line)}}function wrappedLineExtent(f,d,c,b){b-=widgetTopHeight(d);var a=d.text.length;var e=findFirst(function(a){return measureCharPrepared(f,c,a-1).bottom<=b},a,0);a=findFirst(function(a){return measureCharPrepared(f,c,a).top>b},e,a);return {begin:e,end:a}}function wrappedLineExtentChar(b,c,a,e){if(!a){a=prepareMeasureForLine(b,c)}var d=intoCoordSystem(b,c,measureCharPrepared(b,a,e),'line').top;return wrappedLineExtent(b,c,a,d)}function boxIsAfter(a,d,b,c){return a.bottom<=b?!1:a.top>b?!0:(c?a.left:a.right)>d}function coordsCharInner(d,b,l,g,e){e-=heightAtLine(b);var i=prepareMeasureForLine(d,b);var k=widgetTopHeight(b);var o=0,p=b.text.length,c=!0;var u=getOrder(b,d.doc.direction);if(u){var h=(d.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(d,b,l,i,u,g,e);c=h.level!=1;o=c?h.from:h.to-1;p=c?h.to:h.from-1}var q=null,f=null;var a=findFirst(function(c){var a=measureCharPrepared(d,i,c);a.top+=k;a.bottom+=k;if(!boxIsAfter(a,g,e,!1)){return !1}if(a.top<=e&&a.left<=g){q=c;f=a}return !0},o,p);var n,j,s=!1;if(f){var t=g-f.left<f.right-g,r=t==c;a=q+(r?0:1);j=r?'after':'before';n=t?f.left:f.right}else {if(!c&&(a==p||a==o)){a++}j=a==0?'after':a==b.text.length?'before':measureCharPrepared(d,i,a-(c?1:0)).bottom+k<=e==c?'after':'before';var m=cursorCoords(d,Pos(l,a,j),'line',b,i);n=m.left;s=e<m.top||e>=m.bottom}a=skipExtendingChars(b.text,a,1);return PosWithInfo(l,a,j,s,g-n)}function coordsBidiPart(j,g,f,e,b,k,d){var c=findFirst(function(h){var a=b[h],c=a.level!=1;return boxIsAfter(cursorCoords(j,Pos(f,c?a.to:a.from,c?'before':'after'),'line',g,e),k,d,!0)},0,b.length-1);var a=b[c];if(c>0){var i=a.level!=1;var h=cursorCoords(j,Pos(f,i?a.from:a.to,i?'after':'before'),'line',g,e);if(boxIsAfter(h,k,d,!0)&&h.top>d){a=b[c-1]}}return a}function coordsBidiPartWrapped(n,k,q,i,e,h,p){var m=wrappedLineExtent(n,k,i,p);var d=m.begin;var b=m.end;if(/\s/.test(k.text.charAt(b-1))){b--}var a=null,j=null;for(var g=0;g<e.length;g++){var c=e[g];if(c.from>=b||c.to<=d){continue}var o=c.level!=1;var f=measureCharPrepared(n,i,o?Math.min(b,c.to)-1:Math.max(d,c.from)).right;var l=f<h?h-f+1000000000:f-h;if(!a||j>l){a=c;j=l}}if(!a){a=e[e.length-1]}if(a.from<d){a={from:d,to:a.to,level:a.level}}if(a.to>b){a={from:a.from,to:b,level:a.level}}return a}var y;function textHeight(a){if(a.cachedTextHeight!=null){return a.cachedTextHeight}if(y==null){y=elt('pre');for(var c=0;c<49;++c){y.appendChild(document.createTextNode('x'));y.appendChild(elt('br'))}y.appendChild(document.createTextNode('x'))}removeChildrenAndAdd(a.measure,y);var b=y.offsetHeight/50;if(b>3){a.cachedTextHeight=b}removeChildren(a.measure);return b||1}function charWidth(a){if(a.cachedCharWidth!=null){return a.cachedCharWidth}var c=elt('span','xxxxxxxxxx');var e=elt('pre',[c]);removeChildrenAndAdd(a.measure,e);var d=c.getBoundingClientRect(),b=(d.right-d.left)/10;if(b>2){a.cachedCharWidth=b}return b||10}function getDimensions(c){var b=c.display,f={},e={};var g=b.gutters.clientLeft;for(var a=b.gutters.firstChild,d=0;a;a=a.nextSibling,++d){f[c.options.gutters[d]]=a.offsetLeft+a.clientLeft+g;e[c.options.gutters[d]]=a.clientWidth}return {fixedPos:compensateForHScroll(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:f,gutterWidth:e,wrapperWidth:b.wrapper.clientWidth}}function compensateForHScroll(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function estimateHeight(a){var c=textHeight(a.display),b=a.options.lineWrapping;var d=b&&Math.max(5,a.display.scroller.clientWidth/charWidth(a.display)-3);return function(e){if(lineIsHidden(a.doc,e)){return 0}var g=0;if(e.widgets){for(var f=0;f<e.widgets.length;f++){if(e.widgets[f].height){g+=e.widgets[f].height}}}if(b){return g+(Math.ceil(e.text.length/d)||1)*c}else {return g+c}}}function estimateLineHeights(a){var b=a.doc,c=estimateHeight(a);b.iter(function(b){var d=c(b);if(d!=b.height){updateLineHeight(b,d)}})}function posFromMouse(b,d,k,j){var i=b.display;if(!k&&e_target(d).getAttribute('cm-not-content')=='true'){return null}var e,g,f=i.lineSpace.getBoundingClientRect();try{e=d.clientX-f.left;g=d.clientY-f.top}catch(aV){return null}var a=coordsChar(b,e,g),c;if(j&&a.xRel==1&&(c=getLine(b.doc,a.line).text).length==a.ch){var h=countColumn(c,c.length,b.options.tabSize)-c.length;a=Pos(a.line,Math.max(0,Math.round((e-paddingH(b.display).left)/charWidth(b.display))-h))}return a}function findViewIndex(c,a){if(a>=c.display.viewTo){return null}a-=c.display.viewFrom;if(a<0){return null}var d=c.display.view;for(var b=0;b<d.length;b++){a-=d[b].size;if(a<0){return b}}}function updateSelection(a){a.display.input.showSelection(a.display.input.prepareSelection())}function prepareSelection(a,d){if(d===void 0){d=!0}var f=a.doc,e={};var h=e.cursors=document.createDocumentFragment();var i=e.selection=document.createDocumentFragment();for(var c=0;c<f.sel.ranges.length;c++){if(!d&&c==f.sel.primIndex){continue}var b=f.sel.ranges[c];if(b.from().line>=a.display.viewTo||b.to().line<a.display.viewFrom){continue}var g=b.empty();if(g||a.options.showCursorWhenSelecting){drawSelectionCursor(a,b.head,h)}if(!g){drawSelectionRange(a,b,i)}}return e}function drawSelectionCursor(d,f,e){var a=cursorCoords(d,f,'div',null,null,!d.options.singleCursorHeightPerLine);var c=e.appendChild(elt('div','\xa0','CodeMirror-cursor'));c.style.left=a.left+'px';c.style.top=a.top+'px';c.style.height=Math.max(0,a.bottom-a.top)*d.options.cursorHeight+'px';if(a.other){var b=e.appendChild(elt('div','\xa0','CodeMirror-cursor CodeMirror-secondarycursor'));b.style.display='';b.style.left=a.other.left+'px';b.style.top=a.other.top+'px';b.style.height=(a.other.bottom-a.other.top)*0.85+'px'}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(g,m,p){var n=g.display,h=g.doc;var k=document.createDocumentFragment();var o=paddingH(g.display),c=o.left;var e=Math.max(n.sizerWidth,displayWidth(g)-n.sizer.offsetLeft)-o.right;var b=h.direction=='ltr';function add(d,a,c,b){if(a<0){a=0}a=Math.round(a);b=Math.round(b);k.appendChild(elt('div',null,'CodeMirror-selected','position: absolute; left: '+d+'px;\n                             top: '+a+'px; width: '+(c==null?e-d:c)+'px;\n                             height: '+(b-a)+'px'))}function drawForLine(n,k,j){var f=getLine(h,n);var l=f.text.length;var a,d;function coords(b,a){return charCoords(g,Pos(n,b),'div',f,a)}function wrapX(e,d,c){var a=wrappedLineExtentChar(g,f,null,e);var b=d=='ltr'==(c=='after')?'left':'right';var h=c=='after'?a.begin:a.end-(/\s/.test(f.text.charAt(a.end-1))?2:1);return coords(h,b)[b]}var i=getOrder(f,h.direction);iterateBidiSections(i,k||0,j==null?l:j,function(v,w,o,C){var q=o=='ltr';var f=coords(v,q?'left':'right');var h=coords(w-1,q?'right':'left');var r=k==null&&v==0,t=j==null&&w==l;var z=C==0,A=!i||C==i.length-1;if(h.top-f.top<=3){var E=(b?r:t)&&z;var D=(b?t:r)&&A;var B=E?c:(q?f:h).left;var F=D?e:(q?h:f).right;add(B,f.top,F-B,f.bottom)}else {var u,y,s,x;if(q){u=b&&r&&z?c:f.left;y=b?e:wrapX(v,o,'before');s=b?c:wrapX(w,o,'after');x=b&&t&&A?e:h.right}else {u=!b?c:wrapX(v,o,'before');y=!b&&r&&z?e:f.right;s=!b&&t&&A?c:h.left;x=!b?e:wrapX(w,o,'after')}add(u,f.top,y-u,f.bottom);if(f.bottom<h.top){add(c,f.bottom,null,h.top)}add(s,h.top,x-s,h.bottom)}if(!a||cmpCoords(f,a)<0){a=f}if(cmpCoords(h,a)<0){a=h}if(!d||cmpCoords(f,d)<0){d=f}if(cmpCoords(h,d)<0){d=h}});return {start:a,end:d}}var f=m.from(),i=m.to();if(f.line==i.line){drawForLine(f.line,f.ch,i.ch)}else {var l=getLine(h,f.line),q=getLine(h,i.line);var j=visualLine(l)==visualLine(q);var a=drawForLine(f.line,f.ch,j?l.text.length+1:null).end;var d=drawForLine(i.line,j?0:null,i.ch).start;if(j){if(a.top<d.top-2){add(a.right,a.top,null,a.bottom);add(c,d.top,d.left,d.bottom)}else {add(a.right,a.top,d.left-a.right,a.bottom)}}if(a.bottom<d.top){add(c,a.bottom,null,d.top)}}p.appendChild(k)}function restartBlink(b){if(!b.state.focused){return}var a=b.display;clearInterval(a.blinker);var c=!0;a.cursorDiv.style.visibility='';if(b.options.cursorBlinkRate>0){a.blinker=setInterval(function(){return a.cursorDiv.style.visibility=(c=!c)?'':'hidden'},b.options.cursorBlinkRate)}else {if(b.options.cursorBlinkRate<0){a.cursorDiv.style.visibility='hidden'}}}function ensureFocus(a){if(!a.state.focused){a.display.input.focus();onFocus(a)}}function delayBlurEvent(a){a.state.delayingBlurEvent=!0;setTimeout(function(){if(a.state.delayingBlurEvent){a.state.delayingBlurEvent=!1;onBlur(a)}},100)}function onFocus(a,b){if(a.state.delayingBlurEvent){a.state.delayingBlurEvent=!1}if(a.options.readOnly=='nocursor'){return}if(!a.state.focused){signal(a,'focus',a,b);a.state.focused=!0;addClass(a.display.wrapper,'CodeMirror-focused');if(!a.curOp&&a.display.selForContextMenu!=a.doc.sel){a.display.input.reset();if(i){setTimeout(function(){return a.display.input.reset(!0)},20)}}a.display.input.receivedFocus()}restartBlink(a)}function onBlur(a,b){if(a.state.delayingBlurEvent){return}if(a.state.focused){signal(a,'blur',a,b);a.state.focused=!1;A(a.display.wrapper,'CodeMirror-focused')}clearInterval(a.display.blinker);setTimeout(function(){if(!a.state.focused){a.display.shift=!1}},150)}function updateHeightsInViewport(c){var f=c.display;var k=f.lineDiv.offsetTop;for(var i=0;i<f.view.length;i++){var a=f.view[i],o=c.options.lineWrapping;var d=void 0,g=0;if(a.hidden){continue}if(b&&e<8){var n=a.node.offsetTop+a.node.offsetHeight;d=n-k;k=n}else {var h=a.node.getBoundingClientRect();d=h.bottom-h.top;if(!o&&a.text.firstChild){g=a.text.firstChild.getBoundingClientRect().right-h.left-1}}var m=a.line.height-d;if(d<2){d=textHeight(f)}if(m>0.005||m<-0.005){updateLineHeight(a.line,d);updateWidgetHeight(a.line);if(a.rest){for(var j=0;j<a.rest.length;j++){updateWidgetHeight(a.rest[j])}}}if(g>c.display.sizerWidth){var l=Math.ceil(g/charWidth(c.display));if(l>c.display.maxLineLength){c.display.maxLineLength=l;c.display.maxLine=a.line;c.display.maxLineChanged=!0}}}}function updateWidgetHeight(a){if(a.widgets){for(var b=0;b<a.widgets.length;++b){var d=a.widgets[b],c=d.node.parentNode;if(c){d.height=c.offsetHeight}}}}function visibleLines(c,b,a){var e=a&&a.top!=null?Math.max(0,a.top):c.scroller.scrollTop;e=Math.floor(e-paddingTop(c));var i=a&&a.bottom!=null?a.bottom:e+c.wrapper.clientHeight;var d=lineAtHeight(b,e),f=lineAtHeight(b,i);if(a&&a.ensure){var g=a.ensure.from.line,h=a.ensure.to.line;if(g<d){d=g;f=lineAtHeight(b,heightAtLine(getLine(b,g))+c.wrapper.clientHeight)}else {if(Math.min(h,b.lastLine())>=f){d=lineAtHeight(b,heightAtLine(getLine(b,h))-c.wrapper.clientHeight);f=h}}}return {from:d,to:Math.max(f,d+1)}}function alignHorizontally(d){var b=d.display,c=b.view;if(!b.alignWidgets&&(!b.gutters.firstChild||!d.options.fixedGutter)){return}var h=compensateForHScroll(b)-b.scroller.scrollLeft+d.doc.scrollLeft;var i=b.gutters.offsetWidth,f=h+'px';for(var a=0;a<c.length;a++){if(!c[a].hidden){if(d.options.fixedGutter){if(c[a].gutter){c[a].gutter.style.left=f}if(c[a].gutterBackground){c[a].gutterBackground.style.left=f}}var e=c[a].alignable;if(e){for(var g=0;g<e.length;g++){e[g].style.left=f}}}}if(d.options.fixedGutter){b.gutters.style.left=h+i+'px'}}function maybeUpdateLineNumberWidth(b){if(!b.options.lineNumbers){return !1}var g=b.doc,c=lineNumberFor(b.options,g.first+g.size-1),a=b.display;if(c.length!=a.lineNumChars){var f=a.measure.appendChild(elt('div',[elt('div',c)],'CodeMirror-linenumber CodeMirror-gutter-elt'));var e=f.firstChild.offsetWidth,d=f.offsetWidth-e;a.lineGutter.style.width='';a.lineNumInnerWidth=Math.max(e,a.lineGutter.offsetWidth-d)+1;a.lineNumWidth=a.lineNumInnerWidth+d;a.lineNumChars=a.lineNumInnerWidth?c.length:-1;a.lineGutter.style.width=a.lineNumWidth+'px';updateGutterSpace(b);return !0}return !1}function maybeScrollWindow(b,a){if(signalDOMEvent(b,'scrollCursorIntoView')){return}var e=b.display,f=e.sizer.getBoundingClientRect(),c=null;if(a.top+f.top<0){c=!0}else {if(a.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)){c=!1}}if(c!=null&&!aS){var d=elt('div','\u200b',null,'position: absolute;\n                         top: '+(a.top-e.viewOffset-paddingTop(b.display))+'px;\n                         height: '+(a.bottom-a.top+scrollGap(b)+e.barHeight)+'px;\n                         left: '+a.left+'px; width: '+Math.max(2,a.right-a.left)+'px;');b.display.lineSpace.appendChild(d);d.scrollIntoView(c);b.display.lineSpace.removeChild(d)}}function scrollPosIntoView(b,a,d,g){if(g==null){g=0}var i;if(!b.options.lineWrapping&&a==d){a=a.ch?Pos(a.line,a.sticky=='before'?a.ch-1:a.ch,'after'):a;d=a.sticky=='before'?Pos(a.line,a.ch+1,'before'):a}for(var j=0;j<5;j++){var h=!1;var c=cursorCoords(b,a);var e=!d||d==a?c:cursorCoords(b,d);i={left:Math.min(c.left,e.left),top:Math.min(c.top,e.top)-g,right:Math.max(c.left,e.left),bottom:Math.max(c.bottom,e.bottom)+g};var f=calculateScrollPos(b,i);var l=b.doc.scrollTop,k=b.doc.scrollLeft;if(f.scrollTop!=null){updateScrollTop(b,f.scrollTop);if(Math.abs(b.doc.scrollTop-l)>1){h=!0}}if(f.scrollLeft!=null){setScrollLeft(b,f.scrollLeft);if(Math.abs(b.doc.scrollLeft-k)>1){h=!0}}if(!h){break}}return i}function scrollIntoView(b,c){var a=calculateScrollPos(b,c);if(a.scrollTop!=null){updateScrollTop(b,a.scrollTop)}if(a.scrollLeft!=null){setScrollLeft(b,a.scrollLeft)}}function calculateScrollPos(b,a){var d=b.display,j=textHeight(b.display);if(a.top<0){a.top=0}var g=b.curOp&&b.curOp.scrollTop!=null?b.curOp.scrollTop:d.scroller.scrollTop;var f=displayHeight(b),c={};if(a.bottom-a.top>f){a.bottom=a.top+f}var k=b.doc.height+paddingVert(d);var n=a.top<j,m=a.bottom>k-j;if(a.top<g){c.scrollTop=n?0:a.top}else {if(a.bottom>g+f){var l=Math.min(a.top,(m?k:a.bottom)-f);if(l!=g){c.scrollTop=l}}}var i=b.curOp&&b.curOp.scrollLeft!=null?b.curOp.scrollLeft:d.scroller.scrollLeft;var e=displayWidth(b)-(b.options.fixedGutter?d.gutters.offsetWidth:0);var h=a.right-a.left>e;if(h){a.right=a.left+e}if(a.left<10){c.scrollLeft=0}else {if(a.left<i){c.scrollLeft=Math.max(0,a.left-(h?0:10))}else {if(a.right>e+i-3){c.scrollLeft=a.right+(h?0:10)-e}}}return c}function addToScrollTop(a,b){if(b==null){return}resolveScrollToPos(a);a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+b}function ensureCursorVisible(a){resolveScrollToPos(a);var b=a.getCursor();a.curOp.scrollToPos={from:b,to:b,margin:a.options.cursorScrollMargin}}function scrollToCoords(a,b,c){if(b!=null||c!=null){resolveScrollToPos(a)}if(b!=null){a.curOp.scrollLeft=b}if(c!=null){a.curOp.scrollTop=c}}function scrollToRange(a,b){resolveScrollToPos(a);a.curOp.scrollToPos=b}function resolveScrollToPos(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=estimateCoords(a,b.from),d=estimateCoords(a,b.to);scrollToCoordsRange(a,c,d,b.margin)}}function scrollToCoordsRange(e,a,b,c){var d=calculateScrollPos(e,{left:Math.min(a.left,b.left),top:Math.min(a.top,b.top)-c,right:Math.max(a.right,b.right),bottom:Math.max(a.bottom,b.bottom)+c});scrollToCoords(e,d.scrollLeft,d.scrollTop)}function updateScrollTop(a,b){if(Math.abs(a.doc.scrollTop-b)<2){return}if(!v){updateDisplaySimple(a,{top:b})}setScrollTop(a,b,!0);if(v){updateDisplaySimple(a)}startWorker(a,100)}function setScrollTop(b,a,c){a=Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,a);if(b.display.scroller.scrollTop==a&&!c){return}b.doc.scrollTop=a;b.display.scrollbars.setScrollTop(a);if(b.display.scroller.scrollTop!=a){b.display.scroller.scrollTop=a}}function setScrollLeft(a,b,d,c){b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth);if((d?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)&&!c){return}a.doc.scrollLeft=b;alignHorizontally(a);if(a.display.scroller.scrollLeft!=b){a.display.scroller.scrollLeft=b}a.display.scrollbars.setScrollLeft(b)}function measureForScrollbars(b){var a=b.display,c=a.gutters.offsetWidth;var d=Math.round(b.doc.height+paddingVert(b.display));return {clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:b.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+scrollGap(b)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:c}}var w=function(g,f,h){this.cm=h;var d=this.vert=elt('div',[elt('div',null,null,'min-width: 1px')],'CodeMirror-vscrollbar');var c=this.horiz=elt('div',[elt('div',null,null,'height: 100%; min-height: 1px')],'CodeMirror-hscrollbar');d.tabIndex=c.tabIndex=-1;g(d);g(c);a(d,'scroll',function(){if(d.clientHeight){f(d.scrollTop,'vertical')}});a(c,'scroll',function(){if(c.clientWidth){f(c.scrollLeft,'horizontal')}});this.checkedZeroWidth=!1;if(b&&e<8){this.horiz.style.minHeight=this.vert.style.minWidth='18px'}};w.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1;var d=a.scrollHeight>a.clientHeight+1;var b=a.nativeBarWidth;if(d){this.vert.style.display='block';this.vert.style.bottom=c?b+'px':'0';var e=a.viewHeight-(c?b:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+e)+'px'}else {this.vert.style.display='';this.vert.firstChild.style.height='0'}if(c){this.horiz.style.display='block';this.horiz.style.right=d?b+'px':'0';this.horiz.style.left=a.barLeft+'px';var f=a.viewWidth-a.barLeft-(d?b:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+f)+'px'}else {this.horiz.style.display='';this.horiz.firstChild.style.width='0'}if(!this.checkedZeroWidth&&a.clientHeight>0){if(b==0){this.zeroWidthHack()}this.checkedZeroWidth=!0}return {right:d?b:0,bottom:c?b:0}};w.prototype.setScrollLeft=function(a){if(this.horiz.scrollLeft!=a){this.horiz.scrollLeft=a}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,'horiz')}};w.prototype.setScrollTop=function(a){if(this.vert.scrollTop!=a){this.vert.scrollTop=a}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,'vert')}};w.prototype.zeroWidthHack=function(){var a=o&&!aF?'12px':'18px';this.horiz.style.height=this.vert.style.width=a;this.horiz.style.pointerEvents=this.vert.style.pointerEvents='none';this.disableHoriz=new z();this.disableVert=new z()};w.prototype.enableZeroWidthBar=function(a,b,c){a.style.pointerEvents='auto';function maybeDisable(){var d=a.getBoundingClientRect();var e=c=='vert'?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1);if(e!=a){a.style.pointerEvents='none'}else {b.set(1000,maybeDisable)}}b.set(1000,maybeDisable)};w.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var K=function(){};K.prototype.update=function(){return {bottom:0,right:0}};K.prototype.setScrollLeft=function(){};K.prototype.setScrollTop=function(){};K.prototype.clear=function(){};function updateScrollbars(a,c){if(!c){c=measureForScrollbars(a)}var b=a.display.barWidth,d=a.display.barHeight;updateScrollbarsInner(a,c);for(var e=0;e<4&&b!=a.display.barWidth||d!=a.display.barHeight;e++){if(b!=a.display.barWidth&&a.options.lineWrapping){updateHeightsInViewport(a)}updateScrollbarsInner(a,measureForScrollbars(a));b=a.display.barWidth;d=a.display.barHeight}}function updateScrollbarsInner(c,d){var a=c.display;var b=a.scrollbars.update(d);a.sizer.style.paddingRight=(a.barWidth=b.right)+'px';a.sizer.style.paddingBottom=(a.barHeight=b.bottom)+'px';a.heightForcer.style.borderBottom=b.bottom+'px solid transparent';if(b.right&&b.bottom){a.scrollbarFiller.style.display='block';a.scrollbarFiller.style.height=b.bottom+'px';a.scrollbarFiller.style.width=b.right+'px'}else {a.scrollbarFiller.style.display=''}if(b.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter){a.gutterFiller.style.display='block';a.gutterFiller.style.height=b.bottom+'px';a.gutterFiller.style.width=d.gutterWidth+'px'}else {a.gutterFiller.style.display=''}}var aq={'native':w,'null':K};function initScrollbars(b){if(b.display.scrollbars){b.display.scrollbars.clear();if(b.display.scrollbars.addClass){A(b.display.wrapper,b.display.scrollbars.addClass)}}b.display.scrollbars=new aq[b.options.scrollbarStyle](function(c){b.display.wrapper.insertBefore(c,b.display.scrollbarFiller);a(c,'mousedown',function(){if(b.state.focused){setTimeout(function(){return b.display.input.focus()},0)}});c.setAttribute('cm-not-content','true')},function(a,c){if(c=='horizontal'){setScrollLeft(b,a)}else {updateScrollTop(b,a)}},b);if(b.display.scrollbars.addClass){addClass(b.display.wrapper,b.display.scrollbars.addClass)}}var aQ=0;function startOperation(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++aQ};pushOperation(a.curOp)}function endOperation(b){var a=b.curOp;if(a){finishOperation(a,function(a){for(var c=0;c<a.ops.length;c++){a.ops[c].cm.curOp=null}endOperations(a)})}}function endOperations(g){var a=g.ops;for(var f=0;f<a.length;f++){endOperation_R1(a[f])}for(var b=0;b<a.length;b++){endOperation_W1(a[b])}for(var c=0;c<a.length;c++){endOperation_R2(a[c])}for(var d=0;d<a.length;d++){endOperation_W2(a[d])}for(var e=0;e<a.length;e++){endOperation_finish(a[e])}}function endOperation_R1(a){var b=a.cm,c=b.display;maybeClipScrollbars(b);if(a.updateMaxLine){findMaxLine(b)}a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<c.viewFrom||a.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping;a.update=a.mustUpdate&&new X(b,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function endOperation_W1(a){a.updatedDisplay=a.mustUpdate&&updateDisplayIfNeeded(a.cm,a.update)}function endOperation_R2(a){var b=a.cm,c=b.display;if(a.updatedDisplay){updateHeightsInViewport(b)}a.barMeasure=measureForScrollbars(b);if(c.maxLineChanged&&!b.options.lineWrapping){a.adjustWidthTo=measureChar(b,c.maxLine,c.maxLine.text.length).left+3;b.display.sizerWidth=a.adjustWidthTo;a.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+a.adjustWidthTo+scrollGap(b)+b.display.barWidth);a.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+a.adjustWidthTo-displayWidth(b))}if(a.updatedDisplay||a.selectionChanged){a.preparedSelection=c.input.prepareSelection()}}function endOperation_W2(a){var b=a.cm;if(a.adjustWidthTo!=null){b.display.sizer.style.minWidth=a.adjustWidthTo+'px';if(a.maxScrollLeft<b.doc.scrollLeft){setScrollLeft(b,Math.min(b.display.scroller.scrollLeft,a.maxScrollLeft),!0)}b.display.maxLineChanged=!1}var c=a.focus&&a.focus==activeElt();if(a.preparedSelection){b.display.input.showSelection(a.preparedSelection,c)}if(a.updatedDisplay||a.startHeight!=b.doc.height){updateScrollbars(b,a.barMeasure)}if(a.updatedDisplay){setDocumentHeight(b,a.barMeasure)}if(a.selectionChanged){restartBlink(b)}if(b.state.focused&&a.updateInput){b.display.input.reset(a.typing)}if(c){ensureFocus(a.cm)}}function endOperation_finish(a){var b=a.cm,d=b.display,h=b.doc;if(a.updatedDisplay){postUpdateDisplay(b,a.update)}if(d.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)){d.wheelStartX=d.wheelStartY=null}if(a.scrollTop!=null){setScrollTop(b,a.scrollTop,a.forceScroll)}if(a.scrollLeft!=null){setScrollLeft(b,a.scrollLeft,!0,!0)}if(a.scrollToPos){var i=scrollPosIntoView(b,clipPos(h,a.scrollToPos.from),clipPos(h,a.scrollToPos.to),a.scrollToPos.margin);maybeScrollWindow(b,i)}var e=a.maybeHiddenMarkers,c=a.maybeUnhiddenMarkers;if(e){for(var g=0;g<e.length;++g){if(!e[g].lines.length){signal(e[g],'hide')}}}if(c){for(var f=0;f<c.length;++f){if(c[f].lines.length){signal(c[f],'unhide')}}}if(d.wrapper.offsetHeight){h.scrollTop=b.display.scroller.scrollTop}if(a.changeObjs){signal(b,'changes',b,a.changeObjs)}if(a.update){a.update.finish()}}function runInOp(a,b){if(a.curOp){return b()}startOperation(a);try{return b()}finally{endOperation(a)}}function operation(a,b){return function(){if(a.curOp){return b.apply(a,arguments)}startOperation(a);try{return b.apply(a,arguments)}finally{endOperation(a)}}}function methodOp(a){return function(){if(this.curOp){return a.apply(this,arguments)}startOperation(this);try{return a.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(a){return function(){var b=this.cm;if(!b||b.curOp){return a.apply(this,arguments)}startOperation(b);try{return a.apply(this,arguments)}finally{endOperation(b)}}}function regChange(b,c,d,e){if(c==null){c=b.doc.first}if(d==null){d=b.doc.first+b.doc.size}if(!e){e=0}var a=b.display;if(e&&d<a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>c)){a.updateLineNumbers=c}b.curOp.viewChanged=!0;if(c>=a.viewTo){if(r&&visualLineNo(b.doc,c)<a.viewTo){resetView(b)}}else {if(d<=a.viewFrom){if(r&&visualLineEndNo(b.doc,d+e)>a.viewFrom){resetView(b)}else {a.viewFrom+=e;a.viewTo+=e}}else {if(c<=a.viewFrom&&d>=a.viewTo){resetView(b)}else {if(c<=a.viewFrom){var j=viewCuttingPoint(b,d,d+e,1);if(j){a.view=a.view.slice(j.index);a.viewFrom=j.lineN;a.viewTo+=e}else {resetView(b)}}else {if(d>=a.viewTo){var i=viewCuttingPoint(b,c,c,-1);if(i){a.view=a.view.slice(0,i.index);a.viewTo=i.lineN}else {resetView(b)}}else {var h=viewCuttingPoint(b,c,c,-1);var g=viewCuttingPoint(b,d,d+e,1);if(h&&g){a.view=a.view.slice(0,h.index).concat(buildViewArray(b,h.lineN,g.lineN)).concat(a.view.slice(g.index));a.viewTo+=e}else {resetView(b)}}}}}}var f=a.externalMeasured;if(f){if(d<f.lineN){f.lineN+=e}else {if(c<f.lineN+f.size){a.externalMeasured=null}}}}function regLineChange(d,a,f){d.curOp.viewChanged=!0;var b=d.display,c=d.display.externalMeasured;if(c&&a>=c.lineN&&a<c.lineN+c.size){b.externalMeasured=null}if(a<b.viewFrom||a>=b.viewTo){return}var e=b.view[findViewIndex(d,a)];if(e.node==null){return}var g=e.changes||(e.changes=[]);if(indexOf(g,f)==-1){g.push(f)}}function resetView(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function viewCuttingPoint(c,d,b,f){var a=findViewIndex(c,d),g,e=c.display.view;if(!r||b==c.doc.first+c.doc.size){return {index:a,lineN:b}}var h=c.display.viewFrom;for(var i=0;i<a;i++){h+=e[i].size}if(h!=d){if(f>0){if(a==e.length-1){return null}g=h+e[a].size-d;a++}else {g=h-d}d+=g;b+=g}while(visualLineNo(c.doc,b)!=b){if(a==(f<0?0:e.length-1)){return null}b+=f*e[a-(f<0?1:0)].size;a+=f}return {index:a,lineN:b}}function adjustView(d,b,c){var a=d.display,e=a.view;if(e.length==0||b>=a.viewTo||c<=a.viewFrom){a.view=buildViewArray(d,b,c);a.viewFrom=b}else {if(a.viewFrom>b){a.view=buildViewArray(d,b,a.viewFrom).concat(a.view)}else {if(a.viewFrom<b){a.view=a.view.slice(findViewIndex(d,b))}}a.viewFrom=b;if(a.viewTo<c){a.view=a.view.concat(buildViewArray(d,a.viewTo,c))}else {if(a.viewTo>c){a.view=a.view.slice(0,findViewIndex(d,c))}}}a.viewTo=c}function countDirtyView(e){var d=e.display.view,c=0;for(var b=0;b<d.length;b++){var a=d[b];if(!a.hidden&&(!a.node||a.changes)){++c}}return c}function startWorker(a,b){if(a.doc.highlightFrontier<a.display.viewTo){a.state.highlight.set(b,bind(highlightWorker,a))}}function highlightWorker(b){var c=b.doc;if(c.highlightFrontier>=b.display.viewTo){return}var e=+new Date()+b.options.workTime;var a=getContextBefore(b,c.highlightFrontier);var d=[];c.iter(a.line,Math.min(c.first+c.size,b.display.viewTo+500),function(f){if(a.line>=b.display.viewFrom){var i=f.styles;var m=f.text.length>b.options.maxHighlightLength?copyState(c.mode,a.state):null;var l=highlightLine(b,f,a,!0);if(m){a.state=m}f.styles=l.styles;var h=f.styleClasses,g=l.classes;if(g){f.styleClasses=g}else {if(h){f.styleClasses=null}}var k=!i||i.length!=f.styles.length||h!=g&&(!h||!g||h.bgClass!=g.bgClass||h.textClass!=g.textClass);for(var j=0;!k&&j<i.length;++j){k=i[j]!=f.styles[j]}if(k){d.push(a.line)}f.stateAfter=a.save();a.nextLine()}else {if(f.text.length<=b.options.maxHighlightLength){processLine(b,f.text,a)}f.stateAfter=a.line%5==0?a.save():null;a.nextLine()}if(+new Date()>e){startWorker(b,b.options.workDelay);return !0}});c.highlightFrontier=a.line;c.modeFrontier=Math.max(c.modeFrontier,a.line);if(d.length){runInOp(b,function(){for(var a=0;a<d.length;a++){regLineChange(b,d[a],'text')}})}}var X=function(b,c,d){var a=b.display;this.viewport=c;this.visible=visibleLines(a,b.doc,c);this.editorIsHidden=!a.wrapper.offsetWidth;this.wrapperHeight=a.wrapper.clientHeight;this.wrapperWidth=a.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(b);this.force=d;this.dims=getDimensions(b);this.events=[]};X.prototype.signal=function(a,b){if(hasHandler(a,b)){this.events.push(arguments)}};X.prototype.finish=function(){var b=this;for(var a=0;a<this.events.length;a++){signal.apply(null,b.events[a])}};function maybeClipScrollbars(b){var a=b.display;if(!a.scrollbarsClipped&&a.scroller.offsetWidth){a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth;a.heightForcer.style.height=scrollGap(b)+'px';a.sizer.style.marginBottom=-a.nativeBarWidth+'px';a.sizer.style.borderRightWidth=scrollGap(b)+'px';a.scrollbarsClipped=!0}}function selectionSnapshot(d){if(d.hasFocus()){return null}var c=activeElt();if(!c||!contains(d.display.lineDiv,c)){return null}var b={activeElt:c};if(window.getSelection){var a=window.getSelection();if(a.anchorNode&&a.extend&&contains(d.display.lineDiv,a.anchorNode)){b.anchorNode=a.anchorNode;b.anchorOffset=a.anchorOffset;b.focusNode=a.focusNode;b.focusOffset=a.focusOffset}}return b}function restoreSelection(a){if(!a||!a.activeElt||a.activeElt==activeElt()){return}a.activeElt.focus();if(a.anchorNode&&contains(document.body,a.anchorNode)&&contains(document.body,a.focusNode)){var c=window.getSelection(),b=document.createRange();b.setEnd(a.anchorNode,a.anchorOffset);b.collapse(!1);c.removeAllRanges();c.addRange(b);c.extend(a.focusNode,a.focusOffset)}}function updateDisplayIfNeeded(b,c){var a=b.display,f=b.doc;if(c.editorIsHidden){resetView(b);return !1}if(!c.force&&c.visible.from>=a.viewFrom&&c.visible.to<=a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>=a.viewTo)&&a.renderedView==a.view&&countDirtyView(b)==0){return !1}if(maybeUpdateLineNumberWidth(b)){resetView(b);c.dims=getDimensions(b)}var i=f.first+f.size;var d=Math.max(c.visible.from-b.options.viewportMargin,f.first);var e=Math.min(i,c.visible.to+b.options.viewportMargin);if(a.viewFrom<d&&d-a.viewFrom<20){d=Math.max(f.first,a.viewFrom)}if(a.viewTo>e&&a.viewTo-e<20){e=Math.min(i,a.viewTo)}if(r){d=visualLineNo(b.doc,d);e=visualLineEndNo(b.doc,e)}var h=d!=a.viewFrom||e!=a.viewTo||a.lastWrapHeight!=c.wrapperHeight||a.lastWrapWidth!=c.wrapperWidth;adjustView(b,d,e);a.viewOffset=heightAtLine(getLine(b.doc,a.viewFrom));b.display.mover.style.top=a.viewOffset+'px';var g=countDirtyView(b);if(!h&&g==0&&!c.force&&a.renderedView==a.view&&(a.updateLineNumbers==null||a.updateLineNumbers>=a.viewTo)){return !1}var j=selectionSnapshot(b);if(g>4){a.lineDiv.style.display='none'}patchDisplay(b,a.updateLineNumbers,c.dims);if(g>4){a.lineDiv.style.display=''}a.renderedView=a.view;restoreSelection(j);removeChildren(a.cursorDiv);removeChildren(a.selectionDiv);a.gutters.style.height=a.sizer.style.minHeight=0;if(h){a.lastWrapHeight=c.wrapperHeight;a.lastWrapWidth=c.wrapperWidth;startWorker(b,400)}a.updateLineNumbers=null;return !0}function postUpdateDisplay(a,b){var c=b.viewport;for(var e=!0;;e=!1){if(!e||!a.options.lineWrapping||b.oldDisplayWidth==displayWidth(a)){if(c&&c.top!=null){c={top:Math.min(a.doc.height+paddingVert(a.display)-displayHeight(a),c.top)}}b.visible=visibleLines(a.display,a.doc,c);if(b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo){break}}if(!updateDisplayIfNeeded(a,b)){break}updateHeightsInViewport(a);var d=measureForScrollbars(a);updateSelection(a);updateScrollbars(a,d);setDocumentHeight(a,d);b.force=!1}b.signal(a,'update',a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo){b.signal(a,'viewportChange',a,a.display.viewFrom,a.display.viewTo);a.display.reportedViewFrom=a.display.viewFrom;a.display.reportedViewTo=a.display.viewTo}}function updateDisplaySimple(a,d){var b=new X(a,d);if(updateDisplayIfNeeded(a,b)){updateHeightsInViewport(a);postUpdateDisplay(a,b);var c=measureForScrollbars(a);updateSelection(a);updateScrollbars(a,c);setDocumentHeight(a,c);b.finish()}}function patchDisplay(c,h,k){var f=c.display,m=c.options.lineNumbers;var e=f.lineDiv,b=e.firstChild;function rm(a){var b=a.nextSibling;if(i&&o&&c.display.currentWheelTarget==a){a.style.display='none'}else {a.parentNode.removeChild(a)}return b}var l=f.view,d=f.viewFrom;for(var g=0;g<l.length;g++){var a=l[g];if(a.hidden){}else {if(!a.node||a.node.parentNode!=e){var n=buildLineElement(c,a,d,k);e.insertBefore(n,b)}else {while(b!=a.node){b=rm(b)}var j=m&&h!=null&&h<=d&&a.lineNumber;if(a.changes){if(indexOf(a.changes,'gutter')>-1){j=!1}updateLineForChanges(c,a,d,k)}if(j){removeChildren(a.lineNumber);a.lineNumber.appendChild(document.createTextNode(lineNumberFor(c.options,d)))}b=a.node.nextSibling}}d+=a.size}while(b){b=rm(b)}}function updateGutterSpace(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+'px'}function setDocumentHeight(a,b){a.display.sizer.style.minHeight=b.docHeight+'px';a.display.heightForcer.style.top=b.docHeight+'px';a.display.gutters.style.height=b.docHeight+a.display.barHeight+scrollGap(a)+'px'}function updateGutters(a){var c=a.display.gutters,e=a.options.gutters;removeChildren(c);var b=0;for(;b<e.length;++b){var d=e[b];var f=c.appendChild(elt('div',null,'CodeMirror-gutter '+d));if(d=='CodeMirror-linenumbers'){a.display.lineGutter=f;f.style.width=(a.display.lineNumWidth||1)+'px'}}c.style.display=b?'':'none';updateGutterSpace(a)}function setGuttersForLineNumbers(a){var b=indexOf(a.gutters,'CodeMirror-linenumbers');if(b==-1&&a.lineNumbers){a.gutters=a.gutters.concat(['CodeMirror-linenumbers'])}else {if(b>-1&&!a.lineNumbers){a.gutters=a.gutters.slice(0);a.gutters.splice(b,1)}}}var Z=0,k=null;if(b){k=-0.53}else {if(v){k=15}else {if(aa){k=-0.7}else {if(aB){k=-1/3}}}}function wheelEventDelta(a){var c=a.wheelDeltaX,b=a.wheelDeltaY;if(c==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS){c=a.detail}if(b==null&&a.detail&&a.axis==a.VERTICAL_AXIS){b=a.detail}else {if(b==null){b=a.wheelDelta}}return {x:c,y:b}}function wheelEventPixels(b){var a=wheelEventDelta(b);a.x*=k;a.y*=k;return a}function onScrollWheel(d,m){var q=wheelEventDelta(m),f=q.x,c=q.y;var a=d.display,b=a.scroller;var s=b.scrollWidth>b.clientWidth;var h=b.scrollHeight>b.clientHeight;if(!(f&&s||c&&h)){return}if(c&&o&&i){t: for(var e=m.target,r=a.view;e!=b;e=e.parentNode){for(var p=0;p<r.length;p++){if(r[p].node==e){d.display.currentWheelTarget=e;break t}}}}if(f&&!v&&!n&&k!=null){if(c&&h){updateScrollTop(d,Math.max(0,b.scrollTop+c*k))}setScrollLeft(d,Math.max(0,b.scrollLeft+f*k));if(!c||c&&h){e_preventDefault(m)}a.wheelStartX=null;return}if(c&&k!=null){var j=c*k;var g=d.doc.scrollTop,l=g+a.wrapper.clientHeight;if(j<0){g=Math.max(0,g+j-50)}else {l=Math.min(d.doc.height,l+j+50)}updateDisplaySimple(d,{top:g,bottom:l})}if(Z<20){if(a.wheelStartX==null){a.wheelStartX=b.scrollLeft;a.wheelStartY=b.scrollTop;a.wheelDX=f;a.wheelDY=c;setTimeout(function(){if(a.wheelStartX==null){return}var c=b.scrollLeft-a.wheelStartX;var e=b.scrollTop-a.wheelStartY;var f=e&&a.wheelDY&&e/a.wheelDY||c&&a.wheelDX&&c/a.wheelDX;a.wheelStartX=a.wheelStartY=null;if(!f){return}k=(k*Z+f)/(Z+1);++Z},200)}else {a.wheelDX+=f;a.wheelDY+=c}}}var l=function(b,a){this.ranges=b;this.primIndex=a};l.prototype.primary=function(){return this.ranges[this.primIndex]};l.prototype.equals=function(a){var e=this;if(a==this){return !0}if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length){return !1}for(var b=0;b<this.ranges.length;b++){var d=e.ranges[b],c=a.ranges[b];if(!equalCursorPos(d.anchor,c.anchor)||!equalCursorPos(d.head,c.head)){return !1}}return !0};l.prototype.deepCopy=function(){var b=this;var d=[];for(var a=0;a<this.ranges.length;a++){d[a]=new c(copyPos(b.ranges[a].anchor),copyPos(b.ranges[a].head))}return new l(d,this.primIndex)};l.prototype.somethingSelected=function(){var b=this;for(var a=0;a<this.ranges.length;a++){if(!b.ranges[a].empty()){return !0}}return !1};l.prototype.contains=function(d,b){var e=this;if(!b){b=d}for(var a=0;a<this.ranges.length;a++){var c=e.ranges[a];if(cmp(b,c.from())>=0&&cmp(d,c.to())<=0){return a}}return -1};var c=function(a,b){this.anchor=a;this.head=b};c.prototype.from=function(){return minPos(this.anchor,this.head)};c.prototype.to=function(){return maxPos(this.anchor,this.head)};c.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function normalizeSelection(j,a,f){var m=j&&j.options.selectionsMayTouch;var n=a[f];a.sort(function(b,c){return cmp(b.from(),c.from())});f=indexOf(a,n);for(var e=1;e<a.length;e++){var d=a[e],b=a[e-1];var g=cmp(b.to(),d.from());if(m&&!d.empty()?g>0:g>=0){var h=minPos(b.from(),d.from()),k=maxPos(b.to(),d.to());var i=b.empty()?d.from()==d.head:b.from()==b.head;if(e<=f){--f}a.splice(--e,2,new c(i?k:h,i?h:k))}}return new l(a,f)}function simpleSelection(a,b){return new l([new c(a,b||a)],0)}function changeEnd(a){if(!a.text){return a.to}return Pos(a.from.line+a.text.length-1,lst(a.text).length+(a.text.length==1?a.from.ch:0))}function adjustForChange(b,a){if(cmp(b,a.from)<0){return b}if(cmp(b,a.to)<=0){return changeEnd(a)}var d=b.line+a.text.length-(a.to.line-a.from.line)-1,c=b.ch;if(b.line==a.to.line){c+=changeEnd(a).ch-a.to.ch}return Pos(d,c)}function computeSelAfterChange(a,d){var f=[];for(var b=0;b<a.sel.ranges.length;b++){var e=a.sel.ranges[b];f.push(new c(adjustForChange(e.anchor,d),adjustForChange(e.head,d)))}return normalizeSelection(a.cm,f,a.sel.primIndex)}function offsetPos(a,b,c){if(a.line==b.line){return Pos(c.line,a.ch-b.ch+c.ch)}else {return Pos(c.line+(a.line-b.line),a.ch)}}function computeReplacedSel(g,j,n){var h=[];var b=Pos(g.first,0),e=b;for(var a=0;a<j.length;a++){var f=j[a];var d=offsetPos(f.from,b,e);var i=offsetPos(changeEnd(f),b,e);b=f.to;e=i;if(n=='around'){var k=g.sel.ranges[a],m=cmp(k.head,k.anchor)<0;h[a]=new c(m?i:d,m?d:i)}else {h[a]=new c(d,d)}}return new l(h,g.sel.primIndex)}function loadMode(a){a.doc.mode=getMode(a.options,a.doc.modeOption);resetModeState(a)}function resetModeState(a){a.doc.iter(function(b){if(b.stateAfter){b.stateAfter=null}if(b.styles){b.styles=null}});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;startWorker(a,100);a.state.modeGen++;if(a.curOp){regChange(a)}}function isWholeLineUpdate(b,a){return a.from.ch==0&&a.to.ch==0&&lst(a.text)==''&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function updateDoc(b,e,l,j){function spansFor(a){return l?l[a]:null}function update(a,d,c){updateLine(a,d,c,j);signalLater(a,'change',a,e)}function linesFor(f,g){var d=[];for(var c=f;c<g;++c){d.push(new G(a[c],spansFor(c),j))}return d}var c=e.from,g=e.to,a=e.text;var d=getLine(b,c.line),f=getLine(b,g.line);var k=lst(a),i=spansFor(a.length-1),h=g.line-c.line;if(e.full){b.insert(0,linesFor(0,a.length));b.remove(a.length,b.size-a.length)}else {if(isWholeLineUpdate(b,e)){var n=linesFor(0,a.length-1);update(f,f.text,i);if(h){b.remove(c.line,h)}if(n.length){b.insert(c.line,n)}}else {if(d==f){if(a.length==1){update(d,d.text.slice(0,c.ch)+k+d.text.slice(g.ch),i)}else {var m=linesFor(1,a.length-1);m.push(new G(k+d.text.slice(g.ch),i,j));update(d,d.text.slice(0,c.ch)+a[0],spansFor(0));b.insert(c.line+1,m)}}else {if(a.length==1){update(d,d.text.slice(0,c.ch)+a[0]+f.text.slice(g.ch),spansFor(0));b.remove(c.line+1,h)}else {update(d,d.text.slice(0,c.ch)+a[0],spansFor(0));update(f,k+f.text.slice(g.ch),i);var o=linesFor(1,a.length-1);if(h>1){b.remove(c.line+1,h-1)}b.insert(c.line+1,o)}}}}signalLater(b,'change',b,e)}function linkedDocs(b,c,a){function propagate(d,i,h){if(d.linked){for(var g=0;g<d.linked.length;++g){var e=d.linked[g];if(e.doc==i){continue}var f=h&&e.sharedHist;if(a&&!f){continue}c(e.doc,f);propagate(e.doc,d,f)}}}propagate(b,null,!0)}function attachDoc(a,b){if(b.cm){throw new Error('This document is already in use.')}a.doc=b;b.cm=a;estimateLineHeights(a);loadMode(a);setDirectionClass(a);if(!a.options.lineWrapping){findMaxLine(a)}a.options.mode=b.modeOption;regChange(a)}function setDirectionClass(a){(a.doc.direction=='rtl'?addClass:A)(a.display.lineDiv,'CodeMirror-rtl')}function directionChanged(a){runInOp(a,function(){setDirectionClass(a);regChange(a)})}function History(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=a||1}function historyChangeFromChange(c,a){var b={from:copyPos(a.from),to:changeEnd(a),text:getBetween(c,a.from,a.to)};attachLocalSpans(c,b,a.from.line,a.to.line+1);linkedDocs(c,function(d){return attachLocalSpans(d,b,a.from.line,a.to.line+1)},!0);return b}function clearSelectionEvents(a){while(a.length){var b=lst(a);if(b.ranges){a.pop()}else {break}}}function lastChangeEvent(a,b){if(b){clearSelectionEvents(a.done);return lst(a.done)}else {if(a.done.length&&!lst(a.done).ranges){return lst(a.done)}else {if(a.done.length>1&&!a.done[a.done.length-2].ranges){a.done.pop();return lst(a.done)}}}}function addChangeToHistory(c,b,i,f){var a=c.history;a.undone.length=0;var h=+new Date(),d;var e;if((a.lastOp==f||a.lastOrigin==b.origin&&b.origin&&(b.origin.charAt(0)=='+'&&a.lastModTime>h-(c.cm?c.cm.options.historyEventDelay:500)||b.origin.charAt(0)=='*'))&&(d=lastChangeEvent(a,a.lastOp==f))){e=lst(d.changes);if(cmp(b.from,b.to)==0&&cmp(b.from,e.to)==0){e.to=changeEnd(b)}else {d.changes.push(historyChangeFromChange(c,b))}}else {var g=lst(a.done);if(!g||!g.ranges){pushSelectionToHistory(c.sel,a.done)}d={changes:[historyChangeFromChange(c,b)],generation:a.generation};a.done.push(d);while(a.done.length>a.undoDepth){a.done.shift();if(!a.done[0].ranges){a.done.shift()}}}a.done.push(i);a.generation=++a.maxGeneration;a.lastModTime=a.lastSelTime=h;a.lastOp=a.lastSelOp=f;a.lastOrigin=a.lastSelOrigin=b.origin;if(!e){signal(c,'historyAdded')}}function selectionEventCanBeMerged(a,e,b,c){var d=e.charAt(0);return d=='*'||d=='+'&&b.ranges.length==c.ranges.length&&b.somethingSelected()==c.somethingSelected()&&new Date()-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function addSelectionToHistory(f,d,e,c){var a=f.history,b=c&&c.origin;if(e==a.lastSelOp||b&&a.lastSelOrigin==b&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==b||selectionEventCanBeMerged(f,b,lst(a.done),d))){a.done[a.done.length-1]=d}else {pushSelectionToHistory(d,a.done)}a.lastSelTime=+new Date();a.lastSelOrigin=b;a.lastSelOp=e;if(c&&c.clearRedo!==!1){clearSelectionEvents(a.undone)}}function pushSelectionToHistory(c,b){var a=lst(b);if(!(a&&a.ranges&&a.equals(c))){b.push(c)}}function attachLocalSpans(a,c,e,f){var b=c['spans_'+a.id],d=0;a.iter(Math.max(a.first,e),Math.min(a.first+a.size,f),function(g){if(g.markedSpans){(b||(b=c['spans_'+a.id]={}))[d]=g.markedSpans}++d})}function removeClearedSpans(b){if(!b){return null}var a;for(var c=0;c<b.length;++c){if(b[c].marker.explicitlyCleared){if(!a){a=b.slice(0,c)}}else {if(a){a.push(b[c])}}}return !a?b:a.length?a:null}function getOldSpans(e,b){var c=b['spans_'+e.id];if(!c){return null}var d=[];for(var a=0;a<b.text.length;++a){d.push(removeClearedSpans(c[a]))}return d}function mergeOldSpans(j,h){var a=getOldSpans(j,h);var e=stretchSpansOverChange(j,h);if(!a){return e}if(!e){return a}for(var c=0;c<a.length;++c){var d=a[c],b=e[c];if(d&&b){k: for(var f=0;f<b.length;++f){var i=b[f];for(var g=0;g<d.length;++g){if(d[g].marker==i.marker){continue k}}d.push(i)}}else {if(b){a[c]=b}}}return a}function copyHistoryArray(j,h,m){var e=[];for(var f=0;f<j.length;++f){var b=j[f];if(b.ranges){e.push(m?l.prototype.deepCopy.call(b):b);continue}var i=b.changes,d=[];e.push({changes:d});for(var g=0;g<i.length;++g){var a=i[g],k=void 0;d.push({from:a.from,to:a.to,text:a.text});if(h){for(var c in a){if(k=c.match(/^spans_(\d+)$/)){if(indexOf(h,Number(k[1]))>-1){lst(d)[c]=a[c];delete a[c]}}}}}}return e}function extendRange(g,a,b,f){if(f){var d=g.anchor;if(b){var e=cmp(a,d)<0;if(e!=cmp(b,d)<0){d=a;a=b}else {if(e!=cmp(a,b)<0){a=b}}}return new c(d,a)}else {return new c(b||a,a)}}function extendSelection(a,e,d,c,b){if(b==null){b=a.cm&&(a.cm.display.shift||a.extend)}setSelection(a,new l([extendRange(a.sel.primary(),e,d,b)],0),c)}function extendSelections(a,g,d){var c=[];var e=a.cm&&(a.cm.display.shift||a.extend);for(var b=0;b<a.sel.ranges.length;b++){c[b]=extendRange(a.sel.ranges[b],g[b],null,e)}var f=normalizeSelection(a.cm,c,a.sel.primIndex);setSelection(a,f,d)}function replaceOneSelection(a,e,d,c){var b=a.sel.ranges.slice(0);b[e]=d;setSelection(a,normalizeSelection(a.cm,b,a.sel.primIndex),c)}function setSimpleSelection(d,b,c,a){setSelection(d,simpleSelection(b,c),a)}function filterSelectionChange(a,d,e){var b={ranges:d.ranges,update:function(f){var g=this;this.ranges=[];for(var b=0;b<f.length;b++){g.ranges[b]=new c(clipPos(a,f[b].anchor),clipPos(a,f[b].head))}},origin:e&&e.origin};signal(a,'beforeSelectionChange',a,b);if(a.cm){signal(a.cm,'beforeSelectionChange',a.cm,b)}if(b.ranges!=d.ranges){return normalizeSelection(a.cm,b.ranges,b.ranges.length-1)}else {return d}}function setSelectionReplaceHistory(b,c,d){var a=b.history.done,e=lst(a);if(e&&e.ranges){a[a.length-1]=c;setSelectionNoUndo(b,c,d)}else {setSelection(b,c,d)}}function setSelection(a,c,b){setSelectionNoUndo(a,c,b);addSelectionToHistory(a,a.sel,a.cm?a.cm.curOp.id:NaN,b)}function setSelectionNoUndo(a,c,b){if(hasHandler(a,'beforeSelectionChange')||a.cm&&hasHandler(a.cm,'beforeSelectionChange')){c=filterSelectionChange(a,c,b)}var d=b&&b.bias||(cmp(c.primary().head,a.sel.primary().head)<0?-1:1);setSelectionInner(a,skipAtomicInSelection(a,c,d,!0));if(!(b&&b.scroll===!1)&&a.cm){ensureCursorVisible(a.cm)}}function setSelectionInner(a,b){if(b.equals(a.sel)){return}a.sel=b;if(a.cm){a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0;signalCursorActivity(a.cm)}signalLater(a,'cursorActivity',a)}function reCheckSelection(a){setSelectionInner(a,skipAtomicInSelection(a,a.sel,null,!1))}function skipAtomicInSelection(e,b,k,i){var a;for(var d=0;d<b.ranges.length;d++){var f=b.ranges[d];var g=b.ranges.length==e.sel.ranges.length&&e.sel.ranges[d];var h=skipAtomic(e,f.anchor,g&&g.anchor,k,i);var j=skipAtomic(e,f.head,g&&g.head,k,i);if(a||h!=f.anchor||j!=f.head){if(!a){a=b.ranges.slice(0,d)}a[d]=new c(h,j)}}return a?normalizeSelection(e.cm,a,b.primIndex):b}function skipAtomicInner(g,a,l,c,j){var f=getLine(g,a.line);if(f.markedSpans){for(var i=0;i<f.markedSpans.length;++i){var e=f.markedSpans[i],b=e.marker;if((e.from==null||(b.inclusiveLeft?e.from<=a.ch:e.from<a.ch))&&(e.to==null||(b.inclusiveRight?e.to>=a.ch:e.to>a.ch))){if(j){signal(b,'beforeCursorEnter');if(b.explicitlyCleared){if(!f.markedSpans){break}else {--i;continue}}}if(!b.atomic){continue}if(l){var d=b.find(c<0?1:-1),k=void 0;if(c<0?b.inclusiveRight:b.inclusiveLeft){d=movePos(g,d,-c,d&&d.line==a.line?f:null)}if(d&&d.line==a.line&&(k=cmp(d,l))&&(c<0?k<0:k>0)){return skipAtomicInner(g,d,a,c,j)}}var h=b.find(c<0?-1:1);if(c<0?b.inclusiveLeft:b.inclusiveRight){h=movePos(g,h,c,h.line==a.line?f:null)}return h?skipAtomicInner(g,h,a,c,j):null}}}return a}function skipAtomic(a,e,c,g,b){var d=g||1;var f=skipAtomicInner(a,e,c,d,b)||!b&&skipAtomicInner(a,e,c,d,!0)||skipAtomicInner(a,e,c,-d,b)||!b&&skipAtomicInner(a,e,c,-d,!0);if(!f){a.cantEdit=!0;return Pos(a.first,0)}return f}function movePos(b,a,c,d){if(c<0&&a.ch==0){if(a.line>b.first){return clipPos(b,Pos(a.line-1))}else {return null}}else {if(c>0&&a.ch==(d||getLine(b,a.line)).text.length){if(a.line<b.first+b.size-1){return Pos(a.line+1,0)}else {return null}}else {return new Pos(a.line,a.ch+c)}}}function selectAll(a){a.setSelection(Pos(a.firstLine(),0),Pos(a.lastLine()),p)}function filterChange(b,c,d){var a={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return a.canceled=!0}};if(d){a.update=function(f,h,g,e){if(f){a.from=clipPos(b,f)}if(h){a.to=clipPos(b,h)}if(g){a.text=g}if(e!==undefined){a.origin=e}}}signal(b,'beforeChange',b,a);if(b.cm){signal(b.cm,'beforeChange',b.cm,a)}if(a.canceled){return null}return {from:a.from,to:a.to,text:a.text,origin:a.origin}}function makeChange(a,b,e){if(a.cm){if(!a.cm.curOp){return operation(a.cm,makeChange)(a,b,e)}if(a.cm.state.suppressEdits){return}}if(hasHandler(a,'beforeChange')||a.cm&&hasHandler(a.cm,'beforeChange')){b=filterChange(a,b,!0);if(!b){return}}var d=ap&&!e&&removeReadOnlyRanges(a,b.from,b.to);if(d){for(var c=d.length-1;c>=0;--c){makeChangeInner(a,{from:d[c].from,to:d[c].to,text:c?['']:b.text,origin:b.origin})}}else {makeChangeInner(a,b)}}function makeChangeInner(b,a){if(a.text.length==1&&a.text[0]==''&&cmp(a.from,a.to)==0){return}var c=computeSelAfterChange(b,a);addChangeToHistory(b,a,c,b.cm?b.cm.curOp.id:NaN);makeChangeSingleDoc(b,a,c,stretchSpansOverChange(b,a));var d=[];linkedDocs(b,function(c,e){if(!e&&indexOf(d,c.history)==-1){rebaseHist(c.history,a);d.push(c.history)}makeChangeSingleDoc(c,a,null,stretchSpansOverChange(c,a))})}function makeChangeFromHistory(a,h,f){var m=a.cm&&a.cm.state.suppressEdits;if(m&&!f){return}var c=a.history,b,l=a.sel;var d=h=='undo'?c.done:c.undone,g=h=='undo'?c.undone:c.done;var e=0;for(;e<d.length;e++){b=d[e];if(f?b.ranges&&!b.equals(a.sel):!b.ranges){break}}if(e==d.length){return}c.lastOrigin=c.lastSelOrigin=null;for(;;){b=d.pop();if(b.ranges){pushSelectionToHistory(b,g);if(f&&!b.equals(a.sel)){setSelection(a,b,{clearRedo:!1});return}l=b}else {if(m){d.push(b);return}else {break}}}var j=[];pushSelectionToHistory(l,g);g.push({changes:j,generation:c.generation});c.generation=b.generation||++c.maxGeneration;var n=hasHandler(a,'beforeChange')||a.cm&&hasHandler(a.cm,'beforeChange');var o=function(e){var c=b.changes[e];c.origin=h;if(n&&!filterChange(a,c,!1)){d.length=0;return {}}j.push(historyChangeFromChange(a,c));var i=e?computeSelAfterChange(a,c):lst(d);makeChangeSingleDoc(a,c,i,mergeOldSpans(a,c));if(!e&&a.cm){a.cm.scrollIntoView({from:c.from,to:changeEnd(c)})}var g=[];linkedDocs(a,function(b,d){if(!d&&indexOf(g,b.history)==-1){rebaseHist(b.history,c);g.push(b.history)}makeChangeSingleDoc(b,c,null,mergeOldSpans(b,c))})};for(var i=b.changes.length-1;i>=0;--i){var k=o(i);if(k){return k.v}}}function shiftDoc(a,b){if(b==0){return}a.first+=b;a.sel=new l(map(a.sel.ranges,function(d){return new c(Pos(d.anchor.line+b,d.anchor.ch),Pos(d.head.line+b,d.head.ch))}),a.sel.primIndex);if(a.cm){regChange(a.cm,a.first,a.first-b,b);for(var e=a.cm.display,d=e.viewFrom;d<e.viewTo;d++){regLineChange(a.cm,d,'gutter')}}}function makeChangeSingleDoc(b,a,c,d){if(b.cm&&!b.cm.curOp){return operation(b.cm,makeChangeSingleDoc)(b,a,c,d)}if(a.to.line<b.first){shiftDoc(b,a.text.length-1-(a.to.line-a.from.line));return}if(a.from.line>b.lastLine()){return}if(a.from.line<b.first){var f=a.text.length-1-(b.first-a.from.line);shiftDoc(b,f);a={from:Pos(b.first,0),to:Pos(a.to.line+f,a.to.ch),text:[lst(a.text)],origin:a.origin}}var e=b.lastLine();if(a.to.line>e){a={from:a.from,to:Pos(e,getLine(b,e).text.length),text:[a.text[0]],origin:a.origin}}a.removed=getBetween(b,a.from,a.to);if(!c){c=computeSelAfterChange(b,a)}if(b.cm){makeChangeSingleDocInEditor(b.cm,a,d)}else {updateDoc(b,a,d)}setSelectionNoUndo(b,c,p)}function makeChangeSingleDocInEditor(a,b,m){var d=a.doc,e=a.display,c=b.from,f=b.to;var g=!1,h=c.line;if(!a.options.lineWrapping){h=lineNo(visualLine(getLine(d,c.line)));d.iter(h,f.line+1,function(c){if(c==e.maxLine){g=!0;return !0}})}if(d.sel.contains(b.from,b.to)>-1){signalCursorActivity(a)}updateDoc(d,b,m,estimateHeight(a));if(!a.options.lineWrapping){d.iter(h,c.line+b.text.length,function(c){var d=lineLength(c);if(d>e.maxLineLength){e.maxLine=c;e.maxLineLength=d;e.maxLineChanged=!0;g=!1}});if(g){a.curOp.updateMaxLine=!0}}retreatFrontier(d,c.line);startWorker(a,400);var l=b.text.length-(f.line-c.line)-1;if(b.full){regChange(a)}else {if(c.line==f.line&&b.text.length==1&&!isWholeLineUpdate(a.doc,b)){regLineChange(a,c.line,'text')}else {regChange(a,c.line,f.line+1,l)}}var i=hasHandler(a,'changes'),j=hasHandler(a,'change');if(j||i){var k={from:c,to:f,text:b.text,removed:b.removed,origin:b.origin};if(j){signalLater(a,'change',a,k)}if(i){(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(k)}}a.display.selForContextMenu=null}function replaceRange(e,c,b,a,f){var d;if(!a){a=b}if(cmp(a,b)<0){d=[a,b],b=d[0],a=d[1]}if(typeof c=='string'){c=e.splitLines(c)}makeChange(e,{from:b,to:a,text:c,origin:f})}function rebaseHistSelSingle(a,b,d,c){if(d<a.line){a.line+=c}else {if(b<a.line){a.line=b;a.ch=0}}}function rebaseHistArray(d,g,i,e){for(var c=0;c<d.length;++c){var a=d[c],j=!0;if(a.ranges){if(!a.copied){a=d[c]=a.deepCopy();a.copied=!0}for(var f=0;f<a.ranges.length;f++){rebaseHistSelSingle(a.ranges[f].anchor,g,i,e);rebaseHistSelSingle(a.ranges[f].head,g,i,e)}continue}for(var h=0;h<a.changes.length;++h){var b=a.changes[h];if(i<b.from.line){b.from=Pos(b.from.line+e,b.from.ch);b.to=Pos(b.to.line+e,b.to.ch)}else {if(g<=b.to.line){j=!1;break}}}if(!j){d.splice(0,c+1);c=0}}}function rebaseHist(e,a){var b=a.from.line,c=a.to.line,d=a.text.length-(c-b)-1;rebaseHistArray(e.done,b,c,d);rebaseHistArray(e.undone,b,c,d)}function changeLine(b,a,e,f){var c=a,d=a;if(typeof a=='number'){d=getLine(b,clipLine(b,a))}else {c=lineNo(a)}if(c==null){return null}if(f(d,c)&&b.cm){regLineChange(b.cm,c,e)}return d}function LeafChunk(a){var d=this;this.lines=a;this.parent=null;var c=0;for(var b=0;b<a.length;++b){a[b].parent=d;c+=a[b].height}this.height=c}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,e){var d=this;for(var c=b,f=b+e;c<f;++c){var a=d.lines[c];d.height-=a.height;cleanUpLine(a);signalLater(a,'delete')}this.lines.splice(b,e)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(c,a,d){var e=this;this.height+=d;this.lines=this.lines.slice(0,c).concat(a).concat(this.lines.slice(c));for(var b=0;b<a.length;++b){a[b].parent=e}},iterN:function(a,e,c){var b=this;for(var d=a+e;a<d;++a){if(c(b.lines[a])){return !0}}}};function BranchChunk(a){var f=this;this.children=a;var e=0,d=0;for(var c=0;c<a.length;++c){var b=a[c];e+=b.chunkSize();d+=b.height;b.parent=f}this.size=e;this.height=d;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(b,e){var f=this;this.size-=e;for(var d=0;d<this.children.length;++d){var a=f.children[d],c=a.chunkSize();if(b<c){var g=Math.min(e,c-b),i=a.height;a.removeInner(b,g);f.height-=i-a.height;if(c==g){f.children.splice(d--,1);a.parent=null}if((e-=g)==0){break}b=0}else {b-=c}}if(this.size-e<25&&(this.children.length>1||!(this.children[0] instanceof LeafChunk))){var h=[];this.collapse(h);this.children=[new LeafChunk(h)];this.children[0].parent=this}},collapse:function(c){var b=this;for(var a=0;a<this.children.length;++a){b.children[a].collapse(c)}},insertInner:function(f,i,h){var b=this;this.size+=i.length;this.height+=h;for(var c=0;c<this.children.length;++c){var a=b.children[c],j=a.chunkSize();if(f<=j){a.insertInner(f,i,h);if(a.lines&&a.lines.length>50){var g=a.lines.length%25+25;for(var e=g;e<a.lines.length;){var d=new LeafChunk(a.lines.slice(e,e+=25));a.height-=d.height;b.children.splice(++c,0,d);d.parent=b}a.lines=a.lines.slice(0,g);b.maybeSpill()}break}f-=j}},maybeSpill:function(){if(this.children.length<=10){return}var a=this;do{var e=a.children.splice(a.children.length-5,5);var b=new BranchChunk(e);if(!a.parent){var c=new BranchChunk(a.children);c.parent=a;a.children=[c,b];a=c}else {a.size-=b.size;a.height-=b.height;var d=indexOf(a.parent.children,a);a.parent.children.splice(d+1,0,b)}b.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()},iterN:function(a,f,h){var g=this;for(var c=0;c<this.children.length;++c){var d=g.children[c],b=d.chunkSize();if(a<b){var e=Math.min(f,b-a);if(d.iterN(a,e,h)){return !0}if((f-=e)==0){break}a=0}else {a-=b}}}};var M=function(e,d,a){var c=this;if(a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}}this.doc=e;this.node=d};M.prototype.clear=function(){var g=this;var a=this.doc.cm,c=this.line.widgets,b=this.line,e=lineNo(b);if(e==null||!c){return}for(var d=0;d<c.length;++d){if(c[d]==g){c.splice(d--,1)}}if(!c.length){b.widgets=null}var f=widgetHeight(this);updateLineHeight(b,Math.max(0,b.height-f));if(a){runInOp(a,function(){adjustScrollWhenAboveVisible(a,b,-f);regLineChange(a,e,'widget')});signalLater(a,'lineWidgetCleared',a,this,e)}};M.prototype.changed=function(){var d=this;var e=this.height,a=this.doc.cm,b=this.line;this.height=null;var c=widgetHeight(this)-e;if(!c){return}if(!lineIsHidden(this.doc,b)){updateLineHeight(b,b.height+c)}if(a){runInOp(a,function(){a.curOp.forceUpdate=!0;adjustScrollWhenAboveVisible(a,b,c);signalLater(a,'lineWidgetChanged',a,d,lineNo(b))})}};eventMixin(M);function adjustScrollWhenAboveVisible(a,c,b){if(heightAtLine(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)){addToScrollTop(a,b)}}function addLineWidget(c,d,f,e){var a=new M(c,f,e);var b=c.cm;if(b&&a.noHScroll){b.display.alignWidgets=!0}changeLine(c,d,'widget',function(g){var h=g.widgets||(g.widgets=[]);if(a.insertAt==null){h.push(a)}else {h.splice(Math.min(h.length-1,Math.max(0,a.insertAt)),0,a)}a.line=g;if(b&&!lineIsHidden(c,g)){var i=heightAtLine(g)<c.scrollTop;updateLineHeight(g,g.height+widgetHeight(a));if(i){addToScrollTop(b,a.height)}b.curOp.forceUpdate=!0}return !0});if(b){signalLater(b,'lineWidgetAdded',b,a,typeof d=='number'?d:lineNo(d))}return a}var ar=0;var t=function(b,a){this.lines=[];this.type=a;this.doc=b;this.id=++ar};t.prototype.clear=function(){var c=this;if(this.explicitlyCleared){return}var a=this.doc.cm,k=a&&!a.curOp;if(k){startOperation(a)}if(hasHandler(this,'clear')){var f=this.find();if(f){signalLater(this,'clear',f.from,f.to)}}var e=null,h=null;for(var i=0;i<this.lines.length;++i){var b=c.lines[i];var d=getMarkedSpanFor(b.markedSpans,c);if(a&&!c.collapsed){regLineChange(a,lineNo(b),'text')}else {if(a){if(d.to!=null){h=lineNo(b)}if(d.from!=null){e=lineNo(b)}}}b.markedSpans=removeMarkedSpan(b.markedSpans,d);if(d.from==null&&c.collapsed&&!lineIsHidden(c.doc,b)&&a){updateLineHeight(b,textHeight(a.display))}}if(a&&this.collapsed&&!a.options.lineWrapping){for(var g=0;g<this.lines.length;++g){var j=visualLine(c.lines[g]),l=lineLength(j);if(l>a.display.maxLineLength){a.display.maxLine=j;a.display.maxLineLength=l;a.display.maxLineChanged=!0}}}if(e!=null&&a&&this.collapsed){regChange(a,e,h+1)}this.lines.length=0;this.explicitlyCleared=!0;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=!1;if(a){reCheckSelection(a.doc)}}if(a){signalLater(a,'markerCleared',a,this,e,h)}if(k){endOperation(a)}if(this.parent){this.parent.clear()}};t.prototype.find=function(c,g){var h=this;if(c==null&&this.type=='bookmark'){c=1}var b,e;for(var f=0;f<this.lines.length;++f){var a=h.lines[f];var d=getMarkedSpanFor(a.markedSpans,h);if(d.from!=null){b=Pos(g?a:lineNo(a),d.from);if(c==-1){return b}}if(d.to!=null){e=Pos(g?a:lineNo(a),d.to);if(c==1){return e}}}return b&&{from:b,to:e}};t.prototype.changed=function(){var d=this;var c=this.find(-1,!0),b=this,a=this.doc.cm;if(!c||!a){return}runInOp(a,function(){var e=c.line,i=lineNo(c.line);var g=findViewForLine(a,i);if(g){clearLineMeasurementCacheFor(g);a.curOp.selectionChanged=a.curOp.forceUpdate=!0}a.curOp.updateMaxLine=!0;if(!lineIsHidden(b.doc,e)&&b.height!=null){var h=b.height;b.height=null;var f=widgetHeight(b)-h;if(f){updateLineHeight(e,e.height+f)}}signalLater(a,'markerChanged',a,d)})};t.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;if(!a.maybeHiddenMarkers||indexOf(a.maybeHiddenMarkers,this)==-1){(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(b)};t.prototype.detachLine=function(b){this.lines.splice(indexOf(this.lines,b),1);if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}};eventMixin(t);function markText(c,d,e,g,i){if(g&&g.shared){return markTextShared(c,d,e,g,i)}if(c.cm&&!c.cm.curOp){return operation(c.cm,markText)(c,d,e,g,i)}var b=new t(c,i),l=cmp(d,e);if(g){copyObj(g,b,!1)}if(l>0||l==0&&b.clearWhenEmpty!==!1){return b}if(b.replacedWith){b.collapsed=!0;b.widgetNode=eltP('span',[b.replacedWith],'CodeMirror-widget');if(!g.handleMouseEvents){b.widgetNode.setAttribute('cm-ignore-events','true')}if(g.insertLeft){b.widgetNode.insertLeft=!0}}if(b.collapsed){if(conflictingCollapsedRange(c,d.line,d,e,b)||d.line!=e.line&&conflictingCollapsedRange(c,e.line,d,e,b)){throw new Error('Inserting collapsed marker partially overlapping an existing one')}seeCollapsedSpans()}if(b.addToHistory){addChangeToHistory(c,{from:d,to:e,origin:'markText'},c.sel,NaN)}var h=d.line,f=c.cm,k;c.iter(h,e.line+1,function(a){if(f&&b.collapsed&&!f.options.lineWrapping&&visualLine(a)==f.display.maxLine){k=!0}if(b.collapsed&&h!=d.line){updateLineHeight(a,0)}addMarkedSpan(a,new MarkedSpan(b,h==d.line?d.ch:null,h==e.line?e.ch:null));++h});if(b.collapsed){c.iter(d.line,e.line+1,function(a){if(lineIsHidden(c,a)){updateLineHeight(a,0)}})}if(b.clearOnEnter){a(b,'beforeCursorEnter',function(){return b.clear()})}if(b.readOnly){seeReadOnlySpans();if(c.history.done.length||c.history.undone.length){c.clearHistory()}}if(b.collapsed){b.id=++ar;b.atomic=!0}if(f){if(k){f.curOp.updateMaxLine=!0}if(b.collapsed){regChange(f,d.line,e.line+1)}else {if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title){for(var j=d.line;j<=e.line;j++){regLineChange(f,j,'text')}}}if(b.atomic){reCheckSelection(f.doc)}signalLater(f,'markerAdded',f,b)}return b}var I=function(a,c){var d=this;this.markers=a;this.primary=c;for(var b=0;b<a.length;++b){a[b].parent=d}};I.prototype.clear=function(){var b=this;if(this.explicitlyCleared){return}this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a){b.markers[a].clear()}signalLater(this,'clear')};I.prototype.find=function(b,a){return this.primary.find(b,a)};eventMixin(I);function markTextShared(g,e,h,a,f){a=copyObj(a);a.shared=!1;var b=[markText(g,e,h,a,f)],c=b[0];var d=a.widgetNode;linkedDocs(g,function(i){if(d){a.widgetNode=d.cloneNode(!0)}b.push(markText(i,clipPos(i,e),clipPos(i,h),a,f));for(var j=0;j<i.linked.length;++j){if(i.linked[j].isParent){return}}c=lst(b)});return new I(b,c)}function findSharedMarkers(a){return a.findMarks(Pos(a.first,0),a.clipPos(Pos(a.lastLine())),function(b){return b.parent})}function copySharedMarkers(b,d){for(var c=0;c<d.length;c++){var a=d[c],h=a.find();var f=b.clipPos(h.from),g=b.clipPos(h.to);if(cmp(f,g)){var e=markText(b,f,g,a.primary,a.primary.type);a.markers.push(e);e.parent=a}}}function detachSharedMarkers(b){var c=function(f){var a=b[f],e=[a.primary.doc];linkedDocs(a.primary.doc,function(a){return e.push(a)});for(var c=0;c<a.markers.length;c++){var d=a.markers[c];if(indexOf(e,d.doc)==-1){d.parent=null;a.markers.splice(c--,1)}}};for(var a=0;a<b.length;a++){c(a)}}var aO=0;var j=function(b,f,a,e,d){if(!(this instanceof j)){return new j(b,f,a,e,d)}if(a==null){a=0}BranchChunk.call(this,[new LeafChunk([new G('',null)])]);this.first=a;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=a;var c=Pos(a,0);this.sel=simpleSelection(c);this.history=new History(null);this.id=++aO;this.modeOption=f;this.lineSep=e;this.direction=d=='rtl'?'rtl':'ltr';this.extend=!1;if(typeof b=='string'){b=this.splitLines(b)}updateDoc(this,{from:c,to:c,text:b});setSelection(this,simpleSelection(c),p)};j.prototype=createObj(BranchChunk.prototype,{constructor:j,iter:function(a,c,b){if(b){this.iterN(a-this.first,c-a,b)}else {this.iterN(this.first,this.first+this.size,a)}},insert:function(d,a){var c=0;for(var b=0;b<a.length;++b){c+=a[b].height}this.insertInner(d-this.first,a,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=getLines(this,this.first,this.first+this.size);if(a===!1){return b}return b.join(a||this.lineSeparator())},setValue:docMethodOp(function(c){var b=Pos(this.first,0),a=this.first+this.size-1;makeChange(this,{from:b,to:Pos(a,getLine(this,a).text.length),text:this.splitLines(c),origin:'setValue',full:!0},!0);if(this.cm){scrollToCoords(this.cm,0,0)}setSelection(this,simpleSelection(b),p)}),replaceRange:function(d,a,b,c){a=clipPos(this,a);b=b?clipPos(this,b):a;replaceRange(this,d,a,b,c)},getRange:function(c,d,a){var b=getBetween(this,clipPos(this,c),clipPos(this,d));if(a===!1){return b}return b.join(a||this.lineSeparator())},getLine:function(b){var a=this.getLineHandle(b);return a&&a.text},getLineHandle:function(a){if(isLine(this,a)){return getLine(this,a)}},getLineNumber:function(a){return lineNo(a)},getLineHandleVisualStart:function(a){if(typeof a=='number'){a=getLine(this,a)}return visualLine(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return clipPos(this,a)},getCursor:function(a){var c=this.sel.primary(),b;if(a==null||a=='head'){b=c.head}else {if(a=='anchor'){b=c.anchor}else {if(a=='end'||a=='to'||a===!1){b=c.to()}else {b=c.from()}}}return b},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(a,c,b){setSimpleSelection(this,clipPos(this,typeof a=='number'?Pos(a,c||0):a),null,b)}),setSelection:docMethodOp(function(a,c,b){setSimpleSelection(this,clipPos(this,a),clipPos(this,c||a),b)}),extendSelection:docMethodOp(function(c,a,b){extendSelection(this,clipPos(this,c),a&&clipPos(this,a),b)}),extendSelections:docMethodOp(function(b,a){extendSelections(this,clipPosArray(this,b),a)}),extendSelectionsBy:docMethodOp(function(c,a){var b=map(this.sel.ranges,c);extendSelections(this,clipPosArray(this,b),a)}),setSelections:docMethodOp(function(a,d,g){var e=this;if(!a.length){return}var f=[];for(var b=0;b<a.length;b++){f[b]=new c(clipPos(e,a[b].anchor),clipPos(e,a[b].head))}if(d==null){d=Math.min(a.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(this.cm,f,d),g)}),addSelection:docMethodOp(function(b,e,d){var a=this.sel.ranges.slice(0);a.push(new c(clipPos(this,b),clipPos(this,e||b)));setSelection(this,normalizeSelection(this.cm,a,a.length-1),d)}),getSelection:function(d){var f=this;var c=this.sel.ranges,a;for(var b=0;b<c.length;b++){var e=getBetween(f,c[b].from(),c[b].to());a=a?a.concat(e):e}if(d===!1){return a}else {return a.join(d||this.lineSeparator())}},getSelections:function(d){var e=this;var f=[],b=this.sel.ranges;for(var a=0;a<b.length;a++){var c=getBetween(e,b[a].from(),b[a].to());if(d!==!1){c=c.join(d||e.lineSeparator())}f[a]=c}return f},replaceSelection:function(e,c,d){var b=[];for(var a=0;a<this.sel.ranges.length;a++){b[a]=e}this.replaceSelections(b,c,d||'+input')},replaceSelections:docMethodOp(function(j,c,i){var g=this;var b=[],h=this.sel;for(var a=0;a<h.ranges.length;a++){var e=h.ranges[a];b[a]={from:e.from(),to:e.to(),text:g.splitLines(j[a]),origin:i}}var f=c&&c!='end'&&computeReplacedSel(this,b,c);for(var d=b.length-1;d>=0;d--){makeChange(g,b[d])}if(f){setSelectionReplaceHistory(this,f)}else {if(this.cm){ensureCursorVisible(this.cm)}}}),undo:docMethodOp(function(){makeChangeFromHistory(this,'undo')}),redo:docMethodOp(function(){makeChangeFromHistory(this,'redo')}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,'undo',!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,'redo',!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){var a=this.history,e=0,d=0;for(var c=0;c<a.done.length;c++){if(!a.done[c].ranges){++e}}for(var b=0;b<a.undone.length;b++){if(!a.undone[b].ranges){++d}}return {undo:e,redo:d}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){if(a){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return {done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(a){var b=this.history=new History(this.history.maxGeneration);b.done=copyHistoryArray(a.done.slice(0),null,!0);b.undone=copyHistoryArray(a.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(c,b,a){return changeLine(this,c,'gutter',function(d){var e=d.gutterMarkers||(d.gutterMarkers={});e[b]=a;if(!a&&isEmpty(e)){d.gutterMarkers=null}return !0})}),clearGutter:docMethodOp(function(a){var b=this;this.iter(function(c){if(c.gutterMarkers&&c.gutterMarkers[a]){changeLine(b,c,'gutter',function(){c.gutterMarkers[a]=null;if(isEmpty(c.gutterMarkers)){c.gutterMarkers=null}return !0})}})}),lineInfo:function(a){var b;if(typeof a=='number'){if(!isLine(this,a)){return null}b=a;a=getLine(this,a);if(!a){return null}}else {b=lineNo(a);if(b==null){return null}}return {line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:docMethodOp(function(c,a,b){return changeLine(this,c,a=='gutter'?'gutter':'class',function(d){var e=a=='text'?'textClass':a=='background'?'bgClass':a=='gutter'?'gutterClass':'wrapClass';if(!d[e]){d[e]=b}else {if(classTest(b).test(d[e])){return !1}else {d[e]+=' '+b}}return !0})}),removeLineClass:docMethodOp(function(c,a,b){return changeLine(this,c,a=='gutter'?'gutter':'class',function(f){var g=a=='text'?'textClass':a=='background'?'bgClass':a=='gutter'?'gutterClass':'wrapClass';var e=f[g];if(!e){return !1}else {if(b==null){f[g]=null}else {var d=e.match(classTest(b));if(!d){return !1}var h=d.index+d[0].length;f[g]=e.slice(0,d.index)+(!d.index||h==e.length?'':' ')+e.slice(h)||null}}return !0})}),addLineWidget:docMethodOp(function(b,c,a){return addLineWidget(this,b,c,a)}),removeLineWidget:function(a){a.clear()},markText:function(b,c,a){return markText(this,clipPos(this,b),clipPos(this,c),a,a&&a.type||'range')},setBookmark:function(b,a){var c={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};b=clipPos(this,b);return markText(this,b,b,c,'bookmark')},findMarksAt:function(b){b=clipPos(this,b);var e=[],c=getLine(this,b.line).markedSpans;if(c){for(var d=0;d<c.length;++d){var a=c[d];if((a.from==null||a.from<=b.ch)&&(a.to==null||a.to>=b.ch)){e.push(a.marker.parent||a.marker)}}}return e},findMarks:function(a,b,d){a=clipPos(this,a);b=clipPos(this,b);var e=[],c=a.line;this.iter(a.line,b.line+1,function(i){var g=i.markedSpans;if(g){for(var h=0;h<g.length;h++){var f=g[h];if(!(f.to!=null&&c==a.line&&a.ch>=f.to||f.from==null&&c!=a.line||f.from!=null&&c==b.line&&f.from>=b.ch)&&(!d||d(f.marker))){e.push(f.marker.parent||f.marker)}}}++c});return e},getAllMarks:function(){var a=[];this.iter(function(d){var b=d.markedSpans;if(b){for(var c=0;c<b.length;++c){if(b[c].from!=null){a.push(b[c].marker)}}}});return a},posFromIndex:function(a){var c,b=this.first,d=this.lineSeparator().length;this.iter(function(f){var e=f.text.length+d;if(e>a){c=a;return !0}a-=e;++b});return clipPos(this,Pos(b,c))},indexFromPos:function(a){a=clipPos(this,a);var b=a.ch;if(a.line<this.first||a.ch<0){return 0}var c=this.lineSeparator().length;this.iter(this.first,a.line,function(d){b+=d.text.length+c});return b},copy:function(b){var a=new j(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);a.scrollTop=this.scrollTop;a.scrollLeft=this.scrollLeft;a.sel=this.sel;a.extend=!1;if(b){a.history.undoDepth=this.history.undoDepth;a.setHistory(this.getHistory())}return a},linkedDoc:function(a){if(!a){a={}}var c=this.first,d=this.first+this.size;if(a.from!=null&&a.from>c){c=a.from}if(a.to!=null&&a.to<d){d=a.to}var b=new j(getLines(this,c,d),a.mode||this.modeOption,c,this.lineSep,this.direction);if(a.sharedHist){b.history=this.history}(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];copySharedMarkers(b,findSharedMarkers(this));return b},unlinkDoc:function(a){var b=this;if(a instanceof CodeMirror){a=a.doc}if(this.linked){for(var c=0;c<this.linked.length;++c){var e=b.linked[c];if(e.doc!=a){continue}b.linked.splice(c,1);a.unlinkDoc(b);detachSharedMarkers(findSharedMarkers(b));break}}if(a.history==this.history){var d=[a.id];linkedDocs(a,function(b){return d.push(b.id)},!0);a.history=new History(null);a.history.done=copyHistoryArray(this.history.done,d);a.history.undone=copyHistoryArray(this.history.undone,d)}},iterLinkedDocs:function(a){linkedDocs(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){if(this.lineSep){return a.split(this.lineSep)}return ah(a)},lineSeparator:function(){return this.lineSep||'\n'},setDirection:docMethodOp(function(a){if(a!='rtl'){a='ltr'}if(a==this.direction){return}this.direction=a;this.iter(function(b){return b.order=null});if(this.cm){directionChanged(this.cm)}})});j.prototype.eachLine=j.prototype.iter;var ax=0;function onDrop(d){var a=this;clearDragCursor(a);if(signalDOMEvent(a,d)||eventInWidget(a.display,d)){return}e_preventDefault(d);if(b){ax=+new Date()}var c=posFromMouse(a,d,!0),f=d.dataTransfer.files;if(!c||a.isReadOnly()){return}if(f&&f.length&&window.FileReader&&window.File){var i=f.length,k=Array(i),m=0;var l=function(e,f){if(a.options.allowDropFileTypes&&indexOf(a.options.allowDropFileTypes,e.type)==-1){return}var b=new FileReader();b.onload=operation(a,function(){var g=b.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(g)){g=''}k[f]=g;if(++m==i){c=clipPos(a.doc,c);var h={from:c,to:c,text:a.doc.splitLines(k.join(a.doc.lineSeparator())),origin:'paste'};makeChange(a.doc,h);setSelectionReplaceHistory(a.doc,simpleSelection(c,changeEnd(h)))}});b.readAsText(e)};for(var h=0;h<i;++h){l(f[h],h)}}else {if(a.state.draggingText&&a.doc.sel.contains(c)>-1){a.state.draggingText(d);setTimeout(function(){return a.display.input.focus()},20);return}try{var j=d.dataTransfer.getData('Text');if(j){var e;if(a.state.draggingText&&!a.state.draggingText.copy){e=a.listSelections()}setSelectionNoUndo(a.doc,simpleSelection(c,c));if(e){for(var g=0;g<e.length;++g){replaceRange(a.doc,'',e[g].anchor,e[g].head,'drag')}}a.replaceSelection(j,'around','paste');a.display.input.focus()}}catch(aV){}}}function onDragStart(d,c){if(b&&(!d.state.draggingText||+new Date()-ax<100)){e_stop(c);return}if(signalDOMEvent(d,c)||eventInWidget(d.display,c)){return}c.dataTransfer.setData('Text',d.getSelection());c.dataTransfer.effectAllowed='copyMove';if(c.dataTransfer.setDragImage&&!aB){var a=elt('img',null,null,'position: fixed; left: 0; top: 0;');a.src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';if(n){a.width=a.height=1;d.display.wrapper.appendChild(a);a._top=a.offsetTop}c.dataTransfer.setDragImage(a,0,0);if(n){a.parentNode.removeChild(a)}}}function onDragOver(a,d){var c=posFromMouse(a,d);if(!c){return}var b=document.createDocumentFragment();drawSelectionCursor(a,c,b);if(!a.display.dragCursor){a.display.dragCursor=elt('div',null,'CodeMirror-cursors CodeMirror-dragcursors');a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)}removeChildrenAndAdd(a.display.dragCursor,b)}function clearDragCursor(a){if(a.display.dragCursor){a.display.lineSpace.removeChild(a.display.dragCursor);a.display.dragCursor=null}}function forEachCodeMirror(e){if(!document.getElementsByClassName){return}var c=document.getElementsByClassName('CodeMirror'),a=[];for(var b=0;b<c.length;b++){var d=c[b].CodeMirror;if(d){a.push(d)}}if(a.length){a[0].operation(function(){for(var b=0;b<a.length;b++){e(a[b])}})}}var ao=!1;function ensureGlobalHandlers(){if(ao){return}registerGlobalHandlers();ao=!0}function registerGlobalHandlers(){var b;a(window,'resize',function(){if(b==null){b=setTimeout(function(){b=null;forEachCodeMirror(onResize)},100)}});a(window,'blur',function(){return forEachCodeMirror(onBlur)})}function onResize(b){var a=b.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null;a.scrollbarsClipped=!1;b.setSize()}var u={3:'Pause',8:'Backspace',9:'Tab',13:'Enter',16:'Shift',17:'Ctrl',18:'Alt',19:'Pause',20:'CapsLock',27:'Esc',32:'Space',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down',44:'PrintScrn',45:'Insert',46:'Delete',59:';',61:'=',91:'Mod',92:'Mod',93:'Mod',106:'*',107:'=',109:'-',110:'.',111:'/',127:'Delete',145:'ScrollLock',173:'-',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:"'",63232:'Up',63233:'Down',63234:'Left',63235:'Right',63272:'Delete',63273:'Home',63275:'End',63276:'PageUp',63277:'PageDown',63302:'Insert'};for(var V=0;V<10;V++){u[V+48]=u[V+96]=String(V)}for(var ad=65;ad<=90;ad++){u[ad]=String.fromCharCode(ad)}for(var T=1;T<=12;T++){u[T+111]=u[T+63235]='F'+T}var s={};s.basic={'Left':'goCharLeft','Right':'goCharRight','Up':'goLineUp','Down':'goLineDown','End':'goLineEnd','Home':'goLineStartSmart','PageUp':'goPageUp','PageDown':'goPageDown','Delete':'delCharAfter','Backspace':'delCharBefore','Shift-Backspace':'delCharBefore','Tab':'defaultTab','Shift-Tab':'indentAuto','Enter':'newlineAndIndent','Insert':'toggleOverwrite','Esc':'singleSelection'};s.pcDefault={'Ctrl-A':'selectAll','Ctrl-D':'deleteLine','Ctrl-Z':'undo','Shift-Ctrl-Z':'redo','Ctrl-Y':'redo','Ctrl-Home':'goDocStart','Ctrl-End':'goDocEnd','Ctrl-Up':'goLineUp','Ctrl-Down':'goLineDown','Ctrl-Left':'goGroupLeft','Ctrl-Right':'goGroupRight','Alt-Left':'goLineStart','Alt-Right':'goLineEnd','Ctrl-Backspace':'delGroupBefore','Ctrl-Delete':'delGroupAfter','Ctrl-S':'save','Ctrl-F':'find','Ctrl-G':'findNext','Shift-Ctrl-G':'findPrev','Shift-Ctrl-F':'replace','Shift-Ctrl-R':'replaceAll','Ctrl-[':'indentLess','Ctrl-]':'indentMore','Ctrl-U':'undoSelection','Shift-Ctrl-U':'redoSelection','Alt-U':'redoSelection','fallthrough':'basic'};s.emacsy={'Ctrl-F':'goCharRight','Ctrl-B':'goCharLeft','Ctrl-P':'goLineUp','Ctrl-N':'goLineDown','Alt-F':'goWordRight','Alt-B':'goWordLeft','Ctrl-A':'goLineStart','Ctrl-E':'goLineEnd','Ctrl-V':'goPageDown','Shift-Ctrl-V':'goPageUp','Ctrl-D':'delCharAfter','Ctrl-H':'delCharBefore','Alt-D':'delWordAfter','Alt-Backspace':'delWordBefore','Ctrl-K':'killLine','Ctrl-T':'transposeChars','Ctrl-O':'openLine'};s.macDefault={'Cmd-A':'selectAll','Cmd-D':'deleteLine','Cmd-Z':'undo','Shift-Cmd-Z':'redo','Cmd-Y':'redo','Cmd-Home':'goDocStart','Cmd-Up':'goDocStart','Cmd-End':'goDocEnd','Cmd-Down':'goDocEnd','Alt-Left':'goGroupLeft','Alt-Right':'goGroupRight','Cmd-Left':'goLineLeft','Cmd-Right':'goLineRight','Alt-Backspace':'delGroupBefore','Ctrl-Alt-Backspace':'delGroupAfter','Alt-Delete':'delGroupAfter','Cmd-S':'save','Cmd-F':'find','Cmd-G':'findNext','Shift-Cmd-G':'findPrev','Cmd-Alt-F':'replace','Shift-Cmd-Alt-F':'replaceAll','Cmd-[':'indentLess','Cmd-]':'indentMore','Cmd-Backspace':'delWrappedLineLeft','Cmd-Delete':'delWrappedLineRight','Cmd-U':'undoSelection','Shift-Cmd-U':'redoSelection','Ctrl-Up':'goDocStart','Ctrl-Down':'goDocEnd','fallthrough':['basic','emacsy']};s['default']=o?s.macDefault:s.pcDefault;function normalizeKeyName(a){var c=a.split(/-(?!$)/);a=c[c.length-1];var g,f,e,h;for(var d=0;d<c.length-1;d++){var b=c[d];if(/^(cmd|meta|m)$/i.test(b)){h=!0}else {if(/^a(lt)?$/i.test(b)){g=!0}else {if(/^(c|ctrl|control)$/i.test(b)){f=!0}else {if(/^s(hift)?$/i.test(b)){e=!0}else {throw new Error('Unrecognized modifier name: '+b)}}}}}if(g){a='Alt-'+a}if(f){a='Ctrl-'+a}if(h){a='Cmd-'+a}if(e){a='Shift-'+a}return a}function normalizeKeyMap(a){var d={};for(var b in a){if(a.hasOwnProperty(b)){var h=a[b];if(/^(name|fallthrough|(de|at)tach)$/.test(b)){continue}if(h=='...'){delete a[b];continue}var e=map(b.split(' '),normalizeKeyName);for(var g=0;g<e.length;g++){var f=void 0,c=void 0;if(g==e.length-1){c=e.join(' ');f=h}else {c=e.slice(0,g+1).join(' ');f='...'}var i=d[c];if(!i){d[c]=f}else {if(i!=f){throw new Error('Inconsistent bindings for '+c)}}}delete a[b]}}for(var j in d){a[j]=d[j]}return a}function lookupKey(c,a,e,d){a=getKeyMap(a);var b=a.call?a.call(c,d):a[c];if(b===!1){return 'nothing'}if(b==='...'){return 'multi'}if(b!=null&&e(b)){return 'handled'}if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!='[object Array]'){return lookupKey(c,a.fallthrough,e,d)}for(var f=0;f<a.fallthrough.length;f++){var g=lookupKey(c,a.fallthrough[f],e,d);if(g){return g}}}}function isModifierKey(b){var a=typeof b=='string'?b:u[b.keyCode];return a=='Ctrl'||a=='Alt'||a=='Shift'||a=='Mod'}function addModifierNames(a,b,d){var c=a;if(b.altKey&&c!='Alt'){a='Alt-'+a}if((as?b.metaKey:b.ctrlKey)&&c!='Ctrl'){a='Ctrl-'+a}if((as?b.ctrlKey:b.metaKey)&&c!='Cmd'){a='Cmd-'+a}if(!d&&b.shiftKey&&c!='Shift'){a='Shift-'+a}return a}function keyName(a,c){if(n&&a.keyCode==34&&a['char']){return !1}var b=u[a.keyCode];if(b==null||a.altGraphKey){return !1}if(a.keyCode==3&&a.code){b=a.code}return addModifierNames(b,a,c)}function getKeyMap(a){return typeof a=='string'?s[a]:a}function deleteNearSelection(c,g){var f=c.doc.sel.ranges,a=[];for(var d=0;d<f.length;d++){var b=g(f[d]);while(a.length&&cmp(b.from,lst(a).to)<=0){var e=a.pop();if(cmp(e.from,b.from)<0){b.from=e.from;break}}a.push(b)}runInOp(c,function(){for(var b=a.length-1;b>=0;b--){replaceRange(c.doc,'',a[b].from,a[b].to,'+delete')}ensureCursorVisible(c)})}function moveCharLogically(b,d,c){var a=skipExtendingChars(b.text,d+c,c);return a<0||a>b.text.length?null:a}function moveLogically(d,a,b){var c=moveCharLogically(d,a.ch,b);return c==null?null:new Pos(a.line,c,b<0?'after':'before')}function endOfLine(l,e,d,g,c){if(l){var f=getOrder(d,e.doc.direction);if(f){var b=c<0?lst(f):f[0];var j=c<0==(b.level==1);var h=j?'after':'before';var a;if(b.level>0||e.doc.direction=='rtl'){var i=prepareMeasureForLine(e,d);a=c<0?d.text.length-1:0;var k=measureCharPrepared(e,i,a).top;a=findFirst(function(a){return measureCharPrepared(e,i,a).top==k},c<0==(b.level==1)?b.from:b.to-1,a);if(h=='before'){a=moveCharLogically(d,a,1)}}else {a=c<0?b.to:b.from}return new Pos(g,a,h)}}return new Pos(g,c<0?d.text.length:0,c<0?'before':'after')}function moveVisually(g,b,a,c){var e=getOrder(b,g.doc.direction);if(!e){return moveLogically(b,a,c)}if(a.ch>=b.text.length){a.ch=b.text.length;a.sticky='before'}else {if(a.ch<=0){a.ch=0;a.sticky='after'}}var p=getBidiPartAt(e,a.ch,a.sticky),d=e[p];if(g.doc.direction=='ltr'&&d.level%2==0&&(c>0?d.to>a.ch:d.from<a.ch)){return moveLogically(b,a,c)}var h=function(d,e){return moveCharLogically(b,d instanceof Pos?d.ch:d,e)};var m;var n=function(d){if(!g.options.lineWrapping){return {begin:0,end:b.text.length}}m=m||prepareMeasureForLine(g,b);return wrappedLineExtentChar(g,b,m,d)};var i=n(a.sticky=='before'?h(a,-1):a.ch);if(g.doc.direction=='rtl'||d.level==1){var k=d.level==1==c<0;var f=h(a,k?1:-1);if(f!=null&&(!k?f>=d.from&&f>=i.begin:f<=d.to&&f<=i.end)){var q=k?'before':'after';return new Pos(a.line,f,q)}}var o=function(k,m,j){var l=function(d,e){return e?new Pos(a.line,h(d,1),'before'):new Pos(a.line,d,'after')};for(;k>=0&&k<e.length;k+=m){var f=e[k];var i=m>0==(f.level!=1);var d=i?j.begin:h(j.end,-1);if(f.from<=d&&d<f.to){return l(d,i)}d=i?f.from:h(f.to,-1);if(j.begin<=d&&d<j.end){return l(d,i)}}};var j=o(p+c,c,i);if(j){return j}var l=c>0?i.end:h(i.begin,-1);if(l!=null&&!(c>0&&l==b.text.length)){j=o(c>0?0:e.length-1,c,n(l));if(j){return j}}return null}var P={selectAll:selectAll,singleSelection:function(a){return a.setSelection(a.getCursor('anchor'),a.getCursor('head'),p)},killLine:function(a){return deleteNearSelection(a,function(b){if(b.empty()){var c=getLine(a.doc,b.head.line).text.length;if(b.head.ch==c&&b.head.line<a.lastLine()){return {from:b.head,to:Pos(b.head.line+1,0)}}else {return {from:b.head,to:Pos(b.head.line,c)}}}else {return {from:b.from(),to:b.to()}}})},deleteLine:function(a){return deleteNearSelection(a,function(b){return {from:Pos(b.from().line,0),to:clipPos(a.doc,Pos(b.to().line+1,0))}})},delLineLeft:function(a){return deleteNearSelection(a,function(b){return {from:Pos(b.from().line,0),to:b.from()}})},delWrappedLineLeft:function(a){return deleteNearSelection(a,function(b){var d=a.charCoords(b.head,'div').top+5;var c=a.coordsChar({left:0,top:d},'div');return {from:c,to:b.from()}})},delWrappedLineRight:function(a){return deleteNearSelection(a,function(b){var d=a.charCoords(b.head,'div').top+5;var c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},'div');return {from:b.from(),to:c}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Pos(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Pos(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(b){return lineStart(a,b.head.line)},{origin:'+move',bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(b){return lineStartSmart(a,b.head)},{origin:'+move',bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(b){return lineEnd(a,b.head.line)},{origin:'+move',bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,'div').top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},'div')},Q)},goLineLeft:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,'div').top+5;return a.coordsChar({left:0,top:c},'div')},Q)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var d=a.cursorCoords(c.head,'div').top+5;var b=a.coordsChar({left:0,top:d},'div');if(b.ch<a.getLine(b.line).search(/\S/)){return lineStartSmart(a,c.head)}return b},Q)},goLineUp:function(a){return a.moveV(-1,'line')},goLineDown:function(a){return a.moveV(1,'line')},goPageUp:function(a){return a.moveV(-1,'page')},goPageDown:function(a){return a.moveV(1,'page')},goCharLeft:function(a){return a.moveH(-1,'char')},goCharRight:function(a){return a.moveH(1,'char')},goColumnLeft:function(a){return a.moveH(-1,'column')},goColumnRight:function(a){return a.moveH(1,'column')},goWordLeft:function(a){return a.moveH(-1,'word')},goGroupRight:function(a){return a.moveH(1,'group')},goGroupLeft:function(a){return a.moveH(-1,'group')},goWordRight:function(a){return a.moveH(1,'word')},delCharBefore:function(a){return a.deleteH(-1,'char')},delCharAfter:function(a){return a.deleteH(1,'char')},delWordBefore:function(a){return a.deleteH(-1,'word')},delWordAfter:function(a){return a.deleteH(1,'word')},delGroupBefore:function(a){return a.deleteH(-1,'group')},delGroupAfter:function(a){return a.deleteH(1,'group')},indentAuto:function(a){return a.indentSelection('smart')},indentMore:function(a){return a.indentSelection('add')},indentLess:function(a){return a.indentSelection('subtract')},insertTab:function(a){return a.replaceSelection('\t')},insertSoftTab:function(a){var e=[],d=a.listSelections(),b=a.options.tabSize;for(var c=0;c<d.length;c++){var f=d[c].from();var g=countColumn(a.getLine(f.line),f.ch,b);e.push(spaceStr(b-g%b))}a.replaceSelections(e)},defaultTab:function(a){if(a.somethingSelected()){a.indentSelection('add')}else {a.execCommand('insertTab')}},transposeChars:function(a){return runInOp(a,function(){var g=a.listSelections(),h=[];for(var f=0;f<g.length;f++){if(!g[f].empty()){continue}var b=g[f].head,d=getLine(a.doc,b.line).text;if(d){if(b.ch==d.length){b=new Pos(b.line,b.ch-1)}if(b.ch>0){b=new Pos(b.line,b.ch+1);a.replaceRange(d.charAt(b.ch-1)+d.charAt(b.ch-2),Pos(b.line,b.ch-2),b,'+transpose')}else {if(b.line>a.doc.first){var e=getLine(a.doc,b.line-1).text;if(e){b=new Pos(b.line,1);a.replaceRange(d.charAt(0)+a.doc.lineSeparator()+e.charAt(e.length-1),Pos(b.line-1,e.length-1),b,'+transpose')}}}}h.push(new c(b,b))}a.setSelections(h)})},newlineAndIndent:function(a){return runInOp(a,function(){var b=a.listSelections();for(var c=b.length-1;c>=0;c--){a.replaceRange(a.doc.lineSeparator(),b[c].anchor,b[c].head,'+input')}b=a.listSelections();for(var d=0;d<b.length;d++){a.indentLine(b[d].from().line,null,!0)}ensureCursorVisible(a)})},openLine:function(a){return a.replaceSelection('\n','start')},toggleOverwrite:function(a){return a.toggleOverwrite()}};function lineStart(d,b){var c=getLine(d.doc,b);var a=visualLine(c);if(a!=c){b=lineNo(a)}return endOfLine(!0,d,a,b,1)}function lineEnd(d,a){var b=getLine(d.doc,a);var c=visualLineEnd(b);if(c!=b){a=lineNo(c)}return endOfLine(!0,d,b,a,-1)}function lineStartSmart(c,b){var a=lineStart(c,b.line);var f=getLine(c.doc,a.line);var e=getOrder(f,c.doc.direction);if(!e||e[0].level==0){var d=Math.max(0,f.text.search(/\S/));var g=b.line==a.line&&b.ch<=d&&b.ch;return Pos(a.line,g?0:d,a.sticky)}return a}function doHandleBinding(a,b,d){if(typeof b=='string'){b=P[b];if(!b){return !1}}a.display.input.ensurePolled();var e=a.display.shift,c=!1;try{if(a.isReadOnly()){a.state.suppressEdits=!0}if(d){a.display.shift=!1}c=b(a)!=ab}finally{a.display.shift=e;a.state.suppressEdits=!1}return c}function lookupKeyForEditor(a,c,b){for(var d=0;d<a.state.keyMaps.length;d++){var e=lookupKey(c,a.state.keyMaps[d],b,a);if(e){return e}}return a.options.extraKeys&&lookupKey(c,a.options.extraKeys,b,a)||lookupKey(c,a.options.keyMap,b,a)}var aT=new z();function dispatchKey(a,b,e,d){var c=a.state.keySeq;if(c){if(isModifierKey(b)){return 'handled'}if(/\'$/.test(b)){a.state.keySeq=null}else {aT.set(50,function(){if(a.state.keySeq==c){a.state.keySeq=null;a.display.input.reset()}})}if(dispatchKeyInner(a,c+' '+b,e,d)){return !0}}return dispatchKeyInner(a,b,e,d)}function dispatchKeyInner(b,c,d,e){var a=lookupKeyForEditor(b,c,e);if(a=='multi'){b.state.keySeq=c}if(a=='handled'){signalLater(b,'keyHandled',b,c,d)}if(a=='handled'||a=='multi'){e_preventDefault(d);restartBlink(b)}return !!a}function handleKeyBinding(a,b){var c=keyName(b,!0);if(!c){return !1}if(b.shiftKey&&!a.state.keySeq){return dispatchKey(a,'Shift-'+c,b,function(c){return doHandleBinding(a,c,!0)})||dispatchKey(a,c,b,function(c){if(typeof c=='string'?/^go[A-Z]/.test(c):c.motion){return doHandleBinding(a,c)}})}else {return dispatchKey(a,c,b,function(c){return doHandleBinding(a,c)})}}function handleCharBinding(a,c,b){return dispatchKey(a,"'"+b+"'",c,function(d){return doHandleBinding(a,d,!0)})}var ag=null;function onKeyDown(a){var c=this;c.curOp.focus=activeElt();if(signalDOMEvent(c,a)){return}if(b&&e<11&&a.keyCode==27){a.returnValue=!1}var d=a.keyCode;c.display.shift=d==16||a.shiftKey;var f=handleKeyBinding(c,a);if(n){ag=f?d:null;if(!f&&d==88&&!aL&&(o?a.metaKey:a.ctrlKey)){c.replaceSelection('',null,'cut')}}if(d==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)){showCrossHair(c)}}function showCrossHair(c){var b=c.display.lineDiv;addClass(b,'CodeMirror-crosshair');function up(a){if(a.keyCode==18||!a.altKey){A(b,'CodeMirror-crosshair');off(document,'keyup',up);off(document,'mouseover',up)}}a(document,'keyup',up);a(document,'mouseover',up)}function onKeyUp(a){if(a.keyCode==16){this.doc.sel.shift=!1}signalDOMEvent(this,a)}function onKeyPress(a){var b=this;if(eventInWidget(b.display,a)||signalDOMEvent(b,a)||a.ctrlKey&&!a.altKey||o&&a.metaKey){return}var d=a.keyCode,c=a.charCode;if(n&&d==ag){ag=null;e_preventDefault(a);return}if(n&&(!a.which||a.which<10)&&handleKeyBinding(b,a)){return}var e=String.fromCharCode(c==null?d:c);if(e=='\b'){return}if(handleCharBinding(b,a,e)){return}b.display.input.onKeyPress(a)}var aG=400;var ak=function(b,c,a){this.time=b;this.pos=c;this.button=a};ak.prototype.compare=function(b,c,a){return this.time+aG>b&&cmp(c,this.pos)==0&&a==this.button};var O,J;function clickRepeat(c,a){var b=+new Date();if(J&&J.compare(b,c,a)){O=J=null;return 'triple'}else {if(O&&O.compare(b,c,a)){J=new ak(b,c,a);O=null;return 'double'}else {O=new ak(b,c,a);J=null;return 'single'}}}function onMouseDown(a){var b=this,c=b.display;if(signalDOMEvent(b,a)||c.activeTouch&&c.input.supportsTouch()){return}c.input.ensurePolled();c.shift=a.shiftKey;if(eventInWidget(c,a)){if(!i){c.scroller.draggable=!1;setTimeout(function(){return c.scroller.draggable=!0},100)}return}if(clickInGutter(b,a)){return}var d=posFromMouse(b,a),e=e_button(a),f=d?clickRepeat(d,e):'single';window.focus();if(e==1&&b.state.selectingText){b.state.selectingText(a)}if(d&&handleMappedButton(b,e,d,f,a)){return}if(e==1){if(d){leftButtonDown(b,d,f,a)}else {if(e_target(a)==c.scroller){e_preventDefault(a)}}}else {if(e==2){if(d){extendSelection(b.doc,d)}setTimeout(function(){return c.input.focus()},20)}else {if(e==3){if(ae){b.display.input.onContextMenu(a)}else {delayBlurEvent(b)}}}}}function handleMappedButton(b,c,f,d,e){var a='Click';if(d=='double'){a='Double'+a}else {if(d=='triple'){a='Triple'+a}}a=(c==1?'Left':c==2?'Middle':'Right')+a;return dispatchKey(b,addModifierNames(a,e),e,function(a){if(typeof a=='string'){a=P[a]}if(!a){return !1}var g=!1;try{if(b.isReadOnly()){b.state.suppressEdits=!0}g=a(b,f)!=ab}finally{b.state.suppressEdits=!1}return g})}function configureMouse(c,d,a){var e=c.getOption('configureMouse');var b=e?e(c,d,a):{};if(b.unit==null){var f=aP?a.shiftKey&&a.metaKey:a.altKey;b.unit=f?'rectangle':d=='single'?'char':d=='double'?'word':'line'}if(b.extend==null||c.doc.extend){b.extend=c.doc.extend||a.shiftKey}if(b.addNew==null){b.addNew=o?a.metaKey:a.ctrlKey}if(b.moveOnDrag==null){b.moveOnDrag=!(o?a.altKey:a.ctrlKey)}return b}function leftButtonDown(a,c,g,e){if(b){setTimeout(bind(ensureFocus,a),0)}else {a.curOp.focus=activeElt()}var f=configureMouse(a,g,e);var h=a.doc.sel,d;if(a.options.dragDrop&&aN&&!a.isReadOnly()&&g=='single'&&(d=h.contains(c))>-1&&(cmp((d=h.ranges[d]).from(),c)<0||c.xRel>0)&&(cmp(d.to(),c)>0||c.xRel<0)){leftButtonStartDrag(a,e,c,f)}else {leftButtonSelect(a,e,c,f)}}function leftButtonStartDrag(f,l,m,h){var c=f.display,g=!1;var d=operation(f,function(a){if(i){c.scroller.draggable=!1}f.state.draggingText=!1;off(c.wrapper.ownerDocument,'mouseup',d);off(c.wrapper.ownerDocument,'mousemove',k);off(c.scroller,'dragstart',j);off(c.scroller,'drop',d);if(!g){e_preventDefault(a);if(!h.addNew){extendSelection(f.doc,m,null,null,h.extend)}if(i||b&&e==9){setTimeout(function(){c.wrapper.ownerDocument.body.focus();c.input.focus()},20)}else {c.input.focus()}}});var k=function(a){g=g||Math.abs(l.clientX-a.clientX)+Math.abs(l.clientY-a.clientY)>=10};var j=function(){return g=!0};if(i){c.scroller.draggable=!0}f.state.draggingText=d;d.copy=!h.moveOnDrag;if(c.scroller.dragDrop){c.scroller.dragDrop()}a(c.wrapper.ownerDocument,'mouseup',d);a(c.wrapper.ownerDocument,'mousemove',k);a(c.scroller,'dragstart',j);a(c.scroller,'drop',d);delayBlurEvent(f);setTimeout(function(){return c.input.focus()},20)}function rangeForUnit(d,a,b){if(b=='char'){return new c(a,a)}if(b=='word'){return d.findWordAt(a)}if(b=='line'){return new c(Pos(a.line,0),clipPos(d.doc,Pos(a.line+1,0)))}var e=b(d,a);return new c(e.from,e.to)}function leftButtonSelect(b,r,f,g){var i=b.display,d=b.doc;e_preventDefault(r);var h,e,k=d.sel,j=k.ranges;if(g.addNew&&!g.extend){e=d.sel.contains(f);if(e>-1){h=j[e]}else {h=new c(f,f)}}else {h=d.sel.primary();e=d.sel.primIndex}if(g.unit=='rectangle'){if(!g.addNew){h=new c(f,f)}f=posFromMouse(b,r,!0,!0);e=-1}else {var n=rangeForUnit(b,f,g.unit);if(g.extend){h=extendRange(h,n.anchor,n.head,g.extend)}else {h=n}}if(!g.addNew){e=0;setSelection(d,new l([h],0),am);k=d.sel}else {if(e==-1){e=j.length;setSelection(d,normalizeSelection(b,j.concat([h]),e),{scroll:!1,origin:'*mouse'})}else {if(j.length>1&&j[e].empty()&&g.unit=='char'&&!g.extend){setSelection(d,normalizeSelection(b,j.slice(0,e).concat(j.slice(e+1)),0),{scroll:!1,origin:'*mouse'});k=d.sel}else {replaceOneSelection(d,e,h,am)}}}var o=f;function extendTo(a){if(cmp(o,a)==0){return}o=a;if(g.unit=='rectangle'){var l=[],n=b.options.tabSize;var v=countColumn(getLine(d,f.line).text,f.ch,n);var w=countColumn(getLine(d,a.line).text,a.ch,n);var y=Math.min(v,w),x=Math.max(v,w);for(var i=Math.min(f.line,a.line),z=Math.min(b.lastLine(),Math.max(f.line,a.line));i<=z;i++){var t=getLine(d,i).text,m=findColumn(t,y,n);if(y==x){l.push(new c(Pos(i,m),Pos(i,m)))}else {if(t.length>m){l.push(new c(Pos(i,m),Pos(i,findColumn(t,x,n))))}}}if(!l.length){l.push(new c(f,f))}setSelection(d,normalizeSelection(b,k.ranges.slice(0,e).concat(l),e),{origin:'*mouse',scroll:!1});b.scrollIntoView(a)}else {var q=h;var j=rangeForUnit(b,a,g.unit);var p=q.anchor,s;if(cmp(j.anchor,p)>0){s=j.head;p=minPos(q.from(),j.anchor)}else {s=j.anchor;p=maxPos(q.to(),j.head)}var u=k.ranges.slice(0);u[e]=bidiSimplify(b,new c(clipPos(d,p),s));setSelection(d,normalizeSelection(b,u,e),am)}}var q=i.wrapper.getBoundingClientRect();var m=0;function extend(c){var e=++m;var a=posFromMouse(b,c,!0,g.unit=='rectangle');if(!a){return}if(cmp(a,o)!=0){b.curOp.focus=activeElt();extendTo(a);var j=visibleLines(i,d);if(a.line>=j.to||a.line<j.from){setTimeout(operation(b,function(){if(m==e){extend(c)}}),150)}}else {var h=c.clientY<q.top?-20:c.clientY>q.bottom?20:0;if(h){setTimeout(operation(b,function(){if(m!=e){return}i.scroller.scrollTop+=h;extend(c)}),50)}}}function done(a){b.state.selectingText=!1;m=Infinity;e_preventDefault(a);i.input.focus();off(i.wrapper.ownerDocument,'mousemove',s);off(i.wrapper.ownerDocument,'mouseup',p);d.history.lastSelOrigin=null}var s=operation(b,function(a){if(a.buttons===0||!e_button(a)){done(a)}else {extend(a)}});var p=operation(b,done);b.state.selectingText=p;a(i.wrapper.ownerDocument,'mousemove',s);a(i.wrapper.ownerDocument,'mouseup',p)}function bidiSimplify(p,d){var a=d.anchor;var b=d.head;var q=getLine(p.doc,a.line);if(cmp(a,b)==0&&a.sticky==b.sticky){return d}var e=getOrder(q);if(!e){return d}var k=getBidiPartAt(e,a.ch,a.sticky),h=e[k];if(h.from!=a.ch&&h.to!=a.ch){return d}var f=k+(h.from==a.ch==(h.level!=1)?0:1);if(f==0||f==e.length){return d}var g;if(b.line!=a.line){g=(b.line-a.line)*(p.doc.direction=='ltr'?1:-1)>0}else {var i=getBidiPartAt(e,b.ch,b.sticky);var n=i-k||(b.ch-a.ch)*(h.level==1?-1:1);if(i==f-1||i==f){g=n<0}else {g=n>0}}var j=e[f+(g?-1:0)];var m=g==(j.level==1);var o=m?j.from:j.to,l=m?'after':'before';return a.ch==o&&a.sticky==l?d:new c(new Pos(a.line,o,l),b)}function gutterEvent(b,a,h,j){var d,c;if(a.touches){d=a.touches[0].clientX;c=a.touches[0].clientY}else {try{d=a.clientX;c=a.clientY}catch(aV){return !1}}if(d>=Math.floor(b.display.gutters.getBoundingClientRect().right)){return !1}if(j){e_preventDefault(a)}var f=b.display;var g=f.lineDiv.getBoundingClientRect();if(c>g.bottom||!hasHandler(b,h)){return e_defaultPrevented(a)}c-=g.top-f.viewOffset;for(var e=0;e<b.options.gutters.length;++e){var i=f.gutters.childNodes[e];if(i&&i.getBoundingClientRect().right>=d){var l=lineAtHeight(b.doc,c);var k=b.options.gutters[e];signal(b,h,b,l,k,a);return e_defaultPrevented(a)}}}function clickInGutter(a,b){return gutterEvent(a,b,'gutterClick',!0)}function onContextMenu(a,b){if(eventInWidget(a.display,b)||contextMenuInGutter(a,b)){return}if(signalDOMEvent(a,b,'contextmenu')){return}if(!ae){a.display.input.onContextMenu(b)}}function contextMenuInGutter(a,b){if(!hasHandler(a,'gutterContextMenu')){return !1}return gutterEvent(a,b,'gutterContextMenu',!1)}function themeChanged(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,'')+a.options.theme.replace(/(^|\s)\s*/g,' cm-s-');clearCaches(a)}var F={toString:function(){return 'CodeMirror.Init'}};var aw={};var W={};function defineOptions(a){var b=a.optionHandlers;function option(d,f,c,e){a.defaults[d]=f;if(c){b[d]=e?function(h,g,b){if(b!=F){c(h,g,b)}}:c}}a.defineOption=option;a.Init=F;option('value','',function(c,b){return c.setValue(b)},!0);option('mode',null,function(b,c){b.doc.modeOption=c;loadMode(b)},!0);option('indentUnit',2,loadMode,!0);option('indentWithTabs',!1);option('smartIndent',!0);option('tabSize',4,function(b){resetModeState(b);clearCaches(b);regChange(b)},!0);option('lineSeparator',null,function(e,b){e.doc.lineSep=b;if(!b){return}var c=[],f=e.doc.first;e.doc.iter(function(h){for(var g=0;;){var d=h.text.indexOf(b,g);if(d==-1){break}g=d+b.length;c.push(Pos(f,d))}f++});for(var d=c.length-1;d>=0;d--){replaceRange(e.doc,b,c[d],Pos(c[d].line,c[d].ch+b.length))}});option('specialChars',/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(c,b,d){c.state.specialChars=new RegExp(b.source+(b.test('\t')?'':'|\t'),'g');if(d!=F){c.refresh()}});option('specialCharPlaceholder',defaultSpecialCharPlaceholder,function(b){return b.refresh()},!0);option('electricChars',!0);option('inputStyle',R?'contenteditable':'textarea',function(){throw new Error('inputStyle can not (yet) be changed in a running editor')},!0);option('spellcheck',!1,function(c,b){return c.getInputField().spellcheck=b},!0);option('rtlMoveVisually',!aU);option('wholeLineUpdateBefore',!0);option('theme','default',function(b){themeChanged(b);guttersChanged(b)},!0);option('keyMap','default',function(e,f,d){var c=getKeyMap(f);var b=d!=F&&getKeyMap(d);if(b&&b.detach){b.detach(e,c)}if(c.attach){c.attach(e,b||null)}});option('extraKeys',null);option('configureMouse',null);option('lineWrapping',!1,wrappingChanged,!0);option('gutters',[],function(b){setGuttersForLineNumbers(b.options);guttersChanged(b)},!0);option('fixedGutter',!0,function(b,c){b.display.gutters.style.left=c?compensateForHScroll(b.display)+'px':'0';b.refresh()},!0);option('coverGutterNextToScrollbar',!1,function(b){return updateScrollbars(b)},!0);option('scrollbarStyle','native',function(b){initScrollbars(b);updateScrollbars(b);b.display.scrollbars.setScrollTop(b.doc.scrollTop);b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0);option('lineNumbers',!1,function(b){setGuttersForLineNumbers(b.options);guttersChanged(b)},!0);option('firstLineNumber',1,guttersChanged,!0);option('lineNumberFormatter',function(b){return b},guttersChanged,!0);option('showCursorWhenSelecting',!1,updateSelection,!0);option('resetSelectionOnContextMenu',!0);option('lineWiseCopyCut',!0);option('pasteLinesPerSelection',!0);option('selectionsMayTouch',!1);option('readOnly',!1,function(b,c){if(c=='nocursor'){onBlur(b);b.display.input.blur()}b.display.input.readOnlyChanged(c)});option('disableInput',!1,function(c,b){if(!b){c.display.input.reset()}},!0);option('dragDrop',!0,dragDropChanged);option('allowDropFileTypes',null);option('cursorBlinkRate',530);option('cursorScrollMargin',0);option('cursorHeight',1,updateSelection,!0);option('singleCursorHeightPerLine',!0,updateSelection,!0);option('workTime',100);option('workDelay',100);option('flattenSpans',!0,resetModeState,!0);option('addModeClass',!1,resetModeState,!0);option('pollInterval',100);option('undoDepth',200,function(c,b){return c.doc.history.undoDepth=b});option('historyEventDelay',1250);option('viewportMargin',10,function(b){return b.refresh()},!0);option('maxHighlightLength',10000,resetModeState,!0);option('moveInputWithCursor',!0,function(c,b){if(!b){c.display.input.resetPosition()}});option('tabindex',null,function(c,b){return c.display.input.getField().tabIndex=b||''});option('autofocus',null);option('direction','ltr',function(c,b){return c.doc.setDirection(b)},!0);option('phrases',null)}function guttersChanged(a){updateGutters(a);regChange(a);alignHorizontally(a)}function dragDropChanged(b,e,f){var g=f&&f!=F;if(!e!=!g){var d=b.display.dragFunctions;var c=e?a:off;c(b.display.scroller,'dragstart',d.start);c(b.display.scroller,'dragenter',d.enter);c(b.display.scroller,'dragover',d.over);c(b.display.scroller,'dragleave',d.leave);c(b.display.scroller,'drop',d.drop)}}function wrappingChanged(a){if(a.options.lineWrapping){addClass(a.display.wrapper,'CodeMirror-wrap');a.display.sizer.style.minWidth='';a.display.sizerWidth=null}else {A(a.display.wrapper,'CodeMirror-wrap');findMaxLine(a)}estimateLineHeights(a);regChange(a);clearCaches(a);setTimeout(function(){return updateScrollbars(a)},100)}function CodeMirror(k,a){var f=this;if(!(this instanceof CodeMirror)){return new CodeMirror(k,a)}this.options=a=a?copyObj(a):{};copyObj(aw,a,!1);setGuttersForLineNumbers(a);var c=a.value;if(typeof c=='string'){c=new j(c,a.mode,null,a.lineSeparator,a.direction)}else {if(a.mode){c.modeOption=a.mode}}this.doc=c;var l=new CodeMirror.inputStyles[a.inputStyle](this);var d=this.display=new Display(k,c,l);d.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(a.lineWrapping){this.display.wrapper.className+=' CodeMirror-wrap'}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new z(),keySeq:null,specialChars:null};if(a.autofocus&&!R){d.input.focus()}if(b&&e<11){setTimeout(function(){return f.display.input.reset(!0)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=!0;attachDoc(this,c);if(a.autofocus&&!R||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else {onBlur(this)}for(var g in W){if(W.hasOwnProperty(g)){W[g](f,a[g],F)}}maybeUpdateLineNumberWidth(this);if(a.finishInit){a.finishInit(this)}for(var h=0;h<al.length;++h){al[h](f)}endOperation(this);if(i&&a.lineWrapping&&getComputedStyle(d.lineDiv).textRendering=='optimizelegibility'){d.lineDiv.style.textRendering='auto'}}CodeMirror.defaults=aw;CodeMirror.optionHandlers=W;function registerEventHandlers(d){var f=d.display;a(f.scroller,'mousedown',operation(d,onMouseDown));if(b&&e<11){a(f.scroller,'dblclick',operation(d,function(a){if(signalDOMEvent(d,a)){return}var c=posFromMouse(d,a);if(!c||clickInGutter(d,a)||eventInWidget(d.display,a)){return}e_preventDefault(a);var b=d.findWordAt(c);extendSelection(d.doc,b.anchor,b.head)}))}else {a(f.scroller,'dblclick',function(a){return signalDOMEvent(d,a)||e_preventDefault(a)})}a(f.scroller,'contextmenu',function(a){return onContextMenu(d,a)});var i,h={end:0};function finishTouch(){if(f.activeTouch){i=setTimeout(function(){return f.activeTouch=null},1000);h=f.activeTouch;h.end=+new Date()}}function isMouseLikeTouchEvent(b){if(b.touches.length!=1){return !1}var a=b.touches[0];return a.radiusX<=1&&a.radiusY<=1}function farAway(b,a){if(a.left==null){return !0}var c=a.left-b.left,e=a.top-b.top;return c*c+e*e>20*20}a(f.scroller,'touchstart',function(a){if(!signalDOMEvent(d,a)&&!isMouseLikeTouchEvent(a)&&!clickInGutter(d,a)){f.input.ensurePolled();clearTimeout(i);var b=+new Date();f.activeTouch={start:b,moved:!1,prev:b-h.end<=300?h:null};if(a.touches.length==1){f.activeTouch.left=a.touches[0].pageX;f.activeTouch.top=a.touches[0].pageY}}});a(f.scroller,'touchmove',function(){if(f.activeTouch){f.activeTouch.moved=!0}});a(f.scroller,'touchend',function(g){var a=f.activeTouch;if(a&&!eventInWidget(f,g)&&a.left!=null&&!a.moved&&new Date()-a.start<300){var e=d.coordsChar(f.activeTouch,'page'),b;if(!a.prev||farAway(a,a.prev)){b=new c(e,e)}else {if(!a.prev.prev||farAway(a,a.prev.prev)){b=d.findWordAt(e)}else {b=new c(Pos(e.line,0),clipPos(d.doc,Pos(e.line+1,0)))}}d.setSelection(b.anchor,b.head);d.focus();e_preventDefault(g)}finishTouch()});a(f.scroller,'touchcancel',finishTouch);a(f.scroller,'scroll',function(){if(f.scroller.clientHeight){updateScrollTop(d,f.scroller.scrollTop);setScrollLeft(d,f.scroller.scrollLeft,!0);signal(d,'scroll',d)}});a(f.scroller,'mousewheel',function(a){return onScrollWheel(d,a)});a(f.scroller,'DOMMouseScroll',function(a){return onScrollWheel(d,a)});a(f.wrapper,'scroll',function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0});f.dragFunctions={enter:function(a){if(!signalDOMEvent(d,a)){e_stop(a)}},over:function(a){if(!signalDOMEvent(d,a)){onDragOver(d,a);e_stop(a)}},start:function(a){return onDragStart(d,a)},drop:operation(d,onDrop),leave:function(a){if(!signalDOMEvent(d,a)){clearDragCursor(d)}}};var g=f.input.getField();a(g,'keyup',function(a){return onKeyUp.call(d,a)});a(g,'keydown',operation(d,onKeyDown));a(g,'keypress',operation(d,onKeyPress));a(g,'focus',function(a){return onFocus(d,a)});a(g,'blur',function(a){return onBlur(d,a)})}var al=[];CodeMirror.defineInitHook=function(a){return al.push(a)};function indentLine(g,f,b,n){var d=g.doc,q;if(b==null){b='add'}if(b=='smart'){if(!d.mode.indent){b='prev'}else {q=getContextBefore(g,f).state}}var j=g.options.tabSize;var e=getLine(d,f),l=countColumn(e.text,null,j);if(e.stateAfter){e.stateAfter=null}var h=e.text.match(/^\s*/)[0],a;if(!n&&!/\S/.test(e.text)){a=0;b='not'}else {if(b=='smart'){a=d.mode.indent(q,e.text.slice(h.length),e.text);if(a==ab||a>150){if(!n){return}b='prev'}}}if(b=='prev'){if(f>d.first){a=countColumn(getLine(d,f-1).text,null,j)}else {a=0}}else {if(b=='add'){a=l+g.options.indentUnit}else {if(b=='subtract'){a=l-g.options.indentUnit}else {if(typeof b=='number'){a=l+b}}}}a=Math.max(0,a);var i='',m=0;if(g.options.indentWithTabs){for(var r=Math.floor(a/j);r;--r){m+=j;i+='\t'}}if(m<a){i+=spaceStr(a-m)}if(i!=h){replaceRange(d,i,Pos(f,0),Pos(f,h.length),'+input');e.stateAfter=null;return !0}else {for(var k=0;k<d.sel.ranges.length;k++){var p=d.sel.ranges[k];if(p.head.line==f&&p.head.ch<h.length){var o=Pos(f,h.length);replaceOneSelection(d,k,new c(o,o));break}}}}var m=null;function setLastCopied(a){m=a}function applyTextInput(a,f,k,b,q){var l=a.doc;a.display.shift=!1;if(!b){b=l.sel}var g=a.state.pasteIncoming||q=='paste';var h=ah(f),c=null;if(g&&b.ranges.length>1){if(m&&m.text.join('\n')==f){if(b.ranges.length%m.text.length==0){c=[];for(var n=0;n<m.text.length;n++){c.push(l.splitLines(m.text[n]))}}}else {if(h.length==b.ranges.length&&a.options.pasteLinesPerSelection){c=map(h,function(c){return [c]})}}}var p;for(var i=b.ranges.length-1;i>=0;i--){var j=b.ranges[i];var d=j.from(),e=j.to();if(j.empty()){if(k&&k>0){d=Pos(d.line,d.ch-k)}else {if(a.state.overwrite&&!g){e=Pos(e.line,Math.min(getLine(l,e.line).text.length,e.ch+lst(h).length))}else {if(g&&m&&m.lineWise&&m.text.join('\n')==f){d=e=Pos(d.line,0)}}}}p=a.curOp.updateInput;var o={from:d,to:e,text:c?c[i%c.length]:h,origin:q||(g?'paste':a.state.cutIncoming?'cut':'+input')};makeChange(a.doc,o);signalLater(a,'inputRead',a,o)}if(f&&!g){triggerElectric(a,f)}ensureCursorVisible(a);a.curOp.updateInput=p;a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=!1}function handlePaste(b,a){var c=b.clipboardData&&b.clipboardData.getData('Text');if(c){b.preventDefault();if(!a.isReadOnly()&&!a.options.disableInput){runInOp(a,function(){return applyTextInput(a,c,0,null,'paste')})}return !0}}function triggerElectric(a,h){if(!a.options.electricChars||!a.options.smartIndent){return}var f=a.doc.sel;for(var d=f.ranges.length-1;d>=0;d--){var b=f.ranges[d];if(b.head.ch>100||d&&f.ranges[d-1].head.line==b.head.line){continue}var c=a.getModeAt(b.head);var e=!1;if(c.electricChars){for(var g=0;g<c.electricChars.length;g++){if(h.indexOf(c.electricChars.charAt(g))>-1){e=indentLine(a,b.head.line,'smart');break}}}else {if(c.electricInput){if(c.electricInput.test(getLine(a.doc,b.head.line).text.slice(0,b.head.ch))){e=indentLine(a,b.head.line,'smart')}}}if(e){signalLater(a,'electricInput',a,b.head.line)}}}function copyableRanges(b){var f=[],d=[];for(var c=0;c<b.doc.sel.ranges.length;c++){var e=b.doc.sel.ranges[c].head.line;var a={anchor:Pos(e,0),head:Pos(e+1,0)};d.push(a);f.push(b.getRange(a.anchor,a.head))}return {text:f,ranges:d}}function disableBrowserMagic(a,b){a.setAttribute('autocorrect','off');a.setAttribute('autocapitalize','off');a.setAttribute('spellcheck',!!b)}function hiddenTextarea(){var a=elt('textarea',null,null,'position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none');var b=elt('div',[a],null,'overflow: hidden; position: relative; width: 3px; height: 0px;');if(i){a.style.width='1000px'}else {a.setAttribute('wrap','off')}if(U){a.style.border='1px solid black'}disableBrowserMagic(a);return b}function addEditorMethods(a){var d=a.optionHandlers;var b=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(b,e){var c=this.options,f=c[b];if(c[b]==e&&b!='mode'){return}c[b]=e;if(d.hasOwnProperty(b)){operation(this,d[b])(this,e,f)}signal(this,'optionChange',this,b)},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(c,b){this.state.keyMaps[b?'push':'unshift'](getKeyMap(c))},removeKeyMap:function(d){var c=this.state.keyMaps;for(var b=0;b<c.length;++b){if(c[b]==d||c[b].name==d){c.splice(b,1);return !0}}},addOverlay:methodOp(function(c,b){var d=c.token?c:a.getMode(this.options,c);if(d.startState){throw new Error('Overlays may not be stateful.')}insertSorted(this.state.overlays,{mode:d,modeSpec:c,opaque:b&&b.opaque,priority:b&&b.priority||0},function(d){return d.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(d){var e=this;var c=this.state.overlays;for(var b=0;b<c.length;++b){var f=c[b].modeSpec;if(f==d||typeof d=='string'&&f.name==d){c.splice(b,1);e.state.modeGen++;regChange(e);return}}}),indentLine:methodOp(function(c,b,d){if(typeof b!='string'&&typeof b!='number'){if(b==null){b=this.options.smartIndent?'smart':'prev'}else {b=b?'add':'subtract'}}if(isLine(this.doc,c)){indentLine(this,c,b,d)}}),indentSelection:methodOp(function(k){var b=this;var h=this.doc.sel.ranges,f=-1;for(var d=0;d<h.length;d++){var e=h[d];if(!e.empty()){var i=e.from(),l=e.to();var m=Math.max(f,i.line);f=Math.min(b.lastLine(),l.line-(l.ch?0:1))+1;for(var j=m;j<f;++j){indentLine(b,j,k)}var g=b.doc.sel.ranges;if(i.ch==0&&h.length==g.length&&g[d].from().ch>0){replaceOneSelection(b.doc,d,new c(i,g[d].to()),p)}}else {if(e.head.line>f){indentLine(b,e.head.line,k,!0);f=e.head.line;if(d==b.doc.sel.primIndex){ensureCursorVisible(b)}}}}}),getTokenAt:function(c,b){return takeToken(this,c,b)},getLineTokens:function(c,b){return takeToken(this,Pos(c),b,!0)},getTokenTypeAt:function(e){e=clipPos(this.doc,e);var d=getLineStyles(this,getLine(this.doc,e.line));var h=0,i=(d.length-1)/2,g=e.ch;var b;if(g==0){b=d[2]}else {for(;;){var c=h+i>>1;if((c?d[c*2-1]:0)>=g){i=c}else {if(d[c*2+1]<g){h=c+1}else {b=d[c*2+2];break}}}}var f=b?b.indexOf('overlay '):-1;return f<0?b:f==0?null:b.slice(0,f-1)},getModeAt:function(c){var b=this.doc.mode;if(!b.innerMode){return b}return a.innerMode(b,this.getTokenAt(c).state).mode},getHelper:function(c,b){return this.getHelpers(c,b)[0]},getHelpers:function(l,f){var k=this;var e=[];if(!b.hasOwnProperty(f)){return e}var d=b[f],c=this.getModeAt(l);if(typeof c[f]=='string'){if(d[c[f]]){e.push(d[c[f]])}}else {if(c[f]){for(var i=0;i<c[f].length;i++){var j=d[c[f][i]];if(j){e.push(j)}}}else {if(c.helperType&&d[c.helperType]){e.push(d[c.helperType])}else {if(d[c.name]){e.push(d[c.name])}}}}for(var h=0;h<d._global.length;h++){var g=d._global[h];if(g.pred(c,k)&&indexOf(e,g.val)==-1){e.push(g.val)}}return e},getStateAfter:function(b,d){var c=this.doc;b=clipLine(c,b==null?c.first+c.size-1:b);return getContextBefore(this,b+1,d).state},cursorCoords:function(b,e){var c,d=this.doc.sel.primary();if(b==null){c=d.head}else {if(typeof b=='object'){c=clipPos(this.doc,b)}else {c=b?d.from():d.to()}}return cursorCoords(this,c,e||'page')},charCoords:function(c,b){return charCoords(this,clipPos(this.doc,c),b||'page')},coordsChar:function(b,c){b=fromCoordSystem(this,b,c||'page');return coordsChar(this,b.left,b.top)},lineAtHeight:function(b,c){b=fromCoordSystem(this,{top:b,left:0},c||'page').top;return lineAtHeight(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,g,f){var d=!1,c;if(typeof b=='number'){var e=this.doc.first+this.doc.size-1;if(b<this.doc.first){b=this.doc.first}else {if(b>e){b=e;d=!0}}c=getLine(this.doc,b)}else {c=b}return intoCoordSystem(this,c,{top:0,left:0},g||'page',f||d).top+(d?this.doc.height-heightAtLine(c):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return {from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,b,k,g,h){var e=this.display;c=cursorCoords(this,clipPos(this.doc,c));var f=c.bottom,d=c.left;b.style.position='absolute';b.setAttribute('cm-ignore-events','true');this.display.input.setUneditable(b);e.sizer.appendChild(b);if(g=='over'){f=c.top}else {if(g=='above'||g=='near'){var j=Math.max(e.wrapper.clientHeight,this.doc.height),i=Math.max(e.sizer.clientWidth,e.lineSpace.clientWidth);if((g=='above'||c.bottom+b.offsetHeight>j)&&c.top>b.offsetHeight){f=c.top-b.offsetHeight}else {if(c.bottom+b.offsetHeight<=j){f=c.bottom}}if(d+b.offsetWidth>i){d=i-b.offsetWidth}}}b.style.top=f+'px';b.style.left=b.style.right='';if(h=='right'){d=e.sizer.clientWidth-b.offsetWidth;b.style.right='0px'}else {if(h=='left'){d=0}else {if(h=='middle'){d=(e.sizer.clientWidth-b.offsetWidth)/2}}b.style.left=d+'px'}if(k){scrollIntoView(this,{left:d,top:f,right:d+b.offsetWidth,bottom:f+b.offsetHeight})}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(b){if(P.hasOwnProperty(b)){return P[b].call(null,this)}},triggerElectric:methodOp(function(b){triggerElectric(this,b)}),findPosH:function(h,b,i,f){var g=this;var d=1;if(b<0){d=-1;b=-b}var c=clipPos(this.doc,h);for(var e=0;e<b;++e){c=findPosH(g.doc,c,d,i,f);if(c.hitSide){break}}return c},moveH:methodOp(function(c,d){var b=this;this.extendSelectionsBy(function(e){if(b.display.shift||b.doc.extend||e.empty()){return findPosH(b.doc,e.head,c,d,b.options.rtlMoveVisually)}else {return c<0?e.from():e.to()}},Q)}),deleteH:methodOp(function(b,d){var e=this.doc.sel,c=this.doc;if(e.somethingSelected()){c.replaceSelection('',null,'+delete')}else {deleteNearSelection(this,function(e){var f=findPosH(c,e.head,b,d,!1);return b<0?{from:f,to:e.head}:{from:e.head,to:f}})}}),findPosV:function(j,b,k,i){var f=this;var g=1,e=i;if(b<0){g=-1;b=-b}var c=clipPos(this.doc,j);for(var h=0;h<b;++h){var d=cursorCoords(f,c,'div');if(e==null){e=d.left}else {d.left=e}c=findPosV(f,d,g,k);if(c.hitSide){break}}return c},moveV:methodOp(function(g,f){var c=this;var b=this.doc,e=[];var h=!this.display.shift&&!b.extend&&b.sel.somethingSelected();b.extendSelectionsBy(function(d){if(h){return g<0?d.from():d.to()}var i=cursorCoords(c,d.head,'div');if(d.goalColumn!=null){i.left=d.goalColumn}e.push(i.left);var j=findPosV(c,i,g,f);if(f=='page'&&d==b.sel.primary()){addToScrollTop(c,charCoords(c,j,'div').top-i.top)}return j},Q);if(e.length){for(var d=0;d<b.sel.ranges.length;d++){b.sel.ranges[d].goalColumn=e[d]}}}),findWordAt:function(d){var j=this.doc,e=getLine(j,d.line).text;var b=d.ch,f=d.ch;if(e){var h=this.getHelper(d,'wordChars');if((d.sticky=='before'||f==e.length)&&b){--b}else {++f}var g=e.charAt(b);var i=isWordChar(g,h)?function(b){return isWordChar(b,h)}:/\s/.test(g)?function(b){return /\s/.test(b)}:function(b){return !/\s/.test(b)&&!isWordChar(b)};while(b>0&&i(e.charAt(b-1))){--b}while(f<e.length&&i(e.charAt(f))){++f}}return new c(Pos(d.line,b),Pos(d.line,f))},toggleOverwrite:function(b){if(b!=null&&b==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,'CodeMirror-overwrite')}else {A(this.display.cursorDiv,'CodeMirror-overwrite')}signal(this,'overwriteToggle',this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return !!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(b,c){scrollToCoords(this,b,c)}),getScrollInfo:function(){var b=this.display.scroller;return {left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-scrollGap(this)-this.display.barHeight,width:b.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(b,c){if(b==null){b={from:this.doc.sel.primary().head,to:null};if(c==null){c=this.options.cursorScrollMargin}}else {if(typeof b=='number'){b={from:Pos(b,0),to:null}}else {if(b.from==null){b={from:b,to:null}}}}if(!b.to){b.to=b.from}b.margin=c||0;if(b.from.line!=null){scrollToRange(this,b)}else {scrollToCoordsRange(this,b.from,b.to,b.margin)}}),setSize:methodOp(function(e,d){var f=this;var c=function(b){return typeof b=='number'||/^\d+$/.test(String(b))?b+'px':b};if(e!=null){this.display.wrapper.style.width=c(e)}if(d!=null){this.display.wrapper.style.height=c(d)}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var b=this.display.viewFrom;this.doc.iter(b,this.display.viewTo,function(c){if(c.widgets){for(var g=0;g<c.widgets.length;g++){if(c.widgets[g].noHScroll){regLineChange(f,b,'widget');break}}}++b});this.curOp.forceUpdate=!0;signal(this,'refresh',this)}),operation:function(b){return runInOp(this,b)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var b=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=!0;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(b==null||Math.abs(b-textHeight(this.display))>0.5){estimateLineHeights(this)}signal(this,'refresh',this)}),swapDoc:methodOp(function(b){var c=this.doc;c.cm=null;attachDoc(this,b);clearCaches(this);this.display.input.reset();scrollToCoords(this,b.scrollLeft,b.scrollTop);this.curOp.forceScroll=!0;signalLater(this,'swapDoc',this,c);return c}),phrase:function(b){var c=this.options.phrases;return c&&Object.prototype.hasOwnProperty.call(c,b)?c[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(a);a.registerHelper=function(c,e,d){if(!b.hasOwnProperty(c)){b[c]=a[c]={_global:[]}}b[c][e]=d};a.registerGlobalHelper=function(d,f,e,c){a.registerHelper(d,f,c);b[d]._global.push({pred:e,val:c})}}function findPosH(b,a,c,f,l){var m=a;var n=c;var d=getLine(b,a.line);function findNextLine(){var e=a.line+c;if(e<b.first||e>=b.first+b.size){return !1}a=new Pos(e,a.ch,a.sticky);return d=getLine(b,e)}function moveOnce(g){var e;if(l){e=moveVisually(b.cm,d,a,c)}else {e=moveLogically(d,a,c)}if(e==null){if(!g&&findNextLine()){a=endOfLine(l,b.cm,d,a.line,c)}else {return !1}}else {a=e}return !0}if(f=='char'){moveOnce()}else {if(f=='column'){moveOnce(!0)}else {if(f=='word'||f=='group'){var h=null,j=f=='group';var o=b.cm&&b.cm.getHelper(a,'wordChars');for(var g=!0;;g=!1){if(c<0&&!moveOnce(!g)){break}var k=d.text.charAt(a.ch)||'\n';var e=isWordChar(k,o)?'w':j&&k=='\n'?'n':!j||/\s/.test(k)?null:'p';if(j&&!g&&!e){e='s'}if(h&&h!=e){if(c<0){c=1;moveOnce();a.sticky='after'}break}if(e){h=e}if(c>0&&!moveOnce(!g)){break}}}}}var i=skipAtomic(b,a,m,n,!0);if(equalCursorPos(m,i)){i.hitSide=!0}return i}function findPosV(e,c,b,f){var i=e.doc,j=c.left,a;if(f=='page'){var h=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var g=Math.max(h-0.5*textHeight(e.display),3);a=(b>0?c.bottom:c.top)+b*g}else {if(f=='line'){a=b>0?c.bottom+3:c.top-3}}var d;for(;;){d=coordsChar(e,j,a);if(!d.outside){break}if(b<0?a<=0:a>=i.height){d.hitSide=!0;break}a+=b*5}return d}var d=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new z();this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};d.prototype.init=function(g){var c=this;var f=this,b=f.cm;var d=f.div=g.lineDiv;disableBrowserMagic(d,b.options.spellcheck);a(d,'paste',function(a){if(signalDOMEvent(b,a)||handlePaste(a,b)){return}if(e<=11){setTimeout(operation(b,function(){return c.updateFromDOM()}),20)}});a(d,'compositionstart',function(a){c.composing={data:a.data,done:!1}});a(d,'compositionupdate',function(a){if(!c.composing){c.composing={data:a.data,done:!1}}});a(d,'compositionend',function(a){if(c.composing){if(a.data!=c.composing.data){c.readFromDOMSoon()}c.composing.done=!0}});a(d,'touchstart',function(){return f.forceCompositionEnd()});a(d,'input',function(){if(!c.composing){c.readFromDOMSoon()}});function onCopyCut(a){if(signalDOMEvent(b,a)){return}if(b.somethingSelected()){setLastCopied({lineWise:!1,text:b.getSelections()});if(a.type=='cut'){b.replaceSelection('',null,'cut')}}else {if(!b.options.lineWiseCopyCut){return}else {var i=copyableRanges(b);setLastCopied({lineWise:!0,text:i.text});if(a.type=='cut'){b.operation(function(){b.setSelections(i.ranges,0,p);b.replaceSelection('',null,'cut')})}}}if(a.clipboardData){a.clipboardData.clearData();var h=m.text.join('\n');a.clipboardData.setData('Text',h);if(a.clipboardData.getData('Text')==h){a.preventDefault();return}}var c=hiddenTextarea(),j=c.firstChild;b.display.lineSpace.insertBefore(c,b.display.lineSpace.firstChild);j.value=m.text.join('\n');var e=document.activeElement;L(j);setTimeout(function(){b.display.lineSpace.removeChild(c);e.focus();if(e==d){f.showPrimarySelection()}},50)}a(d,'copy',onCopyCut);a(d,'cut',onCopyCut)};d.prototype.prepareSelection=function(){var a=prepareSelection(this.cm,!1);a.focus=this.cm.state.focused;return a};d.prototype.showSelection=function(a,b){if(!a||!this.cm.display.view.length){return}if(a.focus||b){this.showPrimarySelection()}this.showMultipleSelections(a)};d.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};d.prototype.showPrimarySelection=function(){var a=this.getSelection(),b=this.cm,m=b.doc.sel.primary();var j=m.from(),k=m.to();if(b.display.viewTo==b.display.viewFrom||j.line>=b.display.viewTo||k.line<b.display.viewFrom){a.removeAllRanges();return}var g=domToPos(b,a.anchorNode,a.anchorOffset);var h=domToPos(b,a.focusNode,a.focusOffset);if(g&&!g.bad&&h&&!h.bad&&cmp(minPos(g,h),j)==0&&cmp(maxPos(g,h),k)==0){return}var l=b.display.view;var d=j.line>=b.display.viewFrom&&posToDOM(b,j)||{node:l[0].measure.map[2],offset:0};var e=k.line<b.display.viewTo&&posToDOM(b,k);if(!e){var i=l[l.length-1].measure;var c=i.maps?i.maps[i.maps.length-1]:i.map;e={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}if(!d||!e){a.removeAllRanges();return}var n=a.rangeCount&&a.getRangeAt(0),f;try{f=B(d.node,d.offset,e.offset,e.node)}catch(aV){}if(f){if(!v&&b.state.focused){a.collapse(d.node,d.offset);if(!f.collapsed){a.removeAllRanges();a.addRange(f)}}else {a.removeAllRanges();a.addRange(f)}if(n&&a.anchorNode==null){a.addRange(n)}else {if(v){this.startGracePeriod()}}}this.rememberSelection()};d.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;if(a.selectionChanged()){a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})}},20)};d.prototype.showMultipleSelections=function(a){removeChildrenAndAdd(this.cm.display.cursorDiv,a.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,a.selection)};d.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};d.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount){return !1}var b=a.getRangeAt(0).commonAncestorContainer;return contains(this.div,b)};d.prototype.focus=function(){if(this.cm.options.readOnly!='nocursor'){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),!0)}this.div.focus()}};d.prototype.blur=function(){this.div.blur()};d.prototype.getField=function(){return this.div};d.prototype.supportsTouch=function(){return !0};d.prototype.receivedFocus=function(){var a=this;if(this.selectionInEditor()){this.pollSelection()}else {runInOp(this.cm,function(){return a.cm.curOp.selectionChanged=!0})}function poll(){if(a.cm.state.focused){a.pollSelection();a.polling.set(a.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)};d.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};d.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return}var a=this.getSelection(),b=this.cm;if(_&&aa&&this.cm.options.gutters.length&&isInGutter(a.anchorNode)){this.cm.triggerOnKeyDown({type:'keydown',keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var c=domToPos(b,a.anchorNode,a.anchorOffset);var d=domToPos(b,a.focusNode,a.focusOffset);if(c&&d){runInOp(b,function(){setSelection(b.doc,simpleSelection(c,d),p);if(c.bad||d.bad){b.curOp.selectionChanged=!0}})}};d.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var b=this.cm,c=b.display,u=b.doc.sel.primary();var f=u.from(),k=u.to();if(f.ch==0&&f.line>b.firstLine()){f=Pos(f.line-1,getLine(b.doc,f.line-1).length)}if(k.ch==getLine(b.doc,k.line).text.length&&k.line<b.lastLine()){k=Pos(k.line+1,0)}if(f.line<c.viewFrom||k.line>c.viewTo-1){return !1}var n,h,m;if(f.line==c.viewFrom||(n=findViewIndex(b,f.line))==0){h=lineNo(c.view[0].line);m=c.view[0].node}else {h=lineNo(c.view[n].line);m=c.view[n-1].node.nextSibling}var o=findViewIndex(b,k.line);var j,p;if(o==c.view.length-1){j=c.viewTo-1;p=c.lineDiv.lastChild}else {j=lineNo(c.view[o+1].line)-1;p=c.view[o+1].node.previousSibling}if(!m){return !1}var a=b.doc.splitLines(domTextBetween(b,m,p,h,j));var e=getBetween(b.doc,Pos(h,0),Pos(j,getLine(b.doc,j).text.length));while(a.length>1&&e.length>1){if(lst(a)==lst(e)){a.pop();e.pop();j--}else {if(a[0]==e[0]){a.shift();e.shift();h++}else {break}}}var d=0,g=0;var r=a[0],s=e[0],v=Math.min(r.length,s.length);while(d<v&&r.charCodeAt(d)==s.charCodeAt(d)){++d}var i=lst(a),l=lst(e);var w=Math.min(i.length-(a.length==1?d:0),l.length-(e.length==1?d:0));while(g<w&&i.charCodeAt(i.length-g-1)==l.charCodeAt(l.length-g-1)){++g}if(a.length==1&&e.length==1&&h==f.line){while(d&&d>f.ch&&i.charCodeAt(i.length-g-1)==l.charCodeAt(l.length-g-1)){d--;g++}}a[a.length-1]=i.slice(0,i.length-g).replace(/^\u200b+/,'');a[0]=a[0].slice(d).replace(/\u200b+$/,'');var q=Pos(h,d);var t=Pos(j,e.length?lst(e).length-g:0);if(a.length>1||a[0]||cmp(q,t)){replaceRange(b.doc,a,q,t,'+input');return !0}};d.prototype.ensurePolled=function(){this.forceCompositionEnd()};d.prototype.reset=function(){this.forceCompositionEnd()};d.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};d.prototype.readFromDOMSoon=function(){var a=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing){if(a.composing.done){a.composing=null}else {return}}a.updateFromDOM()},80)};d.prototype.updateFromDOM=function(){var a=this;if(this.cm.isReadOnly()||!this.pollContent()){runInOp(this.cm,function(){return regChange(a.cm)})}};d.prototype.setUneditable=function(a){a.contentEditable='false'};d.prototype.onKeyPress=function(a){if(a.charCode==0||this.composing){return}a.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0)}};d.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!='nocursor')};d.prototype.onContextMenu=function(){};d.prototype.resetPosition=function(){};d.prototype.needsContentAttribute=!0;function posToDOM(d,b){var c=findViewForLine(d,b.line);if(!c||c.hidden){return null}var f=getLine(d.doc,b.line);var i=mapFromLineView(c,f,b.line);var e=getOrder(f,d.doc.direction),g='left';if(e){var h=getBidiPartAt(e,b.ch);g=h%2?'right':'left'}var a=nodeAndOffsetInLineMap(i.map,b.ch,g);a.offset=a.collapse=='right'?a.end:a.start;return a}function isInGutter(b){for(var a=b;a;a=a.parentNode){if(/CodeMirror-gutter-wrapper/.test(a.className)){return !0}}return !1}function badPos(a,b){if(b){a.bad=!0}return a}function domTextBetween(f,b,i,g,h){var c='',d=!1,e=f.doc.lineSeparator(),a=!1;function recognizeMarker(a){return function(c){return c.id==a}}function close(){if(d){c+=e;if(a){c+=e}d=a=!1}}function addText(a){if(a){close();c+=a}}function walk(c){if(c.nodeType==1){var n=c.getAttribute('cm-text');if(n){addText(n);return}var l=c.getAttribute('cm-marker'),j;if(l){var o=f.findMarks(Pos(g,0),Pos(h+1,0),recognizeMarker(+l));if(o.length&&(j=o[0].find(0))){addText(getBetween(f.doc,j.from,j.to).join(e))}return}if(c.getAttribute('contenteditable')=='false'){return}var m=/^(pre|div|p|li|table|br)$/i.test(c.nodeName);if(!/^br$/i.test(c.nodeName)&&c.textContent.length==0){return}if(m){close()}for(var k=0;k<c.childNodes.length;k++){walk(c.childNodes[k])}if(/^(pre|p)$/i.test(c.nodeName)){a=!0}if(m){d=!0}}else {if(c.nodeType==3){addText(c.nodeValue.replace(/\u200b/g,'').replace(/\u00a0/g,' '))}}}for(;;){walk(b);if(b==i){break}b=b.nextSibling;a=!1}return c}function domToPos(b,c,d){var a;if(c==b.display.lineDiv){a=b.display.lineDiv.childNodes[d];if(!a){return badPos(b.clipPos(Pos(b.display.viewTo-1)),!0)}c=null;d=0}else {for(a=c;;a=a.parentNode){if(!a||a==b.display.lineDiv){return null}if(a.parentNode&&a.parentNode==b.display.lineDiv){break}}}for(var e=0;e<b.display.view.length;e++){var f=b.display.view[e];if(f.node==a){return locateNodeInLineView(f,c,d)}}}function locateNodeInLineView(c,a,d){var j=c.text.firstChild,i=!1;if(!a||!contains(j,a)){return badPos(Pos(lineNo(c.line),0),!0)}if(a==j){i=!0;a=j.childNodes[d];d=0;if(!a){var o=c.rest?lst(c.rest):c.line;return badPos(Pos(lineNo(o),o.text.length),i)}}var e=a.nodeType==3?a:null,f=a;if(!e&&a.childNodes.length==1&&a.firstChild.nodeType==3){e=a.firstChild;if(d){d=e.nodeValue.length}}while(f.parentNode!=j){f=f.parentNode}var l=c.measure,k=l.maps;function find(i,m,h){for(var b=-1;b<(k?k.length:0);b++){var f=b<0?l.map:k[b];for(var e=0;e<f.length;e+=3){var g=f[e+2];if(g==i||g==m){var n=lineNo(b<0?c.line:c.rest[b]);var j=f[e]+h;if(h<0||g!=i){j=f[e+(h?1:0)]}return Pos(n,j)}}}}var b=find(e,f,d);if(b){return badPos(b,i)}for(var h=f.nextSibling,n=e?e.nodeValue.length-d:0;h;h=h.nextSibling){b=find(h,h.firstChild,0);if(b){return badPos(Pos(b.line,b.ch-n),i)}else {n+=h.textContent.length}}for(var g=f.previousSibling,m=d;g;g=g.previousSibling){b=find(g,g.firstChild,-1);if(b){return badPos(Pos(b.line,b.ch+m),i)}else {m+=g.textContent.length}}}var f=function(a){this.cm=a;this.prevInput='';this.pollingFast=!1;this.polling=new z();this.hasSelection=!1;this.composing=null};f.prototype.init=function(g){var h=this;var d=this,c=this.cm;this.createField(g);var f=this.textarea;g.wrapper.insertBefore(this.wrapper,g.wrapper.firstChild);if(U){f.style.width='0px'}a(f,'input',function(){if(b&&e>=9&&h.hasSelection){h.hasSelection=null}d.poll()});a(f,'paste',function(a){if(signalDOMEvent(c,a)||handlePaste(a,c)){return}c.state.pasteIncoming=!0;d.fastPoll()});function prepareCopyCut(b){if(signalDOMEvent(c,b)){return}if(c.somethingSelected()){setLastCopied({lineWise:!1,text:c.getSelections()})}else {if(!c.options.lineWiseCopyCut){return}else {var a=copyableRanges(c);setLastCopied({lineWise:!0,text:a.text});if(b.type=='cut'){c.setSelections(a.ranges,null,p)}else {d.prevInput='';f.value=a.text.join('\n');L(f)}}}if(b.type=='cut'){c.state.cutIncoming=!0}}a(f,'cut',prepareCopyCut);a(f,'copy',prepareCopyCut);a(g.scroller,'paste',function(a){if(eventInWidget(g,a)||signalDOMEvent(c,a)){return}c.state.pasteIncoming=!0;d.focus()});a(g.lineSpace,'selectstart',function(a){if(!eventInWidget(g,a)){e_preventDefault(a)}});a(f,'compositionstart',function(){var a=c.getCursor('from');if(d.composing){d.composing.range.clear()}d.composing={start:a,range:c.markText(a,c.getCursor('to'),{className:'CodeMirror-composing'})}});a(f,'compositionend',function(){if(d.composing){d.poll();d.composing.range.clear();d.composing=null}})};f.prototype.createField=function(a){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};f.prototype.prepareSelection=function(){var a=this.cm,b=a.display,g=a.doc;var c=prepareSelection(a);if(a.options.moveInputWithCursor){var d=cursorCoords(a,g.sel.primary().head,'div');var f=b.wrapper.getBoundingClientRect(),e=b.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,d.top+e.top-f.top));c.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,d.left+e.left-f.left))}return c};f.prototype.showSelection=function(a){var c=this.cm,b=c.display;removeChildrenAndAdd(b.cursorDiv,a.cursors);removeChildrenAndAdd(b.selectionDiv,a.selection);if(a.teTop!=null){this.wrapper.style.top=a.teTop+'px';this.wrapper.style.left=a.teLeft+'px'}};f.prototype.reset=function(d){if(this.contextMenuPending||this.composing){return}var a=this.cm;if(a.somethingSelected()){this.prevInput='';var c=a.getSelection();this.textarea.value=c;if(a.state.focused){L(this.textarea)}if(b&&e>=9){this.hasSelection=c}}else {if(!d){this.prevInput=this.textarea.value='';if(b&&e>=9){this.hasSelection=null}}}};f.prototype.getField=function(){return this.textarea};f.prototype.supportsTouch=function(){return !1};f.prototype.focus=function(){if(this.cm.options.readOnly!='nocursor'&&(!R||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(aV){}}};f.prototype.blur=function(){this.textarea.blur()};f.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};f.prototype.receivedFocus=function(){this.slowPoll()};f.prototype.slowPoll=function(){var a=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){a.poll();if(a.cm.state.focused){a.slowPoll()}})};f.prototype.fastPoll=function(){var b=!1,a=this;a.pollingFast=!0;function p(){var c=a.poll();if(!c&&!b){b=!0;a.polling.set(60,p)}else {a.pollingFast=!1;a.slowPoll()}}a.polling.set(20,p)};f.prototype.poll=function(){var f=this;var a=this.cm,h=this.textarea,d=this.prevInput;if(this.contextMenuPending||!a.state.focused||aM(h)&&!d&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq){return !1}var c=h.value;if(c==d&&!a.somethingSelected()){return !1}if(b&&e>=9&&this.hasSelection===c||o&&/[\uf700-\uf7ff]/.test(c)){a.display.input.reset();return !1}if(a.doc.sel==a.display.selForContextMenu){var i=c.charCodeAt(0);if(i==8203&&!d){d='\u200b'}if(i==8666){this.reset();return this.cm.execCommand('undo')}}var g=0,j=Math.min(d.length,c.length);while(g<j&&d.charCodeAt(g)==c.charCodeAt(g)){++g}runInOp(a,function(){applyTextInput(a,c.slice(g),d.length-g,null,f.composing?'*compose':null);if(c.length>1000||c.indexOf('\n')>-1){h.value=f.prevInput=''}else {f.prevInput=c}if(f.composing){f.composing.range.clear();f.composing.range=a.markText(f.composing.start,a.getCursor('to'),{className:'CodeMirror-composing'})}});return !0};f.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=!1}};f.prototype.onKeyPress=function(){if(b&&e>=9){this.hasSelection=null}this.fastPoll()};f.prototype.onContextMenu=function(h){var g=this,d=g.cm,c=d.display,f=g.textarea;var j=posFromMouse(d,h),q=c.scroller.scrollTop;if(!j||n){return}var s=d.options.resetSelectionOnContextMenu;if(s&&d.doc.sel.contains(j)==-1){operation(d,setSelection)(d.doc,simpleSelection(j),p)}var r=f.style.cssText,o=g.wrapper.style.cssText;g.wrapper.style.cssText='position: absolute';var l=g.wrapper.getBoundingClientRect();f.style.cssText='position: absolute; width: 30px; height: 30px;\n      top: '+(h.clientY-l.top-5)+'px; left: '+(h.clientX-l.left-5)+'px;\n      z-index: 1000; background: '+(b?'rgba(255, 255, 255, .05)':'transparent')+';\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);';var k;if(i){k=window.scrollY}c.input.focus();if(i){window.scrollTo(null,k)}c.input.reset();if(!d.somethingSelected()){f.value=g.prevInput=' '}g.contextMenuPending=!0;c.selForContextMenu=d.doc.sel;clearTimeout(c.detectingSelectAll);function prepareSelectAllHack(){if(f.selectionStart!=null){var a=d.somethingSelected();var b='\u200b'+(a?f.value:'');f.value='';f.value=b;g.prevInput=a?'':'\u200b';f.selectionStart=1;f.selectionEnd=b.length;c.selForContextMenu=d.doc.sel}}function rehide(){g.contextMenuPending=!1;g.wrapper.style.cssText=o;f.style.cssText=r;if(b&&e<9){c.scrollbars.setScrollTop(c.scroller.scrollTop=q)}if(f.selectionStart!=null){if(!b||b&&e<9){prepareSelectAllHack()}var i=0,a=function(){if(c.selForContextMenu==d.doc.sel&&f.selectionStart==0&&f.selectionEnd>0&&g.prevInput=='\u200b'){operation(d,selectAll)(d)}else {if(i++<10){c.detectingSelectAll=setTimeout(a,500)}else {c.selForContextMenu=null;c.input.reset()}}};c.detectingSelectAll=setTimeout(a,200)}}if(b&&e>=9){prepareSelectAllHack()}if(ae){e_stop(h);var m=function(){off(window,'mouseup',m);setTimeout(rehide,20)};a(window,'mouseup',m)}else {setTimeout(rehide,50)}};f.prototype.readOnlyChanged=function(a){if(!a){this.reset()}this.textarea.disabled=a=='nocursor'};f.prototype.setUneditable=function(){};f.prototype.needsContentAttribute=!1;function fromTextArea(b,c){c=c?copyObj(c):{};c.value=b.value;if(!c.tabindex&&b.tabIndex){c.tabindex=b.tabIndex}if(!c.placeholder&&b.placeholder){c.placeholder=b.placeholder}if(c.autofocus==null){var f=activeElt();c.autofocus=f==b||b.getAttribute('autofocus')!=null&&f==document.body}function save(){b.value=g.getValue()}var e;if(b.form){a(b.form,'submit',save);if(!c.leaveSubmitMethodAlone){var d=b.form;e=d.submit;try{var h=d.submit=function(){save();d.submit=e;d.submit();d.submit=h}}catch(aV){}}}c.finishInit=function(a){a.save=save;a.getTextArea=function(){return b};a.toTextArea=function(){a.toTextArea=isNaN;save();b.parentNode.removeChild(a.getWrapperElement());b.style.display='';if(b.form){off(b.form,'submit',save);if(typeof b.form.submit=='function'){b.form.submit=e}}}};b.style.display='none';var g=CodeMirror(function(a){return b.parentNode.insertBefore(a,b.nextSibling)},c);return g}function addLegacyProps(b){b.off=off;b.on=a;b.wheelEventPixels=wheelEventPixels;b.Doc=j;b.splitLines=ah;b.countColumn=countColumn;b.findColumn=findColumn;b.isWordChar=isWordCharBasic;b.Pass=ab;b.signal=signal;b.Line=G;b.changeEnd=changeEnd;b.scrollbarModel=aq;b.Pos=Pos;b.cmpPos=cmp;b.modes=an;b.mimeModes=E;b.resolveMode=resolveMode;b.getMode=getMode;b.modeExtensions=C;b.extendMode=extendMode;b.copyState=copyState;b.startState=startState;b.innerMode=innerMode;b.commands=P;b.keyMap=s;b.keyName=keyName;b.isModifierKey=isModifierKey;b.lookupKey=lookupKey;b.normalizeKeyMap=normalizeKeyMap;b.StringStream=g;b.SharedTextMarker=I;b.TextMarker=t;b.LineWidget=M;b.e_preventDefault=e_preventDefault;b.e_stopPropagation=e_stopPropagation;b.e_stop=e_stop;b.addClass=addClass;b.contains=contains;b.rmClass=A;b.keyNames=u}defineOptions(CodeMirror);addEditorMethods(CodeMirror);var aK='iter insert remove copy getEditor constructor'.split(' ');for(var ac in j.prototype){if(j.prototype.hasOwnProperty(ac)&&indexOf(aK,ac)<0){CodeMirror.prototype[ac]=function(a){return function(){return a.apply(this.doc,arguments)}}(j.prototype[ac])}}eventMixin(j);CodeMirror.inputStyles={'textarea':f,'contenteditable':d};CodeMirror.defineMode=function(a){if(!CodeMirror.defaults.mode&&a!='null'){CodeMirror.defaults.mode=a}defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode('null',function(){return {token:function(a){return a.skipToEnd()}}});CodeMirror.defineMIME('text/plain','null');CodeMirror.defineExtension=function(b,a){CodeMirror.prototype[b]=a};CodeMirror.defineDocExtension=function(b,a){j.prototype[b]=a};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version='5.42.0';return CodeMirror});Ext.Loader.setConfig({enabled:!0});Ext.application({models:['Table','LibraryEntry','Config','SessionState','DatabaseState'],stores:['Config','SessionState','Tables','LibraryEntries'],views:['MyViewport','LibraryWindow','LoginWindow','ExecButton'],controllers:['Dokoqlv'],name:'Dokoqlv',launch:function(){Ext.create('Dokoqlv.view.MyViewport')}});(function(a){if(typeof exports=='object'&&typeof module=='object'){a(require('../../lib/codemirror'))}else {if(typeof define=='function'&&define.amd){define(['../../lib/codemirror'],a)}else {a(CodeMirror)}}})(function(a){a.defineMode('sql',function(m,c){var l=c.client||{},n=c.atoms||{'false':!0,'true':!0,'null':!0},j=c.builtin||{},i=c.keywords||{},d=c.operatorChars||/^[*+\-%<>!=&|~^]/,b=c.support||{},f=c.hooks||{},k=c.dateSQL||{'date':!0,'time':!0,'timestamp':!0},g=c.backslashStringEscapes!==!1,h=c.brackets||/^[\{}\(\)\[\]]/,e=c.punctuation||/^[;.,:]/;function tokenBase(g,p){var o=g.next();if(f[o]){var r=f[o](g,p);if(r!==!1){return r}}if(b.hexNumber&&(o=='0'&&g.match(/^[xX][0-9a-fA-F]+/)||(o=='x'||o=='X')&&g.match(/^'[0-9a-fA-F]+'/))){return 'number'}else {if(b.binaryNumber&&((o=='b'||o=='B')&&g.match(/^'[01]+'/)||o=='0'&&g.match(/^b[01]+/))){return 'number'}else {if(o.charCodeAt(0)>47&&o.charCodeAt(0)<58){g.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/);b.decimallessFloat&&g.match(/^\.(?!\.)/);return 'number'}else {if(o=='?'&&(g.eatSpace()||g.eol()||g.eat(';'))){return 'variable-3'}else {if(o=="'"||o=='"'&&b.doubleQuote){p.tokenize=tokenLiteral(o);return p.tokenize(g,p)}else {if((b.nCharCast&&(o=='n'||o=='N')||b.charsetCast&&o=='_'&&g.match(/[a-z][a-z0-9]*/i))&&(g.peek()=="'"||g.peek()=='"')){return 'keyword'}else {if(b.commentSlashSlash&&o=='/'&&g.eat('/')){g.skipToEnd();return 'comment'}else {if(b.commentHash&&o=='#'||o=='-'&&g.eat('-')&&(!b.commentSpaceRequired||g.eat(' '))){g.skipToEnd();return 'comment'}else {if(o=='/'&&g.eat('*')){p.tokenize=tokenComment(1);return p.tokenize(g,p)}else {if(o=='.'){if(b.zerolessFloat&&g.match(/^(?:\d+(?:e[+-]?\d+)?)/i)){return 'number'}if(g.match(/^\.+/)){return null}if(b.ODBCdotTable&&g.match(/^[\w\d_]+/)){return 'variable-2'}}else {if(d.test(o)){g.eatWhile(d);return 'operator'}else {if(h.test(o)){return 'bracket'}else {if(e.test(o)){g.eatWhile(e);return 'punctuation'}else {if(o=='{'&&(g.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||g.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/))){return 'number'}else {g.eatWhile(/^[_\w\d]/);var q=g.current().toLowerCase();if(k.hasOwnProperty(q)&&(g.match(/^( )+'[^']*'/)||g.match(/^( )+"[^"]*"/))){return 'number'}if(n.hasOwnProperty(q)){return 'atom'}if(j.hasOwnProperty(q)){return 'builtin'}if(i.hasOwnProperty(q)){return 'keyword'}if(l.hasOwnProperty(q)){return 'string-2'}return null}}}}}}}}}}}}}}}function tokenLiteral(b){return function(f,h){var d=!1,e;while((e=f.next())!=null){if(e==b&&!d){h.tokenize=tokenBase;break}d=g&&!d&&e=='\\'}return 'string'}}function tokenComment(b){return function(e,d){var f=e.match(/^.*?(\/\*|\*\/)/);if(!f){e.skipToEnd()}else {if(f[1]=='/*'){d.tokenize=tokenComment(b+1)}else {if(b>1){d.tokenize=tokenComment(b-1)}else {d.tokenize=tokenBase}}}return 'comment'}}function pushContext(b,d,e){d.context={prev:d.context,indent:b.indentation(),col:b.column(),type:e}}function popContext(b){b.indent=b.context.indent;b.context=b.context.prev}return {startState:function(){return {tokenize:tokenBase,context:null}},token:function(d,b){if(d.sol()){if(b.context&&b.context.align==null){b.context.align=!1}}if(b.tokenize==tokenBase&&d.eatSpace()){return null}var e=b.tokenize(d,b);if(e=='comment'){return e}if(b.context&&b.context.align==null){b.context.align=!0}var f=d.current();if(f=='('){pushContext(d,b,')')}else {if(f=='['){pushContext(d,b,']')}else {if(b.context&&b.context.type==f){popContext(b)}}}return e},indent:function(f,e){var b=f.context;if(!b){return a.Pass}var d=e.charAt(0)==b.type;if(b.align){return b.col+(d?0:1)}else {return b.indent+(d?0:m.indentUnit)}},blockCommentStart:'/*',blockCommentEnd:'*/',lineComment:b.commentSlashSlash?'//':b.commentHash?'#':'--',closeBrackets:'()[]{}\'\'""``'}});(function(){function hookIdentifier(b){var c;while((c=b.next())!=null){if(c=='`'&&!b.eat('`')){return 'variable-2'}}b.backUp(b.current().length-1);return b.eatWhile(/\w/)?'variable-2':null}function hookIdentifierDoublequote(b){var c;while((c=b.next())!=null){if(c=='"'&&!b.eat('"')){return 'variable-2'}}b.backUp(b.current().length-1);return b.eatWhile(/\w/)?'variable-2':null}function hookVar(b){if(b.eat('@')){b.match(/^session\./);b.match(/^local\./);b.match(/^global\./)}if(b.eat("'")){b.match(/^.*'/);return 'variable-2'}else {if(b.eat('"')){b.match(/^.*"/);return 'variable-2'}else {if(b.eat('`')){b.match(/^.*`/);return 'variable-2'}else {if(b.match(/^[0-9a-zA-Z$\.\_]+/)){return 'variable-2'}}}}return null}function hookClient(b){if(b.eat('N')){return 'atom'}return b.match(/^[a-zA-Z.#!?]/)?'variable-2':null}var b='alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ';function set(e){var d={},c=e.split(' ');for(var b=0;b<c.length;++b){d[c[b]]=!0}return d}a.defineMIME('text/x-sql',{name:'sql',keywords:set(b+'begin'),builtin:set('bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric'),atoms:set('false true null unknown'),operatorChars:/^[*+\-%<>!=]/,dateSQL:set('date time timestamp'),support:set('ODBCdotTable doubleQuote binaryNumber hexNumber')});a.defineMIME('text/x-mssql',{name:'sql',client:set('$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id'),keywords:set(b+'begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with'),builtin:set('bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table '),atoms:set('is not null like and or in left right between inner outer join all any some cross unpivot pivot exists'),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:set('date datetimeoffset datetime2 smalldatetime datetime time'),hooks:{'@':hookVar}});a.defineMIME('text/x-mysql',{name:'sql',client:set('charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee'),keywords:set(b+'accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat'),builtin:set('bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric'),atoms:set('false true null unknown'),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:set('date time timestamp'),support:set('ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired'),hooks:{'@':hookVar,'`':hookIdentifier,'\\':hookClient}});a.defineMIME('text/x-mariadb',{name:'sql',client:set('charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee'),keywords:set(b+'accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat'),builtin:set('bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric'),atoms:set('false true null unknown'),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:set('date time timestamp'),support:set('ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired'),hooks:{'@':hookVar,'`':hookIdentifier,'\\':hookClient}});a.defineMIME('text/x-sqlite',{name:'sql',client:set('auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width'),keywords:set(b+'abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without'),builtin:set('bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real'),atoms:set('null current_date current_time current_timestamp'),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:set('date time timestamp datetime'),support:set('decimallessFloat zerolessFloat'),identifierQuote:'"',hooks:{'@':hookVar,':':hookVar,'?':hookVar,'$':hookVar,'"':hookIdentifierDoublequote,'`':hookIdentifier}});a.defineMIME('text/x-cassandra',{name:'sql',client:{},keywords:set('add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime'),builtin:set('ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint'),atoms:set('false true infinity NaN'),operatorChars:/^[<>=]/,dateSQL:{},support:set('commentSlashSlash decimallessFloat'),hooks:{}});a.defineMIME('text/x-plsql',{name:'sql',client:set('appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap'),keywords:set('abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work'),builtin:set('abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml'),operatorChars:/^[*+\-%<>!=~]/,dateSQL:set('date time timestamp'),support:set('doubleQuote nCharCast zerolessFloat binaryNumber hexNumber')});a.defineMIME('text/x-hive',{name:'sql',keywords:set('select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year'),builtin:set('bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar'),atoms:set('false true null unknown'),operatorChars:/^[*+\-%<>!=]/,dateSQL:set('date timestamp'),support:set('ODBCdotTable doubleQuote binaryNumber hexNumber')});a.defineMIME('text/x-pgsql',{name:'sql',client:set('source'),keywords:set(b+'a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get global go goto grant granted greatest grouping groups handler header hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lc_collate lc_ctype lead leading leakproof least left length level library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict restricted result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat attach path depends detach zone'),builtin:set('bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml'),atoms:set('false true null unknown'),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:set('date time timestamp'),support:set('ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast')});a.defineMIME('text/x-gql',{name:'sql',keywords:set('ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where'),atoms:set('false true'),builtin:set('blob datetime first key __key__ string integer double boolean null'),operatorChars:/^[*+\-%<>!=]/});a.defineMIME('text/x-gpsql',{name:'sql',client:set('source'),keywords:set('abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone'),builtin:set('bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml'),atoms:set('false true null unknown'),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:set('date time timestamp'),support:set('ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast')});a.defineMIME('text/x-sparksql',{name:'sql',keywords:set('add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with'),builtin:set('tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat'),atoms:set('false true null'),operatorChars:/^[*+\-%<>!=~&|^]/,dateSQL:set('date time timestamp'),support:set('ODBCdotTable doubleQuote zerolessFloat')});a.defineMIME('text/x-esper',{name:'sql',client:set('source'),keywords:set('alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window'),builtin:{},atoms:set('false true null'),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:set('time'),support:set('decimallessFloat zerolessFloat binaryNumber hexNumber')})})()});(function(a){if(typeof exports=='object'&&typeof module=='object'){a(require('../../lib/codemirror'))}else {if(typeof define=='function'&&define.amd){define(['../../lib/codemirror'],a)}else {a(CodeMirror)}}})(function(a){var d={pairs:'()[]{}\'\'""',triples:'',explode:'[]{}'};var b=a.Pos;a.defineOption('autoCloseBrackets',!1,function(b,d,e){if(e&&e!=a.Init){b.removeKeyMap(c);b.state.closeBrackets=null}if(d){ensureBound(getOption(d,'pairs'));b.state.closeBrackets=d;b.addKeyMap(c)}});function getOption(b,c){if(c=='pairs'&&typeof b=='string'){return b}if(typeof b=='object'&&b[c]!=null){return b[c]}return d[c]}var c={Backspace:handleBackspace,Enter:handleEnter};function ensureBound(d){for(var b=0;b<d.length;b++){var f=d.charAt(b),e="'"+f+"'";if(!c[e]){c[e]=handler(f)}}}ensureBound(d.pairs+'`');function handler(b){return function(c){return handleChar(c,b)}}function getConfig(c){var b=c.state.closeBrackets;if(!b||b.override){return b}var d=c.getModeAt(c.getCursor());return d.closeBrackets||b}function handleBackspace(e){var h=getConfig(e);if(!h||e.getOption('disableInput')){return a.Pass}var i=getOption(h,'pairs');var d=e.listSelections();for(var c=0;c<d.length;c++){if(!d[c].empty()){return a.Pass}var g=charsAround(e,d[c].head);if(!g||i.indexOf(g)%2!=0){return a.Pass}}for(var c=d.length-1;c>=0;c--){var f=d[c].head;e.replaceRange('',b(f.line,f.ch-1),b(f.line,f.ch+1),'+delete')}}function handleEnter(b){var g=getConfig(b);var e=g&&getOption(g,'explode');if(!e||b.getOption('disableInput')){return a.Pass}var c=b.listSelections();for(var d=0;d<c.length;d++){if(!c[d].empty()){return a.Pass}var f=charsAround(b,c[d].head);if(!f||e.indexOf(f)%2!=0){return a.Pass}}b.operation(function(){var e=b.lineSeparator()||'\n';b.replaceSelection(e+e,null);b.execCommand('goCharLeft');c=b.listSelections();for(var d=0;d<c.length;d++){var f=c[d].head.line;b.indentLine(f,null,!0);b.indentLine(f+1,null,!0)}})}function contractSelection(c){var d=a.cmpPos(c.anchor,c.head)>0;return {anchor:new b(c.anchor.line,c.anchor.ch+(d?-1:1)),head:new b(c.head.line,c.head.ch+(d?1:-1))}}function handleChar(c,e){var n=getConfig(c);if(!n||c.getOption('disableInput')){return a.Pass}var k=getOption(n,'pairs');var i=k.indexOf(e);if(i==-1){return a.Pass}var p=getOption(n,'triples');var j=k.charAt(i+1)==e;var q=c.listSelections();var l=i%2==0;var g;for(var o=0;o<q.length;o++){var r=q[o],d=r.head,f;var s=c.getRange(d,b(d.line,d.ch+1));if(l&&!r.empty()){f='surround'}else {if((j||!l)&&s==e){if(j&&stringStartsAfter(c,d)){f='both'}else {if(p.indexOf(e)>=0&&c.getRange(d,b(d.line,d.ch+3))==e+e+e){f='skipThree'}else {f='skip'}}}else {if(j&&d.ch>1&&p.indexOf(e)>=0&&c.getRange(b(d.line,d.ch-2),d)==e+e){if(d.ch>2&&/\bstring/.test(c.getTokenTypeAt(b(d.line,d.ch-2)))){return a.Pass}f='addFour'}else {if(j){var t=d.ch==0?' ':c.getRange(b(d.line,d.ch-1),d);if(!a.isWordChar(s)&&t!=e&&!a.isWordChar(t)){f='both'}else {return a.Pass}}else {if(l){f='both'}else {return a.Pass}}}}}if(!g){g=f}else {if(g!=f){return a.Pass}}}var h=i%2?k.charAt(i-1):e;var m=i%2?e:k.charAt(i+1);c.operation(function(){if(g=='skip'){c.execCommand('goCharRight')}else {if(g=='skipThree'){for(var b=0;b<3;b++){c.execCommand('goCharRight')}}else {if(g=='surround'){var d=c.getSelections();for(var b=0;b<d.length;b++){d[b]=h+d[b]+m}c.replaceSelections(d,'around');d=c.listSelections().slice();for(var b=0;b<d.length;b++){d[b]=contractSelection(d[b])}c.setSelections(d)}else {if(g=='both'){c.replaceSelection(h+m,null);c.triggerElectric(h+m);c.execCommand('goCharLeft')}else {if(g=='addFour'){c.replaceSelection(h+h+h+h,'before');c.execCommand('goCharRight')}}}}}})}function charsAround(e,c){var d=e.getRange(b(c.line,c.ch-1),b(c.line,c.ch+1));return d.length==2?d:null}function stringStartsAfter(e,c){var d=e.getTokenAt(b(c.line,c.ch+1));return /\bstring/.test(d.type)&&d.start==c.ch&&(c.ch==0||!/\bstring/.test(e.getTokenTypeAt(c)))}});(function(a){if(typeof exports=='object'&&typeof module=='object'){a(require('../../lib/codemirror'))}else {if(typeof define=='function'&&define.amd){define(['../../lib/codemirror'],a)}else {a(CodeMirror)}}})(function(a){a.defineOption('placeholder','',function(b,c,f){var e=f&&f!=a.Init;if(c&&!e){b.on('blur',onBlur);b.on('change',onChange);b.on('swapDoc',onChange);onChange(b)}else {if(!c&&e){b.off('blur',onBlur);b.off('change',onChange);b.off('swapDoc',onChange);clearPlaceholder(b);var d=b.getWrapperElement();d.className=d.className.replace(' CodeMirror-empty','')}}if(c&&!b.hasFocus()){onBlur(b)}});function clearPlaceholder(b){if(b.state.placeholder){b.state.placeholder.parentNode.removeChild(b.state.placeholder);b.state.placeholder=null}}function setPlaceholder(b){clearPlaceholder(b);var c=b.state.placeholder=document.createElement('pre');c.style.cssText='height: 0; overflow: visible';c.style.direction=b.getOption('direction');c.className='CodeMirror-placeholder';var d=b.getOption('placeholder');if(typeof d=='string'){d=document.createTextNode(d)}c.appendChild(d);b.display.lineSpace.insertBefore(c,b.display.lineSpace.firstChild)}function onBlur(b){if(isEmpty(b)){setPlaceholder(b)}}function onChange(b){var c=b.getWrapperElement(),d=isEmpty(b);c.className=c.className.replace(' CodeMirror-empty','')+(d?' CodeMirror-empty':'');if(d){setPlaceholder(b)}else {clearPlaceholder(b)}}function isEmpty(b){return b.lineCount()===1&&b.getLine(0)===''}});